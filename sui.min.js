var SUI=(()=>{var Le=Object.defineProperty;var rs=Object.getOwnPropertyDescriptor;var as=Object.getOwnPropertyNames;var ls=Object.prototype.hasOwnProperty;var hs=(n,t)=>{for(var e in t)Le(n,e,{get:t[e],enumerable:!0})},ds=(n,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of as(t))!ls.call(n,i)&&i!==e&&Le(n,i,{get:()=>t[i],enumerable:!(s=rs(t,i))||s.enumerable});return n};var cs=n=>ds(Le({},"__esModule",{value:!0}),n);var Gs={};hs(Gs,{ActionCable:()=>Lt,ActionCableClient:()=>Tt,Application:()=>Qe,Async:()=>D,AutoCompleteField:()=>os,BaseCheckboxField:()=>G,BaseField:()=>b,BaseModal:()=>Q,BaseTest:()=>Y,BottomMenu:()=>jt,Browser:()=>Pt,Button:()=>ce,Calendar:()=>ae,Canvas:()=>le,CardCollection:()=>Ge,Carousel:()=>Ke,CheckboxField:()=>pe,Clock:()=>he,Collection:()=>E,CollectionTest:()=>Nt,ColorField:()=>ue,Confirm:()=>Ht,ContentHandler:()=>at,Cookie:()=>Ot,Date:()=>ht,DateTimeField:()=>fe,DateTimeRangeField:()=>ge,Day:()=>rt,Deferred:()=>w,DeferredTest:()=>kt,Dialog:()=>Dt,Document:()=>ns,Dropdown:()=>de,Event:()=>se,FileField:()=>Ie,Flash:()=>Rt,Footer:()=>Vt,Form:()=>$e,FormField:()=>De,GeoLocation:()=>Ft,GoogleMap:()=>Se,Header:()=>ee,Helper:()=>Yt,HiddenField:()=>_e,Http:()=>qt,IconToggleField:()=>we,Item:()=>l,ItemTest:()=>Mt,LeftMenu:()=>zt,Loader:()=>Ut,LocationField:()=>Te,Module:()=>St,Month:()=>ne,NavBar:()=>Qt,Navigation:()=>Ze,NumberField:()=>Be,Objekt:()=>c,ObjektTest:()=>It,Pager:()=>lt,Popup:()=>F,PopupContainer:()=>it,ProgressBar:()=>Gt,ProgressStatus:()=>ts,Promize:()=>ot,Query:()=>d,RadiobuttonField:()=>be,RangeField:()=>Ee,ResetButton:()=>Ce,Router:()=>nt,Scheduler:()=>ie,Script:()=>Kt,SearchField:()=>ve,SelectField:()=>ye,ServiceWorker:()=>te,Sidebar:()=>ft,State:()=>Bt,Storage:()=>gt,Style:()=>Xt,SubmitButton:()=>xe,SwitchField:()=>Ne,TabPanel:()=>ss,Table:()=>es,Template:()=>Jt,Test:()=>Et,TextField:()=>bt,TextareaField:()=>ke,Time:()=>_t,Tooltip:()=>A,TopMenu:()=>$t,UrlField:()=>Me,Viewer:()=>Zt,Waiter:()=>is,Window:()=>oe,Xhr:()=>Wt,Year:()=>re,capitalize:()=>ys,ceil:()=>Us,clear:()=>X,clearArray:()=>yt,clearObject:()=>We,colorContrast:()=>Rs,colorContrastYIQ:()=>Ds,consoleError:()=>U,consoleInfo:()=>B,consoleLog:()=>Bs,consoleWarn:()=>m,contain:()=>k,convert:()=>W,convertHEXToHSV:()=>Hs,convertHEXToRGB:()=>me,convertHSVToHEX:()=>Os,convertHSVToRGB:()=>Je,convertRGBToHEX:()=>wt,convertRGBToHSV:()=>Xe,convertToNumber:()=>Ve,convertToString:()=>Fe,copy:()=>Cs,copyArray:()=>z,copyObject:()=>tt,copyToClipboard:()=>Is,coreResources:()=>Es,debounce:()=>xt,decodeBase64:()=>As,decrypt:()=>Oe,defaultValue:()=>ps,each:()=>_,eachArray:()=>O,eachObject:()=>R,encodeBase64:()=>mt,encrypt:()=>At,eq:()=>u,floor:()=>zs,format:()=>x,generateId:()=>j,getExtensionName:()=>pt,getQueryString:()=>ze,gt:()=>ms,gte:()=>Pe,guid:()=>Ue,inArray:()=>I,inContainArray:()=>bs,instanceOf:()=>H,is:()=>ct,isArray:()=>S,isEmpty:()=>et,isFinite:()=>Ye,isFloat:()=>gs,isFunction:()=>N,isInteger:()=>_s,isNull:()=>L,isNumber:()=>dt,isObject:()=>M,isSame:()=>q,isString:()=>V,isUndefined:()=>y,list:()=>vs,lt:()=>us,lte:()=>fs,md5:()=>ut,mdl:()=>g,merge:()=>vt,neq:()=>K,noop:()=>T,normalize:()=>Ms,pluck:()=>He,pluckKeys:()=>xs,random:()=>Qs,readableCurrency:()=>Ws,readableNumber:()=>qs,releaseMode:()=>st,remove:()=>J,renderReact:()=>js,round:()=>Ae,scrollIntoView:()=>ks,scrollTo:()=>qe,scrollToElement:()=>Ns,sleepEach:()=>ws,typeCast:()=>C,unmountReact:()=>Ps,urlWithQueryString:()=>$,uuid:()=>Ls});var C=n=>{let t=n;if(V(n)&&!k(n," ")){let e=n.toLowerCase();u(e,"")?t="":u(e,"undefined")?t=void 0:u(e,"null")?t=null:u(e,"true")?t=!0:u(e,"false")?t=!1:u(e,"infinity")?t=1/0:dt(e)&&(t=Number(e))}return t},vt=(n,t)=>{let e=tt(n);for(let s in t)t.hasOwnProperty(s)&&(M(t[s].constructor)?e[s]=vt(e[s],t[s]):e[s]=t[s]);return e},x=(n,t=null,e="\\{",s="\\}")=>(_(t,(i,o)=>{let r=new RegExp(e+o+s,"gm");n=n.replace(r,i)}),n),W=(n,t)=>{let e=n;return dt(n)?e=Ve(n,t):V(n)&&(e=Fe(n,t)),e},Ve=(n,t)=>{switch(t){case"string":return n.toString();default:return n}},Fe=(n,t)=>{switch(t){case"integer":return parseInt(n,10);case"float":return parseFloat(n);default:return n}},ps=(n,t)=>y(n)?t:n,T=n=>()=>n,u=(n,t)=>n===t,K=(n,t)=>n!==t,ms=(n,t)=>n>t,Pe=(n,t)=>n>=t,us=(n,t)=>n<t,fs=(n,t)=>n<=t,S=n=>H(n,Array),N=n=>ct(n,"function"),V=n=>ct(n,"string"),dt=n=>n!==null&&n!==""&&!isNaN(n)&&(!I(["0","+"],n==null?void 0:n[0])||n==="0")&&Number(n).toString()!=="NaN"&&Number(n).toString()!=="Infinity",gs=n=>parseFloat(n)===n,_s=n=>parseInt(n,10)===n,M=n=>ct(n,"object"),L=n=>n===null,y=n=>ct(n,"undefined"),Ye=n=>Ye(n),ct=(n,t)=>typeof n===t,H=(n,t)=>n instanceof t,_=(n,t,e,s)=>{S(n)?O(n,t,e,s):M(n)&&R(n,t)},O=(n,t,e,s)=>{e=e||0,s=s||n.length;for(let i=e;i<s;i++)t(n[i],i)},R=(n,t)=>{for(let e in n)n.hasOwnProperty(e)&&t(n[e],e)},ws=(n,t,e,s)=>{let i=()=>{n(t),t++,t<e&&setTimeout(i,s)};i()},X=n=>{S(n)?yt(n):M(n)&&We(n)},yt=n=>{n.splice(0,n.length)},We=n=>{for(let t in n)n.hasOwnProperty(t)&&delete n[t]},I=(n,t)=>n.indexOf(t)!==-1,k=(n,t)=>n.indexOf(t)!==-1,bs=(n,t)=>{let e=0;for(;e<n.length&&!k(t,n[e]);)e++;return e<n.length},q=(n,t)=>{let e=JSON.stringify(n),s=JSON.stringify(t);if(M(n)&&M(t)&&u(e.length,s.length)){let i=!0;return R(n,(o,r)=>{q(t[r],o)||(i=!1)}),i}return u(e,s)},J=(n,t)=>{let e=n.indexOf(t);K(e,-1)&&n.splice(e,1)},Cs=n=>{let t;return S(n)?t=z(n):M(n)&&(t=tt(n)),t},z=n=>[].concat(n),tt=n=>{let t={};return R(n,(e,s)=>{t[s]=M(e)?tt(e):e}),t},et=n=>{let t=!1;if(S(n))t=n.length===0;else if(M(n)){let e=0;_(n,()=>{e++}),t=e===0}return t},vs=(n,t)=>{t(...n)},ys=n=>n.charAt(0).toUpperCase()+n.slice(1),He=(n,t)=>{let e=[];return O(n,s=>{let i=s.get(t);e.push(i)}),e},xs=(n,t)=>{let e=[];return R(n,(s,i)=>{t(s,i)&&e.push(i)}),e},je=null,qe=(n,t,e=500,s=20)=>{clearInterval(je);let i=-(window.scrollX-n)/(e/s),o=-(window.scrollY-t)/(e/s);je=setInterval(()=>{(i>0&&window.scrollX+i>n||i<0&&window.scrollX+i<n)&&(i=n-window.scrollX),(o>0&&window.scrollY+o>t||o<0&&window.scrollY+o<t)&&(o=t-window.scrollY),window.scrollX!==n||window.scrollY!==t?window.scrollBy(i,o):clearInterval(je)},s)},Ns=(n,t=500,e=20)=>{let i=document.querySelectorAll(n)[0],o=i.scrollLeft,r=i.scrollTop;qe(o,r,t,e)},ks=(n,t="smooth")=>{document.querySelector(n).scrollIntoView({behavior:t})},xt=(n,t=250,e=!1)=>{let s;return(...i)=>{let o=()=>{s=null,e||n(...i)},r=e&&!s;clearTimeout(s),s=setTimeout(o,t),r&&n(...i)}},$=(n,t)=>{let e=ze(t),s=k(n,"?")?"&":"?";return n+(e?s+e:"")},ze=n=>{let t=[];return R(n,(e,s)=>{S(e)?O(e,i=>{t.push(x("{0}[]={1}",[s,i]))}):!y(e)&&!L(e)&&t.push(x("{0}={1}",[s,e]))}),et(t)?"":t.join("&")},pt=n=>{let t=n.split("?",2)[0];return t.slice((Math.max(0,t.lastIndexOf("."))||1/0)+1)},Ms=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,""),Is=n=>{let t=document.createElement("textarea");t.value=n,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};var c=class{constructor(t){t=t||{},Object.call(this,t),this.merge(t)}merge(t){if(M(t))for(let e in t)t.hasOwnProperty(e)&&(!L(t[e])&&M(t[e])&&!S(t[e])?(H(this[e],c)||(this[e]=new c(this[e])),this[e].merge(t[e])):S(t[e])&&!L(t[e][0])&&M(t[e][0])?(this._convertObject(t,e),this[e]=t[e]):this[e]=C(t[e]));return this}_convertObject(t,e){_(t[e],(s,i)=>{t[e][i]=new c(s)})}speedGet(t,e,s=!1){let i=this;if(t){i=this[t];let o=s?[t]:t.split(".");if(o.length>1){let r=this,a=0;for(;a<o.length&&!y(r[o[a]]);)i=r=r[o[a]],a++;if(o.length!==a)return e}}return i}get(t,e,s=!1){let i=this;if(t){let o=s?[t]:t.split(".");i=this._get(this,o)}return y(i)?e:i}_get(t,e){let s;return _(t,(i,o)=>{if(e.length===1&&o.toString()===e[0])s=t[o];else if(o.toString()===e[0]&&!L(t[o])&&M(t[o])){let r=z(e);r.shift(),s=this._get(t[o],r)}}),s}_set(t,e,s){R(t,(i,o)=>{if(e.length===1&&o===e[0])t[o]=s;else if(o===e[0]&&!L(t[o])&&M(t[o])){let r=z(e);r.shift(),this._set(t[o],r,s)}})}set(t,e){let s={};s=this._attributesToObject(s,t.split("."),e),this.merge(s)}setRaw(t,e,s=!1){this.set(t,null);let i=s?[t]:t.split(".");this._set(this,i,e)}remove(t){let e=t.split(".");this._remove(this,e)}clear(){X(this)}_remove(t,e){for(let s in t)if(t.hasOwnProperty(s)){if(e.length===1&&s===e[0])delete t[s];else if(s===e[0]&&!L(t[s])&&M(t[s])){let i=z(e);i.shift(),this._remove(t[s],i)}}}each(t,e,s){let i=e||this,o=s||[];R(i,(r,a)=>{let h=z(o);h.push(a),!L(r)&&M(r)?this.each(t,r,h):t(r,h.join("."))})}_attributesToObject(t,e,s){let i=e.pop(),o=t;for(let r=0;r<e.length;r++)o=o[e[r]]=o[e[r]]||{};return o[i]=s,t}copy(t=!1){let e=tt(this);return t||(e=new c(e)),e}isEmpty(){return et(this)}allowKeys(t){return this.filterKeys(this,e=>I(t,e))}denyKeys(t){return this.filterKeys(this,e=>!I(t,e))}filterKeys(t,e){let s=new c;return t.each((i,o)=>{e(o)&&s.set(o,i)}),s}};var E=class{constructor(t=[],e=c,s={}){this.Type=e,this._setOptions(s),this.items=[],this.load(t)}_setOptions(t={}){let e=this;e.options=new c({id:"id",parent:void 0}),e.options.merge(t)}load(t){_(t,e=>{this.push(e)})}reload(t){this.clear(),this.load(t)}push(t){let e=this._createItem(t);return this.items.push(e),e}_createItem(t){if(!H(t,this.Type)){let e=y(this.options.parent)?this:this.options.parent;return new this.Type(t,e)}return t}set(t,e){let s=this._createItem(e);return t<this.size()?this.items[t]=s:this.push(s),s}replace(t){let e=this._createItem(t);if(e&&H(e,c)){let s=e.get(this.options.id),i=this.findById(s);if(i&&H(i,c))return i.merge(e),i}return null}getItems(){return this.items}iterator(t,e,s){s=s||this.items;let i=[];return _(s,(o,r)=>{t(o)&&(e(o,r),i.push(o))}),i}each(t){this.iterator(()=>!0,t)}get(t,e){if(t>=0&&t<this.items.length){let s=this.items[t];return s&&e&&H(s,c)?s.get(e):s}return null}getById(t,e){let s=this.findById(t);return s&&e&&H(s,c)?s.get(e):s}clear(){X(this.items)}findById(t){return this.findBy(this.options.id,t)}findBy(t,e){return this.findByCondition((s,i)=>this.get(i,t)===e)}findByCondition(t){let e=0;for(;e<this.items.length&&!t(this.items[e],e);)e++;return this.get(e)}findAllBy(t,e){return this.findAllByCondition((s,i)=>this.get(i,t)===e)}findAllByCondition(t){let e=[];return _(this.items,(s,i)=>{t(s,i)&&e.push(this.get(i))}),e}delete(t){return this.deleteByCondition(e=>u(e,t))}deleteById(t){return this.deleteBy(this.options.id,t)}deleteBy(t,e){return this.deleteByCondition((s,i)=>this.get(i,t)===e)}deleteByCondition(t){let e=0;for(;e<this.items.length&&!t(this.items[e],e);)e++;let s=this.get(e);return this.items.splice(e,1),s}deleteAllBy(t,e){return this.deleteAllByCondition((s,i)=>this.get(i,t)===e)}deleteAllByCondition(t){let e=[],s=[];return _(this.items,(i,o)=>{t(i,o)?s.push(this.get(o)):e.push(this.get(o))}),this.items=e,s}size(){return this.items.length}limit(t,e=10){return this.items.slice(t,t+e)}pluck(t){return He(this.items,t)}};ES_PROD=window.ES_PROD||!1;var st=!0,Es={app:"app",config:"config",event:"event",scheduler:"scheduler",http:"http",flash:"flash",template:"template",dialog:"dialog",confirm:"confirm",viewer:"viewer",header:"header",topMenu:"topMenu",leftMenu:"leftMenu",leftSidebar:"leftSidebar",rightSidebar:"rightSidebar",footer:"footer",bottomMenu:"bottomMenu",navBar:"navBar",script:"script",style:"style",state:"state",dom:"dom",document:"document",window:"window",helper:"helper",cookie:"cookie",localStorage:"localStorage",sessionStorage:"sessionStorage",browser:"browser",loader:"loader",progressBar:"progressBar",geoLocation:"geoLocation",instances:"instances",console:"console",serviceWorker:"serviceWorker",actionCable:"actionCable"};var Bs=(...n)=>{st||console.log(...n)},B=(...n)=>{st||console.info(...n)},m=(...n)=>{st||console.warn(...n)},U=(...n)=>{st||console.error(...n)};var l=class{constructor(t,e){if(V(t))if(k(t,"<")&&k(t,"</")){let s=document.createElement("template");s.innerHTML=t,t=s.content.firstElementChild}else t=document.createElement(t);this.node=t,this.parentNode=e,this.listenerStoreKey="_listeners"}set(t,e){u(t,"id")?this.setId(e):this.setAttribute(t,e)}merge(t){_(t,(e,s)=>{this.set(s,e)})}get(t){return u(t,"id")?this.getId():this.getAttribute(t)}getNode(){return this.node}getTagName(){return this.node.tagName.toLowerCase()}getId(){return this.node.id||null}setId(t){this.node.id=W(t,"string")}setFor(t){this.node.htmlFor=W(t,"string"),this.setAttribute("for",t)}getFor(){return this.node.htmlFor||this.getAttribute("for")}hasClass(t){return this.node.classList.contains(t)}_handleClassList(t,e){S(t)?_(t,s=>{e(s)}):e(t)}addClass(t){this._handleClassList(t,e=>{e&&!this.hasClass(e)&&this.node.classList.add(e)})}removeClass(t){this._handleClassList(t,e=>{this.node.classList.remove(e)})}toggleClass(t){this._handleClassList(t,e=>{this.node.classList.toggle(e)})}getClasses(){return this.node.classList.value.split(" ")}setAttribute(t,e){let s=y(e)?t:e;N(s)?this.node[t]=s:k(t,"data-")&&M(s)?this.node.setAttribute(t,JSON.stringify(s)):this.node.setAttribute(t,s)}getAttribute(t){let e=this.node.getAttribute(t);return k(t,"data-")&&e&&(u(e[0],'"')||u(e[0],"[")||u(e[0],"{"))?JSON.parse(e)||null:C(e||null)}removeAttribute(t){this.node.removeAttribute(t)}hasAttribute(t){return this.node.hasAttribute(t)}addEventListener(t,e){let s=T();return e&&(s=i=>{i.stopPropagation(),e(this,i)||i.preventDefault()},this.node.addEventListener(t,s),this._addListenerToStore(t,s)),s}_addListenerToStore(t,e){this.node[this.listenerStoreKey]||(this.node[this.listenerStoreKey]={}),this.node[this.listenerStoreKey][t]||(this.node[this.listenerStoreKey][t]=[]),this.node[this.listenerStoreKey][t].push(e)}_getListenersFromStore(t){return this.node[this.listenerStoreKey]||this.node[this.listenerStoreKey][t]?this.node[this.listenerStoreKey][t]:[]}removeEventListener(t,e){this.node.removeEventListener(t,e)}removeEventListeners(t){let e=this._getListenersFromStore(t);O(e,s=>{this.removeEventListener(t,s)})}dispatchEvent(t){this.node.dispatchEvent(t)}trigger(t){let e=new Event(t);this.dispatchEvent(e)}createElement(t){let e=document.createElement(t);return new l(e,this)}appendChild(t){this.node.appendChild(t.getNode())}removeChildren(){for(;this.hasChildren();)this.node.removeChild(this.node.firstChild)}hasChildren(){return this.node.hasChildNodes()}removeChild(t){if(this.hasChildren())try{this.node.removeChild(t.getNode())}catch(e){m(e)}}remove(){let t=this._getParentElement();!this.isEmpty()&&t&&t.removeChild(this.node)}insert(t){this.removeChildren(),this.appendChild(t)}beforeChild(t){let e=this.node.firstChild||this.node.firstElementChild;return e?(this.node.insertBefore(t.getNode(),e),!0):(this.node.insertBefore(t.getNode(),e),!1)}afterChild(t){let e=this._getParentElement();return e?(e.appendChild(t.getNode()),!0):!1}insertBefore(t){let e=this._getParentElement();return e?(e.insertBefore(t.getNode(),this.node),!0):!1}insertAfter(t){let e=this.getNextSibling(),s=this._getParentElement();return s?(s.insertBefore(t.getNode(),e.getNode()),!0):!1}replaceChild(t){let e=this._getParentElement();return e?(e.replaceChild(t.getNode(),this.node),!0):!1}getNextSibling(){let t=this.node.nextSibling||this.node.nextElementSibling;return new l(t)}setHtml(t){this.node.innerHTML=t}getHtml(t=!1){return this.isEmpty()?"":t?this.node.innerHTML:this.node.outerHTML}setText(t){this.node.nodeValue=t}getText(){return this.node.textContent}setData(t,e){if(!this.isEmpty()){let s=e;V(e)||(s=JSON.stringify(e)),this.node.dataset[t]=s}}getData(t){let e=this.node.dataset[t];return e&&(u(e[0],"[")||u(e[0],"{"))&&(e=JSON.parse(e)),C(e)}removeData(t){this.isEmpty()||(delete this.node.dataset[t],this.node.removeAttribute("data-"+t))}getParentNode(){let t=this._getParentElement();return t?new l(t):null}_getParentElement(){return this.parentNode&&!this.parentNode.isEmpty()?this.parentNode.getNode():this.node?this.node.parentElement:null}getComputedStyle(){return window.getComputedStyle(this.node)}getStyle(){return this.node.style}setStyle(t){_(t,(e,s)=>{this.node.style.setProperty(s,e,"")})}removeStyle(t){_(t,e=>{this.node.style.removeProperty(e)})}isEmpty(){return!this.node}exists(){return document.body.contains(this.node)}toString(t=!0){return t?this.node.outerHTML:this.node.innerHTML}cloneNode(t=!1){if(!this.isEmpty()){let e=this.node.cloneNode(t);return new l(e,this.parentNode)}return null}clearNode(){let t=this.cloneNode(!0);t&&(this.replaceChild(t),this.node=t.getNode())}};var d=class extends E{constructor(t,e){let s=e||document;H(s,l)&&(s=s.getNode());let i=Ss(t,s);super(i,l,{parent:null})}getItem(){let t=this.get(0);return t||(t=new l(null)),t}},Ss=(n,t)=>{let e=[];if(n.indexOf(" ")!==-1||n.split(".").length-1>1||n.indexOf(".")>-1&&n.indexOf(".")!==0||n.indexOf("[")!==-1)e=t.querySelectorAll(n);else if(n.indexOf("#")===0){let i=t;N(i.getElementById)||(i=document);let o=i.getElementById(n.replace("#",""));e.push(o)}else n.indexOf(".")===0?e=t.getElementsByClassName(n.replace(".","")):e=t.getElementsByTagName(n);let s=[];for(let i=0;i<e.length;i++)e[i]&&s.push(e[i]);return s};var it=class{constructor(t="body"){this.selector=t,this._init()}_init(){this.container=new d(this.selector).getItem()}_initCollection(t){window.popup_collection=window.popup_collection||new E([],t)}push(t,e){this._initCollection(t),window.popup_collection&&window.popup_collection.push(e)}delete(t){window.popup_collection&&window.popup_collection.delete(t)}closeAll(){window.popup_collection&&window.popup_collection.each(t=>{t.close()})}setPosition(t){t.setStyle({left:0})}clearPosition(t){t.setStyle({top:"auto",bottom:"auto",left:"auto",right:"auto"})}};var Y=class{constructor(t){this.name=t}init(){}showError(t,e){U(this.name+"."+t,e)}showLog(t,e){B(this.name+"."+t,e)}};var Nt=class extends Y{constructor(){super("Collection")}init(){this.collection=new E([{id:1,text:"text"},{id:2,text:"text2"}])}};var ot=class{constructor(t={}){this._setOptions(t)}_setOptions(t={}){let e=this;e.options=new c({status:null,data:null,resolve:null,reject:null,complete:null}),e.options.merge(t)}resolve(t){S(t)||(t=[t]),N(this.options.resolve)&&N(this.options.complete)?(this.options.resolve.apply(this,t),this.options.complete.apply(this,t)):(this.options.data=t,this.options.status=!0)}reject(t){S(t)||(t=t?[t]:[]),N(this.options.reject)&&N(this.options.complete)?(this.options.reject.apply(this,t),this.options.complete.apply(this,t)):(this.options.data=t,this.options.status=!1)}then(t,e,s){let i=e||T(),o=s||T();switch(this.options.status){case!0:t.apply(this,this.options.data),o.apply(this,this.options.data);break;case!1:i.apply(this,this.options.data),o.apply(this,this.options.data);break;default:this.options.merge({resolve:t,reject:i,complete:o})}}defer(t,e){this.then((...s)=>{t.resolve(s)},(...s)=>{t.reject(s)},e)}};var w=class{constructor(){this._promise=new ot}promise(){return this._promise}resolve(t){this._promise.resolve(t)}reject(t){this._promise.reject(t)}};var kt=class extends Y{constructor(){super("Deferred")}init(){this.ajaxResolve=()=>{let t=new w;return window.setTimeout(()=>{t.resolve(1)},100),t.promise()},this.funcResolve=()=>{let t=new w;return t.resolve(2),t.promise()},this.ajaxReject=()=>{let t=new w;return window.setTimeout(()=>{t.reject(1)},100),t.promise()},this.funcReject=()=>{let t=new w;return t.reject(2),t.promise()},this.testPromise(),this.testResolve(),this.testReject()}testPromise(){new w().promise()instanceof ot||this.showError("promise",1)}testResolve(){this.ajaxResolve().then(t=>{t!==1&&this.showError("resolve",1)},()=>{this.showError("resolve",2)}),this.funcResolve().then(t=>{t!==2&&this.showError("resolve",3)},()=>{this.showError("resolve",4)})}testReject(){this.ajaxReject().then(()=>{this.showError("reject",1)},t=>{t!==1&&this.showError("reject",2)}),this.funcReject().then(()=>{this.showError("reject",3)},t=>{t!==2&&this.showError("reject",4)})}};var Mt=class extends Y{constructor(){super("Item")}init(){this.node=new l("div"),this.testAttribute(),this.testAttributeData(),this.testData()}testAttribute(){let t=["text",null,!0,!1,1/0,0,1,10];for(let e=0;e<t.length;e++){this.node.setAttribute("data",t[e]);let s=this.node.getAttribute("data");q(s,t[e])||(this.showError("setAttribute(data)",t[e]),this.showError("getAttribute(data)",s))}}testAttributeData(){let t=["text",null,!0,!1,1/0,0,1,10,[0,1,10],{key:"value"}];for(let e=0;e<t.length;e++){this.node.setAttribute("data-value",t[e]);let s=this.node.getAttribute("data-value");q(s,t[e])||(this.showError("setAttribute(data-value)",t[e]),this.showError("getAttribute(data-value)",s))}this.node.removeAttribute("data-value")}testData(){let t=["","text",null,!0,!1,void 0,1/0,0,1,10,[0,1,10],{key:"value"}];for(let e=0;e<t.length;e++){this.node.setData("value",t[e]);let s=this.node.getData("value");q(s,t[e])||(this.showError("setData(value)",t[e]),this.showError("getData(value)",s))}this.node.removeData("value")}};var It=class extends Y{constructor(){super("Objekt")}init(){this.testMerge(),this.testGetTypedValue(),this.testGet(),this.testSet(),this.testRemove(),this.testCopy()}testMerge(){let t=new c({attr:null,obj:{attr2:1,attr4:3}});t.attr!==null&&this.showError("merge",1),t.merge({attr:"value1",obj:{attr2:2,attr3:null}}),t.attr!=="value1"&&this.showError("merge",2),t.obj.attr2!==2&&this.showError("merge",3),t.obj.attr3!==null&&this.showError("merge",4),t.obj.attr4!==3&&this.showError("merge",5)}testGetTypedValue(){let t=new c({attr:"null",obj:{attr2:"1",attr3:"3.2"},attr4:"false",attr5:"true",attr6:"string123,456.789",attr7:void 0,attr8:null,attr9:"1e+3",attr10:"1e-3",attr11:"1E3",attr12:"2e234",attr13:"8e23467"});t.attr!==null&&this.showError("_getTypedValue",0),t.obj.attr2!==1&&this.showError("_getTypedValue",1),t.obj.attr3!==3.2&&this.showError("_getTypedValue",2),t.attr4!==!1&&this.showError("_getTypedValue",3),t.attr5!==!0&&this.showError("_getTypedValue",4),t.attr6!=="string123,456.789"&&this.showError("_getTypedValue",5),t.attr7!==void 0&&this.showError("_getTypedValue",6),t.attr8!==null&&this.showError("_getTypedValue",7),t.attr9!==1e3&&this.showError("_getTypedValue",8),t.attr10!==.001&&this.showError("_getTypedValue",9),t.attr11!==1e3&&this.showError("_getTypedValue",10),t.attr12!==2e234&&this.showError("_getTypedValue",11),t.attr13!=="8e23467"&&this.showError("_getTypedValue",12)}testGet(){let t=new c({attr:null,obj:{attr2:1,obj2:{attr4:2,attr3:3.2,attr5:4.5}},arr:[{attr1:-4}]});t.set("attr",null),t.get("attr")!==null&&this.showError("get",0),t.set("obj.attr2",1),t.get("obj.attr2")!==1&&this.showError("get",1),t.set("obj.obj2.attr3",3.2),t.get("obj.obj2.attr3")!==3.2&&this.showError("get",2),t.get("obj.obj3")!==void 0&&this.showError("get",3),t.get("arr.0.attr1")!==-4&&(console.log(t,t.get("arr.0.attr1"),-4),this.showError("get",4))}testSet(){let t=new c({attr:0,obj:{attr2:0,obj2:{attr3:0}},other:{attr4:32},other2:{other3:{attr5:13,attr6:"title"}}});t.set("attr",null),t.get("attr")!==null&&this.showError("set",0),t.set("obj.attr2",1),t.get("obj.attr2")!==1&&this.showError("set",1),t.set("obj.obj2.attr3",3.2),t.get("obj.obj2.attr3")!==3.2&&this.showError("set",2),t.set("obj.obj3",5),t.get("obj.obj3")===void 0&&this.showError("set",3),t.set("other",null),t.get("other")!==null&&this.showError("set",4),t.set("other2.other3",null),t.get("other2.other3")!==null&&this.showError("set",5)}testRemove(){let t=new c({attr:0,obj:{attr2:0,obj2:{attr3:0}}});t.remove("attr"),t.get("attr")!==void 0&&this.showError("remove",0),t.remove("obj.attr2"),t.get("obj.attr2")!==void 0&&this.showError("remove",1),t.remove("obj.obj2.attr3"),t.get("obj.obj2.attr3")!==void 0&&this.showError("remove",2),t.remove("obj.obj3"),t.get("obj.obj3")!==void 0&&this.showError("remove",3)}testCopy(){let t=new c({attr:0,obj:{attr2:0,obj2:{attr3:0}}});t.set("obj.attr2",0),t.copy().remove("obj.attr2"),t.get("obj.attr2")!==0&&this.showError("copy",0)}};var Et=class{run(){let t=[new Nt,new kt,new Mt,new It];for(let e of t)e.init(),B(`Test${e.name}.init()`)}};var D=class{constructor(t){this.sum=t||0,this._clear()}parallel(t,e){let s=new w;if(t.length===0){let i=e||this.call.results;s.resolve(i),this._clear()}else _(t,(i,o)=>{this.call.results[o]=null,this._parallelWrapper(i,t.length,!1,o,e).defer(s)});return s.promise()}parallelFunction(t,e,s){let i=y(s)?this.call.counter++:s;this.call.results[i]=null,this._parallelWrapper(t,this.sum,!0,i,e)}_parallelWrapper(t,e,s,i,o){let r=new w,a=o||[],h=t.apply(this,a);return h&&N(h.then)?h.then(p=>{this._parallelCaller(e,!1,p,s,i,o).defer(r)},p=>{this._parallelCaller(e,!0,p,s,i,o).defer(r)}):h||y(h)?this._parallelCaller(e,!1,h,s,i,o).defer(r):this._parallelCaller(e,!0,h,s,i,o).defer(r),r.promise()}_parallelCaller(t,e,s,i,o,r){let a=new w;if(this.call.results[o]=s,e&&(this.call.isError=e),this.call.sum++,u(this.call.sum,t)){let h=r||z(this.call.results);this._clear(),this.call.isError?i?this.eventComplete(this.call.isError,h):a.reject(h):i?this.eventComplete(this.call.isError,h):a.resolve(h)}return a.promise()}_clear(){this.call={sum:0,isError:!1,counter:0,results:[]}}setStatus(t,e,s,i){this.call.sum=t,this.call.isError=e,this.call.counter=s,this.call.results=i}eventComplete(t,e){m("Async.eventComplete(isError, results)",t,e)}serial(t,e){let s=new w;if(t.length===0){let i=e||this.call.results;s.resolve(i),this._clear()}else this._serialWrapper(t,0,e).defer(s);return s.promise()}_serialWrapper(t,e,s){let i=new w,o=t[e],r=s||this.call.results,a=(s||[]).concat(this.call.results),h=o.apply(this,a);return h&&N(h.then)?h.then(p=>{this._serialCaller(t,e,p,s).defer(i)},()=>{let p=s||this.call.results;i.reject(p),this._clear()}):h||y(h)?this._serialCaller(t,e,h,s).defer(i):(i.reject(r),this._clear()),i.promise()}_serialCaller(t,e,s,i){let o=new w;this.call.results[e]=s;let r=e+1;if(r<t.length)this._serialWrapper(t,r,i).defer(o);else{let a=i||this.call.results;o.resolve(a),this._clear()}return o.promise()}};var nt=class{constructor(t=""){this.route=t,this.param=new RegExp("([:*])(\\w+)","g"),this.escape=new RegExp("[-[]{}()+?.,]","g"),this._init()}_init(){this.paramNames=[];let t=this.route;t=t.replace(this.escape,"\\$&"),t=t.replace(this.param,(e,s,i)=>(this.paramNames.push(i),s===":"?"([^/]*)":"(.*)")),this.regex=new RegExp("^"+t+"$")}stringify(t={}){let e=this.route;for(let s in t)if(t.hasOwnProperty(s)){let i=t[s],o=new RegExp("[:*]"+s+"\\b");if(o.test(e))e=e.replace(o,i);else{let r=e.charAt(e.length-1)==="&"?"":"&";e+=e.indexOf("?")===-1?"?":r,S(i)?O(i,(a,h)=>{h>0&&(e+="&"),e+=x("{0}[]={1}",[s,a])}):y(i)||(e+=x("{0}={1}",[s,i]))}}return e=e.replace(this.param,""),e[e.length-1]==="?"?e.substring(0,e.length-1):e}getMatches(t){let e=t.indexOf("?");return e!==-1&&(t=t.substring(0,e)),t.match(this.regex)}parse(t){let e=this.getMatches(t);if(!e)return{};let s=this._parseParams(t);for(let i=0;i<this.paramNames.length;i++){let o=this.paramNames[i];s[o]=C(e[i+1])}return s}_parseParams(t){let e={},s=t.indexOf("?");if(s!==-1){let i=t.substring(s+1).split("&");for(let o=0;o<i.length;o++){let r=i[o].replace("==","&&").split("=");r.length<2&&r.push("");let a=window.decodeURIComponent(r[0]),h=C(window.decodeURIComponent(r[1].replace("&&","==")));if(k(a,"[]")){let p=a.replace("[]","");S(e[p])?e[p].push(h):e[p]=[h]}else e[a]=h}}return e}};var Bt=class{constructor(t,e){this._current=new c,this._previous=this._current,this.routes=new E(t),this._setOptions(e),this._init()}_setRealUrls(){this.routes.each(t=>{let e=t.get("url"),s=this._getRealUrl(e);t.set("realUrl",s)})}_getUrlPrefix(){return this.basePath==="#"?"/#":""}_getRealUrl(t){return x("{0}{1}",[this._getUrlPrefix(),t])}_setBasePath(){this.basePath="#";let t=new d("base").getItem();t.isEmpty()||(this.basePath=t.getAttribute("href")||"#")}_setOptions(t){let e=this;e.options=new c({root:{id:"root",params:void 0},home:{id:"home",params:void 0}}),e.options.merge(t)}_init(){this._setBasePath(),this._setRealUrls(),this._initPopstate(),this._parseUrl()}_initPopstate(){window.addEventListener("popstate",()=>{if(window.history.state){let t=new c;t.merge(window.history.state),this._setCurrent(t),this._triggerChange()}else this._parseUrl(),this._triggerChange()})}run(){this._triggerChange()}_parseUrl(){let t=window.location.hash?window.location.hash:window.location.pathname.replace(this.basePath,"/")+window.location.search;this._parsePath(t,(e,s,i)=>{this._setHistory(e,s,i,!0)},()=>{this.goRoot(!0)})}_parsePath(t,e,s){let i=t[0]==="#"?t.substring(1):t,o=this.routes.getItems(),r=null,a=null,h=null,p=0;for(;p<o.length&&L(h);){r=o[p];let f=r.get("url"),v=new nt(f);h=v.getMatches(i),a=v.parse(i),p++}r&&a&&h?e(r,i,a):s(r,i,a)}_setHistory(t,e,s={},i=!1,o=!1){e=this.basePath==="#"?this.basePath+e:e;let r=t.get("template"),a=new nt(r);t.set("templateUrl",a.stringify(s)),t.set("params",s),i?window.history.replaceState(t.get(),t.get("title",""),e):window.history.pushState(t.get(),t.get("title",""),e),this._setCurrent(t),i||this._triggerChange(o)}_triggerChange(t=!1){let e=this.getCurrent(),s=this.getPrevious();this.eventChange(e,s,t)}_setCurrent(t){this._previous=this._current,this._current=t}getCurrent(t){return this._current.get(t)}getPrevious(t){return this._previous.get(t)}go(t,e,s=!1,i=!1){if(u(t[0],"#")||u(t[0],"/"))this._parsePath(t,(o,r,a)=>{this._setHistory(o,r,a,s,i)},()=>{});else{let[o,r]=this._resolveUrlWithState(t,e);o&&r&&this._setHistory(r,o,e,s,i)}}_resolveUrlWithState(t,e){let s=this.routes.findById(t),i="";if(s){let o=s.get("url");i=new nt(o).stringify(e)}return[i,s]}resolveUrl(t,e){let s=this._resolveUrlWithState(t,e)[0];return this._getRealUrl(s)}goState(t,e=!1,s=!1){this.go(t.id,t.params,e,s)}goHome(t=!1,e=!1){this.go(this.options.home.id,this.options.home.params,t,e)}goRoot(t=!1,e=!1){this.go(this.options.root.id,this.options.root.params,t,e)}goBack(t,e,s=!1,i=!1){u(window.history.length,0)?this.go(t,e,s,i):this.back()}back(){window.history.go(-1)}redirect(t,e=!1){e?window.open(t,"_blank"):window.location.href=t}forward(){window.history.forward()}eventChange(t,e,s=!1){m("State.eventChange()",t,e,s)}getRoutes(){return this.routes}setParams(t){R(t,(e,s)=>{this.setParam(s,e)})}setParam(t,e){let s=this.getCurrent("id"),i=this.getParams();i.set(t,e),this.go(s,i,!0)}getParams(){return this.getCurrent("params")}getParam(t,e){return this.getParams().get(t,e)}reload(){window.location.reload()}refresh(t=!1){this._triggerChange(t)}getRoot(){return[this.options.root.id,this.options.root.params]}getHome(){return[this.options.home.id,this.options.home.params]}};var Ts=(n,t,e,s)=>{let i=function(){e&&e.apply(this,s||t),n.apply(this,t)};return e?(i.prototype=vt(e.prototype,n.prototype),i.prototype.constructor=i):i.prototype=n.prototype,new i},St=class{constructor(){this._modules={},this._instances={},this._injections={},this._dependencies=[],this._services=[],this._controller={enter:T(),exit:T()}}load(t,e){this._instances=t,this._injections=e,this._instances[this._injections.instances]=this._instances}getController(){return this._controller}add(t,e,s){this._modules[t]=this._getDependencies(e,s)}_getDependencies(t,e,s){return s&&t.push(s),{moduleInjections:t,moduleCallback:e,opt_extendModule:s}}_resolveDependencies(t){let e=[];_(t.moduleInjections,o=>{e.push(this._instances[o]||o)});let s,i;return t.opt_extendModule&&this._modules[t.opt_extendModule]&&(s=this._modules[t.opt_extendModule].moduleCallback,i=[],_(this._modules[t.opt_extendModule].moduleInjections,o=>{i.push(this._instances[o]||o)})),Ts(t.moduleCallback,e,s,i)}_orderServices(){for(let t in this._modules)if(this._modules.hasOwnProperty(t)&&this._isModule(t)){this._services.indexOf(t)===-1&&this._services.push(t);let e=this._modules[t].moduleInjections;for(let s=0;s<e.length;s++)this._isModule(e[s])&&(this._services.indexOf(e[s])===-1&&this._services.push(e[s]),this._changeServices(t,e[s]))}}_isModule(t){if(V(t)){let e=t.substring(t.length-7);return u(e,"Service")||u(e,"Factory")}return!1}_changeServices(t,e){this._dependencies.indexOf([e,t].join("-"))!==-1&&U("Modules._changeServices()","Dependency injection circular loop",e,"<=>",t),this._dependencies.push([t,e].join("-"));let s=this._services.indexOf(t);if(this._services.indexOf(e)>s){let o=this._services[s];this._services.splice(s,1),this._services.push(o)}}handleServices(){this._orderServices();let t=[];_(this._services,s=>{let i=()=>{this._instances[s]=this._resolveDependencies(this._modules[s]);let o=T();return N(this._instances[s].enter)&&(o=this._instances[s].enter.bind(this._instances[s])),o()};t.push(i)}),this.eventAfterInit(),new D().serial(t).then(()=>{this.eventServiceLoaded(),this._instances[this._injections.state].run()},()=>{this.eventServiceFailed()})}handleRoutes(t,e){this._instances[this._injections.state]=new Bt(t,e),this._instances[this._injections.state].eventChange=(s,i,o)=>{let r=T();!i.isEmpty()&&M(this._controller)&&N(this._controller.exit)&&(r=this._controller.exit.bind(this._controller)),new D().serial([r]).then(()=>{this._handleStateChange(s,o)})}}_handleStateChange(t,e=!1){this.eventStateChange(t).then(()=>{if(t.get("template")){let i=t.get("templateUrl");this._instances[this._injections.template].load(i,e).then(o=>{this.eventModuleLoaded(t),this._initController(t,o)},()=>{this.eventModuleFailed(t)})}else this.eventModuleLoaded(t),this._initController(t,this._instances[this._injections.template].getViewNode())},()=>{this.eventModuleFailed(t)})}_initController(t,e){this._instances[this._injections.dom]=e;let s=this._modules[t.get("controller")];s?this.eventDomChange(t,e).then(()=>{this._controller=this._resolveDependencies(s),M(this._controller)&&N(this._controller.enter)?new D().serial([this._controller.enter.bind(this._controller)]).then(()=>{this.eventControllerLoaded(e)}):this.eventControllerLoaded(e)}):this.eventControllerFailed()}eventControllerLoaded(t){m("Module.eventControllerLoaded()",t)}eventControllerFailed(){m("Module.eventControllerFailed()")}eventModuleFailed(t){m("Module.eventModuleFailed()",t)}eventModuleLoaded(t){m("Module.eventModuleLoaded()",t)}eventStateChange(t){let e=new w;return m("Module.eventStateChange()",t),e.resolve(),e.promise()}eventDomChange(t,e){let s=new w;return m("Module.eventDomChange()",t,e),s.resolve(),s.promise()}eventAfterInit(){m("Module.eventAfterInit()")}eventServiceLoaded(){m("Module.eventServiceLoaded()")}eventServiceFailed(){m("Module.eventServiceFailed()")}};var Tt=class{constructor(t,e){this.parent=t,this._init(e)}_init(t){this.subscription=this._getSubscription(t)}_getSubscription(t){let e=new w;return this.client=this.parent.cable.subscriptions.create(t,{received:s=>{let i=new c(JSON.parse(s.message));e.resolve(i)}}),e.promise()}subscribe(){return this.subscription}send(t,e={}){e.message=t,this.client.send(e)}unsubscribe(){this.client.unsubscribe()}};var mt=n=>{let t=window.CryptoJS.enc.Utf8.parse(n);return window.CryptoJS.enc.Base64.stringify(t)},As=n=>{let t=window.CryptoJS.enc.Base64.parse(n);return window.CryptoJS.enc.Utf8.stringify(t)},At=(n,t)=>{let e=JSON.stringify(n);return window.CryptoJS.AES.encrypt(e,t)},Oe=(n,t)=>{let e=window.CryptoJS.AES.decrypt(n,t).toString(window.CryptoJS.enc.Utf8);return JSON.parse(e||"null")},ut=n=>window.CryptoJS.MD5(n),Ue=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),j=n=>[n,Ue()].join("-"),Ls=()=>[Math.random().toString(16).slice(2,10),Math.random().toString(16).slice(2,6),(Math.random()*.0625+.25).toString(16).slice(2,6),(Math.random()*.25+.5).toString(16).slice(2,6),Math.random().toString(16).slice(2,14)].join("-");var Lt=class{constructor(){this._init()}_init(){window.ActionCable&&(this.cable=window.ActionCable.createConsumer()),this.clients=[],this.identifiers=[]}getUrl(){let t="",e=new d('meta[name="action-cable-url"]').getItem();return e.isEmpty()||(t=e.getAttribute("content")),t}subscribe(t,e){let s={channel:t,room:e},i=this._generateIdentifier(s);if(!I(this.identifiers,i)){this.identifiers.push(i);let r=new Tt(this,s);return r.identifier=i,this.clients.push(r),r.subscribe()}return new w().promise()}unsubscribeAll(){O(this.clients,t=>{t.unsubscribe(),J(this.identifiers,t.identifier)}),yt(this.clients)}_generateIdentifier(t){return ut(JSON.stringify(t))}};var jt=class{constructor(t){this.footer=t,this._init()}_init(){this.bottomMenu=new d("#bottom-menu",this.footer.footerNode).getItem();let t=new d("#open-bottom-menu",this.footer.footerNode).getItem();t.setAttribute("href","javascript:void(0)"),t.addEventListener("click",()=>{this.toggle()});let e=new d("#close-bottom-menu",this.footer.footerNode).getItem();e.setAttribute("href","javascript:void(0)"),e.addEventListener("click",()=>{this.toggle()})}toggle(){this.isOpened()?this.close():this.open()}isOpened(){return this.bottomMenu.hasClass("visible-flex")}open(){this.bottomMenu.addClass("visible-flex"),this.footer.open()}close(){this.bottomMenu.removeClass("visible-flex"),this.footer.close()}getContainer(){return this.bottomMenu}};var Pt=class{constructor(){this._init()}_init(){this._detectOS(),this._detectBrowsers(),this._detectMissingFeatures()}_detectMissingFeatures(){this.features=[],this._setFeature("navigator.geolocation",navigator&&navigator.geolocation),this._setFeature("window.history",window.history),this._setFeature("window.localStorage",window.localStorage),this._setFeature("window.sessionStorage",window.sessionStorage),this._setFeature("window.btoa",window.btoa),this._setFeature("window.atob",window.atob),this._setFeature("console.log",console.log),this._setFeature("console.info",console.info),this._setFeature("console.warn",console.warn),this._setFeature("console.error",console.error)}detect(){et(this.features)||this.eventMissingFeatures(this.features)}_setFeature(t,e){u(!!e,!1)&&this.features.push(t)}eventMissingFeatures(t){U("Browser.eventMissingFeatures()",t)}_detectBrowsers(){this.browsers={};let t=window.navigator.userAgent.toLowerCase();this.browsers.webkit="WebkitAppearance"in document.documentElement.style,this.browsers.chromium=!!window.chrome,this.browsers.chrome=!!window.chrome&&!!window.chrome.webstore,this.browsers.opera=!!window.opera||/opera|opr/i.test(navigator.userAgent),this.browsers.firefox="MozAppearance"in document.documentElement.style,this.browsers.safari=/constructor/i.test(window.HTMLElement.name),this.browsers.IE10="behavior"in document.documentElement.style&&"-ms-user-select"in document.documentElement.style,this.browsers.lteIE10=!1,this.browsers.gteIE10=document.body.style.msTouchAction!==void 0,this.browsers.IE11="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,this.browsers.edge=t.indexOf("edge")!==-1,this.browsers.chromiumEdge=t.indexOf("edge")===-1&&t.indexOf("edg")!==-1}_detectOS(){this.os=null;let t=window.navigator.userAgent,e=window.navigator.platform,s=["Macintosh","MacIntel","MacPPC","Mac68K","darwin"],i=["Win32","Win64","Windows","WinCE"],o=["iPhone","iPad","iPod"];s.indexOf(e)!==-1?this.os="macOS":o.indexOf(e)!==-1?this.os="iOS":i.indexOf(e)!==-1?this.os="Windows":/Android/.test(t)?this.os="Android":/Linux/.test(e)&&(this.os="Linux")}isMacOS(){return this.os==="macOS"}isIOS(){return this.os==="iOS"}isWindows(){return this.os==="Windows"}isAndroid(){return this.os==="Android"}isLinux(){return this.os==="Linux"}isInternetExplorer(t){let e=this.browsers.lteIE10||this.browsers.gteIE10;if(t)switch(t){case 11:e=this.browsers.IE11;break;case 10:e=this.browsers.IE10;break;default:e=this.browsers.lteIE10;break}return e}isEdge(){return this.browsers.edge}isChromiumEdge(){return this.browsers.chromiumEdge}isFirefox(){return this.browsers.firefox}isChrome(){return this.browsers.chrome}isOpera(){return this.browsers.opera}isSafari(){return this.browsers.safari}isWebkit(){return this.browsers.webkit}isChromium(){return this.browsers.chromium}};var g=(n,t=!0)=>{let e=n||document;e instanceof l&&(e=e.getNode()),n?(t&&window.componentHandler.downgradeElements(e),window.componentHandler.upgradeElement(e)):window.componentHandler.upgradeDom()},js=(n,t,e)=>window.ReactDOM.render(window.React.createElement(window[n],t),e.getNode()),Ps=n=>{window.ReactDOM.unmountComponentAtNode(n.getNode())};var A=class{constructor(t,e="TOP"){this.element=t,this.valid=!1,this._initPositions(e),this._init()}_initPositions(t=""){switch(this.positionCssClass="mdl-tooltip--top",t){case"TOP":this.positionCssClass="mdl-tooltip--top";break;case"BOTTOM":this.positionCssClass="mdl-tooltip--bottom";break;case"LEFT":this.positionCssClass="mdl-tooltip--left";break;case"RIGHT":this.positionCssClass="mdl-tooltip--right";break}}_init(){this._createTooltip()}_getMessage(t=""){return t||(t=this.element.getAttribute("desc")||"",t&&this.tooltip.addClass("mdl-tooltip--large"),t=this.element.getAttribute("title")||t),t}_createTooltip(){let t=this.element.getId();L(t)&&(t=j("tooltip"),this.element.setId(t),this.element.addClass("has-tooltip")),new d(x('[for="{0}"]',[t]),this.element).getItem().remove();let s=["mdl-tooltip",this.positionCssClass];this.tooltip=new l("span"),this.tooltip.addClass(s),this.tooltip.setFor(t),this.valid=this.element.insertAfter(this.tooltip)}render(t){let e=this._getMessage(t);this.setMessage(e),this._handleAttributes()}_handleAttributes(){this.valid&&(this.element.removeAttribute("desc"),this.element.removeAttribute("title"),g(this.tooltip))}setMessage(t=""){t?(this.tooltip.removeStyle(["display"]),this.tooltip.setHtml(t)):(this.tooltip.setStyle({display:"none"}),this.tooltip.setHtml(""))}open(){this.tooltip.addClass("is-active")}close(){this.tooltip.removeClass("is-active")}isOpen(){return this.tooltip.hasClass("is-active")}toggle(){this.isOpen()?this.close():this.open()}};var Q=class{_initBase(){this.windowWidth=0,this.windowHeight=0,this.mainContainerNode=new d(".main-container").getItem(),this.hasBlur=!1,this._initButtons()}_initButtons(){this._initCloseButton(),this._initMinimizeButton(),this._initMaximizeButton()}_initMinimizeButton(){let t=new d(".minimize",this.modal).getItem();t.isEmpty()||(t.addClass(["mdl-button","mdl-js-button","mdl-button--icon"]),t.addEventListener("click",()=>{this._actionMinimize()}),this.btnMinimize=t)}_initMaximizeButton(){let t=new d(".maximize",this.modal).getItem();t.isEmpty()||(t.addClass(["mdl-button","mdl-js-button","mdl-button--icon"]),t.addEventListener("click",()=>{this._actionMaximize()}),this.btnMaximize=t)}_initCloseButton(){let t=new d(".close",this.modal).getItem();t.isEmpty()||(t.addClass(["mdl-button","mdl-js-button","mdl-button--icon"]),t.addEventListener("click",()=>{this._actionCancel()}),this.btnClose=t)}isOpened(){return this.modal.hasClass("visible-flex")}_handleCloseButton(t=!0){this.btnClose&&(t?this.btnClose.removeClass("hidden"):this.btnClose.addClass("hidden"))}open(t=!0){this.hasBlur=this.mainContainerNode.hasClass("blur"),this.hasBlur||(this.mainContainerNode.addClass("blur"),this.body.addClass("overflow-hidden")),this.modal.addClass("visible-flex"),this.modal.removeClass("hidden"),this._handleCloseButton(t),this._handleCenterPosition(),this.interval=setInterval(()=>{this._handleCenterPosition()},1e3)}close(){clearInterval(this.interval),this.hasBlur||(this.mainContainerNode.removeClass("blur"),this.body.removeClass("overflow-hidden")),this.modal.addClass("hidden"),this.modal.removeClass("visible-flex"),this.modalTitle.removeChildren(),this.modalBody.removeChildren(),this.modalFooter.removeChildren()}_setTitle(t){this.modalTitle.setHtml(t),V(t)&&t.length>0||dt(t)?this.modalHeader.removeClass("hidden"):this.modalHeader.addClass("hidden"),this.tooltip.setMessage(t)}_reset(){this.eventOK=T(),this.eventCancel=T()}_actionOK(){let t=new D,e=[this.eventOK.bind(this),this.close.bind(this)];t.serial(e)}_actionCancel(){let t=new D,e=[this.eventCancel.bind(this),this.close.bind(this)];t.serial(e)}_actionMinimize(){}_actionMaximize(){}setSize(t,e){this.windowWidth=t,this.windowHeight=e,this._handleCenterPosition()}_handleCenterPosition(){let e=this.modalWindow.getComputedStyle().getPropertyValue("height");k(e,"px")?parseInt(e.slice(0,-2),10)>this.windowHeight?this.modal.removeClass("center"):this.modal.addClass("center"):this.modal.addClass("center")}};var Ht=class extends Q{constructor(t={}){super();this._setOptions(t),this._init(),this._initBase()}_setOptions(t={}){let e=this;e.options=new c({id:"#confirm"}),e.options.merge(t)}_init(){this.body=new d("body").getItem(),this.modal=new d(this.options.id).getItem(),this.modalWindow=new d("#confirm-window",this.modal).getItem(),this.modalHeader=new d(".modal-header",this.modal).getItem(),this.modalTitle=new d(".modal-title",this.modalHeader).getItem(),this.modalBody=new d(".modal-body",this.modal).getItem(),this.modalFooter=new d(".modal-footer",this.modal).getItem(),this.tooltip=new A(this.modalTitle),this.tooltip.render()}load(t,e,s="",i="",o="normal"){if(this._reset(),this._setTitle(i),this.modalWindow.removeClass(["normal","info","warning","error","success","choice"]),this.modalWindow.addClass(o),this.modalBody.setHtml(t),this.modalFooter.removeChildren(),s){let h=["mdl-button","mdl-js-button","mdl-js-ripple-effect"];o==="choice"&&h.push("mdl-button--primary");let p=new l("button");p.setAttribute("type","button"),p.setHtml(s),p.addClass(h),p.addEventListener("click",this._actionCancel.bind(this)),this.modalFooter.appendChild(p)}let r=["mdl-button","mdl-js-button","mdl-js-ripple-effect","mdl-button--primary"],a=new l("button");a.setAttribute("type","button"),a.setHtml(e),a.addClass(r),a.addEventListener("click",this._actionOK.bind(this)),this.modalFooter.appendChild(a),g(this.modalFooter)}};var Ot=class{constructor(t={}){this._setOptions(t)}_setOptions(t={}){let e=this;e.options=new c({prefix:"app",hours:24}),e.options.merge(t)}_getPropertyName(t){return[this.options.prefix,t].join(".").replace(/\./g,"_")}_getName(t){let e=t.split("_");return e.shift(),e.join(".")}set(t,e,s="",i="/",o="",r=!1){let a=this._getPropertyName(t);if(!/^(?:expires|max\-age|path|domain|secure)$/i.test(a)){if(s)switch(s.constructor){case Number:s=s===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+s*60*60;break;case Date:s="; expires="+s.toUTCString();break;default:break}else{let h=new Date;h.setTime(h.getTime()+this.options.hours*60*60*1e3),s="; expires="+h.toUTCString()}document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(e)+s+(o?"; domain="+o:"")+(i?"; path="+i:"")+(r?"; secure":"")}}get(t){let e=this._getPropertyName(t),s=new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$");return C(decodeURIComponent(document.cookie.replace(s,"$1"))||null)}remove(t,e="",s="",i=!1){if(this.hasKey(t)){let o=new Date(1970,0,1);this.set(t,"",o,e,s,i)}}hasKey(t){let e=this._getPropertyName(t);return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}getKeys(){let t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(let e=0;e<t.length;e++)t[e]=this._getName(decodeURIComponent(t[e]));return t}clear(){let t=this.getKeys();_(t,e=>{this.remove(e)})}};var Dt=class extends Q{constructor(t,e={}){super();this.http=t,this._setOptions(e),this._init(),this._initBase()}_setOptions(t={}){let e=this;e.options=new c({id:"#dialog"}),e.options.merge(t)}_init(){this.body=new d("body").getItem(),this.modal=new d(this.options.id,this.body).getItem(),this.modalWindow=new d("#dialog-window",this.modal).getItem(),this.modalHeader=new d(".modal-header",this.modal).getItem(),this.modalTitle=new d(".modal-title",this.modalHeader).getItem(),this.modalBody=new d(".modal-body",this.modal).getItem(),this.modalFooter=new d(".modal-footer",this.modal).getItem(),this.tooltip=new A(this.modalTitle),this.tooltip.render()}loadTemplate(t){this._reset();let e=new w;return this.http.get(t).then(s=>{let i=this._handleDom(s);e.resolve(i)},s=>{let i=this._handleMessage(s);e.reject(i),this.open()}),e.promise()}_handleMessage(t){let e=new d(".message",t).getItem(),s=new d("title",t).getItem();return this._setTitle(s.getText()),this.modalBody.insert(e),g(e),e}_handleDom(t){let e=new d("#title",t).getItem();e.isEmpty()||this._setTitle(e.getText());let s=new d("#content",t).getItem();return this.modalBody.insert(s),g(s),this._handleActions(t),s}_handleActions(t){let e=new d("#action",t).getItem();if(e.isEmpty())this.modalFooter.removeChildren();else{let s=new d("button",e),i=s.size(),o=[this._actionOK.bind(this)],r=["mdl-button--primary"];i===2&&(o=[this._actionCancel.bind(this),this._actionOK.bind(this)],r=["mdl-button--accent","mdl-button--primary"]),s.each((a,h)=>{let p=["mdl-button","mdl-js-button","mdl-js-ripple-effect"].concat([r[h]]);a.addClass(p),a.addEventListener("click",o[h])}),this.modalFooter.insert(e),g(e)}}};var Rt=class{constructor(t={}){this._setOptions(t),this._init()}_init(){this.container=new d(this.options.id).getItem()}_setOptions(t={}){let e=this;e.options=new c({id:"#flashes",duration:4e3,closableTypes:["error"]}),e.options.merge(t)}_getFlashNode(t,e,s=0,i=null,o=""){let r=this.container.createElement("div");if(r.setAttribute("data-id",o||j("flash")),r.addClass(["flash",t]),r.setHtml(e),this._isClosable(t,i)&&!u(s,1/0)){let a=this._getCloseButton(r,i);r.beforeChild(a)}return r}_getCloseButton(t,e=null){let s=t.createElement("button");s.addClass(["mdl-button","mdl-js-button","mdl-button--icon"]);let i=s.createElement("em");return i.addClass("material-icons"),i.setHtml("close"),s.appendChild(i),s.addEventListener("click",()=>{this.remove(t,e)}),g(s),s}_add(t,e,s=0,i=null,o=""){this.removeById(o);let r=this._getFlashNode(t,e,s,i,o);return this.container.appendChild(r),!this._isClosable(t,i)&&!u(s,1/0)&&(r.addClass("closable"),r.addEventListener("click",()=>{this.remove(r,i)}),window.setTimeout(()=>{this.remove(r,i)},s||this.options.duration)),r}removeById(t=""){if(t){let e=x("[data-id={0}]",[t]);new d(e,this.container).each(i=>{this.container.removeChild(i)})}}_isClosable(t,e=null){return this.options.closableTypes.indexOf(t)!==-1||N(e)}remove(t,e=null){N(e)&&e(),this.container.removeChild(t)}addSuccess(t,e=0,s=null,i=""){return this._add("success",t,e,s,i)}addInfo(t,e=0,s=null,i=""){return this._add("info",t,e,s,i)}addWarning(t,e=0,s=null,i=""){return this._add("warning",t,e,s,i)}addError(t,e=0,s=null,i=""){return this._add("error",t,e,s,i)}addMessage(t,e=0,s=null,i=""){if(M(t)){let o=t.closable?T:s;return this._add(t.type,t.content,e,o,i)}return null}addDefault(t,e=0,s=null,i=""){return this._add("default",t,e,s,i)}};var Vt=class{constructor(t={}){this._setOptions(t),this._init()}_setOptions(t={}){let e=this;e.options=new c,e.options.merge(t)}_init(){this.footerNode=new d("#footer").getItem(),this.templateViewNode=new d(".template-view").getItem(),this.contentNode=new d(".content",this.footerNode).getItem(),this.localesNode=new d(".locales",this.footerNode).getItem()}show(){this.footerNode.removeClass(["static","hidden","has-footer"]);let t=new d(".page-content.fullscreen",this.templateViewNode).getItem();t&&!t.isEmpty()&&(t.hasClass("light")?this.footerNode.addClass("dark"):this.footerNode.removeClass("dark"),this.footerNode.addClass("static"),this.templateViewNode.addClass("has-footer"))}hide(){this.footerNode.addClass("hidden"),this.footerNode.removeClass("static"),this.templateViewNode.removeClass("has-footer")}setContent(t){this.contentNode.appendChild(t)}getLocalesContainer(){return this.localesNode}open(){this.footerNode.addClass("open")}close(){this.footerNode.removeClass("open")}isOpened(){return this.footerNode.hasClass("open")}toogle(){this.isOpened()?this.close():this.open()}};var Ft=class{constructor(){this._init()}_init(){this.options={enableHighAccuracy:!0,timeout:5e3,maximumAge:1/0}}setWatcher(){this.watcherId=navigator.geolocation.watchPosition(t=>{this._handlePosition(t)},t=>{this._handleError(t)},this.options)}getPosition(){let t=new w;return navigator.geolocation.getCurrentPosition(e=>{t.resolve([e.coords.latitude,e.coords.longitude])},e=>{t.reject([null,null])},this.options),t.promise()}clearWatcher(){navigator.geolocation.clearWatch(this.watcherId)}eventChange(t,e,s){m("GeoLocation.eventChange()",t,e,s)}_handlePosition(t){let e="User allowed the request for GeoLocation.";this.eventChange(t.coords.latitude,t.coords.longitude,e)}_handleError(t){switch(t.code){case t.PERMISSION_DENIED:this.eventError("User denied the request for GeoLocation.","permission_denied");break;case t.POSITION_UNAVAILABLE:this.eventError("Location information is unavailable.","position_unavailable");break;case t.TIMEOUT:this.eventError("The request to get user location timed out.","timeout");break;default:this.eventError("An unknown error occurred.","unknown");break}}eventError(t,e){m("GeoLocation.eventError()",t,e)}};var Yt=class{createLink(t,e,s="javascript:void(0)",i="",o=!0,r=["link"]){let a=new l("a");return a.setHtml(t),this.linkElement(a,e,s,i,o,r),a}multipleLink(t,e,s,i=[]){new d(t,e).each(r=>{this.linkElement(r,s,"","",!0,i)})}link(t,e,s,i="",o="",r=!0,a=[]){let h=new d(t,e).getItem();return this.linkElement(h,s,i,o,r,a),h}linkElement(t,e,s="",i="",o=!0,r=[]){if(!t.isEmpty())if(o){if(t.addClass(r),t.getId()?t.removeEventListeners("click"):t.setId(j("link")),s&&t.setAttribute("href",s),e){let a=t.getAttribute("href");t.addEventListener("click",()=>{e(a,t)})}this._setTooltip(t,i)}else t.remove()}createButton(t,e,s="",i=!0,o=["mdl-button--primary"]){let r=new l("button");return r.setHtml(t),this.buttonElement(r,e,s,i,o),r}multipleButton(t,e,s,i=["mdl-button--primary"]){new d(t,e).each(r=>{this.buttonElement(r,s,"",!0,i)})}button(t,e,s,i="",o=!0,r=["mdl-button--primary"]){let a=new d(t,e).getItem();return this.buttonElement(a,s,i,o,r),a}buttonElement(t,e,s="",i=!0,o=["mdl-button--primary"]){if(!t.isEmpty())if(i){if(!t.getId())t.setId(j("button"));else{let a=t.getData("cssClasses");t.removeClass(a),t.removeEventListeners("click")}let r=["mdl-button","mdl-js-button","mdl-js-ripple-effect","mdl-button--raised"].concat(o);t.setData("cssClasses",r),t.addClass(r),e&&t.addEventListener("click",()=>{e(t.getId(),t)}),this._setTooltip(t,s)}else t.remove()}createIconButton(t,e,s="",i=!0,o=["mdl-button--accent","mdl-button--fab","mdl-button--mini-fab"]){let r=new l("button");return this._createIconNode(t,r),this.iconButtonElement(r,e,s,i,o),r}multipleIconButton(t,e,s=["mdl-button--accent","mdl-button--fab","mdl-button--mini-fab"]){new d(t,e).each(o=>{this.iconButtonElement(o,void 0,void 0,!0,s)})}iconButton(t,e,s,i="",o=!0,r=["mdl-button--accent","mdl-button--fab","mdl-button--mini-fab"]){let a=new d(t,e).getItem();return this.iconButtonElement(a,s,i,o,r),a}iconButtonElement(t,e,s="",i=!0,o=["mdl-button--accent","mdl-button--fab","mdl-button--mini-fab"]){if(!t.isEmpty())if(i){if(!t.getId())t.setId(j("button"));else{let a=t.getData("cssClasses");t.removeClass(a),t.removeEventListeners("click")}let r=["mdl-button","mdl-js-button","mdl-js-ripple-effect","mdl-button--icon"].concat(o);t.setData("cssClasses",r),t.addClass(r),e&&t.addEventListener("click",()=>{e(t.getId(),t)}),this._setTooltip(t,s)}else t.remove()}_createIconNode(t,e){let s=new l("em");s.addClass("material-icons"),s.setHtml(t),e.appendChild(s)}_setTooltip(t,e=""){e&&t.setAttribute("title",e),new A(t).render(e),g(t)}setGravatar(t,e,s,i=500,o="g"){let r=x("https://www.gravatar.com/avatar/{0}?s={1}&r={2}&d=404",[ut(s),i,o]);t.setAttribute("src",r),t.setAttribute("onError",x("this.onerror=null;this.src='{0}';",[e]))}};var Wt=class{constructor(t={}){this._setOptions(t),this._init()}_setOptions(t={}){let e=this;e.options=new c({backend:"",locale:""}),e.options.merge(t)}_init(){this.requestHeaders={},this.authorization=null,this.types={},this._setTypes(),this.http=new XMLHttpRequest,this.http.onreadystatechange=this._onReadyStateChange(),this.deferred=new w}_setTypes(){this._setType("json",["application/json","json","application/json"]),this._setType("form",["application/x-www-form-urlencoded","json","application/json"]),this._setType("html",["","document","text/html"]),this._setType("svg",["","document","image/svg-xml"]),this._setType("xml",["","document","application/xml"])}_setType(t,e){this.types[t]=e}_getType(t){return this.types[t]||["","text","*/*"]}_getContentType(t){return this._getType(t)[0]}_getResponseType(t){return this._getType(t)[1]}_getAccept(t){return this._getType(t)[2]}_onReadyStateChange(){return(t,e)=>{switch(this.http.readyState){case 0:break;case 1:break;case 2:break;case 3:break;case 4:this._getResponseData(this.http.response).then(s=>{u(this.http.status,200)?this.deferred.resolve([this.http].concat(s)):this.deferred.reject([this.http].concat(s))});break;default:U("Xhr._onReadyStateChange()",this.http.readyState);break}}}get(t,e,s={}){return this._handleRequest("GET",t,{},e,s)}post(t,e,s,i={}){return this._handleRequest("POST",t,e,s,i)}put(t,e,s,i={}){return this._handleRequest("PUT",t,e,s,i)}patch(t,e,s,i={}){return this._handleRequest("PATCH",t,e,s,i)}delete(t,e,s,i={}){return this._handleRequest("DELETE",t,e,s,i)}_getUrl(t,e){let s=$(t,e);return t[0]==="/"?this.options.backend+s:s}_handleRequest(t,e,s,i,o={}){this.http.open(t,this._getUrl(e,i),!0);let r=pt(e);return this._setResponseType(r),this._setRequestHeaders(r,o),this.http.send(this._getRequestData(s)),this.deferred.promise()}_getRequestData(t){let e="";if(t)switch(this.getHeader("Content-Type")){case this._getContentType("json"):e=JSON.stringify(t);break;case this._getContentType("form"):e=this._stringifyObject(t);break}return e}_parseObject(t,e,s){s+=s?"["+e+"]":e;let i=[];if(t instanceof Array){s+="[]";for(let o=0;o<t.length;o++)i.push([s,t[o]].join("="))}else if(typeof t=="object"){for(let o in t)if(t.hasOwnProperty(o)){let r=this._parseObject(t[o],o,s);i=i.concat(r)}}else i.push([s,t].join("="));return i}_stringifyObject(t){let e=[];for(let s in t)if(t.hasOwnProperty(s)){let i=this._parseObject(t[s],s,"");e=e.concat(i)}return e.join("&")}_getFilenameFromHeader(){let t="";try{let e=this.http.getResponseHeader("Content-Disposition");e&&(t=e.match(/filename="(.+)"/)[1])}catch(e){}return t}_getResponseData(t){let e=new w,s=this._getFilenameFromHeader(),i=this.http.getResponseHeader("Content-Type");if(i)switch(i.split(";")[0]){case"application/json":if(H(t,Blob)){let o=new FileReader;o.addEventListener("loadend",r=>{t=JSON.parse(r.target.result||"null");let a=new c;a.merge(t),e.resolve([[a,s]])}),o.readAsText(t)}else{t=V(t)?JSON.parse(t||"null"):t;let o=new c;o.merge(t),e.resolve([[o,s]])}break;default:e.resolve([[t,s]]);break}return e.promise()}_setRequestHeaders(t,e={}){R(e,(s,i)=>{u(i,"responseType")?this.http.responseType=s:this.setHeader(i,s)}),y(this.getHeader("Accept"))&&this.setHeader("Accept",this._getAccept(t)),y(this.getHeader("Accept-Language"))&&this.setHeader("Accept-Language",this.options.locale),y(this.getHeader("Content-Type"))&&this.setHeader("Content-Type",this._getContentType(t)),y(this.getHeader("Authorization"))&&this.authorization&&(this.setHeader("Authorization",this.authorization),this.http.withCredentials=!0),y(this.getHeader("X-Requested-With"))&&this.setHeader("X-Requested-With","XMLHttpRequest")}_setResponseType(t){this.http.responseType=this._getResponseType(t)}setHeader(t,e){t&&e&&this.http.setRequestHeader(t,e),this.requestHeaders[t]=e}getHeader(t){return this.requestHeaders[t]}setBasicAuthorization(t,e){if(t&&e){let s=[t,e].join(":");this.authorization="Basic "+mt(s)}}setBearerAuthorization(t){t&&(this.authorization="Bearer "+t)}};var qt=class{constructor(t={}){this._setOptions(t),this._init()}_setOptions(t={}){let e=this;e.options=new c({backend:"",locale:""}),e.options.merge(t)}_init(){this.username=null,this.password=null,this.token=null}setBasicAuthorization(t,e){this.username=t,this.password=e}setBearerAuthorization(t){this.token=t}get(t,e,s){let i=this._getRequestHandler();return this._getPromise(i.get(t,e,s))}post(t,e,s,i){let o=this._getRequestHandler();return this._getPromise(o.post(t,e,s,i))}put(t,e,s,i){let o=this._getRequestHandler();return this._getPromise(o.put(t,e,s,i))}patch(t,e,s,i){let o=this._getRequestHandler();return this._getPromise(o.patch(t,e,s,i))}delete(t,e,s,i){let o=this._getRequestHandler();return this._getPromise(o.delete(t,e,s,i))}_getRequestHandler(){let t=new Wt(this.options);return this.eventBeforeRequest(t),t.setBasicAuthorization(this.username,this.password),t.setBearerAuthorization(this.token),t}_getPromise(t){let e=new w;return t.then((...s)=>{this.eventAfterRequest(...s),e.resolve.apply(e,[s.slice(1)])},(...s)=>{this.eventAfterRequest(...s),e.reject.apply(e,[s.slice(1)])}),e.promise()}eventBeforeRequest(t){m("Http.eventBeforeRequest",t)}eventAfterRequest(t,e){m("Http.eventAfterRequest",t,e)}};var zt=class{constructor(){this._init()}_init(){this.body=new d("body").getItem(),this.mainContainerNode=new d(".main-container").getItem(),this.leftMenu=new d("#left-menu").getItem(),this.mainMenu=new d(".main-menu",this.leftMenu).getItem(),this.subMenu=new d(".sub-menu",this.leftMenu).getItem(),this.subMenu.addClass("hidden"),this.mainMenuContainer=new d(".menu-container",this.mainMenu).getItem(),this.subMenuContainer=new d(".menu-container",this.subMenu).getItem(),this.mainMenuTitle=new d("h3",this.mainMenu).getItem(),this.subMenuTitle=new d("h3",this.subMenu).getItem(),this._initEvents()}_initEvents(){this.leftMenu.addEventListener("click",()=>{this.close()}),this.mainMenuContainer.addEventListener("click",()=>(T(),!0)),this.subMenuContainer.addEventListener("click",()=>(T(),!0));let t=new d("#open-left-menu").getItem();t.setAttribute("href","javascript:void(0)"),t.addEventListener("click",()=>{this.open()});let e=new d("#close-left-menu",this.mainMenu).getItem();e.setAttribute("href","javascript:void(0)"),e.addEventListener("click",()=>{this.close()});let s=new d("#close-sub-menu",this.subMenu).getItem();s.setAttribute("href","javascript:void(0)"),s.addEventListener("click",()=>{this.closeSubMenu()})}open(t=""){this.body.addClass("overflow-hidden"),this.mainContainerNode.addClass("blur"),this.leftMenu.addClass("visible"),this.mainMenuTitle.setHtml(t)}close(){this.body.removeClass("overflow-hidden"),this.mainContainerNode.removeClass("blur"),this.leftMenu.removeClass("visible")}openSubMenu(t=""){this.mainMenu.addClass("hidden"),this.subMenu.removeClass("hidden"),this.subMenuTitle.setHtml(t)}closeSubMenu(){this.mainMenu.removeClass("hidden"),this.subMenu.addClass("hidden")}getMainContainer(){return this.mainMenuContainer}getSubContainer(){return this.subMenuContainer}};var Ut=class{constructor(t={}){this._setOptions(t),this._init()}_setOptions(t={}){let e=this;e.options=new c({counter:0}),e.options.merge(t)}_init(){this.loader=new d("#loader").getItem(),this.spinner=this.loader.createElement("div"),this.spinner.addClass(["mdl-spinner","mdl-spinner--single-color","mdl-js-spinner"]),this.loader.appendChild(this.spinner)}show(){this.options.counter++,this.loader.removeClass("hidden"),this.spinner.addClass("is-active")}hide(t){this.options.counter--,(t||u(this.options.counter,0))&&(this.options.counter=0,this.loader.addClass("hidden"),this.spinner.removeClass("is-active"))}};var Qt=class{constructor(){this._init()}_init(){this.navBarHeader=new d(".nav-bar-header").getItem(),this.navBar=new d("#nav-bar",this.navBarHeader).getItem();let t=new d("#toggle-nav-bar",this.navBarHeader).getItem();t.setAttribute("href","javascript:void(0)"),t.addEventListener("click",()=>{this.toggle()}),this.toggleNavBarIcon=new d("em",t).getItem()}toggle(){this.isOpened()?this.close():this.open()}isOpened(){return this.navBar.hasClass("open")}open(){this.navBar.addClass("open"),this.toggleNavBarIcon.setHtml("close")}close(){this.navBar.removeClass("open"),this.toggleNavBarIcon.setHtml("menu")}show(){this.navBarHeader.removeClass("hidden")}hide(){this.navBarHeader.addClass("hidden")}showShadow(){this.navBar.addClass("shadow")}hideShadow(){this.navBar.removeClass("shadow")}getContainer(){return this.navBar}};var Gt=class{constructor(t,e,s={}){this.dialog=t,this.confirm=e,this._setOptions(s),this._init()}_setOptions(t={}){let e=this;e.options=new c({lock:!1,counter:0}),e.options.merge(t)}_init(){this.progressBarContainer=new d(".main-container > .progress-bar").getItem(),this.progressBarHeader=new d("#header > .progress-bar").getItem(),this.progressBarDialog=new d("#dialog-window > .progress-bar").getItem(),this.progressBarConfirm=new d("#confirm-window > .progress-bar").getItem(),this.async=new D(4),this.async.eventComplete=(t,e)=>{e[0].MaterialProgress&&(this.mProgressContainer=e[0].MaterialProgress),e[1].MaterialProgress&&(this.mProgressHeader=e[1].MaterialProgress),e[2].MaterialProgress&&(this.mProgressDialog=e[2].MaterialProgress),e[3].MaterialProgress&&(this.mProgressConfirm=e[3].MaterialProgress),this.progressValue&&this.setProgress(this.progressValue),this.progressValue=0,this.bufferValue&&this.setBuffer(this.bufferValue),this.bufferValue=0},this.progressValue=0,this.bufferValue=0,this.mProgressContainer=this._getProgressBar(this.progressBarContainer),this.mProgressHeader=this._getProgressBar(this.progressBarHeader),this.mProgressDialog=this._getProgressBar(this.progressBarDialog),this.mProgressConfirm=this._getProgressBar(this.progressBarConfirm)}_getProgressBar(t){return t.addClass("mdl-js-progress"),t.addEventListener("mdl-componentupgraded",e=>{this.async.parallelFunction(()=>e)}),{setProgress:e=>{this.progressValue=e},setBuffer:e=>{this.bufferValue=e}}}_separateProgressBars(t,e,s,i){t(!this.dialog.isOpened()&&!this.confirm.isOpened()),e(!this.dialog.isOpened()&&!this.confirm.isOpened()),s(this.dialog.isOpened()&&!this.confirm.isOpened()),i(this.confirm.isOpened())}_progress(){this.options.get("lock")||this._separateProgressBars(t=>{t?this.progressBarContainer.addClass("mdl-progress"):this.progressBarContainer.removeClass("mdl-progress")},t=>{t?this.progressBarHeader.addClass("mdl-progress"):this.progressBarHeader.removeClass("mdl-progress")},t=>{t?this.progressBarDialog.addClass("mdl-progress"):this.progressBarDialog.removeClass("mdl-progress")},t=>{t?this.progressBarConfirm.addClass("mdl-progress"):this.progressBarConfirm.removeClass("mdl-progress")})}show(){this._progress(),this.options.counter++,this._separateProgressBars(t=>{t?this.progressBarContainer.addClass("mdl-progress__indeterminate"):this.progressBarContainer.removeClass("mdl-progress__indeterminate")},t=>{t?this.progressBarHeader.addClass("mdl-progress__indeterminate"):this.progressBarHeader.removeClass("mdl-progress__indeterminate")},t=>{t?this.progressBarDialog.addClass("mdl-progress__indeterminate"):this.progressBarDialog.removeClass("mdl-progress__indeterminate")},t=>{t?this.progressBarConfirm.addClass("mdl-progress__indeterminate"):this.progressBarConfirm.removeClass("mdl-progress__indeterminate")})}setProgress(t){this._progress(),this._separateProgressBars(e=>{e&&this.mProgressContainer.setProgress(t)},e=>{e&&this.mProgressHeader.setProgress(t)},e=>{e&&this.mProgressDialog.setProgress(t)},e=>{e&&this.mProgressConfirm.setProgress(t)})}setBuffer(t){this._progress(),this._separateProgressBars(e=>{e&&this.mProgressContainer.setBuffer(t)},e=>{e&&this.mProgressHeader.setBuffer(t)},e=>{e&&this.mProgressDialog.setBuffer(t)},e=>{e&&this.mProgressConfirm.setBuffer(t)})}hide(t){this.options.counter--,(t||u(this.options.counter,0))&&(this.options.counter=0,this.progressBarContainer.removeClass(["mdl-progress","mdl-progress__indeterminate"]),this.progressBarHeader.removeClass(["mdl-progress","mdl-progress__indeterminate"]),this.progressBarDialog.removeClass(["mdl-progress","mdl-progress__indeterminate"]),this.progressBarConfirm.removeClass(["mdl-progress","mdl-progress__indeterminate"]))}lock(){this.options.set("lock",!0)}unlock(){this.options.set("lock",!1)}};var Kt=class{constructor(t,e={}){this.progressBar=t,this._setOptions(e),this._init()}_setOptions(t={}){let e=this;e.options=new c,e.options.merge(t)}_init(){this.head=new d("head").getItem()}load(t,e,s,i=!1,o=!1){this.progressBar.show();let r=new w;if(new d("#"+t).size()>0)this.progressBar.hide(),r.resolve();else{let h=new l("script");h.setId(t),h.setAttribute("src",$(e,s)),i&&h.setAttribute("async"),o&&h.setAttribute("defer"),h.setAttribute("onload",()=>{this.progressBar.hide(),r.resolve()}),h.setAttribute("onerror",()=>{this.progressBar.hide(),r.reject()}),this.head.appendChild(h)}return r.promise()}remove(t){let e=new d("#"+t).getItem();e.isEmpty()||e.remove()}};var ft=class{constructor(t){this.selector=t,this._init()}_init(){this.sidebar=new d(this.selector).getItem(),this.button=new d("a",this.sidebar).getItem(),this.button.setAttribute("href","javascript:void(0)"),this.button.addEventListener("click",()=>{this.toggle()})}toggle(){this.isOpened()?this.close():this.open()}isOpened(){return this.sidebar.hasClass("open")}open(){this.sidebar.addClass("open")}close(){this.sidebar.removeClass("open")}show(){this.sidebar.removeClass("hidden")}hide(){this.sidebar.addClass("hidden")}setButtonPosition(t,e){let s=Math.round(t+e/2);this.button.setStyle({top:s+"px"})}};var Xt=class{constructor(t,e={}){this.progressBar=t,this._setOptions(e),this._init()}_setOptions(t={}){let e=this;e.options=new c,e.options.merge(t)}_init(){this.head=new d("head").getItem()}load(t,e,s,i="stylesheet",o="all"){this.progressBar.show();let r=new w;if(new d("#"+t).size()>0)this.progressBar.hide(),r.resolve(!0);else{let h=new l("link");h.setId(t),h.setAttribute("href",$(e,s)),h.setAttribute("rel",i),h.setAttribute("media",o),h.setAttribute("onload",()=>{this.progressBar.hide(),r.resolve(!0)}),h.setAttribute("onerror",()=>{this.progressBar.hide(),r.reject(!1)}),this.head.appendChild(h)}return r.promise()}remove(t){let e=new d("#"+t).getItem();e.isEmpty()||e.remove()}};var Jt=class{constructor(t,e={}){this.http=t,this._setOptions(e),this._init()}_setOptions(t={}){let e=this;e.options=new c({selector:".template-view",locale:navigator.language}),e.options.merge(t)}_init(){this.viewNode=new d(this.options.selector).getItem()}getViewNode(){return this.viewNode}load(t,e=!1){let s=new w,i=this.viewNode.getAttribute("data-template-url"),o=this.viewNode.getAttribute("data-locale");if(!e&&k(this.options.locale,o)&&k(t,i)){this.viewNode.removeAttribute("data-locale");let r=new d(".page-content",this.viewNode).getItem();s.resolve(r)}else this.viewNode.setAttribute("data-template-url",t),this.http.get(t).then(r=>{s.resolve(this._handleData(r,!1))},r=>{s.reject(this._handleData(r,!0))});return s.promise()}_handleData(t,e){let s=new d(".page-content",t).getItem();if(e){let i=new d(".message",s).getItem(),o={content:i.getText(),type:i.getAttribute("class").split(" ")[1]};this.eventError(o)}else this.viewNode.insert(s);return s}eventError(t){m("Template.eventError()",t)}};var $t=class{constructor(t){this.header=t,this._init()}_init(){this.topMenu=new d("#top-menu",this.header.headerNode).getItem(),this.toggleTopMenu=new d("#toggle-top-menu",this.header.headerNode).getItem(),this.toggleTopMenu.setAttribute("href","javascript:void(0)"),this.toggleTopMenu.addEventListener("click",()=>{this.toggle()})}toggle(){this.isOpened()?this.close():this.open()}isOpened(){return this.topMenu.hasClass("visible-flex")}open(){this.header.open(),this.topMenu.addClass("visible-flex"),this.toggleTopMenu.addClass("active"),this.header.showShadow()}close(){this.header.close(),this.topMenu.removeClass("visible-flex"),this.toggleTopMenu.removeClass("active"),this.header.hideShadow()}getContainer(){return this.topMenu}};var Zt=class extends Q{constructor(t={}){super();this._setOptions(t),this._init(),this._initBase()}_setOptions(t={}){let e=this;e.options=new c({id:"#viewer"}),e.options.merge(t)}_init(){this.body=new d("body").getItem(),this.modal=new d(this.options.id,this.body).getItem(),this.modalWindow=new d("#viewer-window",this.modal).getItem(),this.modalHeader=new d(".modal-header",this.modal).getItem(),this.modalTitle=new d(".modal-title",this.modalHeader).getItem(),this.modalBody=new d(".modal-body",this.modal).getItem(),this.modalFooter=new d(".modal-footer",this.modal).getItem(),this.tooltip=new A(this.modalTitle,"BOTTOM"),this.tooltip.render()}loadImage(t,e=""){this._reset(),this._setImage(t),this._setTitle(e),this.open()}_setImage(t){let e=new l("img");e.setAttribute("src",t),this.modalBody.appendChild(e)}};var gt=class{constructor(t){let e=this;e.options=new c({type:"local",prefix:"app",secret:"",hours:24*7,interval:60*1e3}),e.options.merge(t),this._init()}_init(){this.storage=this.options.type==="local"?window.localStorage:window.sessionStorage,setInterval(()=>{this._checkExpires()},this.options.interval)}_getPropertyName(t){return[this.options.prefix,t].join(".")}_getName(t){let e=t.split(".");return e.shift(),e.join(".")}set(t,e,s){let o=this._getExpires(s)+";"+At(e,this.options.secret),r=this._getPropertyName(t);this.storage.setItem(r,o)}get(t){let e=this._getPropertyName(t),s=this.storage.getItem(e),i=null;if(s&&s.indexOf(";")!==-1){let o=s.split(";",2)[1]||At(null,this.options.secret),r=Oe(o,this.options.secret);i=C(r)}return i}remove(t){let e=this._getPropertyName(t);this.storage.removeItem(e)}clear(){this.storage.clear()}_checkExpires(){let t=Object.keys(this.storage);O(t,e=>{let s=this._getName(e);this._isExpired(s)&&this.remove(s)})}_isExpired(t){let e=new Date,s=this._getExpiresDate(t);return!!s&&e.getTime()>=s.getTime()}_getExpiresDate(t){let e=this._getPropertyName(t),s=this.storage.getItem(e);if(s){let i=s.split(";",2)[0];return new Date(i)}return null}_getExpires(t){let e=new Date;if(t)switch(t.constructor){case Number:e.setTime(e.getTime()+t*60*60*1e3),t=t===1/0?"Fri, 31 Dec 9999 23:59:59 GMT":e.toUTCString();break;case Date:t=t.toUTCString();break;default:break}else e.setTime(e.getTime()+this.options.hours*60*60*1e3),t=e.toUTCString();return t}};var te=class{constructor(){this._init()}_init(){"serviceWorker"in navigator||this.eventMissingFeatures(["navigator.serviceWorker"])}eventMissingFeatures(t){m("ServiceWorker.eventMissingFeatures()",t)}};var ee=class{constructor(t={}){this._setOptions(t),this._init()}_setOptions(t={}){let e=this;e.options=new c,e.options.merge(t)}_init(){this.headerNode=new d("#header").getItem(),this.leftMenuButton=new d("#open-left-menu",this.headerNode).getItem(),this.topMenuButton=new d("#toggle-top-menu",this.headerNode).getItem(),this.brandNode=new d(".brand",this.headerNode).getItem(),this.brandNode.setAttribute("href","javascript:void(0)"),this.brandNode.addEventListener("click",()=>{this.eventLogoClick()}),this.brandNodeImage=new d(".brand img",this.brandNode).getItem(),this.brandNodeTitle=new d(".brand .app-title",this.brandNode).getItem(),this.mainContainerNode=new d(".main-container").getItem(),this.templateViewNode=new d(".template-view").getItem()}eventLogoClick(){m("Header.eventLogoClick()")}setTitle(t){this.brandNodeTitle.setHtml(t)}setUrl(t){this.brandNode.setAttribute("href",t)}setImage(t){this.brandNodeImage.setAttribute("src",t)}open(){this.headerNode.addClass("open")}close(){this.headerNode.removeClass("open")}show(){this.headerNode.removeClass("hidden"),this.mainContainerNode.addClass("header-padding"),this.templateViewNode.addClass("has-header")}hide(){this.headerNode.addClass("hidden"),this.mainContainerNode.removeClass("header-padding"),this.templateViewNode.removeClass("has-header")}showShadow(){this.headerNode.addClass("shadow")}hideShadow(){this.headerNode.removeClass("shadow")}showLeftMenuButton(){this.leftMenuButton.removeClass("hidden")}hideLeftMenuButton(){this.leftMenuButton.addClass("hidden")}showTopMenuButton(){this.topMenuButton.removeClass("hidden")}hideTopMenuButton(){this.topMenuButton.addClass("hidden")}};var se=class{constructor(){this.eventStore=new c}set(t,e){if(N(e)){let s=this.eventStore.get(t,[]);s.push(e),this.eventStore.set(t,s)}return e}remove(t,e){let s=this.eventStore.get(t,[]),i=s.indexOf(e);i>-1&&s.splice(i,1)}pop(t){let e=this.eventStore.get(t,[]);e.pop(),this.eventStore.set(t,e)}call(t,e=[]){let s=this.eventStore.get(t,[T()]);return new D().serial(s,e)}override(t,e,s){let i=this.eventStore.get(t,[s]);return new D().serial(i,e)}};var ie=class{constructor(){this.schedulerStore=new c,this._callRunner()}_callRunner(){}everyDay(t,e){let s=t;if(N(e)){let i=this.schedulerStore.get(s,[]);i.push(e),this.schedulerStore.set(s,i)}return e}};var oe=class{constructor(t={}){this._setOptions(t),this._init()}_setOptions(t={}){let e=this;e.options=new c({delay:250}),e.options.merge(t)}_init(){this.window=window,this.document=document,this.orientation=this.getOrientation(),this._initResizeEvent(),this._initScrollEvent(),this._initConnectionEvent(),this._initColorSchemeEvent()}_initResizeEvent(){this.window.addEventListener("resize",xt(t=>{this._resize(t)},this.options.delay),!1)}_initScrollEvent(){this.window.addEventListener("scroll",xt(t=>{this._scroll(t)},this.options.delay),!1)}_initConnectionEvent(){this.window.addEventListener("online",t=>{this.eventOnline(t)},!1),this.window.addEventListener("offline",t=>{this.eventOffline(t)},!1)}eventOffline(t){m("Window.eventOffline()",t)}eventOnline(t){m("Window.eventOffline()",t)}eventResize(t,e,s){m("Window.eventResize()",t,e,s)}eventOrientationChange(t,e,s,i){m("Window.eventOrientationChange()",t,e,s,i)}eventScroll(t,e){m("Window.eventScroll()",t,e)}_resize(t){this.eventResize(this.getWidth(),this.getHeight(),t);let e=this.getOrientation();K(this.orientation,e)&&(this.orientation=e,this.eventOrientationChange(this.orientation,this.getWidth(),this.getHeight(),t))}_scroll(t){this.eventScroll(this.getScrollTop(),t)}getScrollTop(){return this.document.documentElement.scrollTop||this.document.body.scrollTop}getWidth(){return this.window.innerWidth}getHeight(){return this.window.innerHeight}getOrientation(){return Pe(this.getWidth(),this.getHeight())?"landscape":"portrait"}_initColorSchemeEvent(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{t.matches?this.eventColorSchemeChange("dark",t):this.eventColorSchemeChange("light",t)})}eventColorSchemeChange(t,e){m("Window.eventColorSchemeChange()",t,e)}isColorScheme(t){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${t})`).matches}};var Qe=class{constructor(t,e){this._setOptions(t),this._init(e)}_setOptions(t){let e=this;e.options=new c({app_id:"sui-app",locale:navigator.language,backend:"",production:!1,secret:"f74pej3qpb9qmpvregu7ef33m5w6f6qz",log_color:"#3f51b5"}),e.options.merge(t)}_init(t){this._injections=t,this._instances={},this._initCertificate(),this._initApp(),this._initRoutes(),this._initStorage(),this._initLocale(),this._initModule(),this._initEvent(),this._initScheduler(),this._initLoader(),this._initHttp(),this._initDialog(),this._initConfirm(),this._initViewer(),this._initProgressBar(),this._initCookie(),this._initFlash(),this._initTemplate(),this._initDocument(),this._initWindow(),this._initHelper(),this._initHeader(),this._initTopMenu(),this._initLeftMenu(),this._initNavBar(),this._initSidebar(),this._initFooter(),this._initBottomMenu(),this._initBrowser(),this._initGeoLocation(),this._initScript(),this._initStyle(),this._initConfig(),this._initServiceWorker(),this._initActionCable(),this._loadModules()}getLanguage(){return this.getLocale().split("-",2)[0]}getLocale(){let t=this._instances[this._injections.localStorage].get("app.locale");return t||(t=this.options.locale),t}setLocale(t){this._instances[this._injections.localStorage].set("app.locale",t),this.options.locale=t}setLocaleWithReload(t){this.setLocale(t),this._instances[this._injections.state].reload()}_initLocale(){let t=this.getLocale();window.moment.locale(t),this.setLocale(t)}_initCertificate(){let t=new d("html").getItem();t.removeClass("no-js"),t.addClass("sui-js")}_initModule(){this._module=new St,this._module.eventAfterInit=()=>{this._instances[this._injections.progressBar].lock(),this._instances[this._injections.loader].show(),this._instances[this._injections.event].call("module.afterInit")},this._module.eventStateChange=t=>(this._instances[this._injections.progressBar].lock(),this._instances[this._injections.loader].show(),this._instances[this._injections.dialog].close(),this._instances[this._injections.confirm].close(),this._instances[this._injections.actionCable].unsubscribeAll(),this._instances[this._injections.event].call("state.change",[t])),this._module.eventDomChange=(t,e)=>this._instances[this._injections.event].call("dom.change",[t,e]),this._module.eventServiceLoaded=()=>{this._instances[this._injections.browser].detect(),this._instances[this._injections.event].call("module.serviceLoaded")},this._module.eventServiceFailed=()=>{this._instances[this._injections.event].call("module.serviceFailed")},this._module.eventModuleLoaded=t=>{this._instances[this._injections.progressBar].unlock(),this._instances[this._injections.loader].hide(!0),this._instances[this._injections.event].call("module.loaded",[t])},this._module.eventModuleFailed=t=>{this._instances[this._injections.progressBar].unlock(),this._instances[this._injections.loader].hide(!0),this._instances[this._injections.event].call("module.failed",[t])},this._module.eventControllerLoaded=t=>{this._instances[this._injections.event].call("controller.loaded",[t])},this._module.eventControllerFailed=()=>{this._instances[this._injections.event].call("controller.failed",[])}}_loadModules(){this._module.load(this._instances,this._injections)}_initScript(){this._instances[this._injections.script]=new Kt(this._instances[this._injections.progressBar])}_initStyle(){this._instances[this._injections.style]=new Xt(this._instances[this._injections.progressBar])}_initConfig(){this._instances[this._injections.config]=this.options}_initApp(){this._instances[this._injections.app]=this}_initGeoLocation(){this._instances[this._injections.geoLocation]=new Ft,this._instances[this._injections.geoLocation].eventChange=(t,e,s)=>{this._instances[this._injections.event].override("geoLocation.success",[s],i=>{this._instances[this._injections.flash].addInfo(i)}),this._instances[this._injections.event].call("geoLocation.change",[t,e])},this._instances[this._injections.geoLocation].eventError=(t,e)=>{this._instances[this._injections.event].override("geoLocation.error",[t,e],s=>{this._instances[this._injections.flash].addError(s)})}}_initCookie(){this._instances[this._injections.cookie]=new Ot({prefix:this.options.app_id})}_initLoader(){this._instances[this._injections.loader]=new Ut}_initProgressBar(){this._instances[this._injections.progressBar]=new Gt(this._instances[this._injections.dialog],this._instances[this._injections.confirm])}_initStorage(){this._instances[this._injections.localStorage]=new gt({type:"local",prefix:this.options.app_id,secret:this.options.secret}),this._instances[this._injections.sessionStorage]=new gt({type:"session",prefix:this.options.app_id,secret:this.options.secret})}_initHelper(){this._instances[this._injections.helper]=new Yt}_initDocument(){let t=new it;this._instances[this._injections.document]=new Document,this._instances[this._injections.document].eventClick=(e,s)=>{t.closeAll(),this._instances[this._injections.event].call("document.click",[e,s])}}_initWindow(){this._instances[this._injections.window]=new oe;let t=this._instances[this._injections.window].getWidth(),e=this._instances[this._injections.window].getHeight();this._instances[this._injections.dialog].setSize(t,e),this._instances[this._injections.confirm].setSize(t,e),this._instances[this._injections.viewer].setSize(t,e),this._instances[this._injections.window].eventResize=(i,o,r)=>{this._instances[this._injections.dialog].setSize(i,o),this._instances[this._injections.confirm].setSize(i,o),this._instances[this._injections.viewer].setSize(i,o),this._instances[this._injections.event].call("window.resize",[i,o,r])},this._instances[this._injections.window].eventOrientationChange=(i,o,r,a)=>{this._instances[this._injections.dialog].setSize(o,r),this._instances[this._injections.confirm].setSize(o,r),this._instances[this._injections.viewer].setSize(o,r),this._instances[this._injections.event].call("window.orientationChange",[i,o,r,a])},this._instances[this._injections.window].eventScroll=(i,o)=>{this._instances[this._injections.event].call("window.scroll",[i,o])},this._instances[this._injections.window].eventColorSchemeChange=(i,o)=>{this._instances[this._injections.event].call("window.colorSchemeChange",[i,o])};let s={node:null,message:"Unable to connect to the Internet",duration:1/0};this._instances[this._injections.window].eventOnline=()=>{s.node&&this._instances[this._injections.flash].remove(s.node)},this._instances[this._injections.window].eventOffline=i=>{this._instances[this._injections.event].override("window.offline",[s,i],o=>{o.node=this._instances[this._injections.flash].addWarning(o.message,o.duration)})}}_initEvent(){this._instances[this._injections.event]=new se}_initScheduler(){this._instances[this._injections.scheduler]=new ie}_initHttp(){this._instances[this._injections.http]=new qt(this.options),this._instances[this._injections.http].eventBeforeRequest=(...t)=>{this._instances[this._injections.progressBar].show(),this._instances[this._injections.event].call("http.beforeRequest",t)},this._instances[this._injections.http].eventAfterRequest=(...t)=>{this._instances[this._injections.event].call("http.afterRequest",t),this._instances[this._injections.progressBar].hide()}}_initTemplate(){this._instances[this._injections.template]=new Jt(this._instances[this._injections.http],{locale:this.getLocale()}),this._instances[this._injections.template].eventError=t=>{this._instances[this._injections.state].back(),this._instances[this._injections.loader].hide(),this._instances[this._injections.flash].addMessage(t)}}_initFlash(){this._instances[this._injections.flash]=new Rt}_initDialog(){this._instances[this._injections.dialog]=new Dt(this._instances[this._injections.http])}_initConfirm(){this._instances[this._injections.confirm]=new Ht}_initViewer(){this._instances[this._injections.viewer]=new Zt}_initHeader(){this._instances[this._injections.header]=new ee}_initTopMenu(){this._instances[this._injections.topMenu]=new $t(this._instances[this._injections.header])}_initNavBar(){this._instances[this._injections.navBar]=new Qt}_initBottomMenu(){this._instances[this._injections.bottomMenu]=new jt(this._instances[this._injections.footer])}_initSidebar(){this._instances[this._injections.leftSidebar]=new ft("#left-sidebar"),this._instances[this._injections.rightSidebar]=new ft("#right-sidebar")}_initLeftMenu(){this._instances[this._injections.leftMenu]=new zt}_initFooter(){this._instances[this._injections.footer]=new Vt}_initBrowser(){this._instances[this._injections.browser]=new Pt,this._instances[this._injections.browser].eventMissingFeatures=t=>{this._instances[this._injections.flash].addError(t.join(", "))}}_initServiceWorker(){this._instances[this._injections.serviceWorker]=new te,this._instances[this._injections.serviceWorker].eventMissingFeatures=t=>{this._instances[this._injections.flash].addError(t.join(", "))}}_initActionCable(){this._instances[this._injections.actionCable]=new Lt}_initRoutes(){this._routes=[],this._routeOptions=new c}addState(t,e,s,i,o="",r={}){let a=new c(r);a.set("id",t),a.set("title",e),a.set("url",s),a.set("controller",i),a.set("template",o),this._routes.push(a)}setRootState(t,e){this._routeOptions.set("root.id",t),this._routeOptions.set("root.params",e)}setHomeState(t,e){this._routeOptions.set("home.id",t),this._routeOptions.set("home.params",e)}getInstance(t){return this._instances[t]}getController(){return this._module.getController()}run(){this.options.production?console.info("%cApplication run in production environment...",`font-weight:bold;color:${this.options.log_color};`):(console.info("%cApplication run in development environment...",`font-weight:bold;color:${this.options.log_color};`),new Et().run()),this._module.handleRoutes(this._routes,this._routeOptions),this._module.handleServices()}controller(t,e,s){this._module.add(t,e,s)}service(t,e,s){this._module.add(t,e,s)}};var rt=class{constructor(t,e,s){this.date=window.moment(t,"YYYY-MM-DD"),this.currentDate=e,this._setOptions(s),this._init()}_setOptions(t){this.options=t}_init(){let t=window.moment(this.date).isSame(this.currentDate.format("YYYY-MM-DD"))?"current":null,e=window.moment(this.date).isSame(window.moment().format("YYYY-MM-DD"))?"now":null;this.cssClasses=["day",this.options.css_class,e,t]}getNode(){let t=new l("span");t.addClass(this.cssClasses);let e=this.date.format("DD");return t.setHtml(e),t.addEventListener("click",()=>{this.eventClick(this.date)}),t}eventClick(t){m("Day.eventClick()",t)}};var ne=class{constructor(t,e,s){this.date=window.moment(t,"YYYY-MM-DD"),this.currentDate=e,this._setOptions(s),this._init()}_setOptions(t){this.options=t}_init(){let t=this.date.format("YYYY-MM")===this.currentDate.format("YYYY-MM")?"current":null,e=this.date.format("YYYY-MM")===window.moment().format("YYYY-MM")?"now":null;this.cssClasses=["month",this.options.css_class,e,t]}getNode(){let t=new l("span");t.addClass(this.cssClasses);let e=this.date.month(),s=window.moment.monthsShort(e);return t.setHtml(s),t.addEventListener("click",()=>{this.eventClick(this.date)}),t}eventClick(t){m("Month.eventClick()",t)}};var re=class{constructor(t,e,s){this.date=window.moment(t,"YYYY-MM-DD"),this.currentDate=e,this._setOptions(s),this._init()}_setOptions(t){this.options=t}_init(){let t=this.date.format("YYYY")===this.currentDate.format("YYYY")?"current":null,e=this.date.format("YYYY")===window.moment().format("YYYY")?"now":null;this.cssClasses=["year",this.options.css_class,e,t]}getNode(){let t=new l("span");t.addClass(this.cssClasses);let e=this.date.format("YYYY");return t.setHtml(e),t.addEventListener("click",()=>{this.eventClick(this.date)}),t}eventClick(t){m("Year.eventClick()",t)}};var ae=class{constructor(t,e){this.calendarNode=t,this._setOptions(e),this._init()}_setOptions(t){this.options=t}_init(){this.maxDays=6*7,this.maxMonths=12,this.maxYears=16,this.modes=["YEAR","MONTH","DAY"],this.types={date:this.modes[2],month:this.modes[1],year:this.modes[0],week:this.modes[2],range:this.modes[2]},this._initStructure()}_initStructure(){this._initHeaderNode(),this._initContentNode(),this._initMode(this.types[this.options.type]);let t=window.moment(this.options.date);this._setSelectedDate(t),this._setDate(t)}_initHeaderNode(){this.headerNode=new l("div"),this.headerNode.addClass("header"),this.calendarNode.appendChild(this.headerNode);let t=new l("a");t.setAttribute("href","javascript:void(0)"),t.addClass(["previous","mdl-button","mdl-js-button","mdl-button--icon"]);let e=new l("em");e.addClass("material-icons"),e.setHtml("chevron_left"),t.appendChild(e),t.addEventListener("click",this._previous.bind(this)),this.headerNode.appendChild(t),this.currentModeNode=new l("span"),this.currentModeNode.addClass("current-mode"),this.currentModeNode.addEventListener("click",()=>{this._changeMode(-1),this.draw()}),this.headerNode.appendChild(this.currentModeNode);let s=new l("a");s.setAttribute("href","javascript:void(0)"),s.addClass(["previous","mdl-button","mdl-js-button","mdl-button--icon"]);let i=new l("em");i.addClass("material-icons"),i.setHtml("chevron_right"),s.appendChild(i),s.addEventListener("click",this._next.bind(this)),this.headerNode.appendChild(s)}_initContentNode(){this.contentNode=new l("div"),this.contentNode.addClass("content"),this.calendarNode.appendChild(this.contentNode)}_changeMode(t){let e=this._getMode(t);this._initMode(e)}_getMode(t){let e=this.modes.indexOf(this.activeMode);e!==-1&&(e+=t);let s=this.modes[e];return s||this.types[this.options.type]}_switchMode(t,e,s){let i=null;switch(this.activeMode){case"DAY":i=t();break;case"MONTH":i=e();break;case"YEAR":i=s();break;default:break}return i}_initMode(t){this.contentNode.removeChildren(),this.activeMode=t,this._switchMode(this._initDaysMode.bind(this),this._initMonthsMode.bind(this),this._initYearsMode.bind(this))}_initYearsMode(){this.yearsNode=new l("div"),this.yearsNode.addClass("years"),this.contentNode.appendChild(this.yearsNode)}_initMonthsMode(){this.monthsNode=new l("div"),this.monthsNode.addClass("months"),this.contentNode.appendChild(this.monthsNode)}_initDaysMode(){this.weekDaysNode=new l("div"),this.weekDaysNode.addClass("week-days"),this.contentNode.appendChild(this.weekDaysNode),this.daysNode=new l("div"),this.daysNode.addClass("days"),this.contentNode.appendChild(this.daysNode)}_previous(){let t=this._switchMode(()=>this.previous.month,()=>this.previous.year,()=>{let e=this.current.day.clone().subtract(this.maxYears,"years");return e.year()<0&&(e=this.current.day.clone()),e});this._setDate(t),this.draw()}_next(){let t=this._switchMode(()=>this.next.month,()=>this.next.year,()=>this.current.day.clone().add(this.maxYears,"years"));this._setDate(t),this.draw()}_setDate(t){this._setVariables(t),this._setPreviousMonth(),this._setCurrentMonth(),this._setNextMonth()}_setVariables(t){this.days=[],this.previous={day:window.moment(t).subtract(1,"days"),month:window.moment(t).subtract(1,"months"),year:window.moment(t).subtract(1,"years")},this.current={day:window.moment(t)},this.next={day:window.moment(t).add(1,"days"),month:window.moment(t).add(1,"months"),year:window.moment(t).add(1,"years")}}draw(){this._switchMode(this._drawDaysStructure.bind(this),this._drawMonthsStructure.bind(this),this._drawYearsStructure.bind(this))}_drawDaysStructure(){this._drawHeader("YYYY MMMM"),this._drawWeekDays(),this._drawDays()}_drawMonthsStructure(){this._drawHeader("YYYY"),this._drawMonths()}_drawYearsStructure(){this._drawHeader(null),this._drawYears()}_drawHeader(t){this.currentModeNode.removeChildren();let e=t?this.current.day.format(t):"";this.currentModeNode.setHtml(e)}_drawMonths(){this.monthsNode.removeChildren();for(let t=0;t<this.maxMonths;t++){let e=new ne(this.current.day.clone().month(t),this.selectedDate,{});e.eventClick=this._onClick.bind(this);let s=e.getNode();this.monthsNode.appendChild(s)}}_drawYears(){this.yearsNode.removeChildren();let t=this.current.day.year()-this.current.day.year()%this.maxYears;for(let e=t;e<t+this.maxYears;e++){let s=new re(this.current.day.clone().year(e),this.selectedDate,{});s.eventClick=this._onClick.bind(this);let i=s.getNode();this.yearsNode.appendChild(i)}}_drawWeekDays(){this.weekDaysNode.removeChildren();for(let t=this.options.start_day;t<this.options.start_day+7;t++){let e=new l("span");e.addClass("day");let s=window.moment.weekdaysMin(t%7);e.setHtml(s),this.weekDaysNode.appendChild(e)}}_drawDays(){this.daysNode.removeChildren();for(let t=0;t<this.days.length;t++){let s=this.days[t].getNode();this.daysNode.appendChild(s)}}_getDate(t,e,s){return[t,e+1,s].join("-")}_setPreviousMonth(){let t=this.previous.month.endOf("month").day()-this.options.start_day;for(let e=this.previous.month.daysInMonth()-t;e<=this.previous.month.daysInMonth();e++){let s=this._getDate(this.previous.month.year(),this.previous.month.month(),e),i=new rt(s,this.selectedDate,{css_class:"previous-month"});i.eventClick=this._onClick.bind(this),this.days.push(i)}}_setCurrentMonth(){for(let t=1;t<=this.current.day.daysInMonth();t++){let e=this._getDate(this.current.day.year(),this.current.day.month(),t),s=new rt(e,this.selectedDate,{css_class:"current-month"});s.eventClick=this._onClick.bind(this),this.days.push(s)}}_setNextMonth(){let t=this.days.length,e=this.maxDays-t;for(let s=1;s<=e;s++){let i=this._getDate(this.next.month.year(),this.next.month.month(),s),o=new rt(i,this.selectedDate,{css_class:"next-month"});o.eventClick=this._onClick.bind(this),this.days.push(o)}}_setModeDate(t){let e=this.current.day.clone();this._switchMode(()=>{e.month(t.month()),e.date(t.date())},()=>{e.month(t.month())},()=>{e.year(t.year())}),this._setSelectedDate(e),this._setDate(e)}_onClick(t){this._setModeDate(t);let e=this.types[this.options.type];this.activeMode!==e&&this._changeMode(1),this.draw(),this.eventClick(t)}_setSelectedDate(t){this.selectedDate=t}eventClick(t){m("Calendar.eventClick()",t)}};var le=class{constructor(t){this._init(t),this._initEvents()}_init(t){this.canvasNode=t,V(t)?this.canvasNode=new d(t).getItem():y(t)&&(this.canvasNode=new l("canvas")),this.canvasRaw=this.canvasNode.getNode(),this.context=this.canvasRaw.getContext("2d")}_initEvents(){this.canvasNode.addEventListener("mousemove",(t,e)=>{let s=t.getNode().getBoundingClientRect(),i=e.clientX-s.left,o=e.clientY-s.top;this.eventMouseMove(i,o)})}setWidth(t){this.canvasRaw.width=t}getWidth(){return this.canvasRaw.width}setHeight(t){this.canvasRaw.height=t}getHeight(){return this.canvasRaw.height}setSize(t,e){this.setWidth(t),this.setHeight(e)}drawPolygon(t,e,s,i,o,r){if(i<3)return;let a=Math.PI*2/i;this.context.save(),this.context.translate(t,e),this.context.beginPath(),this.context.rotate(o),this.context.moveTo(s,0);for(let h=1;h<i;h++)this.context.lineTo(s*Math.cos(a*h),s*Math.sin(a*h));this.context.closePath(),_(r,(h,p)=>{this.context[p]=h}),this.context.fill(),this.context.stroke(),this.context.restore()}drawRectangle(t,e,s,i,o,r){this.context.save(),this.context.translate(t,e),this.context.beginPath(),this.context.rotate(o),this.context.rect(0,0,s,i),_(r,(a,h)=>{this.context[h]=a}),r.fillStyle&&this.context.fill(),r.strokeStyle&&this.context.stroke(),this.context.restore()}drawImage(t,e,s){let i=e||C(t.getAttribute("width")),o=s||C(t.getAttribute("height"));this.context.save(),this.context.drawImage(t.getNode(),0,0,i,o),this.context.restore()}getImageDataXY(t,e){return this.context.getImageData(t,e,1,1).data}eventMouseMove(t,e){B("Canvas.eventMouseMove()",t,e)}clear(){this.context.clearRect(0,0,this.getWidth(),this.getHeight())}};var at=class{constructor(t,e={}){this.containerNode=t,this._setOptions(e),this._init()}_setOptions(t={}){let e=this;e.options=new c({image_url:null,text:""}),e.options.merge(t)}_init(){if(this.contentNode=new l("div"),this.contentNode.addClass("content-handler"),this.containerNode.insertAfter(this.contentNode),this.options.image_url){let t=new l("img");t.setAttribute("src",this.options.image_url),this.contentNode.appendChild(t)}if(this.options.text){let t=new l("p");t.setHtml(this.options.text),this.contentNode.appendChild(t)}this.show()}show(){this.contentNode.addClass("visible-flex"),this.containerNode.addClass("hidden")}hide(){this.contentNode.removeClass("visible-flex"),this.containerNode.removeClass("hidden")}};var lt=class{constructor(t,e=[".pager",".pager-statistics"],s={}){this.pager=new d(e[0],t).getItem(),this.pagerStatistics=new d(e[1],t).getItem(),this._setOptions(s),this._init()}_setOptions(t={}){let e=this;e.options=new c({row_count:10,pager_num:4}),e.options.merge(t)}_init(){this.count=this.options.row_count,this.setPage(1)}_drawPager(){this.pager.removeChildren(),this.pageNum=Math.ceil(this.count/this.options.row_count),this._drawPreviousButton(),this._drawPageNumbers(),this._drawNextButton()}_drawStatistics(){let t=this.page-1,e=t*this.options.row_count+1,s=t*this.options.row_count+this.options.row_count;s=s>this.count?this.count:s,s>0?this.pagerStatistics.setHtml(x("{0}\u2012{1} / {2}",[e,s,this.count])):this.pagerStatistics.setHtml("")}_drawPreviousButton(){if(this.pageNum>1){let t=new l("button");t.addClass(["mdl-button","mdl-js-button","mdl-js-ripple-effect"]),t.addEventListener("click",()=>{this._previous()});let e=new l("em");e.addClass("material-icons"),e.setHtml("chevron_left"),t.appendChild(e),g(t),this.pager.appendChild(t)}}_drawNextButton(){if(this.pageNum>1){let t=new l("button");t.addClass(["mdl-button","mdl-js-button","mdl-js-ripple-effect"]),t.addEventListener("click",()=>{this._next()});let e=new l("em");e.addClass("material-icons"),e.setHtml("chevron_right"),t.appendChild(e),g(t),this.pager.appendChild(t)}}_drawPageNumbers(){let t=this._getPagers();t.length>1&&_(t,e=>{let s=new l("button");s.setData("page",e.page),s.setHtml(e.text),s.addClass(["mdl-button","mdl-js-button","mdl-js-ripple-effect"]),this.page===e.page&&s.addClass("mdl-button--accent"),s.addEventListener("click",i=>{let o=i.getData("page");this._go(o)}),g(s),this.pager.appendChild(s)})}_getPagers(){let t=Math.floor((this.page-1)/this.options.pager_num),e=[];t>0&&e.push({text:"...",page:t*this.options.pager_num});for(let s=1;s<=this.options.pager_num;s++){let i=t*this.options.pager_num+s;i<=this.pageNum&&e.push({text:i,page:i})}return this.pageNum>this.options.pager_num&&t!==Math.floor((this.pageNum-1)/this.options.pager_num)&&e.push({text:"...",page:t*this.options.pager_num+this.options.pager_num+1}),e}_next(){let t=this.page+1;t>this.pageNum&&(t=1),this._go(t)}_previous(){let t=this.page-1;t<1&&(t=this.pageNum),this._go(t)}setCount(t){this.count=t}_go(t){this.setPage(t),this.eventAction(this.page)}setPage(t){this.page=t,this.offset=(this.page-1)*this.options.row_count}draw(){this._drawStatistics(),this._drawPager()}eventAction(t){m("Pager.eventAction()",t)}};var Ge=class{constructor(t,e=".card-collection",s=null,i={}){this.cardCollectionNode=new d(e,t).getItem(),this.ctrl=s,this._setOptions(i),this._init()}_setOptions(t={}){let e=this;e.options=new c({no_content:{image_url:null,text:""},row_count:12,pager_num:4,sort:{column:null,order:"asc"}}),e.options.merge(t)}_init(){this.collection=new E,this.query="",this._initContentHandler(),this._initStructure(),this._initTemplate(),this.pager=new lt(this.cardCollectionNode,[".pager",".pager-statistics"],this.options),this.pager.eventAction=t=>{this.refresh(t)}}_initContentHandler(){this.contentHandler=new at(this.cardCollectionNode,this.options.no_content)}_initStructure(){this.cardCollectionNode.addClass("card-collection"),this.body=new l("div"),this.body.addClass("cards"),this.cardCollectionNode.appendChild(this.body),this.cardFooterNode=new l("div"),this.cardFooterNode.addClass("card-footer"),this.cardCollectionNode.appendChild(this.cardFooterNode),this.pagerNode=new l("div"),this.pagerNode.addClass("pager-statistics"),this.cardFooterNode.appendChild(this.pagerNode),this.pagerNode=new l("div"),this.pagerNode.addClass("pager"),this.cardFooterNode.appendChild(this.pagerNode)}_initTemplate(){this.cardTemplate=new d("template",this.cardCollectionNode).getItem(),this.cardTemplate.remove(),this.template=this.cardTemplate.toString(!1)}_getCardNode(t){let e=new RegExp("{{[a-zA-Z._,() ]*}}","g"),s=this.template.match(e),i=this.template;return _(s,o=>{let r=o.replace("{{","").replace("}}","");if(k(r,"ctrl.")){let a=new RegExp("(([a-zA-Z._, ]*))","g"),h=r.match(a),p=h[0].replace("ctrl.",""),f=h[2].split(", "),v=[];if(_(f,P=>{P==="item"?v.push(t):v.push(t.get(P))}),this.ctrl){let P=this.ctrl[p];if(P){let Z=P.apply(this.ctrl,v);i=i.replace(o,Z)}else m(x("ctrl.{0}() missing",[p]))}}else i=i.replace(o,t.get(r))}),new l(i)}refresh(t=-1){t>-1&&this.pager.setPage(t);let e=new c({query:this.query,column:this.options.sort.column,order:this.options.sort.order,offset:this.pager.offset,limit:this.options.row_count});this.eventAction(e)}eventAction(t){m("CardCollection.eventAction()",t)}eventCardNode(t,e){m("CardCollection.eventCardNode()",t,e)}_addCard(t){let e=this._getCardNode(t);this.body.appendChild(e),this.eventCardNode(e,t),g(e)}setData(t){this.collection.reload(t),this.collection.size()===0?this.contentHandler.show():(this.contentHandler.hide(),this._draw())}setCount(t){this.pager.setCount(t),this.pager.draw()}_getItems(){let t=this.collection.getItems();return this.collection.size()>this.options.row_count&&(t=this.collection.limit(this.pager.offset,this.options.row_count)),t}_draw(){this.body.removeChildren(),_(this._getItems(),t=>{this._addCard(t)}),g(this.body)}render(){this.refresh()}};var Ke=class{constructor(t,e=".carousel",s={}){this.carouselNode=new d(e,t).getItem(),this._setOptions(s),this._init()}_setOptions(t={}){let e=this;e.options=new c({}),e.options.merge(t)}_init(){}};var _t=class{constructor(t,e){this.timeNode=t,this._setOptions(e),this._init()}_setOptions(t){this.options=t}_init(){this._initCircleNode(),this._initPointerNode()}_initCircleNode(){let t=new l("div");t.addClass("circle"),this.timeNode.appendChild(t);let e=window.getComputedStyle(t.getNode()),s=parseInt(e.width.slice(0,-2),10),i=parseInt(e.height.slice(0,-2),10);this.timeNode.removeChild(t),this._initSize(s,i)}_initSize(t,e){let s=window.getComputedStyle(this.timeNode.getNode());this.options.width=parseInt(s.width.slice(0,-2),10)-t,this.options.height=parseInt(s.height.slice(0,-2),10)-e,this.options.radius_x=this.options.width/2,this.options.radius_y=this.options.height/2}_initPointerNode(){let t=new l("div");t.addClass("center-point"),this.timeNode.appendChild(t),this.pointerNode=new l("div"),this.pointerNode.addClass("pointer"),this.timeNode.appendChild(this.pointerNode)}draw(t,e,s=1,i=!0){this._drawCircles(t,e,s,i)}_drawCircles(t,e,s=1,i=!0){let o=0;for(let r=t;r<=e;r++){let a=new l("div");if(this.timeNode.appendChild(a),r%s===0){let h=this.options.captions&&this.options.captions[o]?this.options.captions[o]:r;a.setHtml(h),o++}this._setCircleStyle(a,t,e,r,s,i),this._setCircleEvent(a,r)}}_setCircleEvent(t,e){t.setData("index",e),t.addEventListener("click",s=>{let i=s.getData("index");this.eventClick(i)})}_setCircleStyle(t,e,s,i,o=1,r=!0){let a=o/2>i%o?i%o:o-i%o,h=this.options.selected===i?"selected":null,p=this.options.radius_y+this.options.radius_y*Math.cos(360/(s+1-e)/180*i*Math.PI)*-1,f=this.options.radius_x+this.options.radius_x*Math.sin(360/(s+1-e)/180*i*Math.PI)*(r?1:-1);if(t.addClass(["circle","highlight"+a,h]),t.setStyle({position:"absolute","z-index":100-a,top:p+"px",left:f+"px"}),h){let P=360/(s+1-e)/180*i*Math.PI*(180/Math.PI)-90;this.pointerNode.setStyle({transform:"rotate("+P+"deg)"})}}eventClick(t){m("Time.eventClick()",t)}};var he=class{constructor(t,e){this.clockNode=t,this._setOptions(e),this._init()}_setOptions(t){this.options=t}_init(){this.modes=["HOUR","MINUTE"],this.types={hour:this.modes[0],minute:this.modes[1]},this._initStructure()}_switchMode(t,e){let s=null;switch(this.activeMode){case"HOUR":s=t();break;case"MINUTE":s=e();break;default:break}return s}_initStructure(){this._initHeaderNode(),this._initContentNode(),this._initMode(this.types[this.options.type]),this.setTime(this.options.time)}_initHeaderNode(){this.headerNode=new l("div"),this.headerNode.addClass("header"),this.clockNode.appendChild(this.headerNode),this._initHoursHeaderNode(),this._initSeparatorHeaderNode(),this._initMinutesHeaderNode(),this._initPeriodHeaderNode()}_initPeriodHeaderNode(){this.periodHeaderNode=new l("div"),this.periodHeaderNode.addClass("period"),this.periodHeaderNode.addEventListener("click",this._togglePeriod.bind(this)),this.headerNode.appendChild(this.periodHeaderNode)}_togglePeriod(){this.period==="pm"?this.time.subtract(12,"hours"):this.time.add(12,"hours"),this._onClick(this.time)}_initMinutesHeaderNode(){this.minutesHeaderNode=new l("div"),this.minutesHeaderNode.addClass("minutes"),this.minutesHeaderNode.addEventListener("click",()=>{this._setMode(this.types.minute)}),this.headerNode.appendChild(this.minutesHeaderNode)}_initHoursHeaderNode(){this.hoursHeaderNode=new l("div"),this.hoursHeaderNode.addClass("hours"),this.hoursHeaderNode.addEventListener("click",()=>{this._setMode(this.types.hour)}),this.headerNode.appendChild(this.hoursHeaderNode)}_setMode(t){this._initMode(t),this.setTime(this.time),this.draw()}_initSeparatorHeaderNode(){let t=new l("div");t.addClass("separator"),t.setHtml(":"),this.headerNode.appendChild(t)}_initContentNode(){this.contentNode=new l("div"),this.contentNode.addClass("content"),this.clockNode.appendChild(this.contentNode)}_getTimeNode(){this.contentNode.removeChildren();let t=new l("div");return t.addClass("time"),this.contentNode.appendChild(t),t}_setHours(t){this.hours=t;let e=this.activeMode===this.types.hour?"active":null;this.hoursHeaderNode.removeClass("active"),this.hoursHeaderNode.addClass(["hours",e]);let s=t<10?"0"+t:t.toString();this.hoursHeaderNode.setHtml(s)}_setMinutes(t){this.minutes=t;let e=this.activeMode===this.types.minute?"active":null;this.minutesHeaderNode.removeClass("active"),this.minutesHeaderNode.addClass(["minutes",e]);let s=t<10?"0"+t:t.toString();this.minutesHeaderNode.setHtml(s)}_setPeriod(t){this.period=t,this.periodHeaderNode.removeClass(["am","pm"]),this.periodHeaderNode.addClass(["period",this.period]);let e=window.moment.localeData().meridiem(this.time.hour(),this.time.minute(),!0);this.periodHeaderNode.setHtml(e)}setTime(t){this.time=window.moment(t);let e=this.time.hour()%12||12;this._setHours(e);let s=this.time.minute();this._setMinutes(s);let i=this.time.hour()>12?"pm":"am";this._setPeriod(i)}_initMode(t){this.contentNode.removeChildren(),this.activeMode=t}_getMode(t){let e=this.modes.indexOf(this.activeMode);e!==-1&&(e+=t);let s=this.modes[e];return s||this.types[this.options.type]}_changeMode(t){let e=this._getMode(t);this._initMode(e)}draw(){let t=this._getTimeNode();this._switchMode(()=>{this._drawHours(t)},()=>{this._drawMinutes(t)})}_drawMinutes(t){let e=new _t(t,{selected:this.minutes,captions:["00","05"]});e.eventClick=s=>{this._changeMode(-1);let i=this.time.minute(s);this._onClick(i)},e.draw(0,59,5,!0)}_drawHours(t){let e=new _t(t,{selected:this.hours});e.eventClick=s=>{this._changeMode(1);let i=this.period==="pm"?s+12:s;i=i===24?0:i;let o=this.time.hour(i);this._onClick(o)},e.draw(1,12,1,!0)}_onClick(t){this.setTime(t),this.draw(),this.eventClick(t)}eventClick(t){m("Clock.eventClick()",t)}};var ht=class{constructor(t,e){this.datetimeNode=t,this._setOptions(e),this._init()}_setOptions(t){this.options=t}_init(){this._initVariables(),this._initStructure(),this._setValue(this.options.value)}_initVariables(){this.types={"datetime-local":{format:"YYYY-MM-DDTHH:mm:ss",calendar_type:"date",clock_type:"hour"},datetime:{format:"",calendar_type:"date",clock_type:"hour"},date:{format:"YYYY-MM-DD",calendar_type:"date",clock_type:""},time:{format:"HH:mm:ss",calendar_type:"",clock_type:"hour"},month:{format:"YYYY-MM",calendar_type:"month",clock_type:""},week:{format:"YYYY-\\Www",calendar_type:"week",clock_type:""},year:{format:"YYYY",calendar_type:"year",clock_type:""}},this.config=this.types[this.options.type]}_initStructure(){this._initDateTimeNode(),this._initCalendarNode(),this._initClockNode()}_initDateTimeNode(){this.datetimeNode.addClass("datetime"),this.datetimeNode.removeChildren()}_initCalendarNode(){this.config.calendar_type&&(this.calendarNode=new l("div"),this.calendarNode.addClass("calendar"),this.datetimeNode.appendChild(this.calendarNode))}_initClockNode(){this.config.clock_type&&(this.clockNode=new l("div"),this.clockNode.addClass("clock"),this.datetimeNode.appendChild(this.clockNode))}getConfig(){return this.config}_setValue(t){t=t||window.moment().format(this.config.format),this.value=window.moment(t,this.config.format)}setValue(t){this._initStructure(),this._setValue(t),this.draw()}getValue(){return this.value.format(this.config.format)}draw(){this._drawCalendar(),this._drawClock()}_drawCalendar(){if(this.config.calendar_type){let t=new ae(this.calendarNode,{date:this.value,type:this.config.calendar_type,start_day:1});t.eventClick=e=>{this.value.year(e.year()),this.value.month(e.month()),this.value.date(e.date()),this._onClick()},t.draw()}}_drawClock(){if(this.config.clock_type){let t=new he(this.clockNode,{time:this.value,type:this.config.clock_type});t.eventClick=e=>{this.value.hour(e.hour()),this.value.minute(e.minute()),this._onClick()},t.draw()}}_onClick(){let t=this.getValue();this.eventClick(t)}eventClick(t){m("Date.eventClick()",t)}};var de=class{constructor(t,e={}){this.dropdown=t,this._setOptions(e),this._init()}_setOptions(t={}){let e=this;e.options=new c({id:j("dropdown")}),e.options.merge(t)}_init(){this.collection=new E,this.actions=[],this.item=null,this._appendButton(),this._appendMenu()}_appendButton(){this.buttonNode=new l("button"),this.buttonNode.setId(this.options.id),this.buttonNode.addClass(["mdl-button","mdl-js-button","mdl-button--icon"]);let t=new l("em");t.addClass("material-icons"),t.setHtml("more_vert"),this.buttonNode.appendChild(t),this.dropdown.appendChild(this.buttonNode)}_appendMenu(){this.menuNode=new l("ul"),this.menuNode.setFor(this.options.id),this.menuNode.addClass(["mdl-menu","mdl-menu--bottom-right","mdl-js-menu","mdl-js-ripple-effect"]),this.dropdown.appendChild(this.menuNode)}setActions(t,e){this.actions=t,this.item=e,this._renderMenu(),g(this.menuNode),g(this.buttonNode)}_renderMenu(){O(this.actions,t=>{let[e,s,i,o]=t.style(this.item);if(!o){let r=new l("li");r.addClass("mdl-menu__item"),r.setHtml(s||e),i&&r.setAttribute("disabled"),r.addEventListener("click",()=>{t.click(this.item)}),this.menuNode.appendChild(r)}})}};var b=class{constructor(t,e,s,i,o){this.input=t,this.label=e,this.error=s,this.inputBlock=i,this.form=o,this.error&&(this.errorTooltip=new A(this.error)),this._setInfoContainer(),this._setActionContainer(),this._setMutation(),this._setAdditionalLabel(this.label)}eventChange(t,e){B("BaseField.eventChange()",t,e)}eventClick(t){m("Button.eventClick()",t)}render(){m("BaseField.render()")}refresh(){m("BaseField.refresh()")}modelChange(t){m("BaseField.modelChange()",t)}getPreviousValue(){m("BaseField.getPreviousValue()")}getName(){let t=this.input.getAttribute("name");return this._getAttributeName(t)}getValue(){let t=this.input.getNode().value;return C(t)}_getAttributeName(t){let e=t||"";return e=e.replace(/]/g,""),e=e.replace(/\[/g,"."),e=u(e.slice(-1),".")?e.slice(0,-1):e,e}setError(t="",e=!1){this.error&&(this.errorTooltip.setMessage(t),this.error.setHtml(t),t&&e&&this.inputBlock&&this.inputBlock.addClass("is-invalid"))}checkValidity(t=!1,e=!0){let s=this.isValid();s?this.setError(""):e&&this.setError(this.input.getNode().validationMessage);let i=this._getUpgradedNode();t&&i&&(this.getValue()&&i.addClass("is-dirty"),s?i.removeClass("is-invalid"):i.addClass("is-invalid"))}isValidityValid(){return this.input.getNode().validity.valid}isValid(){return this.isValidityValid()}_getUpgradedNode(){return this.inputBlock}setValue(t){this.input.getNode().value=t,this.input.setAttribute("value",t),this.input.trigger("change")}exists(){return this.existsInputBlock()||this.existsInput()}existsInput(){return!!this.input&&this.input.exists()}existsInputBlock(){return!!this.inputBlock&&this.inputBlock.exists()}get(t){return t==="model"?this.getName():this.input.get(t)}isRequired(){return this.input.getNode().required}setRequired(t){t?this.input.setAttribute("required"):this.input.removeAttribute("required"),this.input.getNode().required=t,this.checkValidity(!0,!1),this._setAdditionalLabel(this.label)}isEnabled(){return!this.isDisabled()}isDisabled(){return this.input.getNode().disabled}setDisabled(t){t?this.input.setAttribute("disabled"):this.input.removeAttribute("disabled"),this.input.getNode().disabled=t,this.checkValidity(!0,!1)}isVisible(){return!this.inputBlock.hasClass("hidden")}setVisibility(t){t?this.show():this.hide()}show(){this.isVisible()||this.inputBlock.removeClass("hidden")}hide(){this.isVisible()&&this.inputBlock.addClass("hidden")}setLabel(t){this.label&&!this.label.isEmpty()&&(this.label.setHtml(t),this._setAdditionalLabel(this.label))}_setInfoContainer(){this.inputBlock&&!this.inputBlock.isEmpty()&&(this.infoContainerNode=new d(".info-container",this.inputBlock).getItem(),this.infoContainerNode.isEmpty()&&(this.infoContainerNode=new l("div"),this.infoContainerNode.addClass(["info-container"]),this.inputBlock.appendChild(this.infoContainerNode)))}_setActionContainer(){this.inputBlock&&!this.inputBlock.isEmpty()&&(this.actionContainerNode=new d(".action-container",this.inputBlock).getItem(),this.actionContainerNode.isEmpty()&&(this.actionContainerNode=new l("div"),this.actionContainerNode.addClass(["action-container"]),this.inputBlock.appendChild(this.actionContainerNode)))}_setInfo(t){let e=t.getAttribute("title"),s=t.getAttribute("desc");if(e||s){let i=new d("a.info-button",this.infoContainerNode).getItem();i.isEmpty()||i.remove(),i=new l("a"),i.setAttribute("title",e||""),i.setAttribute("desc",s||""),i.setAttribute("href","javascript:void(0)"),i.addClass(["info-button","material-icons"]),i.setHtml("info_outline"),this.infoContainerNode.appendChild(i),new A(i,"LEFT").render()}}_setAdditionalLabel(t){if(t&&t.exists()){let e=this._getLabelRequiredText(t.getHtml(!0));t.setHtml(e),this._setInfo(t)}}_getLabelRequiredText(t){if(u(t,!0))return"&nbsp;";let e=" *",s=t.substring(t.length-e.length);return this.isRequired()&&s!==e?t+=e:!this.isRequired()&&s===e&&(t=t.replace(e,"")),t}_setMutation(){new MutationObserver(e=>{for(let s=0;s<e.length;s++){let i=e[s];i.attributeName==="disabled"?this.refresh():i.attributeName==="required"&&this.refresh()}}).observe(this.input.getNode(),{attributeFilter:["disabled","required"],attributes:!0,attributeOldValue:!0})}};var ce=class extends b{constructor(t){super(t);this._init()}_init(){this.input.setAttribute("name","button")}render(){this.input.addClass(["mdl-button","mdl-js-button","mdl-button--raised","mdl-js-ripple-effect","mdl-button--accent"]),this.input.addEventListener("click",t=>{this.eventClick(t)}),this.refresh()}refresh(){g(this.input)}};var G=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.hiddenInput=new d("input[type=hidden]",this.inputBlock).getItem(),this.inputBlock.addClass("checkbox-field"),this.input.addEventListener("change",()=>(this._change(),!0))}_change(){let t=this.getValue();this.modelChange(t)}getValue(){let t=this.input.getNode().checked,e=this.hiddenInput.getAttribute("value");return t&&(e=this.input.getAttribute("value")),C(e)}setValue(t){let e=C(this.input.getAttribute("value"));this.input.getNode().checked=e===t,this.input.getNode().checked||this.input.removeAttribute("checked"),this.input.trigger("change")}setDisabled(t){t?(this.input.setAttribute("disabled"),this.label.addClass("is-disabled"),this.inputBlock.addClass("is-disabled")):(this.input.removeAttribute("disabled"),this.label.removeClass("is-disabled"),this.inputBlock.removeClass("is-disabled")),this.input.getNode().disabled=t,this.checkValidity(!0,!1)}setLabel(t){this.spanLabel&&!this.spanLabel.isEmpty()&&(this.spanLabel.setHtml(t),this._setAdditionalLabel(this.spanLabel))}refresh(){let t=this.label.getAttribute("data-label");if(t){let e=this._getLabelRequiredText(t);this.dataLabelNode.setHtml(e)}else this.dataLabelNode.setHtml("");this.isDisabled()&&this.inputBlock.addClass("is-disabled"),g(this.label,!1)}};var pe=class extends G{constructor(t,e,s,i){super(t,e,s,i)}render(){this.label.addClass(["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect"]);let t=this.input.getId();this.label.setFor(t);let e=this.label.getHtml(!0);this.spanLabel=new l("span"),this.spanLabel.addClass("mdl-checkbox__label"),this.spanLabel.setHtml(e),this.input.addClass("mdl-checkbox__input"),this.label.insert(this.input),this.label.appendChild(this.spanLabel),this.dataLabelNode=new l("span"),this.dataLabelNode.addClass("field-label"),this.label.insertBefore(this.dataLabelNode),this.refresh()}};var F=class{constructor(t,e,s=!1){this.content=t,this.parent=e,this.withClose=s,this._init()}_init(){this.popupContainer=new it,this._draw()}_draw(){this.popupNode=new l("div"),this.popupNode.addClass(["popup","hidden"]),this.parent.addClass("popup-parent"),this.parent.appendChild(this.popupNode),this.popupNode.appendChild(this.content),this._initCloseButton()}_initCloseButton(){if(this.withClose){let t=new l("button");t.setAttribute("type","button"),t.addClass(["close","mdl-button","mdl-js-button","mdl-button--icon"]),t.addEventListener("click",()=>{this.close()}),this.popupNode.appendChild(t);let e=new l("em");e.addClass("material-icons"),e.setHtml("close"),t.appendChild(e),g(t)}}open(){this.popupContainer.closeAll(),this.popupContainer.push(F,this),this.popupNode.removeClass("hidden"),this.popupContainer.setPosition(this.popupNode)}close(){this.popupContainer.delete(this),this.popupContainer.clearPosition(this.popupNode),this.popupNode.addClass("hidden"),this.eventClose()}eventClose(){B("Popup.eventClose()")}toggle(){this.isOpened()?this.close():this.open()}isOpened(){return!this.popupNode.hasClass("hidden")}};var Xe=(n,t,e)=>{let s=n/255,i=t/255,o=e/255,r=Math.max(s,i,o),a=r-Math.min(s,i,o),h=P=>(r-P)/6/a+1/2,p=P=>Math.round(P*100)/100,f=0,v=0;if(a==0)f=v=0;else{v=a/r;let P=h(s),Z=h(i),Ct=h(o);s===r?f=Ct-Z:i===r?f=.3333333333333333+P-Ct:o===r&&(f=.6666666666666666+Z-P),f<0?f+=1:f>1&&(f-=1)}return[Math.round(f*360),p(v*100),p(r*100)]},wt=(n,t,e)=>{let s=[n,t,e],i=[];for(let o=0;o<s.length;o++)s[o]<=16?i[o]="0"+s[o].toString(16):i[o]=""+s[o].toString(16);return"#"+i.join("")},Hs=n=>{let[t,e,s]=me(n);return Xe(t,e,s)},me=n=>{let t=n||"",e=parseInt(t.substring(1,3),16),s=parseInt(t.substring(3,5),16),i=parseInt(t.substring(5,7),16);return[e,s,i]},Je=(n,t,e)=>{let s=Math.floor(n*6),i=n*6-s,o=e*(1-t),r=e*(1-i*t),a=e*(1-(1-i)*t),h=0,p=0,f=0;switch(s%6){case 0:h=e,p=a,f=o;break;case 1:h=r,p=e,f=o;break;case 2:h=o,p=e,f=a;break;case 3:h=o,p=r,f=e;break;case 4:h=a,p=o,f=e;break;case 5:h=e,p=o,f=r;break}return[Math.round(h*255),Math.round(p*255),Math.round(f*255)]},Os=(n,t,e)=>{let[s,i,o]=Je(n,t,e);return wt(s,i,o)},Ds=(n,t="#FEFEFE",e="#252525")=>{let s=me(n);return(s[0]*299+s[1]*587+s[2]*114)/1e3>=128?e:t},Rs=(n,t=.5)=>{let e=me(n);for(let s=0;s<e.length;s++)e[s]+=Math.round(e[s]*t),e[s]<0?e[s]=0:e[s]>255&&(e[s]=255);return wt(...e)};var ue=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("color-field"),this._initInput(),this._initImage(),this._initPreview(),this._setMaterialColors()}render(){this.label&&this.label.exists()&&this.label.addClass("field-label"),this.refresh()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),this.isDisabled()?this.inputBlock.addClass("is-disabled"):this.inputBlock.removeClass("is-disabled");let t=this.getValue()||"#000000";this.setValue(t)}_initInput(){this.input.addClass("hidden"),this.input.addEventListener("change",t=>{let e=t.getNode();return this.tooltip.setMessage(e.value),this.previewNode.setStyle({background:e.value}),this.modelChange(e.value),!0})}_initPreview(){this.previewNode=new l("div"),this.previewNode.addClass("preview"),this.inputBlock.beforeChild(this.previewNode),this.colorNode=new l("div"),this.colorNode.addClass("color"),this.previewNode.appendChild(this.colorNode),this.popup=new F(this.canvas.canvasNode,this.inputBlock),this.tooltip=new A(this.previewNode),this.previewNode.addEventListener("click",()=>{this.isEnabled()&&(this._draw(),this.popup.open())})}_draw(){if(this.image.isEmpty()){let t=this.colors[0].length,e=this.colors.length,s=15;this.canvas.setSize(t*s,e*s);for(let i=0;i<t;i++)for(let o=0;o<e;o++)this.canvas.drawRectangle(i*s,o*s,s,s,0,{fillStyle:this.colors[o][i]})}else{let t=C(this.image.getAttribute("width")),e=C(this.image.getAttribute("height"));this.canvas.setSize(t,e),this.canvas.drawImage(this.image,t,e)}}_initImage(){this.image=new d("img",this.inputBlock).getItem(),this.image.isEmpty()||this.image.addClass("hidden"),this.canvas=new le,this.canvas.canvasNode.addEventListener("click",(t,e)=>{let s=0,i=0;e.offsetX?(s=e.offsetX,i=e.offsetY):e.layerX&&(s=e.layerX,i=e.layerY);let o=this.canvas.getImageDataXY(s,i),r=wt(...o);this.setValue(r),this.popup.close()})}_setMaterialColors(){let t=["#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e8eaf6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],e=["#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#c5cae9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],s=["#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#9fa8da","#90caf9","#81d4fa","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],i=["#e57373","#f06292","#ba68c8","#9575cd","#7986cb","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],o=["#ef5350","#ec407a","#ab47bc","#7e57c2","#5c6bc0","#42a5f5","#29b6f6","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],r=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],a=["#e53935","#d81b60","#8e24aa","#5e35b1","#3949ab","#1e88e5","#039be5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],h=["#d32f2f","#c2185b","#7b1fa2","#512da8","#303f9f","#1976d2","#0288d1","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],p=["#c62828","#ad1457","#6a1b9a","#4527a0","#283593","#1565c0","#0277bd","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],f=["#b71c1c","#880e4f","#4a148c","#311b92","#1a237e","#0d47a1","#01579b","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"];this.colors=[r,t,e,s,i,o,r,a,h,p,f]}};var fe=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("datetime-field"),this.input.addClass("hidden"),this.datetimeContainer=new l("div"),this.datetimeContainer.addClass("datetime-container"),this.input.insertAfter(this.datetimeContainer),this.datetimeInput=new l("div"),this.datetimeInput.addClass("datetime-input"),this.datetimeInput.addEventListener("click",this._onClick.bind(this)),this.datetimeContainer.appendChild(this.datetimeInput),this._initInput()}_initInput(){this.format=this.input.getData("format"),this.input.addEventListener("change",()=>{let s=this.getValue().toString();return this.modelChange(s),!0});let t=this.input.getAttribute("type"),e=this.getValue().toString();if(this.datetimeNode=new l("div"),this.datetime=new ht(this.datetimeNode,{value:e,type:t}),this.datetime.eventClick=s=>{this.setValue(s)},this.popup=new F(this.datetimeNode,this.inputBlock),this.popup.eventClose=()=>{this.datetimeInput.removeClass("active")},e){let s=this.datetime.getValue();this._setTag(s)}}render(){this.label&&this.label.exists()&&this.label.addClass("field-label");let t=new l("a");t.setAttribute("href","javascript:void(0)"),t.addClass(["material-icons","size-24","expander"]),t.setHtml("date_range"),t.addEventListener("click",this._onClick.bind(this)),this.actionContainerNode.appendChild(t),this.refresh(),this.datetime.draw()}refresh(){this.isDisabled()?this.inputBlock.addClass("is-disabled"):this.inputBlock.removeClass("is-disabled")}setValue(t){this._setTag(t),this.input.setAttribute("value",t),this.input.trigger("change"),this.datetime.setValue(t)}_setTag(t){if(this.datetimeInput.removeChildren(),t){let e=window.moment(t,this.datetime.getConfig().format).format(this.format),s=new l("div");if(s.addClass("field-tag"),s.setHtml(e),this.datetimeInput.appendChild(s),this.isEnabled()){let i=new l("a");i.setAttribute("href","javascript:void(0)"),i.addClass(["material-icons","size-18","close"]),i.setHtml("close"),i.addEventListener("click",()=>{this.setValue("")}),s.addClass("tag-with-action"),s.appendChild(i)}}}_onClick(){this.isEnabled()&&(this.datetimeInput.addClass("active"),this.popup.toggle())}};var ge=class extends b{constructor(t,e,s,i,o){super(t,e,s,i);this.isStartInput=o,this._init()}_init(){this.inputBlock.addClass("datetime-range-field"),this.input.addClass("hidden"),this.datetimeContainer=new d(".datetime-container",this.inputBlock).getItem(),this.isStartInput&&(this.datetimeContainer=new l("div"),this.datetimeContainer.addClass("datetime-container"),this.input.insertAfter(this.datetimeContainer)),this.datetimeInput=new l("div"),this.datetimeInput.addClass("datetime-input"),this.datetimeInput.addEventListener("click",this._onClick.bind(this)),this.datetimeContainer.appendChild(this.datetimeInput),this._initInput()}_initInput(){this.format=this.input.getData("format"),this.input.addEventListener("change",()=>{let s=this.getValue().toString();return this.modelChange(s),!0});let t=this.input.getAttribute("type"),e=this.getValue().toString();if(this.datetimeNode=new l("div"),this.datetime=new ht(this.datetimeNode,{value:e,type:t}),this.datetime.eventClick=s=>{this.setValue(s)},this.popup=new F(this.datetimeNode,this.inputBlock),this.popup.eventClose=()=>{this.datetimeInput.removeClass("active")},e){let s=this.datetime.getValue();this._setTag(s)}}render(){this.label&&this.label.exists()&&this.label.addClass("field-label");let t=new l("a");t.setAttribute("href","javascript:void(0)"),t.addClass(["material-icons","size-24","expander"]),this.isStartInput?(t.setHtml("remove"),this.datetimeInput.insertAfter(t)):(t.setHtml("date_range"),this.actionContainerNode.appendChild(t)),t.addEventListener("click",this._onClick.bind(this)),this.refresh(),this.datetime.draw()}refresh(){this.isDisabled()?this.inputBlock.addClass("is-disabled"):this.inputBlock.removeClass("is-disabled")}setValue(t){this._setTag(t),this.input.setAttribute("value",t),this.input.trigger("change"),this.datetime.setValue(t)}_setTag(t){if(this.datetimeInput.removeChildren(),t){let e=window.moment(t,this.datetime.getConfig().format).format(this.format),s=new l("div");if(s.addClass("field-tag"),s.setHtml(e),this.datetimeInput.appendChild(s),this.isEnabled()){let i=new l("a");i.setAttribute("href","javascript:void(0)"),i.addClass(["material-icons","size-18","close"]),i.setHtml("close"),i.addEventListener("click",()=>{this.setValue("")}),s.addClass("tag-with-action"),s.appendChild(i)}}}_onClick(){this.isEnabled()&&(this.datetimeInput.addClass("active"),this.popup.toggle())}};var _e=class extends b{constructor(t){super(t);this._init()}_init(){this.input.addEventListener("change",t=>{let e=t.getNode();return this.modelChange(e.value),!0})}render(){}refresh(){}};var we=class extends G{constructor(t,e,s,i){super(t,e,s,i)}render(){this.label.addClass(["mdl-icon-toggle","mdl-js-icon-toggle","mdl-js-ripple-effect"]),this.checkedIcon=this.input.getData("checked"),this.uncheckedIcon=this.input.getData("unchecked"),this.icon=new l("em"),this.icon.addClass(["mdl-icon-toggle__label","material-icons"]),this.icon.setHtml(this.input.getNode().checked?this.checkedIcon:this.uncheckedIcon),this.input.addClass("mdl-icon-toggle__input");let t=this.label.getText();this.spanLabel=new l("span"),this.spanLabel.addClass("mdl-icon__label"),this.spanLabel.setHtml(t),this.label.insert(this.input),this.label.appendChild(this.icon),this.label.appendChild(this.spanLabel),this.dataLabelNode=new l("span"),this.dataLabelNode.addClass("field-label"),this.label.insertBefore(this.dataLabelNode),this.refresh()}_change(){let t=this.getValue();this.icon.setHtml(this.input.getNode().checked?this.checkedIcon:this.uncheckedIcon),this.modelChange(t)}setValue(t){let e=C(this.input.getAttribute("value"));this.input.getNode().checked=e===t,this.input.getNode().checked||this.input.removeAttribute("checked"),this.icon.setHtml(this.input.getNode().checked?this.checkedIcon:this.uncheckedIcon),this.input.trigger("change")}};var be=class extends b{constructor(t,e,s,i,o){super(t,e,s,i,o);this._init()}_init(){this.inputBlock.addClass("radiobutton-field"),this.input.addEventListener("change",()=>(this._change(),!0))}_change(){let t=this.input.getAttribute("value");this.modelChange(t);let e=this.input.getAttribute("name");new d(x('input[name="{0}"]',[e]),this.form.formNode).each(i=>{let o=i.getParentNode();o.addClass("is-other-checked"),o.getParentNode().removeClass("is-invalid")})}render(){this.label.addClass(["mdl-radio","mdl-js-radio","mdl-js-ripple-effect"]);let t=this.input.getId();this.label.setFor(t);let e=this.label.getHtml(!0),s=new l("span");s.addClass("mdl-radio__label"),s.setHtml(e),this.input.addClass("mdl-radio__button"),this.label.insert(this.input),this.label.appendChild(s),this.dataLabelNode=new l("span"),this.dataLabelNode.addClass("field-label"),this.label.insertBefore(this.dataLabelNode),this.refresh()}refresh(){let t=this.label.getAttribute("data-label");if(t){let e=this._getLabelRequiredText(t);this.dataLabelNode.setHtml(e)}else this.dataLabelNode.setHtml("");this.isDisabled()&&this.inputBlock.addClass("is-disabled"),g(this.label,!1)}setValue(t){this.input.getAttribute("value")===t&&(this.input.getNode().checked=!0,this.input.trigger("change"))}getValue(){let t=null;return this._getRadioButtonInputs().each(e=>{e.getNode().checked&&(t=e.getAttribute("value"))}),C(t)}setDisabled(t){this._getRadioButtonInputs().each(e=>{t?(e.setAttribute("disabled"),e.getParentNode().addClass("is-disabled"),e.getParentNode().getParentNode().addClass("is-disabled")):(e.removeAttribute("disabled"),e.getParentNode().removeClass("is-disabled"),e.getParentNode().getParentNode().removeClass("is-disabled")),e.getNode().disabled=t}),this.checkValidity(!0,!1)}isDisabled(){let t=!1;return this._getRadioButtonInputs().each(e=>{e.getNode().disabled&&(t=!0)}),t}_getRadioButtonInputs(){let t=this.input.getAttribute("name");return new d(x('input[name="{0}"]',[t]),this.form.formNode)}setLabel(t){this.spanLabel&&!this.spanLabel.isEmpty()&&(this.spanLabel.setHtml(t),this._setAdditionalLabel(this.spanLabel))}};var Ce=class extends b{constructor(t){super(t);this._init()}_init(){this.input.setAttribute("name","reset")}render(){this.input.addClass(["mdl-button","mdl-js-button","mdl-js-ripple-effect"]),this.refresh()}refresh(){g(this.input)}};var ve=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.input.addEventListener("keyup",(t,e)=>{let s=t.getNode();return this.modelChange(s.value),u(e.keyCode,13)&&this.eventEnter(s.value),!0}),this.input.addEventListener("change",t=>{let e=t.getNode();return this.modelChange(e.value),!0})}render(){this.inputBlock.addClass(["search-field","mdl-textfield","mdl-js-textfield","mdl-textfield--expandable"]),this.input.addClass(["mdl-textfield__input"]),this.label.addClass(["mdl-button","mdl-js-button","mdl-button--icon"]);let t=new l("em");t.addClass(["material-icons","search-button"]),t.setHtml("search"),this.label.insert(t),this.holderNode=new l("div"),this.holderNode.addClass("mdl-textfield__expandable-holder"),this.holderNode.appendChild(this.input),this.inputBlock.appendChild(this.holderNode);let e=new l("label");e.addClass("mdl-textfield__label"),this.holderNode.appendChild(e),this._initClearButton(),this.refresh()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),g(this.inputBlock)}_initClearButton(){let t=new l("a");t.setAttribute("href","javascript:void(0)"),t.addClass(["material-icons","clear-button"]),t.setHtml("clear"),t.addEventListener("click",()=>{this.isEnabled()&&(this.inputBlock.removeClass(["is-dirty","is-focused"]),this.setValue(""),this.eventEnter(""))}),this.holderNode.appendChild(t)}eventEnter(t){m("Search.eventEnter()",t)}};var ye=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.input.addClass("hidden"),this.inputBlock.addClass("select-field"),this.query="",this.ids=[],this._initOptions(),this._initChangeEvent(),this._initPopup()}isMultiple(){return this.input.hasAttribute("multiple")}_initPopup(){this.containerNode=new l("div"),this._drawSearchInput(),this.listNode=new l("div"),this.listNode.addClass("options-list"),this.containerNode.appendChild(this.listNode),this.popup=new F(this.containerNode,this.inputBlock)}_initChangeEvent(){this.input.addEventListener("change",()=>(this._change(),!0))}_initOptions(){this.options=new E,new d("option",this.input).each(e=>{let s=e.getAttribute("value")||"",i=e.getAttribute("data-image")||"",o=e.getAttribute("data-item")||{},r=e.getText()||"",a=new c({id:s,name:r,image:i,item:o});a.setRaw("option_node",e),this.options.push(a)})}render(){this.label&&this.label.exists()&&this.label.addClass("field-label"),this.iconNode=new l("a"),this.iconNode.setAttribute("href","javascript:void(0)"),this.iconNode.addClass(["material-icons","size-24","expander"]),this.iconNode.setHtml("expand_more"),this.iconNode.addEventListener("click",()=>{this.isEnabled()&&this.open()}),this.actionContainerNode.appendChild(this.iconNode),this.refresh()}refresh(){new d(".select-container",this.inputBlock).getItem().remove(),this.isDisabled()?this.inputBlock.addClass("is-disabled"):this.inputBlock.removeClass("is-disabled"),this.selectContainerNode=new l("div"),this.selectContainerNode.addClass("select-container"),this.selectContainerNode.addEventListener("click",()=>{this.isEnabled()&&this.open()}),this.input.insertAfter(this.selectContainerNode),this.selectNode=new l("div"),this.selectNode.addClass("select-input"),this.selectContainerNode.appendChild(this.selectNode);let e=this._getSelectedIds();this._setSelectTags(e)}setValue(t){this.ids=t,S(t)||(this.ids=[t]),this._setSelectedIds(this.ids)}getValue(){let t=this._getSelectedIds();return t=t.filter(e=>!u(e,"")),this.isMultiple()?t:t[0]||null}getOptionValue(t){let e=this.getValue();if(e){let s=this.options.findById(e);return t?s.get(x("item.{0}",[t])):s}return e}showLoader(){this.iconNode.setHtml("refresh"),this.iconNode.addClass("rotate")}_hideLoader(){this.iconNode.setHtml("expand_more"),this.iconNode.removeClass("rotate")}setOptions(t,e="value",s="name",i=""){new d("option",this.input).each(r=>{r.getAttribute("value")&&r.remove()}),_(t,r=>{let a=r.get(e),h=r.get(s),p="";i&&(p=r.get(i));let f=new l("option");f.setAttribute("value",a),f.setAttribute("data-image",p),f.setAttribute("data-item",r),f.setHtml(h),this.input.appendChild(f)}),this._initOptions(),this._hideLoader(),this.setValue(this.ids)}_change(){let t=this._getSelectedIds();this._setSelectTags(t);let e=this.getValue();this.modelChange(e)}_setSelectTags(t){this.isRequired()&&t.length===1&&t[0]===""&&this.inputBlock.addClass("is-invalid"),this.isMultiple()?this._setMultipleTag(t):this._setSimpleTag(t[0])}_setSimpleTag(t){let e=this.options.findById(t);this._setTags(e)}_setMultipleTag(t){let e=[];if(_(t,s=>{let i=this.options.findById(s);i&&e.push(i)}),K(e.length,0))this._setTags(e);else if(this.isRequired()){let s=this.options.get(0);this._setTags(s)}else u(t.length,0)&&this._setTags([])}_setTags(t){S(t)||(t=[t]),this.selectNode.removeChildren(),_(t,e=>{let s=new l("div");s.addClass("field-tag"),s.setHtml(e.get("name")),this.isEnabled()&&s.addEventListener("click",()=>{this.open()}),this.selectNode.appendChild(s);let i=e.get("id");if(K(i,"")&&this.isEnabled()){let o=new l("a");o.setAttribute("href","javascript:void(0)"),o.addClass(["material-icons","size-18","close"]),o.setHtml("close"),o.addEventListener("click",()=>{this._handleSelectedId(i)}),s.addClass("tag-with-action"),s.appendChild(o)}})}_setSelectedIds(t){this.options.each(e=>{let s=e.get("id"),i=I(t,s),r=e.get("option_node").getNode();i?r.setAttribute("selected","selected"):r.removeAttribute("selected"),r.selected=i}),this._change()}_getSelectedIds(){let t=[];return this.options.each(e=>{if(e.get("option_node").getNode().selected){let o=e.get("id");t.push(o)}}),t.length===0?[""]:t}_handleSelectedId(t){let e=this._getSelectedIds();this.isMultiple()?((u(t,"")||u(e[0],""))&&X(e),I(e,t)?J(e,t):e.push(t),e.length===0&&(e=[""])):I(e,t)?e=[""]:e=[t],this.query="",this._setSelectedIds(e),this.close()}_drawItems(t){this.listNode.removeChildren();let e=this._getSelectedIds();_(t,s=>{let i=s.get("id"),o=new l("a");o.setAttribute("href","javascript:void(0)"),I(e,i)&&o.addClass("selected"),o.addEventListener("click",()=>{this._handleSelectedId(i)}),this.listNode.appendChild(o);let r=s.get("image");if(r){let p=new l("img");p.setAttribute("src",r),o.appendChild(p)}let a=s.get("name"),h=new l("span");h.setHtml(a),o.appendChild(h)})}_drawSearchInput(){let t=new l("div");t.addClass("search-box"),this.containerNode.appendChild(t);let e=new l("div");e.addClass(["mdl-textfield","mdl-js-textfield"]),e.addEventListener("click",()=>{}),t.appendChild(e);let s=j("select");this.searchInputNode=new l("input"),this.searchInputNode.setId(s),this.searchInputNode.setAttribute("type","text"),this.searchInputNode.addClass("mdl-textfield__input"),this.searchInputNode.addEventListener("keyup",o=>{let r=o.getNode();return this._search(r.value),!0}),e.appendChild(this.searchInputNode);let i=new l("label");i.setFor(s),i.addClass("mdl-textfield__label"),e.appendChild(i),g(e)}open(){this._search(this.query),this.popup.open(),this.searchInputNode.getNode().focus()}close(){this.popup.close()}_search(t){this.query=t,this.searchInputNode.getNode().value=t,this.searchInputNode.set("value",t);let e=new RegExp(t,"i"),s=[];this.options.each(i=>{let o=i.get("name");e.test(o)&&s.push(i)}),this._drawItems(s)}};var xe=class extends b{constructor(t){super(t);this._init()}_init(){this.input.setAttribute("name","submit")}render(){this.input.addClass(["mdl-button","mdl-js-button","mdl-button--raised","mdl-js-ripple-effect","mdl-button--primary"]),this.refresh()}refresh(){g(this.input)}};var Ne=class extends G{constructor(t,e,s,i){super(t,e,s,i)}render(){this.label.addClass(["mdl-switch","mdl-js-switch","mdl-js-ripple-effect"]);let t=this.label.getText();this.spanLabel=new l("span"),this.spanLabel.addClass("mdl-switch__label"),this.spanLabel.setHtml(t),this.input.addClass("mdl-switch__input"),this.label.insert(this.input),this.label.appendChild(this.spanLabel),this.dataLabelNode=new l("span"),this.dataLabelNode.addClass("field-label"),this.label.insertBefore(this.dataLabelNode),this.refresh()}};var ke=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("textarea-field"),this.input.addEventListener("keyup",t=>{let e=t.getNode();return this.modelChange(e.value),this._isRichText()&&this.richText.setHtml(e.value),!0}),this.input.addEventListener("change",t=>{let e=t.getNode();return this.modelChange(e.value),!0})}render(){this.inputBlock.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--floating-label"]),this.input.addClass(["mdl-textfield__input","mdl-textarea__input"]),this.label&&this.label.exists()&&this.label.addClass("mdl-textfield__label"),this._isRichText()&&this._renderRichText(),this.refresh()}_renderRichText(){this.input.addClass("hidden");let t=this.getValue();t=t.indexOf("<p>")===0?t:`<p>${t||"<br />"}</p>`,this.richText=new l("div"),this.richText.addClass(["mdl-textfield__input","mdl-textarea__input","textbox"]),this.richText.setHtml(t),this.richText.addEventListener("keydown",(e,s)=>(s.keyCode===13&&document.execCommand("defaultParagraphSeparator",!1,"p"),!0)),this.richText.addEventListener("keyup",e=>(this._setValue(e.getHtml(!0)),!0)),this.richText.addEventListener("paste",(e,s)=>{let i="";return s.clipboardData?i=s.clipboardData.getData("text/plain"):window.clipboardData&&(i=window.clipboardData.getData("Text")),document.queryCommandSupported("insertHTML")?document.execCommand("insertHTML",!1,i):document.execCommand("insertText",!1,i),!1}),this.input.insertAfter(this.richText),this.richTextNode=this.richText.getNode(),this.richTextNode.contentEditable="true",this._renderToolbarButtons()}_isRichText(){return!!this.input.getAttribute("data-rich-text")}_renderToolbarButtons(){this.toolbarNode=new l("div"),this.toolbarNode.addClass("toolbar"),this.input.insertBefore(this.toolbarNode),this._renderToolbarButton("undo",()=>{this._formatDoc("undo")}),this._renderToolbarButton("redo",()=>{this._formatDoc("redo")}),this._renderToolbarButton("format_bold",()=>{this._formatDoc("bold")}),this._renderToolbarButton("format_italic",()=>{this._formatDoc("italic")}),this._renderToolbarButton("format_underline",()=>{this._formatDoc("underline")}),this._renderToolbarButton("format_list_bulleted",()=>{this._formatDoc("insertunorderedlist")}),this._renderToolbarButton("format_list_numbered",()=>{this._formatDoc("insertorderedlist")}),this._renderToolbarButton("format_clear",()=>{this._formatDoc("removeFormat")}),this._renderToolbarButton("code",()=>{this._setHtmlMode(!this._isHtmlMode())})}_renderToolbarButton(t,e){let s=new l("a");s.setAttribute("href","javascript:void(0)"),s.addClass("material-icons"),s.setHtml(t),s.addEventListener("click",()=>{e()}),this.toolbarNode.appendChild(s)}_setHtmlMode(t){this.htmlMode=t,this._setDocMode(this.htmlMode)}_isHtmlMode(){return this.htmlMode===!0}_formatDoc(t,e){this._isHtmlMode()||(document.execCommand(t,!1,e),this._setValue(this.richTextNode.innerHTML))}_setDocMode(t){t?(this.richText.addClass("hidden"),this.input.removeClass("hidden")):(this.richText.removeClass("hidden"),this.input.addClass("hidden")),this.richTextNode.focus()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),this._isRichText()&&this.isDisabled()&&(this.richTextNode.contentEditable="false"),g(this.inputBlock)}_setValue(t){let e=this.input.getNode();e.value=t,this.input.trigger("change")}setValue(t){this._isRichText()&&(this.richTextNode.innerHTML=t),this._setValue(t)}getValue(){return this.input.getNode().value}};var Me=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("url-field"),this.protocol=this.input.getData("protocol"),this.input.addEventListener("keyup",t=>{let e=t.getNode();return this.modelChange(e.value),!0}),this.input.addEventListener("change",t=>{let e=t.getNode();return this.modelChange(e.value),!0})}render(){if(this.inputBlock.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--floating-label"]),this.input.addClass(["mdl-textfield__input"]),this.label&&this.label.exists()&&this.label.addClass("mdl-textfield__label"),this.protocol){let t=new l("span");t.addClass("protocol"),t.setHtml(this.protocol),this.input.insertAfter(t)}this.refresh()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),g(this.inputBlock)}};var Ie=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("file-field"),this._initFileIcon(),this._initRemoveButton(),this._initButtons(),this._initDefaultImg(),this._initValueSrc(),this.input.addEventListener("change",t=>{let s=t.getNode().files[0];return this._read(s),!0})}_isDocument(){let t=this.input.getAttribute("accept");return k(t,".docx")||k(t,".xlsx")||k(t,".pdf")}_initDefaultImg(){this.imageTag=new d("img",this.inputBlock).getItem(),this.imageTag.isEmpty()&&(this.imageTag=new l("img"),this.inputBlock.beforeChild(this.imageTag))}_initValueSrc(){if(this.valueSrc=this.imageTag.getAttribute("src"),this.defaultSrc=this.input.getAttribute("data-default-value"),!this.defaultSrc){let t=this.isRequired()?"grey;stroke:red;stroke-width:10;stroke-dasharray:15,10":"grey";this.defaultSrc=this._getFileIconSrc("N/A",t)}this.imageTag.setAttribute("src",this.valueSrc||this.defaultSrc)}_initRemoveButton(){this.removeButton=new l("a"),this.removeButton.setAttribute("href","javascript:void(0)"),this.removeButton.addClass(["remove-button","material-icons"]),this.removeButton.setHtml("delete"),this.removeButton.addEventListener("click",()=>{this.isEnabled()&&this._remove()}),this.actionContainerNode.appendChild(this.removeButton)}_initButtons(){let t=new l("a");t.setAttribute("href","javascript:void(0)"),t.addClass(["browse-button","material-icons"]),this._isDocument()?t.setHtml("description"):t.setHtml("image"),t.addEventListener("click",()=>{this.isEnabled()&&this.input.getNode().click()}),this.actionContainerNode.appendChild(t)}_lookupByMimeType(t){return this.fileTypes[t]}_lookupByExtension(t){let e=[];for(let s in this.fileTypes)if(Object.hasOwnProperty.call(this.fileTypes,s)){let i=this.fileTypes[s];if(i[0]===t){let o=i[1];e=[s,o]}}return e}_initFileIcon(){this.fileTypes={"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx","blue"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx","green"],"application/pdf":["pdf","red"]},this.fileTypeSVG='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path style="fill:#E2E5E7;" d="M128,0c-17.6,0-32,14.4-32,32v448c0,17.6,14.4,32,32,32h320c17.6,0,32-14.4,32-32V128L352,0H128z"/><path style="fill:#B0B7BD;" d="M384,128h96L352,0v96C352,113.6,366.4,128,384,128z"/><polygon style="fill:#CAD1D8;" points="480,224 384,128 480,128 "/><path style="fill:#CAD1D8;" d="M400,432H96v16h304c8.8,0,16-7.2,16-16v-16C416,424.8,408.8,432,400,432z"/><path style="fill:#000000;" d="M416,416c0,8.8-7.2,16-16,16H48c-8.8,0-16-7.2-16-16V256c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16V416z"/><text x="220" y="380" text-anchor="middle" style="fill:#FFF;font-weight:700;font-family:Arial;font-size:120px;">TYPE</text></svg>'}_getFileIconSrc(t,e){let s=this.fileTypeSVG;s=s.replace("#000000",e),s=s.replace("TYPE",t);let i=mt(s);return x("data:image/svg+xml;base64,{0}",[i])}render(){this.inputBlock.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--floating-label"]),this.input.addClass("mdl-textfield__input"),this.label&&this.label.exists()&&this.label.addClass("mdl-textfield__label"),this.refresh()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),this._handleRemoveButton(),g(this.inputBlock)}_read(t){if(t){let e=t.name,s=new FileReader;s.onload=i=>{let o=i.target,r=";base64,",a=o.result.replace(r,";filename="+e+r);if(this.valueSrc=a,!k(t.type,"image/")){let[h,p]=this._lookupByMimeType(t.type);a=this._getFileIconSrc(h,p)}this.imageTag.setAttribute("src",a),this._handleRemoveButton(),this.modelChange(this.valueSrc)},s.readAsDataURL(t)}}_handleRemoveButton(){!this.isRequired()&&this.valueSrc?this.removeButton.removeClass("hidden"):this.removeButton.addClass("hidden")}_remove(){this.input.getNode().value="",this.valueSrc=null,this.defaultSrc?this.imageTag.setAttribute("src",this.defaultSrc):this.imageTag.removeAttribute("src"),this._handleRemoveButton(),this.modelChange(null)}setValue(t){let e=t;if(M(t)&&(e=t.url),e){if(this.valueSrc=e,this._isDocument()){let s=pt(e),[i,o]=this._lookupByExtension(s);e=this._getFileIconSrc(s,o)}this.imageTag.setAttribute("src",e),this._handleRemoveButton()}this.modelChange("")}};var Ee=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("range-field"),this.input.addEventListener("input",t=>{let e=t.getNode();this.input.setAttribute("value",e.value),this.tooltip.setMessage(e.value),this.modelChange(e.value)})}render(){this.inputBlock.addClass(["mdl-textfield","mdl-js-textfield","mdl-sliderfield"]),this.input.addClass(["mdl-slider","mdl-js-slider"]),this.label&&this.label.exists()&&this.label.addClass("mdl-textfield__label"),this.refresh()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),g(this.input),this.isDisabled()?this.inputBlock.addClass("is-disabled"):this.inputBlock.removeClass("is-disabled");let t=new d(".mdl-slider__container",this.inputBlock).getItem(),e=this.getValue();this.tooltip=new A(t),this.tooltip.render(e)}setValue(t){this.input.getNode().MaterialSlider.change(t),this.tooltip.render(t)}};var Be=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("number-field"),this._initButtons(),this.input.addEventListener("keyup",()=>{this._checkValue();let t=this.getValue();return this.modelChange(t),!0}),this.input.addEventListener("change",()=>{this._checkValue();let t=this.getValue();return this.modelChange(t),!0})}_initButtons(){let t=new l("span");t.addClass("step-change"),this.actionContainerNode.appendChild(t);let e=new l("a");e.setAttribute("href","javascript:void(0)"),e.addClass(["up-button","material-icons"]),e.setHtml("keyboard_arrow_up"),e.addEventListener("click",()=>{if(this.isEnabled()){let i=this.getValue()||0;i+=this._getStep(),this.setValue(i)}}),t.appendChild(e);let s=new l("a");s.setAttribute("href","javascript:void(0)"),s.addClass(["down-button","material-icons"]),s.setHtml("keyboard_arrow_down"),s.addEventListener("click",()=>{if(this.isEnabled()){let i=this.getValue()||0;i-=this._getStep(),this.setValue(i)}}),t.appendChild(s)}_checkValue(){let t=this.getValue(),e=this._getMin();t<e&&this.setValue(e);let s=this._getMax();t>s&&this.setValue(s)}_getMax(){let t=this.input.getAttribute("max")||9999999999;return C(t)}_getMin(){let t=this.input.getAttribute("min")||0;return C(t)}_getStep(){let t=this.input.getAttribute("step")||1;return C(t)}render(){this.inputBlock.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--floating-label"]),this.input.addClass(["mdl-textfield__input"]),this.label&&this.label.exists()&&this.label.addClass("mdl-textfield__label"),this.refresh()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),g(this.inputBlock)}};var Vs=(n,t)=>{let e=new window.MapLabel({text:t,strokeWeight:2,fontFamily:"sans-serif"});return e.bindTo("position",n),e.bindTo("map",n),e},Fs=(n,t,e)=>new window.MapLabel({text:n,strokeWeight:2,fontFamily:"sans-serif",position:t,map:e}),Se=class{constructor(t,e=".map",s={}){this.mapNode=new d(e,t).getItem(),this._setOptions(s),this._init()}_setOptions(t={}){let e=this;e.options=new c({center:{lat:47.6,lng:17.533333},zoom:8,scrollwheel:!1,streetViewControl:!1,scaleControl:!0,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.TERRAIN,google.maps.MapTypeId.SATELLITE]}}),this.options.merge(t),this.options=this.options.copy(!0)}getMapType(){return this.map.getMapTypeId()}setMapType(t){this.map.setMapTypeId(t)}setCustomMapStyle(t,e,s){let i=new google.maps.StyledMapType(s,{name:e});this.map.mapTypes.set(t,i)}_init(){this.markerIcons={},this._initMap(),this._initOverlay(),this.setMarkers(),this.setPolygons()}_initMap(){this.map=new google.maps.Map(this.mapNode.getNode(),this.options),this._unbindEventsToMap(),this._bindEventsToMap()}_bindEventsToMap(){this.map.addListener("click",t=>{let e=t.latLng;this.eventMapClick(e.lat(),e.lng(),t)}),this.map.addListener("maptypeid_changed",t=>{this.eventMapTypeChange(this.getMapType(),t)})}_unbindEventsToMap(){google.maps.event.clearInstanceListeners(this.map)}_initOverlay(){this.overlay=new google.maps.OverlayView,this.overlay.draw=()=>{},this.overlay.setMap(this.map)}eventPolygonChanged(t,e){B("GoogleMap.eventPolygonChanged()",t,e)}createOrUpdatePolygon(t,e,s,i={},o={}){this.getPolygon(t)?this.updatePolygon(t,e,s,i,o):this.createPolygon(t,e,s,i,o)}createPolygon(t,e,s,i={},o={}){let r=new c(i);r.get("id")||r.set("id",t);let a=new c(this.polygonOptions);a.merge(o);let h=new google.maps.Polygon(a.copy(!0));h.setMap(this.map),r.setRaw("_polygon",h),this._addPointsToPolygon(r,s);let p=this.getCenterOfPolygon(r),f=Fs(e,new google.maps.LatLng(p.latitude,p.longitude),this.map);r.setRaw("_map_text",f),this.polygons.push(r),this._bindEventsToPolygon(h,r)}updatePolygon(t,e,s,i={},o={}){let r=this.getPolygon(t);_(this._cleanPolygonData(i),(f,v)=>{r.set(v,f)}),r.get("_polygon").setOptions(o),this._addPointsToPolygon(r,s);let h=this.getCenterOfPolygon(r),p=r.get("_map_text");p.set("text",e),p.set("position",new google.maps.LatLng(h.latitude,h.longitude))}_cleanPolygonData(t){let e=new c;return _(t,(s,i)=>{I(["_polygon","_map_text","_bounds"],i)||e.set(i,s)}),e}getPolygon(t){return this.polygons.findById(t)}removePolygon(t){let e=this.getPolygon(t);if(e){e.get("_map_text").set("map",null);let i=e.get("_polygon");i.setMap(null),this._unbindEventsToPolygon(i),this.polygons.deleteById(t)}}removeAllPolygon(){this.polygons.each(t=>{let e=t.get("_polygon");e.setMap(null),t.get("_map_text").set("map",null),this._unbindEventsToPolygon(e)}),this.polygons.clear()}_bindEventsToPolygon(t,e){let s=this._cleanPolygonData(e);t.addListener("rightclick",i=>{if(i.vertex)t.getPath().removeAt(i.vertex);else{let o=i.latLng;this.eventPolygonRightClick(s,o.lat(),o.lng(),i)}}),t.addListener("click",i=>{let o=i.latLng;this.eventPolygonClick(s,o.lat(),o.lng(),i)}),t.addListener("dblclick",i=>{let o=i.latLng;this.eventPolygonDoubleClick(s,o.lat(),o.lng(),i)}),this._bindEventsToPolygonPath(t,e)}_unbindEventsToPolygon(t){google.maps.event.clearInstanceListeners(t),this._unbindEventsToPolygonPath(t)}_bindEventsToPolygonPath(t,e){let s=t.getPath();s&&(s.addListener("insert_at",()=>{this._callPolygonChangeEvent(t,e)}),s.addListener("set_at",()=>{this._callPolygonChangeEvent(t,e)}),s.addListener("remove_at",()=>{this._callPolygonChangeEvent(t,e)}))}_unbindEventsToPolygonPath(t){let e=t.getPath();e&&google.maps.event.clearInstanceListeners(e)}_callPolygonChangeEvent(t,e){let s=this._getPointsFromPolygon(e);this._setBoundsByPoints(e,s);let i=e.get("_map_text"),o=this.getCenterOfPolygon(e);i.set("position",new google.maps.LatLng(o.latitude,o.longitude));let r=this._cleanPolygonData(e);this.eventPolygonChanged(r,s)}eventPolygonClick(t,e,s,i){B("GoogleMap.eventPolygonClick()",t,e,s,i)}eventPolygonDoubleClick(t,e,s,i){B("GoogleMap.eventPolygonDoubleClick()",t,e,s,i)}eventPolygonRightClick(t,e,s,i){B("GoogleMap.eventPolygonRightClick()",t,e,s,i)}eventMapClick(t,e,s){B("GoogleMap.eventMapClick()",t,e,s)}eventMapTypeChange(t,e){B("GoogleMap.eventMapTypeChange()",t,e)}_addPointsToPolygon(t,e){let s=t.get("_polygon"),i=this._convertPointsToPath(e);s.setPath(i),this._bindEventsToPolygonPath(s,t),this._setBoundsByPath(t,i)}_convertPointsToPath(t){let e=[];return _(t,s=>{let i=new google.maps.LatLng(s.latitude,s.longitude);y(s.weight)||(i={location:i,weight:s.weight}),e.push(i)}),e}_setBoundsByPoints(t,e){let s=this._convertPointsToPath(e);this._setBoundsByPath(t,s)}_setBoundsByPath(t,e){let s=new google.maps.LatLngBounds;e.length>0&&_(e,i=>{s.extend(i)}),t.setRaw("_bounds",s)}getCenterOfPolygon(t){let s=t.get("_bounds").getCenter();return{latitude:s.lat(),longitude:s.lng()}}fitPolygonToMap(t){let e=this.getPolygon(t);if(e){let s=e.get("_bounds");if(s){let i=s.getCenter();this.map.setCenter(i),this.map.fitBounds(s)}}}_getPointsFromPolygon(t){let s=t.get("_polygon").getPath().getArray();this._setBoundsByPath(t,s);let i=[];return _(s,o=>{i.push({latitude:o.lat(),longitude:o.lng()})}),i}getComputeArea(t){let s=t.get("_polygon").getPath();return google.maps.geometry.spherical.computeArea(s)}addPointToPolygon(t,e,s){t.get("_polygon").getPath().push(new google.maps.LatLng(e,s))}setMarkers(t={}){this.markers=new E,this.markerOptions=new c({draggable:!1}),this.markerOptions.merge(t)}setHeatmap(t={}){let e=["rgba(102, 255, 0, 0)","rgba(102, 255, 0, 1)","rgba(147, 255, 0, 1)","rgba(193, 255, 0, 1)","rgba(238, 255, 0, 1)","rgba(244, 227, 0, 1)","rgba(249, 198, 0, 1)","rgba(255, 170, 0, 1)","rgba(255, 113, 0, 1)","rgba(255, 57, 0, 1)","rgba(255, 0, 0, 1)"];this.heatmapOptions=new c({opacity:.6,radius:null,gradient:e}),this.heatmapOptions.merge(t)}createHeatmap(t,e={}){this.heatmap=new google.maps.visualization.HeatmapLayer({data:this._convertPointsToPath(t),map:this.map}),this.heatmapOptions.merge(e),R(this.heatmapOptions,(s,i)=>{this.heatmap.set(i,s)})}removeHeatmap(){this.heatmap&&this.heatmap.setMap(null)}setPolygons(t={}){this.polygons=new E,this.polygonOptions=new c({geodesic:!0,strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.2,editable:!1}),this.polygonOptions.merge(t)}createOrUpdateMarker(t,e,s,i,o,r={},a={}){this.getMarker(t)?this.updateMarker(t,e,s,i,o,r,a):this.createMarker(t,e,s,i,o,r,a)}createMarker(t,e,s,i,o,r={},a={}){let h=new c(r);h.get("id")||h.set("id",t);let p=new c(this.markerOptions);p.merge(a);let f=W(e,"string"),v=new google.maps.Marker(p.copy(!0));v.setPosition(new google.maps.LatLng(i,o)),v.setIcon(this.markerIcons[s].icon),v.setShape(this.markerIcons[s].shape),v.setTitle(f),v.setMap(this.map),h.setRaw("_marker",v);let P=Vs(v,f);h.setRaw("_map_label",P),this.markers.push(h),this._bindEventsToMarker(v,h)}createMarkerByXY(t,e,s,i,o,r={}){let a=new google.maps.Point(i,o),p=this.overlay.getProjection().fromContainerPixelToLatLng(a);this.createMarker(t,e,s,p.lat(),p.lng(),r)}_bindEventsToMarker(t,e){let s=this._cleanMarkerData(e);t.addListener("click",i=>{this.eventMarkerClick(s,i)}),t.addListener("dblclick",i=>{this.eventMarkerDoubleClick(s,i)}),t.addListener("rightclick",i=>{this.eventMarkerRightClick(s,i)}),t.addListener("drag",i=>{let o=t.getPosition();e.get("_map_label").set("position",o)}),t.addListener("dragend",i=>{let o=t.getPosition(),r=o.lat(),a=o.lng();this.eventMarkerChanged(s,r,a,i)})}_unbindEventsToMarker(t){google.maps.event.clearInstanceListeners(t)}updateMarker(t,e,s,i,o,r={},a={}){let h=this.getMarker(t);_(this._cleanMarkerData(r),(Z,Ct)=>{h.set(Ct,Z)});let p=W(e,"string"),f=h.get("_marker");f.setOptions(a);let v=this.markerIcons[s];f.setIcon(v.icon),f.setShape(v.shape),f.setTitle(p),f.setPosition(new google.maps.LatLng(i,o)),h.get("_map_label").set("text",p)}_cleanMarkerData(t){let e=new c;return _(t,(s,i)=>{I(["_marker","_map_label"],i)||e.set(i,s)}),e}getMarker(t){return this.markers.findById(t)}removeMarker(t){let e=this.getMarker(t);if(e){e.get("_map_label").setMap(null);let i=e.get("_marker");i.setMap(null),this._unbindEventsToMarker(i),this.markers.deleteById(t)}}removeAllMarker(){this.markers.each(t=>{t.get("_map_label").setMap(null);let s=t.get("_marker");s.setMap(null),this._unbindEventsToMarker(s)}),this.markers.clear()}fitMarkerToMap(t){let e=this.getMarker(t);if(e){let i=e.get("_marker").getPosition(),o=i.lat(),r=i.lng();this.setCenter(o,r)}}openInfoWindow(t,e){let i=this.getMarker(t).get("_marker");new google.maps.InfoWindow({content:W(e,"string")}).open(this.map,i)}eventMarkerClick(t,e){B("GoogleMap.eventMarkerClick()",t,e)}eventMarkerDoubleClick(t,e){B("GoogleMap.eventMarkerDoubleClick()",t,e)}eventMarkerRightClick(t,e){B("GoogleMap.eventMarkerRightClick()",t,e)}eventMarkerChanged(t,e,s,i){B("GoogleMap.eventMarkerChanged()",t,e,s,i)}setMarkerIcon(t,e){let s={url:e.url,size:new google.maps.Size(e.size[0],e.size[1]),origin:new google.maps.Point(e.origin[0],e.origin[1]),anchor:new google.maps.Point(e.anchor[0],e.anchor[1])},i={coords:e.coords,type:"poly"};this.markerIcons[t]={icon:s,shape:i}}searchAddress(t){let e=new w;return new google.maps.Geocoder().geocode({address:W(t,"string")},(i,o)=>{if(o===google.maps.GeocoderStatus.OK&&i.length>0){let r=[];_(i,a=>{let h={address:a.formatted_address,latitude:a.geometry.location.lat(),longitude:a.geometry.location.lng()};r.push(h)}),e.resolve([r])}else e.reject()}),e.promise()}setCenter(t,e,s=!1){let i=new google.maps.LatLng(t,e);s?this.map.getBounds().contains(i)||this.map.setCenter(i):this.map.setCenter(i)}getCenter(){let t=this.map.getCenter();return{latitude:t.lat(),longitude:t.lng()}}triggerResize(){google.maps.event.trigger(this.map,"resize")}getDinamicRadius(t){let e=new google.maps.Point(0,0),s=new google.maps.Point(t,t),i=this.overlay.getProjection(),o=i.fromContainerPixelToLatLng(e),r=i.fromContainerPixelToLatLng(s),a=new google.maps.LatLng(o.lat(),o.lng()),h=new google.maps.LatLng(r.lat(),r.lng());return google.maps.geometry.spherical.computeDistanceBetween(a,h)}};var Te=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("location-field"),this._initButtons(),this.icon=this.input.getData("icon"),this.input.addEventListener("keyup",(t,e)=>{let s=t.getNode();return u(e.keyCode,13)?this.eventSearch(s.value):t.trigger("change"),!0}),this.input.addEventListener("change",t=>{let e=t.getNode(),s=this.getValue();return s.address=C(e.value),this._setDataValue(s),this.modelChange(s),!0})}_initButtons(){this._initSearchButton(),this._initAdvancedButton()}_initSearchButton(){let t=new l("a");t.setAttribute("href","javascript:void(0)"),t.addClass(["search-button","material-icons"]),t.setHtml("pin_drop"),t.addEventListener("click",()=>{if(this.isEnabled()){let e=this.input.getNode();this.eventSearch(e.value)}}),this.actionContainerNode.appendChild(t)}_initAdvancedButton(){this.advancedButton=new l("a"),this.advancedButton.setAttribute("href","javascript:void(0)"),this.advancedButton.addClass(["advanced-button","material-icons"]),this.advancedButton.setHtml("settings"),this.advancedButton.addEventListener("click",()=>{this.isEnabled()&&this._toggleAdvancedInputs()}),this.actionContainerNode.appendChild(this.advancedButton)}search(t){this.map.searchAddress(t).then(e=>{let s=e[0],i={address:C(t),latitude:s.latitude,longitude:s.longitude};this.setValue(i)},()=>{})}render(){this.inputBlock.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--floating-label"]),this.input.addClass("mdl-textfield__input"),this.label&&this.label.exists()&&this.label.addClass("mdl-textfield__label"),this._renderAdvancedInputs(),this._renderMap(),this._setDefaultValue(),this.refresh()}refresh(){this.isDisabled()?this.mapLockNode.addClass("map-lock"):this.mapLockNode.removeClass("map-lock"),g(this.inputBlock)}_toggleAdvancedInputs(){this.advancedButton.toggleClass("active"),this.advancedNode.toggleClass("hidden")}_renderAdvancedInputs(){this.advancedNode=new l("div"),this.advancedNode.addClass(["advanced","row","hidden"]),this.inputBlock.appendChild(this.advancedNode),this.latitudeInput=this._renderAdvancedInput(j("latitude"),this.input.getData("latitude"),t=>{let e=this.getValue(),s=t.getNode().value;e.latitude=s,this.setValue(e)}),this.longitudeInput=this._renderAdvancedInput(j("longitude"),this.input.getData("longitude"),t=>{let e=this.getValue(),s=t.getNode().value;e.longitude=s,this.setValue(e)})}_renderAdvancedInput(t,e,s){let i=new l("div");i.addClass("col-6"),this.advancedNode.appendChild(i);let o=new l("div");o.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--floating-label"]),i.appendChild(o);let r=new l("label");r.setFor(t),r.addClass("mdl-textfield__label"),r.setHtml(e),o.appendChild(r);let a=new l("input");return a.setId(t),a.setAttribute("type","text"),a.addClass("mdl-textfield__input"),o.appendChild(a),this._setAdditionalLabel(r),a.addEventListener("change",h=>(s(h),!0)),a}_renderMap(){let t=new l("div");t.addClass("map"),this.inputBlock.appendChild(t),this.mapLockNode=new l("div"),this.mapLockNode.addClass("map-lock"),this.inputBlock.appendChild(this.mapLockNode),this.map=new Se(this.inputBlock,".map",{zoom:12,scrollwheel:!0}),this.map.setMarkers({draggable:!0}),this.map.setMarkerIcon("marker",this.icon),this.map.eventMapClick=(e,s)=>{this.updatePosition(e,s)},this.map.eventMarkerRightClick=()=>{this.updatePosition(null,null)},this.map.eventMarkerChanged=(e,s,i)=>{this.updatePosition(s,i)}}setMapType(t){this.map.setMapType(t)}setCustomMapStyle(t,e,s){this.map.setCustomMapStyle(t,e,s)}_setDefaultValue(){let t=this.getValue();!L(t.latitude)&&!L(t.longitude)&&(this.map.setCenter(t.latitude,t.longitude),this.map.createMarker(0,"","marker",t.latitude,t.longitude),this._setDataValue(t))}updatePosition(t,e){let s=this.getValue();s.latitude=t,s.longitude=e,this.setValue(s)}_setDataValue(t){this.latitudeInput.getNode().value=t.latitude||"",this.longitudeInput.getNode().value=t.longitude||"",this.input.setAttribute("value",t.address||""),this.input.setData("value",t)}setValue(t){this._setDataValue(t),this.map.removeMarker(0),!L(t.latitude)&&!L(t.longitude)&&(this.map.setCenter(t.latitude,t.longitude),this.map.getMarker(0)?this.map.updateMarker(0,"","marker",t.latitude,t.longitude):this.map.createMarker(0,"","marker",t.latitude,t.longitude)),this.input.trigger("change")}getValue(){let t=this.input.getData("value");return C(t)}eventSearch(t){B("Location.eventSearch()",t)}};var bt=class extends b{constructor(t,e,s,i){super(t,e,s,i);this._init()}_init(){this.inputBlock.addClass("text-field"),this.input.addEventListener("keyup",t=>{let e=t.getNode();return this.modelChange(e.value),!0}),this.input.addEventListener("change",t=>{let e=t.getNode();return this.modelChange(e.value),!0})}render(){this.inputBlock.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--floating-label"]),this.input.addClass(["mdl-textfield__input"]),this.label&&this.label.exists()&&this.label.addClass("mdl-textfield__label"),this.refresh()}refresh(){this.isRequired()&&this.getValue()===""&&this.inputBlock.addClass("is-invalid"),g(this.inputBlock)}getValue(){return this.input.getNode().value}};var De=function(n,t){let e=n,s=null,i=null,o=null,r=n.getTagName(),a=n.getAttribute("type");if(u(r,"input")&&!I(["hidden","reset","submit","button"],a)&&(n=n.getParentNode(),o=0),r=n.getTagName(),u(r,"div")){let h=new d("input, textarea, select",n).getItems(),p=o!==null?o:h.length-1;e=h[p],s=new d("label",n).getItem(),i=n.createElement("span"),i.addClass(["mdl-textfield__error","text-truncate"]),n.appendChild(i),n.addClass("init-field")}return Ys(e,s,i,n,t)},Ys=(n,t,e,s,i)=>{n.addClass("init-field");let o=n.getData("type"),r=n.getTagName(),a=null;if(u(r,"textarea")&&(a=new ke(n,t,e,s)),u(r,"select"))a=new ye(n,t,e,s);else if(u(r,"input")||u(r,"button"))switch(n.get("type")){case"submit":a=new xe(n);break;case"button":a=new ce(n);break;case"reset":a=new Ce(n);break;case"datetime":case"datetime-local":case"date":case"time":case"month":case"week":case"year":let p=new d("input",s);if(p.size()===2){let f=p.get(0),v=!0;f.getAttribute("name")===n.getAttribute("name")&&(f=p.get(1),v=!1),a=new ge(f,t,e,s,v)}else a=new fe(n,t,e,s);break;case"file":a=new Ie(n,t,e,s);break;case"checkbox":u(o,"switch")?a=new Ne(n,t,e,s):u(o,"icon-toggle")?a=new we(n,t,e,s):a=new pe(n,t,e,s);break;case"radio":a=new be(n,t,e,s,i);break;case"range":a=new Ee(n,t,e,s);break;case"color":a=new ue(n,t,e,s);break;case"hidden":a=new _e(n);break;case"number":a=new Be(n,t,e,s);break;case"url":a=new Me(n,t,e,s);break;case"search":a=new ve(n,t,e,s);break;case"text":u(o,"location")?a=new Te(n,t,e,s):a=new bt(n,t,e,s);break;default:a=new bt(n,t,e,s);break}return a};var $e=class extends E{constructor(t,e="form"){let s=new d(e,t).getItem();s.setAttribute("novalidate");super([],De,{parent:s});this.formNode=s,this._init()}_init(){this.previousModel=new c,this.model=new c,this.initFields=[],this.buttonClasses=["input[type=submit]:not(.init-field)","input[type=button]:not(.init-field)","input[type=reset]:not(.init-field)","button:not(.init-field)"],this.fieldClasses=['.input-block input:not([type="hidden"])+input:not([type="hidden"])',".input-block:not(.init-field)","form > input[type=hidden]:not(.init-field)"],this._initFields(),this._initFormEvent()}_initFormEvent(){this.formNode.addEventListener("keydown",(t,e)=>(/textarea/i.test((e.target||e.srcElement).tagName)||(e.keyCode||e.which||e.charCode||0)!==13||e.preventDefault(),!0)),this._initSubmitFormEvent(),this._initResetFormEvent()}_initSubmitFormEvent(){this.formNode.addEventListener("submit",(t,e)=>{e.preventDefault(),this.checkValidity(!0)&&this.eventSubmit(this.model,t)})}_initResetFormEvent(){this.formNode.addEventListener("reset",(t,e)=>{e.preventDefault(),this.eventReset(this.model,t)})}_initFields(){let t=new d(this.fieldClasses.concat(this.buttonClasses).join(", "),this.formNode).getItems();this.load(t);let e=[],s=[];this.each(i=>{let o=i.getName();I(this.initFields,o)?I(e,o)||(i.refresh(),i.setValue(i.getValue()),e.push(o)):(i.modelChange=r=>{this._fieldValueChange(i,r)},i.getPreviousValue=()=>{this._getPreviousValue(i)},i.eventClick=r=>{this.eventButton(this.model,r)},I(e,o)||(this._setValue(o,i.getValue()),e.push(o)),i.render(),I(s,o)||s.push(o))}),this.initFields=this.initFields.concat(s)}setModel(t,e=!0,s=!1){this.previousModel=this.model.copy(),this.model.merge(t),this.each(i=>{let o=i.getName(),r=this.model.get(o);y(r)||(i.setValue(r),i.checkValidity(e,s))})}getModel(){return this.model}reset(t=!0,e=!1){this.each(s=>{s.setValue(),s.checkValidity(t,e)}),this.previousModel=this.model.copy(),this.model.clear()}_setValue(t,e){let s=this._getValue(t);q(e,s)||(this.previousModel.set(t,s),this.model.set(t,e))}_getValue(t){return this.model.get(t)}_getPreviousValue(t){let e=t.getName();return this.previousModel.get(e)}_fieldValueChange(t,e){let s=t.getName(),i=this._getValue(s);q(e,i)||(this._setValue(s,e),t.eventChange(e,i)),this.checkValidity(!0,!1)}setErrors(t){let e=new c(t);this.each(s=>{let i=s.getName(),o=e.get(i,[]);s.setError(o.join(", "),!0)})}checkValidity(t=!1,e=!0){return this.each(s=>{s.checkValidity(t,e)}),this.formNode.getNode().checkValidity()}isValid(){return this.checkValidity(!0)}isInvalid(){return!this.isValid()}refresh(){this.deleteAllByCondition(t=>{let e=t.exists();if(!e){let s=t.getName();this.model.remove(s),J(this.initFields,s)}return!e}),this._initFields()}findByModel(t){return this.findByCondition((e,s)=>this.get(s,"model")===t)}eventSubmit(t,e){m("Form.eventSubmit()",t,e)}eventReset(t,e){m("Form.eventReset()",t,e)}eventButton(t,e){m("Form.eventButton()",t,e)}lock(){this.each(t=>{t.disabled=t.isDisabled()}),this.each(t=>{t.setDisabled(!0)})}unlock(){this.each(t=>{t.setDisabled(t.disabled)})}};var Ze=class{constructor(t,e={}){this.http=t,this._setOptions(e),this._init()}_setOptions(t={}){let e=this;e.options=new c,e.options.merge(t)}_init(){this.container=new E,this.linkNodeKey="node"}add(t){let e=t.get("id"),s=t.get("image"),i=t.get("icon"),o=t.get("title"),r=t.get("counter"),a=t.get("href"),h=t.get("action"),p=t.get("disabled");s?this.addImage(e,s,o,h,a,t):i?this.addIcon(e,i,o,h,a,t):y(r)?this.addText(e,o,h,a,t):this.addCounter(e,r,o,h,a,t),p&&this.setDisabled(e)}addCounter(t,e,s,i,o="",r={}){let a=this._setItem(t,s,i,o,r),h=new l("span");h.addClass("counter"),h.setHtml(e),a.get(this.linkNodeKey).beforeChild(h)}addIcon(t,e,s,i,o="",r={}){let a=this._setItem(t,s,i,o,r),h=new l("em");h.addClass(["material-icons"]),h.setHtml(e);let p=new l("span");p.addClass("image"),p.appendChild(h),a.get(this.linkNodeKey).beforeChild(p)}addImage(t,e,s,i,o="",r={}){let a=this._setItem(t,s,i,o,r),h=new l("span");if(h.addClass("image"),e.indexOf(".svg")!==-1)this.http.get(e,{},{Authorization:"","X-Requested-With":""}).then(f=>{let v=new d("svg",f).getItem();h.appendChild(v)});else{let f=new l("img");f.setAttribute("src",e),s&&f.setAttribute("alt",s),h.appendChild(f)}a.get(this.linkNodeKey).beforeChild(h)}addText(t,e,s,i="",o={}){this._setItem(t,e,s,i,o)}_setItem(t,e,s,i="",o={}){let r=new l("a");if(e){let f=new l("span");f.addClass("title"),f.setHtml(e),r.appendChild(f)}r.setAttribute("href",i||"javascript:void(0)");let a=r.getAttribute("href"),h=r.addEventListener("click",()=>{s(a)}),p=new c(o);return p.merge({id:t,title:e,href:a,action:s,listener:h}),p.setRaw(this.linkNodeKey,r),this.container.push(p),p}each(t){this.container.each(e=>{t(e)})}bindToContainer(t){t.removeChildren(),this.each(e=>{let s=e.get(this.linkNodeKey);t.appendChild(s)})}setDisabled(t){let e=this.container.findById(t);e&&this._disabled(e)}_disabled(t){let e=t.get(this.linkNodeKey);e.addClass("disabled"),e.removeEventListener("click",t.get("listener")),e.setAttribute("href","javascript:void(0)")}setEnabled(t){let e=this.container.findById(t);e&&this._enabled(e)}_enabled(t){this._disabled(t);let e=t.get(this.linkNodeKey);e.removeClass("disabled");let s=t.get("action"),i=t.get("href");e.setAttribute("href",i);let o=e.addEventListener("click",()=>{s(i)});t.set("listener",o)}setActive(t){this.each(e=>{let s=e.get(this.linkNodeKey);s.removeClass("active");let i=e.get("id");(i[i.length-1]==="."&&k(t,i)||u(t,i))&&s.addClass("active")})}setAllInactive(){this.each(t=>{t.get(this.linkNodeKey).removeClass("active")})}show(t){let e=this.container.findById(t);e&&(e.get(this.linkNodeKey).removeClass("hidden"),this._enabled(e))}hide(t){let e=this.container.findById(t);e&&(e.get(this.linkNodeKey).addClass("hidden"),this._disabled(e))}};var ts=class{constructor(t,e=".progress-status",s={}){this.progressStatusNode=new d(e,t).getItem(),this._setOptions(s),this._init()}_setOptions(t={}){let e=this;e.options=new c({successStyle:"success",infoStyle:"info",warningStyle:"warning",errorStyle:"error"}),e.options.merge(t)}_init(){this.iconNode=new d(".icon",this.progressStatusNode).getItem(),this.textNode=new d(".text",this.progressStatusNode).getItem()}_setStatus(t,e,s=""){this.progressStatusNode.removeClass([this.options.errorStyle,this.options.successStyle,this.options.infoStyle,this.options.warningStyle]),this.progressStatusNode.addClass(t),this.textNode.setHtml(e),s&&this.iconNode.setHtml(s)}setSuccess(t,e=""){this._setStatus(this.options.successStyle,t,e)}setInfo(t,e=""){this._setStatus(this.options.infoStyle,t,e)}setWarning(t,e=""){this._setStatus(this.options.warningStyle,t,e)}setError(t,e=""){this._setStatus(this.options.errorStyle,t,e)}};var es=class{constructor(t,e="table",s={}){this.tableNode=new d(e,t).getItem(),this._setOptions(s),this._init()}_setOptions(t={}){let e=this;e.options=new c({no_content:{image_url:null,text:""},row_count:10,pager_num:4,sort:{column:null,order:"desc"},columns:[],calculations:{},sorted:[],column:null,rowStyle:null}),e.options.merge(t)}_init(){this.collection=new E,this.query="",this.actions=[],this.tableNode.getId()||(this.tableNode.setId(j("table")),this._initContentHandler(),this._initHeader(),this._initSearch(),this._initStructure())}_initContentHandler(){this.contentHandler=new at(this.tableNode,this.options.no_content)}_initSearch(){if(this.options.columns[this.options.columns.length-1]==="search"){let t=new l("div");t.addClass(["mdl-textfield","mdl-js-textfield","mdl-textfield--expandable"]),this.headerNodes.get(this.headerNodes.size()-1).insert(t);let e=new l("label");e.addClass(["mdl-button","mdl-js-button","mdl-button--icon"]),e.setFor("table-search"),t.appendChild(e);let s=new l("em");s.addClass("material-icons"),s.setHtml("search"),e.appendChild(s);let i=new l("div");i.addClass("mdl-textfield__expandable-holder"),t.appendChild(i);let o=new l("input");o.setAttribute("type","text"),o.setId("table-search"),o.addClass("mdl-textfield__input"),o.addEventListener("keypress",(a,h)=>(u(h.keyCode,13)&&(this.query=a.getNode().value,this.refresh(1)),!0)),i.appendChild(o);let r=new l("label");r.addClass("mdl-textfield__label"),i.appendChild(r),g(t)}}_initHeader(){this.headerTexts=[],this.headerNodes=new d("thead th",this.tableNode),this.headerNodes.each((t,e)=>{let s=t.getHtml();this.headerTexts.push(s),this._renderHeader(t,e)})}_renderHeader(t,e){let s=this.options.columns[e];I(["search","actions"],s)&&t.addClass("actions");let i=this.options.sorted.filter(a=>k(a,s));if(i.length===1){t.setData("column",i[0]),t.addEventListener("click",f=>{let v=f.getData("column");this._toggleSorting(v)});let a=new l("span");a.addClass("icons"),t.appendChild(a);let h=new l("em");h.addClass(["material-icons","asc"]),h.setHtml("arrow_drop_up"),a.appendChild(h);let p=new l("em");p.addClass(["material-icons","desc"]),p.setHtml("arrow_drop_down"),a.appendChild(p)}let o=t.getAttribute("title"),r=t.getAttribute("desc");if(o||r){let a=new l("em");o&&a.setAttribute("desc",o),r&&a.setAttribute("desc",r),a.addClass(["material-icons","info"]),a.setHtml("info_outline"),t.appendChild(a),new A(a,"BOTTOM").render()}}_initStructure(){this.tbody=new l("tbody"),this.tableNode.appendChild(this.tbody),this.tfoot=new l("tfoot"),this.tableNode.appendChild(this.tfoot);let t=new l("tr"),e=new l("td");e.addClass("pager-statistics"),t.appendChild(e);let s=new l("td");s.addClass("pager"),s.setAttribute("colspan",this.headerNodes.size()-1),t.appendChild(s),this.tfoot.appendChild(t),this.pager=new lt(this.tfoot,[".pager",".pager-statistics"],this.options),this.pager.eventAction=i=>{this.refresh(i)}}refresh(t=-1){t>-1&&this.pager.setPage(t);let e=new c({query:this.query,column:this.options.sort.column,order:this.options.sort.order,offset:this.pager.offset,limit:this.options.row_count});this.eventAction(e)}eventAction(t){m("Table.eventAction()",t)}_toggleSorting(t){let[e,s]=t.split(":",2),i=s||"desc";u(this.options.sort.column,e)&&u(this.options.sort.order,i)&&(i=i==="asc"?"desc":"asc"),this._setSorting(e,i)}_handleSortingColumn(t,e){let s=this.options.columns[e];if(u(this.options.sort.column,null)&&u(e,0)||u(s,this.options.sort.column)){let i=new d(x(".icons em.{0}",[this.options.sort.order]),t).getItem();i.isEmpty()||i.addClass("active")}}_updateSorting(){this._resetSorting(),this.headerNodes.each((t,e)=>{this._handleSortingColumn(t,e)}),this.refresh()}_setSorting(t,e="asc"){this.options.sort.column=t,this.options.sort.order=e,this._updateSorting()}_resetSorting(){new d("thead th .icons em",this.tableNode).each(e=>{e.removeClass("active")})}_getColumn(){return this.options.column||this.options.columns[0]}_addHeaderRow(t,e){let s=new l("tr");s.addEventListener("click",a=>{a.toggleClass("opened"),s.getNextSibling().toggleClass("open")});let i=this._getRowStyle(t,e);s.addClass(["header"].concat(i)),this.tbody.appendChild(s);let o=new l("td");s.appendChild(o),this._renderDataNodeByItem(t,e,this._getColumn(),o),o.setAttribute("colspan",this.headerNodes.size()-2);let r=new l("td");s.appendChild(r),this._renderActions(r,t)}_getRowStyle(t,e){let s=[];if(this.options.rowStyle&&N(this.options.rowStyle)){let i=this.options.rowStyle(t,e);S(i)?s=i:i&&s.push(i)}return s}_addRow(t,e){let s=new l("tr"),i=this._getRowStyle(t,e);s.addClass(["data"].concat(i)),this.tbody.appendChild(s),_(this.options.columns,(o,r)=>{let a=new l("td");s.appendChild(a),this._renderDataNode(a,t,e,o,r)})}setActions(t){this.actions=t}_renderDataNodeByItem(t,e,s,i){let o="",r=this.options.calculations[s];N(r)?o=r(t,this.pager.offset+e,i):o=t.get(s,"");let a=[];S(o)?a=o:a=[o],O(a,h=>{if(!H(h,l)){let p=new l("span");p.setHtml(h),h=p}i.appendChild(h),(h.getAttribute("title")||h.getAttribute("desc"))&&new A(h).render()})}_renderDataNode(t,e,s,i,o){if(I(["search","actions"],i))this._renderActions(t,e);else{let r=new l("span");r.addClass("label"),r.setHtml(this.headerTexts[o]),this._renderHeader(r,o),this._handleSortingColumn(r,o),t.appendChild(r),this._renderDataNodeByItem(e,s,i,t)}}_renderActions(t,e){let s=new l("div");t.addClass("actions"),t.appendChild(s),this.actions.length>3?(s.addClass("dropDown"),this._renderDropDownNode(s,e)):this._renderActionNodes(s,e)}_renderActionNodes(t,e){_(this.actions,s=>{this._createActionButton(t,s,e)})}_renderDropDownNode(t,e){new de(t).setActions(this.actions,e)}_createActionButton(t,e,s){let[i,o,r,a]=e.style(s);if(!a){let h=new l("button");t.appendChild(h),h.addClass(["mdl-button","mdl-js-button","mdl-button--icon","mdl-button--primary"]),r?h.setAttribute("disabled"):h.addEventListener("click",()=>{e.click(s)}),o&&new A(h).render(o);let p=new l("em");p.addClass("material-icons"),p.setHtml(i),h.appendChild(p)}}setData(t){this.collection.reload(t),this.collection.size()===0?this.contentHandler.show():(this.contentHandler.hide(),this._draw())}setCount(t){this.pager.setCount(t),this.pager.draw()}_getItems(){let t=this.collection.getItems();return this.collection.size()>this.options.row_count&&(t=this.collection.limit(this.pager.offset,this.options.row_count)),t}_draw(){this.tbody.removeChildren(),_(this._getItems(),(t,e)=>{this._addHeaderRow(t,e),this._addRow(t,e)}),g(this.tbody)}render(){this.tableNode.isEmpty()||this._updateSorting()}};var ss=class{constructor(t,e=".tab-panel",s="",i=""){this.tabPanel=new d(e,t).getItem(),this.options={selected_tab:s,default_tab:i||s},this._init()}_init(){this._initTabs(),this._initPanels(),this.activeTab=this.options.selected_tab,this._setActive(this.activeTab)}_initTabs(){this.tabs=new d(".tabs a",this.tabPanel),this.tabs.each(t=>{let e=t.getAttribute("href").substring(1);this.tabs.size()===1&&t.addClass("hidden"),t.setData("panel",e),t.setAttribute("href","javascript:void(0)"),t.addEventListener("click",()=>{this.setActive(e)})})}_initPanels(){this.panels=new d(".panel",this.tabPanel)}_setActive(t){let e=this.options.default_tab;this.panels.each(s=>{s.removeClass("active"),(s.getId()===t||s.hasClass(t))&&(s.addClass("active"),e=t)}),this.tabs.each(s=>{s.removeClass("active"),s.getData("panel")===t&&s.addClass("active")}),this.activeTab=e}eventChange(t){m("TabPanel.eventChange()",t)}setActive(t){let e=new w;return L(t)?e.reject():(this._setActive(t),new D().serial([()=>this.eventChange(this.getActive())]).defer(e)),e.promise()}getActive(){return this.activeTab}};var is=class{constructor(){this.timeoutWaiting=0,this.counter=0}advancedWaiting(t,e){let s=e||3e3;this._advancedDelayHandler(t,s,this.timeoutWaiting)}_advancedDelayHandler(t,e,s){this.timeoutWaiting+=1e-4,setTimeout(()=>{(this.timeoutWaiting-1e-4).toFixed(4)===s.toFixed(4)&&(this.timeoutWaiting=0,t())},e)}stopAdvancedWaiting(){this.timeoutWaiting+=1e-4,this.intervall=setInterval(()=>{this.timeoutWaiting+=1e-4},1e3)}startAdvancedWaiting(){clearInterval(this.intervall),this.timeoutWaiting-=1e-4}simpleWaiting(t,e){let s=e||3e3;this._simpleDelayHandler(t,s,this.counter)}_simpleDelayHandler(t,e,s){this.counter++,setTimeout(()=>{let i=this.counter-1;s===i&&(this.counter=0,t())},e)}};var os=class extends b{constructor(t,e,s,i){super(t,e,s,i)}};var ns=class{constructor(t={}){this._setOptions(t),this._init()}_setOptions(t){let e=this;e.options=new c,e.options.merge(t)}_init(){this.document=document,this.document.addEventListener("click",t=>{let e=new l(t.target);this.eventClick(e,t)})}setTitle(t){this.document.title=t}eventClick(t,e){m("Document.eventClick()",t,e)}mailTo(t,e=""){this.document.location.href="mailto:"+t+"?subject="+e}};var Ws=(n,t=" ",e=",",s=0)=>{n||(n=0),n=Ae(n,s*-1);let i=n.toFixed(s).toString().split("."),o=i[1],r=i[0].split("").reverse().map((a,h)=>!(h%3)&&h?a+t:a).reverse().join("");return o&&(r+=e+o),r},qs=(n,t)=>{let e=[{value:1e24,symbol:"Y"},{value:1e21,symbol:"Z"},{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"},{value:0,symbol:""}],s=/\.0+$|(\.[0-9]*[1-9])0+$/,i=Ae(n,t).toString().replace(s,"$1"),o=0;for(;o<e.length&&n<e[o].value;)i=Ae(n/(e[o+1].value||1),t).toString().replace(s,"$1")+e[o+1].symbol,o++;return i},Re=(n,t,e)=>{if(typeof e=="undefined"||+e==0)return Math[n](t);if(t=+t,e=+e,isNaN(t)||!(typeof e=="number"&&e%1===0))return NaN;let s=t.toString().split("e");return t=Math[n](+(s[0]+"e"+(s[1]?+s[1]-e:-e))),s=t.toString().split("e"),+(s[0]+"e"+(s[1]?+s[1]+e:e))},Ae=(n,t)=>Re("round",n,t),zs=(n,t)=>Re("floor",n,t),Us=(n,t)=>Re("ceil",n,t),Qs=(n,t,e=!1)=>{let s;return e?s=Math.random()*(t-n)+n:s=Math.floor(Math.random()*(t-n+1))+n,s};return cs(Gs);})();
/**
 * @license
 * Copyright 2015 Dániel Sipos (siposdani87@gmail.com),
 * SUI-JS
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */
