/*

 Copyright 2015 DÃ¡niel Sipos (siposdani87@gmail.com),
 SUI-JS

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 either express or implied. See the License for the specific language
 governing permissions and limitations under the License.
*/
'use strict';var e,aa='function'==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},g='undefined'!=typeof window&&window===this?this:'undefined'!=typeof global&&null!=global?global:this;function k(){k=function(){};g.Symbol||(g.Symbol=ba)}var ba=function(){var a=0;return function(b){return'jscomp_symbol_'+(b||'')+a++}}();
function l(){k();var a=g.Symbol.iterator;a||(a=g.Symbol.iterator=g.Symbol('iterator'));'function'!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return m(this)}});l=function(){}}function m(a){var b=0;return ca(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ca(a){l();a={next:a};a[g.Symbol.iterator]=function(){return this};return a}
function n(a){if(!(a instanceof Array)){l();k();l();var b=a[Symbol.iterator];a=b?b.call(a):m(a);for(var c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function p(a,b){a=a.split('.');for(var c=window,d=a.pop(),f=0;f<a.length;f++)c=c[a[f]]=c[a[f]]||{};c[d]=b}var q=null;
function r(a){var b=a;u(a)&&!v(a,' ')&&(a=a.toLowerCase(),''===a?b='':'undefined'===a?b=void 0:'null'===a?b=null:'true'===a?b=!0:'false'===a?b=!1:'infinity'===a?b=Infinity:w(a)&&(b=-1!==a.indexOf('.')?parseFloat(a):parseInt(a,0)));return b}p('SUI.typeCast',r);function x(a,b){a=y(a);for(var c in b)b.hasOwnProperty(c)&&(a[c]=z(b[c].constructor)?x(a[c],b[c]):b[c]);return a}p('SUI.merge',x);
function A(a,b,c,d){c=void 0===c?'\\{':c;d=void 0===d?'\\}':d;B(b,function(b,h){a=a.replace(new RegExp(c+h+d,'gm'),b)});return a}p('SUI.format',A);p('SUI.convert',function(a,b){var c=a;w(a)?c=C(a,b):u(a)&&(c=D(a,b));return c});function C(a,b){var c=a;switch(b){case 'string':c=a.toString()}return c}p('SUI.convertNumber',C);function D(a,b){var c=a;switch(b){case 'integer':c=parseInt(a,10);break;case 'float':c=parseFloat(a)}return c}p('SUI.convertString',D);
p('SUI.defaultValue',function(a,b){return E(a)?b:a});function F(a){return function(){return a}}p('SUI.noop',F);p('SUI.eq',function(a,b){return a===b});p('SUI.neq',function(a,b){return a!==b});p('SUI.gt',function(a,b){return a>b});p('SUI.gte',function(a,b){return a>=b});p('SUI.lt',function(a,b){return a<b});p('SUI.lte',function(a,b){return a<=b});function G(a){return H(a,Array)}p('SUI.isArray',G);function I(a){return J(a,'function')}p('SUI.isFunction',I);function u(a){return J(a,'string')}
p('SUI.isString',u);function w(a){return!isNaN(a)&&(!K(['0','+'],a[0])||'0'===a)}p('SUI.isNumber',w);p('SUI.isFloat',function(a){return parseFloat(a)===a});p('SUI.isInteger',function(a){return parseInt(a,0)===a});function z(a){return J(a,'object')}p('SUI.isObject',z);p('SUI.isNull',function(a){return null===a});function E(a){return J(a,'undefined')}p('SUI.isUndefined',E);p('SUI.isFinite',function(a){return isFinite(a)});function J(a,b){return typeof a===b}p('SUI.is',J);
function H(a,b){return a instanceof b}p('SUI.instanceOf',H);function B(a,b,c,d){G(a)?L(a,b,c,d):z(a)&&M(a,b)}p('SUI.each',B);function L(a,b,c,d){d=d||a.length;for(c=c||0;c<d;c++)b(a[c],c)}p('SUI.eachArray',L);function M(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)}p('SUI.eachObject',M);p('SUI.sleepEach',function(a,b,c,d){function f(){a(b);b++;b<c&&setTimeout(f,d)}f()});function N(a){G(a)?O(a):z(a)&&P(a)}p('SUI.clear',N);function O(a){a.splice(0,a.length)}p('SUI.clearArray',O);
function P(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]}p('SUI.clearObject',P);function K(a,b){return-1!==a.indexOf(b)}p('SUI.inArray',K);function v(a,b){return-1!==a.indexOf(b)}p('SUI.contain',v);function Q(a,b){var c=JSON.stringify(a),d=JSON.stringify(b);if(z(a)&&z(b)&&c.length===d.length){var f=!0;M(a,function(a,c){Q(b[c],a)||(f=!1)});return f}return c===d}p('SUI.isSame',Q);p('SUI.remove',function(a,b){b=a.indexOf(b);-1!==b&&a.splice(b,1)});
function y(a){if(G(a))var b=[].concat(a);else z(a)&&(b={},B(a,function(a,d){b[d]=z(a)?y(a):a}));return b}p('SUI.copy',y);function R(a){var b=!1;if(G(a))b=0===a.length;else if(z(a)){var c=0;B(a,function(){c++});b=0===c}return b}p('SUI.isEmpty',R);p('SUI.list',function(a,b){b.apply(null,n(a))});p('SUI.random',function(a,b,c){return(void 0===c?0:c)?Math.random()*(b-a)+a:Math.floor(Math.random()*(b-a+1))+a});p('SUI.encodeBase64',function(a){return window.btoa(a)});p('SUI.decodeBase64',function(a){return window.atob(a)});
p('SUI.capitalize',function(a){return a.charAt(0).toUpperCase()+a.slice(1)});p('SUI.pluck',function(a,b){var c=[];B(a,function(a){a=a.get(b);c.push(a)});return c});p('SUI.currency',function(a,b,c,d){b=void 0===b?' ':b;c=void 0===c?',':c;d=void 0===d?0:d;a||(a=0);a=Math10.round(a,-1*d);d=a.toFixed(d).toString().split('.');a=d[1];d=d[0].split('').reverse().map(function(a,c){return c%3||!c?a:a+b}).reverse().join('');a&&(d+=c+a);return d});
p('SUI.number',function(a,b){for(var c=[{value:1E24,h:'Y'},{value:1E21,h:'Z'},{value:1E18,h:'E'},{value:1E15,h:'P'},{value:1E12,h:'T'},{value:1E9,h:'G'},{value:1E6,h:'M'},{value:1E3,h:'k'},{value:0,h:''}],d=/\.0+$|(\.[0-9]*[1-9])0+$/,f=Math10.round(a,b).toString().replace(d,'$1'),h=0;h<c.length&&a<c[h].value;)f=Math10.round(a/(c[h+1].value||1),b).toString().replace(d,'$1')+c[h+1].h,h++;return f});
p('SUI.mdl',function(a,b){b=void 0===b?!0:b;var c=a||document;I(c.v)&&(c=c.node);a?(b&&window.componentHandler.downgradeElements(c),window.componentHandler.upgradeElement(c)):window.componentHandler.upgradeDom()});p('SUI.reactRender',function(a,b,c){return window.ReactDOM.render(window.React.createElement(window[a],b),c.node)});p('SUI.reactUnmount',function(a){window.ReactDOM.unmountComponentAtNode(a.node)});
p('SUI.mapLabel',function(a,b){b=new window.MapLabel({text:b,strokeWeight:2,fontFamily:'sans-serif'});b.bindTo('position',a);b.bindTo('map',a);return b});p('SUI.mapText',function(a,b,c){return new window.MapLabel({text:a,strokeWeight:2,fontFamily:'sans-serif',position:b,map:c})});p('SUI.encrypt',function(a,b){a=JSON.stringify(a);return window.CryptoJS.AES.encrypt(a,b)});p('SUI.decrypt',function(a,b){a=window.CryptoJS.AES.decrypt(a,b).toString(window.CryptoJS.enc.Utf8);return JSON.parse(a||'null')});
p('SUI.md5',function(a){return window.CryptoJS.MD5(a)});p('SUI.generateId',function(a){var b=S();return[a,b].join('-')});function S(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}p('SUI.guid',S);p('SUI.uuid',function(){return[Math.random().toString(16).slice(2,10),Math.random().toString(16).slice(2,6),(.0625*Math.random()+.25).toString(16).slice(2,6),(.25*Math.random()+.5).toString(16).slice(2,6),Math.random().toString(16).slice(2,14)].join('-')});
function da(a,b,c,d){c=void 0===c?500:c;d=void 0===d?20:d;clearInterval(q);var f=-(window.scrollX-a)/(c/d),h=-(window.scrollY-b)/(c/d);q=setInterval(function(){if(window.scrollX!==a||window.scrollY!==b){if(0<f&&window.scrollX+f>a||0>f&&window.scrollX+f<a)f=a-window.scrollX;if(0<h&&window.scrollY+h>b||0>h&&window.scrollY+h<b)h=b-window.scrollY;window.scrollBy(f,h)}else clearInterval(q)},d)}p('SUI.scrollTo',da);
p('SUI.scrollToElement',function(a,b,c){b=void 0===b?500:b;c=void 0===c?20:c;a=(new T(a)).getItem().node.offsetTop;da(0,a,b,c)});p('SUI.debounce',function(a,b,c){b=void 0===b?250:b;c=void 0===c?!1:c;var d;return function(f){for(var h=[],t=0;t<arguments.length;++t)h[t]=arguments[t];t=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(null,n(h))},b);t&&a.apply(null,n(h))}});p('SUI.urlWithQueryString',function(a,b){b=ea(b);var c=v(a,'?')?'&':'?';return a+(b?c+b:'')});
function ea(a){var b=[];B(a,function(a,d){G(a)?L(a,function(a){b.push(A('{0}[]={1}',[d,a]))}):E(a)||b.push(A('{0}={1}',[d,a]))});return R(b)?'':b.join('&')}p('SUI.getQueryString',ea);p('SUI.getExtensionName',function(a){a=a.split('?',2)[0];return a.slice((Math.max(0,a.lastIndexOf('.'))||Infinity)+1)});function U(a){return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}p('SUI.hexColorToRGB',U);
function fa(a,b,c){a=[a,b,c];for(b=0;b<a.length;b++)a[b]=16>=a[b]?'0'+a[b].toString(16):''+a[b].toString(16);return'#'+a.join('')}p('SUI.RGBtoHexColor',fa);p('SUI.colorContrastYIQ',function(a,b,c){a=U(a);return 128<=(299*a[0]+587*a[1]+114*a[2])/1E3?void 0===c?'#252525':c:void 0===b?'#FEFEFE':b});p('SUI.colorContrast',function(a,b){b=void 0===b?.5:b;a=U(a);for(var c=0;c<a.length;c++)a[c]+=Math.round(a[c]*b),0>a[c]?a[c]=0:255<a[c]&&(a[c]=255);return fa.apply(null,a)});
p('SUI.allowKeys',function(a,b){return V(a,function(a){return K(b,a)})});p('SUI.denyKeys',function(a,b){return V(a,function(a){return!K(b,a)})});function V(a,b){a=(new W(a)).copy();var c=new W;a.m(function(a,f){b(f)&&c.set(f,a)});return c}p('SUI.filterKeys',V);function W(a){a=a||{};this.j(a)}W.prototype=Object.create(Object.prototype);e=W.prototype;e.constructor=W;e.j=function(a){if(z(a))for(var b in a)a.hasOwnProperty(b)&&(null===a[b]||!z(a[b])||G(a[b])?G(a[b])&&null!==a[b][0]&&z(a[b][0])?(ha(a,b),this[b]=a[b]):this[b]=r(a[b]):(H(this[b],W)||(this[b]=new W(this[b])),this[b].j(a[b])))};function ha(a,b){B(a[b],function(c,d){a[b][d]=new W(c)})}e.get=function(a,b,c){var d=this;a&&(a=(void 0===c?0:c)?[a]:a.split('.'),d=this.o(this,a));return E(d)?b:d};
e.o=function(a,b){var c=void 0;M(a,function(d,f){1===b.length&&f===b[0]?c=a[f]:f===b[0]&&null!==a[f]&&z(a[f])&&(d=y(b),d.shift(),c=this.o(a[f],d))}.bind(this));return c};e.set=function(a,b){var c={};a=a.split('.');for(var d=a.pop(),f=c,h=0;h<a.length;h++)f=f[a[h]]=f[a[h]]||{};f[d]=b;this.j(c)};e.remove=function(a){a=a.split('.');ia(this,this,a)};e.clear=function(){N(this)};
function ia(a,b,c){for(var d in b)if(b.hasOwnProperty(d))if(1===c.length&&d===c[0])delete b[d];else if(d===c[0]&&null!==b[d]&&z(b[d])){var f=y(c);f.shift();ia(a,b[d],f)}}e.m=function(a,b,c){var d=c||[];M(b||this,function(b,c){if(null!==b&&z(b)){var f=y(d);f.push(c);this.m(a,b,f)}else a(b,d.join('.'))}.bind(this))};e.copy=function(a){a=void 0===a?!1:a;var b=y(this);a||(b=new W(b));return b};e.isEmpty=function(){return R(this)};function X(a,b,c){a=void 0===a?[]:a;b=void 0===b?W:b;c=void 0===c?{}:c;this.l=b;b=c;b=void 0===b?{}:b;this.options=new W({id:'id',parent:void 0});this.options.j(b);this.c=[];this.load(a)}e=X.prototype;e.load=function(a){var b=this;B(a,function(a){b.push(a)})};e.push=function(a){var b=a;H(a,this.l)||(b=new this.l(a,E(this.options.parent)?this:this.options.parent));a=b;this.c.push(a);return a};e.set=function(a,b){var c=b;H(b,this.l)||(c=new this.l(b,this));a<this.size()?this.c[a]=c:this.push(c);return c};
e.replace=function(a){var b=a.get(this.options.id);(b=ja(this,this.options.id,b))&&b.j(a);return b};e.iterator=function(a,b,c){c=c||this.c;var d=[];B(c,function(c,h){a(c)&&(b(c,h),d.push(c))});return d};e.m=function(a){this.iterator(function(){return!0},a)};e.get=function(a,b){var c=null;0<=a&&a<this.c.length&&(c=a=this.c[a],b&&(c=a.get(b)));return c};e.clear=function(){N(this.c)};function ja(a,b,c){return ka(a,function(d,f){return a.get(f,b)===c})}
function ka(a,b){for(var c=0;c<a.c.length&&!b(a.c[c],c);)c++;return a.get(c)}e.delete=function(a){return la(this,function(b){return b===a})};function la(a,b){for(var c=0;c<a.c.length&&!b(a.c[c],c);)c++;b=a.get(c);a.c.splice(c,1);return b}e.size=function(){return this.c.length};function T(a,b){this.f=b||document;I(this.f.v)&&(this.f=this.f.node);b=[];-1!==a.indexOf(' ')||1<a.split('.').length-1||-1<a.indexOf('.')&&0!==a.indexOf('.')||-1!==a.indexOf('[')?b=this.f.querySelectorAll(a):0===a.indexOf('#')?(I(this.f.getElementById)||(this.f=document),a=this.f.getElementById(a.replace('#','')),b.push(a)):b=0===a.indexOf('.')?this.f.getElementsByClassName(a.replace('.','')):this.f.getElementsByTagName(a);a=[];for(var c=0;c<b.length;c++)b[c]&&a.push(b[c]);X.call(this,a,Y,{parent:null})}
var Z=T;Z.prototype=Object.create(X.prototype);Z.prototype.constructor=Z;T.prototype.getItem=function(){var a=this.get(0);a||(a=new Y(null));return a};function Y(a,b){if(u(a))if(v(a,'<')&&v(a,'</')){var c=document.createElement('template');c.innerHTML=a;a=c.content.firstElementChild}else a=document.createElement(a);this.node=a;this.c=b}e=Y.prototype;e.set=function(a,b){'id'===a?this.node.id=b:this.setAttribute(a,b)};e.j=function(a){var b=this;B(a,function(a,d){b.set(d,a)})};e.get=function(a){return'id'===a?this.node.id||null:this.node.getAttribute(a)||null};e.v=function(){return this.node};
e.setAttribute=function(a,b){b=E(b)?a:b;I(b)?this.node[a]=b:this.node.setAttribute(a,b)};e.addEventListener=function(a,b){var c=this,d=F();b&&(d=function(a){b(c,a);a.stopPropagation()},this.node.addEventListener(a,d),ma(this,a,d));return d};function ma(a,b,c){a.node._listeners||(a.node._listeners={});a.node._listeners[b]||(a.node._listeners[b]=[]);a.node._listeners[b].push(c)}e.trigger=function(a){a=new Event(a);this.node.dispatchEvent(a)};
e.createElement=function(a){a=document.createElement(a);return new Y(a,this.c)};e.appendChild=function(a){this.node.appendChild(a.node)};e.removeChild=function(a){if(this.node.hasChildNodes())try{this.node.removeChild(a.node)}catch(b){console.warn(b)}};e.remove=function(){var a=this.c&&!this.c.isEmpty()?this.c.node:this.node?this.node.parentElement:null;!this.isEmpty()&&a&&a.removeChild(this.node)};e.getComputedStyle=function(){return window.getComputedStyle(this.node)};
e.setStyle=function(a){var b=this;B(a,function(a,d){b.node.style.setProperty(d,a,'')})};e.isEmpty=function(){return!this.node};e.toString=function(a){return void 0===a||a?this.node.outerHTML:this.node.innerHTML};
export default window.SUI;