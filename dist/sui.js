/*

 Copyright 2015 D?niel Sipos (siposdani87@gmail.com),
 SUI-JS

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 either express or implied. See the License for the specific language
 governing permissions and limitations under the License.
*/
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b='undefined'!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return'undefined'!=typeof window&&window===a?a:'undefined'!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:b})};
$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError('Symbol is not a constructor');return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||'')+'_'+b++,c)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol('Symbol.asyncIterator'));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+='');var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split('.');for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill('Array.prototype.fill',function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},'es6','es3');
var _attributesToObject=function(a,b,c){for(var d=b.pop(),e=a,f=0;f<b.length;f++)e=e[b[f]]=e[b[f]]||{};e[d]=c;return a},goog={provide:function(a){},require:function(a){},exportSymbol:function(a,b){_attributesToObject(window,a.split('.'),b)},exportProperty:function(a,b,c){a[b]=c},inherits:function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}},SUI={title:'SUI-JS',description:'A frontend framework, help you to build fast, modern applications',version:'0.4.10',const:{},config:{},
res:{},lib:{},test:{},widget:{},_scrollInterval:null,coreRes:{app:'app',config:'config',event:'event',scheduler:'scheduler',http:'http',notification:'notification',template:'template',dialog:'dialog',confirm:'confirm',viewer:'viewer',header:'header',topMenu:'topMenu',leftMenu:'leftMenu',leftSidebar:'leftSidebar',rightSidebar:'rightSidebar',footer:'footer',bottomMenu:'bottomMenu',navBar:'navBar',script:'script',style:'style',state:'state',dom:'dom',document:'document',window:'window',helper:'helper',
cookie:'cookie',localStorage:'localStorage',sessionStorage:'sessionStorage',browser:'browser',loader:'loader',progressBar:'progressBar',geoLocation:'geoLocation',instances:'instances',console:'console',appCache:'appCache',serviceWorker:'serviceWorker',actionCable:'actionCable'},production:!1,typeCast:function(a){var b=a;SUI.isString(a)&&!SUI.contain(a,' ')&&(a=a.toLowerCase(),SUI.eq(a,'')?b='':SUI.eq(a,'undefined')?b=void 0:SUI.eq(a,'null')?b=null:SUI.eq(a,'true')?b=!0:SUI.eq(a,'false')?b=!1:SUI.eq(a,
'infinity')?b=Infinity:SUI.isNumber(a)&&(b=SUI.neq(a.indexOf('.'),-1)?parseFloat(a):parseInt(a,0)));return b}};goog.exportSymbol('SUI.typeCast',SUI.typeCast);SUI.invoke=function(a,b,c,d){SUI.Cls=function(){c&&c.apply(this,d||b);return a.apply(this,b)};c?(SUI.Cls.prototype=SUI.merge(c.prototype,a.prototype),SUI.Cls.prototype.constructor=SUI.Cls):SUI.Cls.prototype=a.prototype;return new SUI.Cls};
SUI.merge=function(a,b){a=SUI.copy(a);for(var c in b)b.hasOwnProperty(c)&&(SUI.isObject(b[c].constructor)?a[c]=SUI.merge(a[c],b[c]):a[c]=b[c]);return a};goog.exportSymbol('SUI.merge',SUI.merge);SUI.format=function(a,b,c,d){c=void 0===c?'\\{':c;d=void 0===d?'\\}':d;SUI.each(void 0===b?null:b,function(b,f){a=a.replace(new RegExp(c+f+d,'gm'),b)});return a};goog.exportSymbol('SUI.format',SUI.format);
SUI.convert=function(a,b){var c=a;SUI.isNumber(a)?c=SUI.convertNumber(a,b):SUI.isString(a)&&(c=SUI.convertString(a,b));return c};goog.exportSymbol('SUI.convert',SUI.convert);SUI.convertNumber=function(a,b){var c=a;switch(b){case 'string':c=a.toString()}return c};goog.exportSymbol('SUI.convertNumber',SUI.convertNumber);SUI.convertString=function(a,b){var c=a;switch(b){case 'integer':c=parseInt(a,10);break;case 'float':c=parseFloat(a)}return c};goog.exportSymbol('SUI.convertString',SUI.convertString);
SUI.defaultValue=function(a,b){return SUI.isUndefined(a)?b:a};goog.exportSymbol('SUI.defaultValue',SUI.defaultValue);SUI.noop=function(a){return function(){return a}};goog.exportSymbol('SUI.noop',SUI.noop);SUI.eq=function(a,b){return a===b};goog.exportSymbol('SUI.eq',SUI.eq);SUI.neq=function(a,b){return a!==b};goog.exportSymbol('SUI.neq',SUI.neq);SUI.gt=function(a,b){return a>b};goog.exportSymbol('SUI.gt',SUI.gt);SUI.gte=function(a,b){return a>=b};goog.exportSymbol('SUI.gte',SUI.gte);
SUI.lt=function(a,b){return a<b};goog.exportSymbol('SUI.lt',SUI.lt);SUI.lte=function(a,b){return a<=b};goog.exportSymbol('SUI.lte',SUI.lte);SUI.isArray=function(a){return SUI.instanceOf(a,Array)};goog.exportSymbol('SUI.isArray',SUI.isArray);SUI.isFunction=function(a){return SUI.is(a,'function')};goog.exportSymbol('SUI.isFunction',SUI.isFunction);SUI.isString=function(a){return SUI.is(a,'string')};goog.exportSymbol('SUI.isString',SUI.isString);
SUI.isNumber=function(a){return''!==a&&!isNaN(a)&&(!SUI.inArray(['0','+'],a[0])||'0'===a)};goog.exportSymbol('SUI.isNumber',SUI.isNumber);SUI.isFloat=function(a){return parseFloat(a)===a};goog.exportSymbol('SUI.isFloat',SUI.isFloat);SUI.isInteger=function(a){return parseInt(a,0)===a};goog.exportSymbol('SUI.isInteger',SUI.isInteger);SUI.isObject=function(a){return SUI.is(a,'object')};goog.exportSymbol('SUI.isObject',SUI.isObject);SUI.isNull=function(a){return null===a};
goog.exportSymbol('SUI.isNull',SUI.isNull);SUI.isUndefined=function(a){return SUI.is(a,'undefined')};goog.exportSymbol('SUI.isUndefined',SUI.isUndefined);SUI.isFinite=function(a){return isFinite(a)};goog.exportSymbol('SUI.isFinite',SUI.isFinite);SUI.is=function(a,b){return typeof a===b};goog.exportSymbol('SUI.is',SUI.is);SUI.instanceOf=function(a,b){return a instanceof b};goog.exportSymbol('SUI.instanceOf',SUI.instanceOf);
SUI.each=function(a,b,c,d){SUI.isArray(a)?SUI.eachArray(a,b,c,d):SUI.isObject(a)&&SUI.eachObject(a,b)};goog.exportSymbol('SUI.each',SUI.each);SUI.eachArray=function(a,b,c,d){d=d||a.length;for(c=c||0;c<d;c++)b(a[c],c)};goog.exportSymbol('SUI.eachArray',SUI.eachArray);SUI.eachObject=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)};goog.exportSymbol('SUI.eachObject',SUI.eachObject);SUI.sleepEach=function(a,b,c,d){var e=function(){a(b);b++;b<c&&setTimeout(e,d)};e()};
goog.exportSymbol('SUI.sleepEach',SUI.sleepEach);SUI.clear=function(a){SUI.isArray(a)?SUI.clearArray(a):SUI.isObject(a)&&SUI.clearObject(a)};goog.exportSymbol('SUI.clear',SUI.clear);SUI.clearArray=function(a){a.splice(0,a.length)};goog.exportSymbol('SUI.clearArray',SUI.clearArray);SUI.clearObject=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};goog.exportSymbol('SUI.clearObject',SUI.clearObject);SUI.inArray=function(a,b){return-1!==a.indexOf(b)};goog.exportSymbol('SUI.inArray',SUI.inArray);
SUI.contain=function(a,b){return-1!==a.indexOf(b)};goog.exportSymbol('SUI.contain',SUI.contain);SUI.inContainArray=function(a,b){for(var c=0;c<a.length&&!SUI.contain(b,a[c]);)c++;return c<a.length};goog.exportSymbol('SUI.inContainArray',SUI.inContainArray);SUI.isSame=function(a,b){var c=JSON.stringify(a),d=JSON.stringify(b);if(SUI.isObject(a)&&SUI.isObject(b)&&SUI.eq(c.length,d.length)){var e=!0;SUI.eachObject(a,function(a,c){SUI.isSame(b[c],a)||(e=!1)});return e}return SUI.eq(c,d)};
goog.exportSymbol('SUI.isSame',SUI.isSame);SUI.remove=function(a,b){b=a.indexOf(b);SUI.neq(b,-1)&&a.splice(b,1)};goog.exportSymbol('SUI.remove',SUI.remove);SUI.copy=function(a){if(SUI.isArray(a))var b=[].concat(a);else SUI.isObject(a)&&(b={},SUI.each(a,function(a,d){b[d]=SUI.isObject(a)?SUI.copy(a):a}));return b};goog.exportSymbol('SUI.copy',SUI.copy);SUI.isEmpty=function(a){var b=!1;if(SUI.isArray(a))b=0===a.length;else if(SUI.isObject(a)){var c=0;SUI.each(a,function(){c++});b=0===c}return b};
goog.exportSymbol('SUI.isEmpty',SUI.isEmpty);SUI.list=function(a,b){b.apply(null,$jscomp.arrayFromIterable(a))};goog.exportSymbol('SUI.list',SUI.list);SUI.random=function(a,b,c){return(void 0===c?0:c)?Math.random()*(b-a)+a:Math.floor(Math.random()*(b-a+1))+a};goog.exportSymbol('SUI.random',SUI.random);SUI.encodeBase64=function(a){return window.btoa(a)};goog.exportSymbol('SUI.encodeBase64',SUI.encodeBase64);SUI.decodeBase64=function(a){return window.atob(a)};goog.exportSymbol('SUI.decodeBase64',SUI.decodeBase64);
SUI.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};goog.exportSymbol('SUI.capitalize',SUI.capitalize);SUI.pluck=function(a,b){var c=[];SUI.each(a,function(a){a=a.get(b);c.push(a)});return c};goog.exportSymbol('SUI.pluck',SUI.pluck);SUI.pluckKeys=function(a,b){var c=[];SUI.eachObject(a,function(a,e){b(a)&&c.push(e)});return c};goog.exportSymbol('SUI.pluckKeys',SUI.pluckKeys);
SUI.currency=function(a,b,c,d){b=void 0===b?' ':b;c=void 0===c?',':c;d=void 0===d?0:d;a||(a=0);a=Math10.round(a,-1*d);d=a.toFixed(d).toString().split('.');a=d[1];d=d[0].split('').reverse().map(function(a,c){return c%3||!c?a:a+b}).reverse().join('');a&&(d+=c+a);return d};goog.exportSymbol('SUI.currency',SUI.currency);
SUI.number=function(a,b){for(var c=[{value:1E24,symbol:'Y'},{value:1E21,symbol:'Z'},{value:1E18,symbol:'E'},{value:1E15,symbol:'P'},{value:1E12,symbol:'T'},{value:1E9,symbol:'G'},{value:1E6,symbol:'M'},{value:1E3,symbol:'k'},{value:0,symbol:''}],d=/\.0+$|(\.[0-9]*[1-9])0+$/,e=Math10.round(a,b).toString().replace(d,'$1'),f=0;f<c.length&&a<c[f].value;)e=Math10.round(a/(c[f+1].value||1),b).toString().replace(d,'$1')+c[f+1].symbol,f++;return e};goog.exportSymbol('SUI.number',SUI.number);
SUI.mdl=function(a,b){b=void 0===b?!0:b;var c=a||document;SUI.isFunction(c.getNode)&&(c=c.getNode());a?(b&&window.componentHandler.downgradeElements(c),window.componentHandler.upgradeElement(c)):window.componentHandler.upgradeDom()};goog.exportSymbol('SUI.mdl',SUI.mdl);SUI.reactRender=function(a,b,c){return window.ReactDOM.render(window.React.createElement(window[a],b),c.getNode())};goog.exportSymbol('SUI.reactRender',SUI.reactRender);SUI.reactUnmount=function(a){window.ReactDOM.unmountComponentAtNode(a.getNode())};
goog.exportSymbol('SUI.reactUnmount',SUI.reactUnmount);SUI.mapLabel=function(a,b){b=new window.MapLabel({text:b,strokeWeight:2,fontFamily:'sans-serif'});b.bindTo('position',a);b.bindTo('map',a);return b};goog.exportSymbol('SUI.mapLabel',SUI.mapLabel);SUI.mapText=function(a,b,c){return new window.MapLabel({text:a,strokeWeight:2,fontFamily:'sans-serif',position:b,map:c})};goog.exportSymbol('SUI.mapText',SUI.mapText);
SUI.encrypt=function(a,b){a=JSON.stringify(a);return window.CryptoJS.AES.encrypt(a,b)};goog.exportSymbol('SUI.encrypt',SUI.encrypt);SUI.decrypt=function(a,b){a=window.CryptoJS.AES.decrypt(a,b).toString(window.CryptoJS.enc.Utf8);return JSON.parse(a||'null')};goog.exportSymbol('SUI.decrypt',SUI.decrypt);SUI.md5=function(a){return window.CryptoJS.MD5(a)};goog.exportSymbol('SUI.md5',SUI.md5);SUI.generateId=function(a){var b=SUI.guid();return[a,b].join('-')};goog.exportSymbol('SUI.generateId',SUI.generateId);
SUI.guid=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)};goog.exportSymbol('SUI.guid',SUI.guid);SUI.uuid=function(){return[Math.random().toString(16).slice(2,10),Math.random().toString(16).slice(2,6),(.0625*Math.random()+.25).toString(16).slice(2,6),(.25*Math.random()+.5).toString(16).slice(2,6),Math.random().toString(16).slice(2,14)].join('-')};goog.exportSymbol('SUI.uuid',SUI.uuid);
SUI.scrollTo=function(a,b,c,d){c=void 0===c?500:c;d=void 0===d?20:d;clearInterval(SUI._scrollInterval);var e=-(window.scrollX-a)/(c/d),f=-(window.scrollY-b)/(c/d);SUI._scrollInterval=setInterval(function(){if(0<e&&window.scrollX+e>a||0>e&&window.scrollX+e<a)e=a-window.scrollX;if(0<f&&window.scrollY+f>b||0>f&&window.scrollY+f<b)f=b-window.scrollY;window.scrollX!==a||window.scrollY!==b?window.scrollBy(e,f):clearInterval(SUI._scrollInterval)},d)};goog.exportSymbol('SUI.scrollTo',SUI.scrollTo);
SUI.scrollToElement=function(a,b,c){b=void 0===b?500:b;c=void 0===c?20:c;a=(new SUI.Query(a)).getItem().getNode();SUI.scrollTo(a.offsetLeft,a.offsetTop,b,c)};goog.exportSymbol('SUI.scrollToElement',SUI.scrollToElement);SUI.debounce=function(a,b,c){b=void 0===b?250:b;c=void 0===c?!1:c;var d;return function(e){for(var f=[],g=0;g<arguments.length;++g)f[g-0]=arguments[g];g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(null,$jscomp.arrayFromIterable(f))},b);g&&a.apply(null,$jscomp.arrayFromIterable(f))}};
goog.exportSymbol('SUI.debounce',SUI.debounce);SUI.urlWithQueryString=function(a,b){b=SUI.getQueryString(b);var c=SUI.contain(a,'?')?'&':'?';return a+(b?c+b:'')};goog.exportSymbol('SUI.urlWithQueryString',SUI.urlWithQueryString);SUI.getQueryString=function(a){var b=[];SUI.each(a,function(a,d){SUI.isArray(a)?SUI.eachArray(a,function(a){b.push(SUI.format('{0}[]={1}',[d,a]))}):SUI.isUndefined(a)||b.push(SUI.format('{0}={1}',[d,a]))});return SUI.isEmpty(b)?'':b.join('&')};
goog.exportSymbol('SUI.getQueryString',SUI.getQueryString);SUI.getExtensionName=function(a){a=a.split('?',2)[0];return a.slice((Math.max(0,a.lastIndexOf('.'))||Infinity)+1)};goog.exportSymbol('SUI.getExtensionName',SUI.getExtensionName);SUI.hexColorToRGB=function(a){var b=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,2),16);a=parseInt(a.substr(5,2),16);return[b,c,a]};goog.exportSymbol('SUI.hexColorToRGB',SUI.hexColorToRGB);
SUI.RGBtoHexColor=function(a,b,c){a=[a,b,c];for(b=0;b<a.length;b++)a[b]=16>=a[b]?'0'+a[b].toString(16):''+a[b].toString(16);return'#'+a.join('')};goog.exportSymbol('SUI.RGBtoHexColor',SUI.RGBtoHexColor);SUI.colorContrastYIQ=function(a,b,c){b=void 0===b?'#FEFEFE':b;c=void 0===c?'#252525':c;a=SUI.hexColorToRGB(a);return 128<=(299*a[0]+587*a[1]+114*a[2])/1E3?c:b};goog.exportSymbol('SUI.colorContrastYIQ',SUI.colorContrastYIQ);
SUI.colorContrast=function(a,b){b=void 0===b?.5:b;a=SUI.hexColorToRGB(a);for(var c=0;c<a.length;c++)a[c]+=Math.round(a[c]*b),0>a[c]?a[c]=0:255<a[c]&&(a[c]=255);return SUI.RGBtoHexColor.apply(null,a)};goog.exportSymbol('SUI.colorContrast',SUI.colorContrast);SUI.allowKeys=function(a,b){return SUI.filterKeys(a,function(a){return SUI.inContainArray(b,a)})};goog.exportSymbol('SUI.allowKeys',SUI.allowKeys);SUI.denyKeys=function(a,b){return SUI.filterKeys(a,function(a){return!SUI.inContainArray(b,a)})};
goog.exportSymbol('SUI.denyKeys',SUI.denyKeys);SUI.filterKeys=function(a,b){a=new SUI.Object(a);var c=new SUI.Object;a.each(function(a,e){b(e)&&c.set(e,a)});return c};goog.exportSymbol('SUI.filterKeys',SUI.filterKeys);SUI.normalize=function(a){return a.normalize('NFD').replace(/[\u0300-\u036f]/g,'')};goog.exportSymbol('SUI.normalize',SUI.normalize);SUI.Object=function(a){a=a||{};Object.call(this,a);this.merge(a)};goog.exportSymbol('SUI.Object',SUI.Object);SUI.Object.prototype=Object.create(Object.prototype);SUI.Object.prototype.constructor=SUI.Object;
SUI.Object.prototype.merge=function(a){if(SUI.isObject(a))for(var b in a)a.hasOwnProperty(b)&&(SUI.isNull(a[b])||!SUI.isObject(a[b])||SUI.isArray(a[b])?SUI.isArray(a[b])&&!SUI.isNull(a[b][0])&&SUI.isObject(a[b][0])?(this._convertObject(a,b),this[b]=a[b]):this[b]=SUI.typeCast(a[b]):(SUI.instanceOf(this[b],SUI.Object)||(this[b]=new SUI.Object(this[b])),this[b].merge(a[b])));return this};goog.exportProperty(SUI.Object.prototype,'merge',SUI.Object.prototype.merge);
SUI.Object.prototype._convertObject=function(a,b){SUI.each(a[b],function(c,d){a[b][d]=new SUI.Object(c)})};SUI.Object.prototype.speedGet=function(a,b,c){var d=this;if(a&&(d=this[a],a=(void 0===c?0:c)?[a]:a.split('.'),1<a.length)){c=this;for(var e=0;e<a.length&&!SUI.isUndefined(c[a[e]]);)d=c=c[a[e]],e++;if(a.length!==e)return b}return d};SUI.Object.prototype.get=function(a,b,c){c=void 0===c?!1:c;var d=this;a&&(a=c?[a]:a.split('.'),d=this._get(this,a));return SUI.isUndefined(d)?b:d};
goog.exportProperty(SUI.Object.prototype,'get',SUI.Object.prototype.get);SUI.Object.prototype._get=function(a,b){var c=void 0;SUI.eachObject(a,function(d,e){1===b.length&&e===b[0]?c=a[e]:e===b[0]&&!SUI.isNull(a[e])&&SUI.isObject(a[e])&&(d=SUI.copy(b),d.shift(),c=this._get(a[e],d))}.bind(this));return c};SUI.Object.prototype._set=function(a,b,c){SUI.eachObject(a,function(d,e){1===b.length&&e===b[0]?a[e]=c:e===b[0]&&!SUI.isNull(a[e])&&SUI.isObject(a[e])&&(d=SUI.copy(b),d.shift(),this._set(a[e],d,c))}.bind(this))};
SUI.Object.prototype.set=function(a,b){var c={};c=this._attributesToObject(c,a.split('.'),b);this.merge(c)};goog.exportProperty(SUI.Object.prototype,'set',SUI.Object.prototype.set);SUI.Object.prototype.setRaw=function(a,b,c){c=void 0===c?!1:c;this.set(a,null);a=c?[a]:a.split('.');this._set(this,a,b)};goog.exportProperty(SUI.Object.prototype,'setRaw',SUI.Object.prototype.setRaw);SUI.Object.prototype.remove=function(a){a=a.split('.');this._remove(this,a)};
goog.exportProperty(SUI.Object.prototype,'remove',SUI.Object.prototype.remove);SUI.Object.prototype.clear=function(){SUI.clear(this)};goog.exportProperty(SUI.Object.prototype,'clear',SUI.Object.prototype.clear);SUI.Object.prototype._remove=function(a,b){for(var c in a)if(a.hasOwnProperty(c))if(1===b.length&&c===b[0])delete a[c];else if(c===b[0]&&!SUI.isNull(a[c])&&SUI.isObject(a[c])){var d=SUI.copy(b);d.shift();this._remove(a[c],d)}};
SUI.Object.prototype.each=function(a,b,c){var d=this,e=c||[];SUI.eachObject(b||this,function(b,c){var f=SUI.copy(e);f.push(c);!SUI.isNull(b)&&SUI.isObject(b)?d.each(a,b,f):a(b,f.join('.'))})};goog.exportProperty(SUI.Object.prototype,'each',SUI.Object.prototype.each);SUI.Object.prototype._attributesToObject=function(a,b,c){for(var d=b.pop(),e=a,f=0;f<b.length;f++)e=e[b[f]]=e[b[f]]||{};e[d]=c;return a};
SUI.Object.prototype.copy=function(a){a=void 0===a?!1:a;var b=SUI.copy(this);a||(b=new SUI.Object(b));return b};goog.exportProperty(SUI.Object.prototype,'copy',SUI.Object.prototype.copy);SUI.Object.prototype.isEmpty=function(){return SUI.isEmpty(this)};goog.exportProperty(SUI.Object.prototype,'isEmpty',SUI.Object.prototype.isEmpty);SUI.Promise=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({status:null,data:null,resolve:null,reject:null,complete:null});this.options.merge(a)};SUI.Promise.prototype._resolve=function(a){SUI.isArray(a)||(a=[a]);SUI.isFunction(this.options.resolve)&&SUI.isFunction(this.options.complete)?(this.options.resolve.apply(this,a),this.options.complete.apply(this,a)):(this.options.data=a,this.options.status=!0)};
SUI.Promise.prototype._reject=function(a){SUI.isArray(a)||(a=a?[a]:[]);SUI.isFunction(this.options.reject)&&SUI.isFunction(this.options.complete)?(this.options.reject.apply(this,a),this.options.complete.apply(this,a)):(this.options.data=a,this.options.status=!1)};
SUI.Promise.prototype.then=function(a,b,c){b=b||SUI.noop();c=c||SUI.noop();switch(this.options.status){case !0:a.apply(this,this.options.data);c.apply(this,this.options.data);break;case !1:b.apply(this,this.options.data);c.apply(this,this.options.data);break;default:this.options.merge({resolve:a,reject:b,complete:c})}};
SUI.Promise.prototype.defer=function(a,b){this.then(function(b){for(var c=[],e=0;e<arguments.length;++e)c[e-0]=arguments[e];a.resolve(c)},function(b){for(var c=[],e=0;e<arguments.length;++e)c[e-0]=arguments[e];a.reject(c)},b)};SUI.Deferred=function(){this._promise=new SUI.Promise};SUI.Deferred.prototype.promise=function(){return this._promise};SUI.Deferred.prototype.resolve=function(a){this._promise._resolve(a)};SUI.Deferred.prototype.reject=function(a){this._promise._reject(a)};SUI.lib=function(){};SUI.lib.ActionCableClient=function(a,b){this.parent=a;this._init(b)};SUI.lib.ActionCableClient.prototype._init=function(a){this.subscription=this._getSubscription(a)};SUI.lib.ActionCableClient.prototype._getSubscription=function(a){var b=new SUI.Deferred;this.client=this.parent.cable.subscriptions.create(a,{received:function(a){a=new SUI.Object(JSON.parse(a.message));b.resolve(a)}});return b.promise()};SUI.lib.ActionCableClient.prototype.subscribe=function(){return this.subscription};
SUI.lib.ActionCableClient.prototype.send=function(a,b){b=void 0===b?{}:b;b.message=a;this.client.send(b)};SUI.lib.ActionCableClient.prototype.unsubscribe=function(){this.client.unsubscribe()};SUI.Module=function(){this._modules={};this._instances={};this._injections={};this._dependencies=[];this._services=[];this._controller={enter:SUI.noop(),exit:SUI.noop()}};SUI.Module.prototype.load=function(a,b){this._instances=a;this._injections=b;this._instances[this._injections.instances]=this._instances};SUI.Module.prototype.getController=function(){return this._controller};SUI.Module.prototype.add=function(a,b,c,d){this._modules[a]=this._getDependencies(b,c,d)};
SUI.Module.prototype._getDependencies=function(a,b,c){c&&a.push(c);return{moduleInjections:a,moduleCallback:b,extendModule:c}};SUI.Module.prototype._resolveDependencies=function(a){var b=this,c=[];SUI.each(a.moduleInjections,function(a){c.push(b._instances[a])});if(this._modules[a.extendModule]){var d=this._modules[a.extendModule].moduleCallback;var e=[];SUI.each(this._modules[a.extendModule].moduleInjections,function(a){e.push(b._instances[a])})}return SUI.invoke(a.moduleCallback,c,d,e)};
SUI.Module.prototype._orderServices=function(){for(var a in this._modules)if(this._modules.hasOwnProperty(a)&&this._isModule(a)){-1===this._services.indexOf(a)&&this._services.push(a);for(var b=this._modules[a].moduleInjections,c=0;c<b.length;c++)this._isModule(b[c])&&(-1===this._services.indexOf(b[c])&&this._services.push(b[c]),this._changeServices(a,b[c]))}};SUI.Module.prototype._isModule=function(a){a=a.substr(a.length-7);return SUI.eq(a,'Service')||SUI.eq(a,'Factory')};
SUI.Module.prototype._changeServices=function(a,b){-1!==this._dependencies.indexOf([b,a].join('-'))&&console.error('SUI.Modules._changeServices()','Dependency injection circular loop',b,'<=>',a);this._dependencies.push([a,b].join('-'));a=this._services.indexOf(a);this._services.indexOf(b)>a&&(b=this._services[a],this._services.splice(a,1),this._services.push(b))};
SUI.Module.prototype.handleServices=function(){this._orderServices();var a=[];SUI.each(this._services,function(b){var c=function(){this._instances[b]=this._resolveDependencies(this._modules[b]);var a=SUI.noop();SUI.isFunction(this._instances[b].enter)&&(a=this._instances[b].enter.bind(this._instances[b]));return a()}.bind(this);a.push(c)}.bind(this));this.eventAfterInit();(new SUI.Async).serial(a).then(function(){this.eventServiceLoaded();this._instances[this._injections.state].run()}.bind(this),
function(){this.eventServiceFailed()}.bind(this))};SUI.Module.prototype.handleRoutes=function(a,b){this._instances[this._injections.state]=new SUI.State(a,b);this._instances[this._injections.state].eventChange=function(a,b){var c=SUI.noop();!b.isEmpty()&&SUI.isObject(this._controller)&&SUI.isFunction(this._controller.exit)&&(c=this._controller.exit.bind(this._controller));(new SUI.Async).serial([c]).then(function(){this._handleStateChange(a)}.bind(this))}.bind(this)};
SUI.Module.prototype._handleStateChange=function(a){var b=this;this.eventStateChange(a).then(function(){if(a.get('template')){var c=a.get('templateUrl');b._instances[b._injections.template].load(c).then(function(c){b.eventModuleLoaded(a);b._initController(a,c)},function(){b.eventModuleFailed(a)})}else b.eventModuleLoaded(a),b._initController(a,b._instances[b._injections.template].getViewNode())},function(){b.eventModuleFailed(a)})};
SUI.Module.prototype._initController=function(a,b){var c=this;this._instances[this._injections.dom]=b;var d=this._modules[a.get('controller')];d?this.eventDomChange(a,b).then(function(){c._controller=c._resolveDependencies(d);SUI.isObject(c._controller)&&SUI.isFunction(c._controller.enter)?(new SUI.Async).serial([c._controller.enter.bind(c._controller)]).then(function(){c.eventControllerLoaded(b)}):c.eventControllerLoaded(b)}):this.eventControllerFailed()};
SUI.Module.prototype.eventControllerLoaded=function(a){console.warn('SUI.Module.eventControllerLoaded()',a)};SUI.Module.prototype.eventControllerFailed=function(){console.warn('SUI.Module.eventControllerFailed()')};SUI.Module.prototype.eventModuleFailed=function(a){console.warn('SUI.Module.eventModuleFailed()',a)};SUI.Module.prototype.eventModuleLoaded=function(a){console.warn('SUI.Module.eventModuleLoaded()',a)};
SUI.Module.prototype.eventStateChange=function(a){var b=new SUI.Deferred;console.warn('SUI.Module.eventStateChange()',a);b.resolve();return b.promise()};SUI.Module.prototype.eventDomChange=function(a,b){var c=new SUI.Deferred;console.warn('SUI.Module.eventDomChange()',a,b);c.resolve();return c.promise()};SUI.Module.prototype.eventAfterInit=function(){console.warn('SUI.Module.eventAfterInit()')};SUI.Module.prototype.eventServiceLoaded=function(){console.warn('SUI.Module.eventServiceLoaded()')};
SUI.Module.prototype.eventServiceFailed=function(){console.warn('SUI.Module.eventServiceFailed()')};SUI.Collection=function(a,b,c){a=void 0===a?[]:a;b=void 0===b?SUI.Object:b;c=void 0===c?{}:c;this.Type=b;this._setOptions(c);this.items=[];this.load(a)};SUI.Collection.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({id:'id',parent:void 0});this.options.merge(a)};SUI.Collection.prototype.load=function(a){var b=this;SUI.each(a,function(a){b.push(a)})};SUI.Collection.prototype.reload=function(a){this.clear();this.load(a)};
SUI.Collection.prototype.push=function(a){a=this._createItem(a);this.items.push(a);return a};SUI.Collection.prototype._createItem=function(a){var b=a;SUI.instanceOf(a,this.Type)||(b=SUI.isUndefined(this.options.parent)?this:this.options.parent,b=new this.Type(a,b));return b};SUI.Collection.prototype.set=function(a,b){var c=b;SUI.instanceOf(b,this.Type)||(c=new this.Type(b,this));a<this.size()?this.items[a]=c:this.push(c);return c};
SUI.Collection.prototype.replace=function(a){var b=this.findById(a.get(this.options.id));b&&b.merge(a);return b};SUI.Collection.prototype.getItems=function(){return this.items};SUI.Collection.prototype.iterator=function(a,b,c){c=c||this.items;var d=[];SUI.each(c,function(c,f){a(c)&&(b(c,f),d.push(c))});return d};SUI.Collection.prototype.each=function(a){this.iterator(function(){return!0},a)};
SUI.Collection.prototype.get=function(a,b){var c=null;0<=a&&a<this.items.length&&(c=a=this.items[a],b&&(c=a.get(b)));return c};SUI.Collection.prototype.getById=function(a,b){return(a=this.findById(a))&&b?a.get(b):a};SUI.Collection.prototype.clear=function(){SUI.clear(this.items)};SUI.Collection.prototype.findById=function(a){return this.findBy(this.options.id,a)};SUI.Collection.prototype.findBy=function(a,b){var c=this;return this.findByCondition(function(d,e){return c.get(e,a)===b})};
SUI.Collection.prototype.findByCondition=function(a){for(var b=0;b<this.items.length&&!a(this.items[b],b);)b++;return this.get(b)};SUI.Collection.prototype.findAllBy=function(a,b){var c=this;return this.findAllByCondition(function(d,e){return c.get(e,a)===b})};SUI.Collection.prototype.findAllByCondition=function(a){var b=this,c=[];SUI.each(this.items,function(d,e){a(d,e)&&c.push(b.get(e))});return c};
SUI.Collection.prototype.delete=function(a){return this.deleteByCondition(function(b){return SUI.eq(b,a)})};SUI.Collection.prototype.deleteById=function(a){return this.deleteBy(this.options.id,a)};SUI.Collection.prototype.deleteBy=function(a,b){var c=this;return this.deleteByCondition(function(d,e){return c.get(e,a)===b})};SUI.Collection.prototype.deleteByCondition=function(a){for(var b=0;b<this.items.length&&!a(this.items[b],b);)b++;a=this.get(b);this.items.splice(b,1);return a};
SUI.Collection.prototype.deleteAllBy=function(a,b){var c=this;return this.deleteAllByCondition(function(d,e){return c.get(e,a)===b})};SUI.Collection.prototype.deleteAllByCondition=function(a){var b=this,c=[],d=[];SUI.each(this.items,function(e,f){a(e,f)?d.push(b.get(f)):c.push(b.get(f))});this.items=c;return d};SUI.Collection.prototype.size=function(){return this.items.length};SUI.Collection.prototype.limit=function(a,b){return this.items.slice(a,a+(void 0===b?10:b))};
SUI.Collection.prototype.pluck=function(a){return SUI.pluck(this.items,a)};SUI.Query=function(a,b){this.element=b||document;SUI.isFunction(this.element.getNode)&&(this.element=this.element.getNode());a=this._querySelector(a);SUI.Collection.call(this,a,SUI.Node,{parent:null})};goog.inherits(SUI.Query,SUI.Collection);
SUI.Query.prototype._querySelector=function(a){var b=[];-1!==a.indexOf(' ')||1<a.split('.').length-1||-1<a.indexOf('.')&&0!==a.indexOf('.')||-1!==a.indexOf('[')?b=this.element.querySelectorAll(a):0===a.indexOf('#')?(SUI.isFunction(this.element.getElementById)||(this.element=document),a=this.element.getElementById(a.replace('#','')),b.push(a)):b=0===a.indexOf('.')?this.element.getElementsByClassName(a.replace('.','')):this.element.getElementsByTagName(a);a=[];for(var c=0;c<b.length;c++)b[c]&&a.push(b[c]);
return a};SUI.Query.prototype.getItem=function(){var a=this.get(0);a||(a=new SUI.Node(null));return a};SUI.Test=function(a){this.name=a};SUI.Test.prototype.init=function(){};SUI.Test.prototype.run=function(){for(var a in SUI.test)SUI.test.hasOwnProperty(a)&&((new SUI.test[a]).init(),console.info('SUI.test.'+a+'.init()'))};SUI.Test.prototype.showError=function(a,b){console.error(this.name+'.'+a,b)};SUI.Test.prototype.showLog=function(a,b){console.info(this.name+'.'+a,b)};SUI.lib.AppCache=function(){this._init()};SUI.lib.AppCache.prototype._init=function(){(this.appCache=window.applicationCache)?this._attachEvent():this.eventMissingFeatures(['window.applicationCache'])};SUI.lib.AppCache.prototype.eventMissingFeatures=function(a){console.warn('SUI.lib.AppCache.eventMissingFeatures()',a)};
SUI.lib.AppCache.prototype._attachEvent=function(){var a=this;this.appCache.addEventListener('updateready',function(){a.appCache.status===a.appCache.UPDATEREADY&&confirm('A new version of this site is available. Load it?')&&window.location.reload()});var b=function(a){};this.appCache.addEventListener('cached',b,!1);this.appCache.addEventListener('checking',b,!1);this.appCache.addEventListener('downloading',b,!1);this.appCache.addEventListener('error',function(a){},!1);this.appCache.addEventListener('noupdate',
b,!1);this.appCache.addEventListener('obsolete',b,!1);this.appCache.addEventListener('progress',b,!1);this.appCache.addEventListener('updateready',b,!1)};
SUI.lib.AppCache.prototype.getState=function(){switch(this.appCache.status){case this.appCache.UNCACHED:var a='UNCACHED';break;case this.appCache.IDLE:a='IDLE';break;case this.appCache.CHECKING:a='CHECKING';break;case this.appCache.DOWNLOADING:a='DOWNLOADING';break;case this.appCache.UPDATEREADY:a='UPDATEREADY';break;case this.appCache.OBSOLETE:a='OBSOLETE';break;default:a='UKNOWN CACHE STATUS'}return a};SUI.lib.AppCache.prototype.update=function(){this.appCache.update()};
SUI.lib.AppCache.prototype.abort=function(){this.appCache.abort()};SUI.lib.AppCache.prototype.swapCache=function(){this.appCache.swapCache()};SUI.lib.BottomMenu=function(a){this.footer=a;this._init()};
SUI.lib.BottomMenu.prototype._init=function(){var a=this;this.bottomMenu=(new SUI.Query('#bottom-menu',this.footer.footerNode)).getItem();var b=(new SUI.Query('#open-bottom-menu',this.footer.footerNode)).getItem();b.setAttribute('href','javascript:void(0)');b.addEventListener('click',function(){a.toggle()});b=(new SUI.Query('#close-bottom-menu',this.footer.footerNode)).getItem();b.setAttribute('href','javascript:void(0)');b.addEventListener('click',function(){a.toggle()})};
SUI.lib.BottomMenu.prototype.toggle=function(){this.isOpened()?this.close():this.open()};SUI.lib.BottomMenu.prototype.isOpened=function(){return this.bottomMenu.hasClass('visible-flex')};SUI.lib.BottomMenu.prototype.open=function(){this.bottomMenu.addClass('visible-flex');this.footer.open()};SUI.lib.BottomMenu.prototype.close=function(){this.bottomMenu.removeClass('visible-flex');this.footer.close()};SUI.lib.BottomMenu.prototype.getContainer=function(){return this.bottomMenu};SUI.lib.Browser=function(){this._init()};SUI.lib.Browser.prototype._init=function(){this._detectBrowsers();this._detectMissingFeatures()};
SUI.lib.Browser.prototype._detectMissingFeatures=function(){this.features=[];this._setFeature('navigator.geolocation',navigator&&navigator.geolocation);this._setFeature('window.history',window.history);this._setFeature('window.localStorage',window.localStorage);this._setFeature('window.sessionStorage',window.sessionStorage);this._setFeature('window.btoa',window.btoa);this._setFeature('window.atob',window.atob);this._setFeature('console.log',console.log);this._setFeature('console.info',console.info);
this._setFeature('console.warn',console.warn);this._setFeature('console.error',console.error)};SUI.lib.Browser.prototype.detect=function(){SUI.isEmpty(this.features)||this.eventMissingFeatures(this.features)};SUI.lib.Browser.prototype._setFeature=function(a,b){SUI.eq(!!b,!1)&&this.features.push(a)};SUI.lib.Browser.prototype.eventMissingFeatures=function(a){console.error('SUI.lib.Browser.eventMissingFeatures()',a)};
SUI.lib.Browser.prototype._detectBrowsers=function(){this.browsers={};this.browsers.webkit='WebkitAppearance'in document.documentElement.style;this.browsers.chromium=!!window.chrome;this.browsers.chrome=!!window.chrome&&!!window.chrome.webstore;this.browsers.opera=!!window.opera||/opera|opr/i.test(navigator.userAgent);this.browsers.firefox='MozAppearance'in document.documentElement.style;this.browsers.safari=/constructor/i.test(window.HTMLElement);this.browsers.IE10='behavior'in document.documentElement.style&&
'-ms-user-select'in document.documentElement.style;this.browsers.lteIE10=!1;this.browsers.gteIE10=void 0!==document.body.style.msTouchAction;this.browsers.IE11='-ms-scroll-limit'in document.documentElement.style&&'-ms-ime-align'in document.documentElement.style};SUI.lib.Browser.prototype.isInternetExplorer=function(a){var b=this.browsers.lteIE10||this.browsers.gteIE10;if(a)switch(a){case 11:b=this.browsers.IE11;break;case 10:b=this.browsers.IE10;break;default:b=this.browsers.lteIE10}return b};
SUI.lib.Browser.prototype.isFirefox=function(){return this.browsers.firefox};SUI.lib.Browser.prototype.isChrome=function(){return this.browsers.chrome};SUI.lib.Browser.prototype.isOpera=function(){return this.browsers.opera};SUI.lib.Browser.prototype.isSafari=function(){return this.browsers.safari};SUI.lib.Browser.prototype.isWebkit=function(){return this.browsers.webkit};SUI.lib.Browser.prototype.isChromium=function(){return this.browsers.chromium};SUI.Node=function(a,b){if(SUI.isString(a))if(SUI.contain(a,'<')&&SUI.contain(a,'</')){var c=document.createElement('template');c.innerHTML=a;a=c.content.firstElementChild}else a=document.createElement(a);this.node=a;this.parentNode=b;this.listenerStoreKey='_listeners'};SUI.Node.prototype.set=function(a,b){SUI.eq(a,'id')?this.setId(b):this.setAttribute(a,b)};SUI.Node.prototype.merge=function(a){var b=this;SUI.each(a,function(a,d){b.set(d,a)})};
SUI.Node.prototype.get=function(a){return SUI.eq(a,'id')?this.getId():this.getAttribute(a)};SUI.Node.prototype.getNode=function(){return this.node};SUI.Node.prototype.getTagName=function(){return this.node.tagName.toLowerCase()};SUI.Node.prototype.getId=function(){return this.node.id||null};SUI.Node.prototype.setId=function(a){this.node.id=a};SUI.Node.prototype.setFor=function(a){this.node.htmlFor=a;this.setAttribute('for',a)};SUI.Node.prototype.getFor=function(){return this.node.htmlFor||this.getAttribute('for')};
SUI.Node.prototype.hasClass=function(a){return this.node.classList.contains(a)};SUI.Node.prototype._handleClassList=function(a,b){SUI.isArray(a)?SUI.each(a,function(a){b(a)}):b(a)};SUI.Node.prototype.addClass=function(a){var b=this;this._handleClassList(a,function(a){a&&!b.hasClass(a)&&b.node.classList.add(a)})};SUI.Node.prototype.removeClass=function(a){var b=this;this._handleClassList(a,function(a){b.node.classList.remove(a)})};
SUI.Node.prototype.toggleClass=function(a){var b=this;this._handleClassList(a,function(a){b.node.classList.toggle(a)})};SUI.Node.prototype.getClasses=function(){return this.node.classList.value.split(' ')};SUI.Node.prototype.setAttribute=function(a,b){b=SUI.isUndefined(b)?a:b;SUI.isFunction(b)?this.node[a]=b:SUI.contain(a,'data-')&&SUI.isObject(b)?this.node.setAttribute(a,JSON.stringify(b)):this.node.setAttribute(a,b)};
SUI.Node.prototype.getAttribute=function(a){var b=this.node.getAttribute(a);return SUI.contain(a,'data-')&&b&&(SUI.eq(b[0],'[')||SUI.eq(b[0],'{'))?JSON.parse(b)||null:SUI.typeCast(b||null)};SUI.Node.prototype.removeAttribute=function(a){this.node.removeAttribute(a)};SUI.Node.prototype.hasAttribute=function(a){return this.node.hasAttribute(a)};
SUI.Node.prototype.addEventListener=function(a,b){var c=this,d=SUI.noop();b&&(d=function(a){a.stopPropagation();b(c,a)||a.preventDefault()},this.node.addEventListener(a,d),this._addListenerToStore(a,d));return d};SUI.Node.prototype._addListenerToStore=function(a,b){this.node[this.listenerStoreKey]||(this.node[this.listenerStoreKey]={});this.node[this.listenerStoreKey][a]||(this.node[this.listenerStoreKey][a]=[]);this.node[this.listenerStoreKey][a].push(b)};
SUI.Node.prototype._getListenerToStore=function(a){return this.node[this.listenerStoreKey]||this.node[this.listenerStoreKey][a]?this.node[this.listenerStoreKey][a]:[]};SUI.Node.prototype.removeEventListener=function(a,b){this.node.removeEventListener(a,b)};SUI.Node.prototype.removeEventListeners=function(a){var b=this,c=this._getListenerToStore(a);SUI.eachArray(c,function(c){b.removeEventListener(a,c)})};SUI.Node.prototype.dispatchEvent=function(a){this.node.dispatchEvent(a)};
SUI.Node.prototype.trigger=function(a){a=new Event(a);this.dispatchEvent(a)};SUI.Node.prototype.createElement=function(a){a=document.createElement(a);return new SUI.Node(a,this)};SUI.Node.prototype.appendChild=function(a){this.node.appendChild(a.getNode())};SUI.Node.prototype.removeChildren=function(){for(;this.hasChildren();)this.node.removeChild(this.node.firstChild)};SUI.Node.prototype.hasChildren=function(){return this.node.hasChildNodes()};SUI.Node.prototype.removeChild=function(a){if(this.hasChildren())try{this.node.removeChild(a.getNode())}catch(b){console.warn(b)}};
SUI.Node.prototype.remove=function(){var a=this._getParentElement();!this.isEmpty()&&a&&a.removeChild(this.node)};SUI.Node.prototype.insert=function(a){this.removeChildren();this.appendChild(a)};SUI.Node.prototype.beforeChild=function(a){var b=this.node.firstChild||this.node.firstElementChild;this.node.insertBefore(a.getNode(),b)};SUI.Node.prototype.afterChild=function(a){var b=this._getParentElement();b&&b.appendChild(a.getNode())};
SUI.Node.prototype.insertBefore=function(a){var b=this._getParentElement();b&&b.insertBefore(a.getNode(),this.node)};SUI.Node.prototype.insertAfter=function(a){var b=this.getNextSibling(),c=this._getParentElement();c&&c.insertBefore(a.getNode(),b.getNode())};SUI.Node.prototype.getNextSibling=function(){return new SUI.Node(this.node.nextSibling||this.node.nextElementSibling)};SUI.Node.prototype.replaceChild=function(a){var b=this._getParentElement();b&&b.replaceChild(a.getNode(),this.node)};
SUI.Node.prototype.setHtml=function(a){this.node.innerHTML=a};SUI.Node.prototype.getHtml=function(a){a=void 0===a?!1:a;return this.isEmpty()?'':a?this.node.innerHTML:this.node.outerHTML};SUI.Node.prototype.setText=function(a){this.node.nodeValue=a};SUI.Node.prototype.getText=function(){return this.node.textContent};SUI.Node.prototype.setData=function(a,b){if(!this.isEmpty()){var c=b;SUI.isString(b)||(c=JSON.stringify(b));this.node.dataset[a]=c}};
SUI.Node.prototype.getData=function(a){(a=this.node.dataset[a])&&(SUI.eq(a[0],'[')||SUI.eq(a[0],'{'))&&(a=JSON.parse(a));return SUI.typeCast(a)};SUI.Node.prototype.removeData=function(a){this.isEmpty()||(delete this.node.dataset[a],this.node.removeAttribute('data-'+a))};SUI.Node.prototype.getParentNode=function(){var a=this._getParentElement();return a?new SUI.Node(a):null};
SUI.Node.prototype._getParentElement=function(){return this.parentNode&&!this.parentNode.isEmpty()?this.parentNode.getNode():this.node?this.node.parentElement:null};SUI.Node.prototype.getComputedStyle=function(){return window.getComputedStyle(this.node)};SUI.Node.prototype.getStyle=function(){return this.node.style};SUI.Node.prototype.setStyle=function(a){var b=this;SUI.each(a,function(a,d){b.node.style.setProperty(d,a,'')})};SUI.Node.prototype.removeStyle=function(a){var b=this;SUI.each(a,function(a){b.node.style.removeProperty(a)})};
SUI.Node.prototype.isEmpty=function(){return!this.node};SUI.Node.prototype.exists=function(){return document.body.contains(this.node)};SUI.Node.prototype.toString=function(a){return void 0===a||a?this.node.outerHTML:this.node.innerHTML};SUI.Node.prototype.cloneNode=function(a){a=void 0===a?!1:a;return this.isEmpty()?null:(a=this.node.cloneNode(a),new SUI.Node(a,this.parentNode))};SUI.Node.prototype.clearNode=function(){var a=this.cloneNode(!0);a&&(this.replaceChild(a),this.node=a.getNode())};SUI.Tooltip=function(a,b){this.element=a;this._initPositions(void 0===b?'TOP':b);this._init()};SUI.Tooltip.prototype._initPositions=function(a){this.positionCssClass='mdl-tooltip--top';switch(void 0===a?'':a){case 'TOP':this.positionCssClass='mdl-tooltip--top';break;case 'BOTTOM':this.positionCssClass='mdl-tooltip--bottom';break;case 'LEFT':this.positionCssClass='mdl-tooltip--left';break;case 'RIGHT':this.positionCssClass='mdl-tooltip--right'}};SUI.Tooltip.prototype._init=function(){this._createTooltip()};
SUI.Tooltip.prototype._getMessage=function(a){a=void 0===a?'':a;a||(a=this.element.getAttribute('desc')||'',this.element.removeAttribute('desc'),a&&this.tooltip.addClass('mdl-tooltip--large'),a=this.element.getAttribute('title')||a,this.element.removeAttribute('title'));return a};
SUI.Tooltip.prototype._createTooltip=function(){var a=this.element.getId();SUI.isNull(a)&&(a=SUI.generateId('tooltip'),this.element.setId(a),this.element.addClass('has-tooltip'));(new SUI.Query(SUI.format('[for="{0}"]',[a]),this.element)).getItem().remove();var b=['mdl-tooltip',this.positionCssClass];this.tooltip=new SUI.Node('span');this.tooltip.addClass(b);this.tooltip.setFor(a);this.element.insertAfter(this.tooltip)};
SUI.Tooltip.prototype.render=function(a){a=this._getMessage(a);this.setMessage(a);SUI.mdl(this.tooltip)};SUI.Tooltip.prototype.setMessage=function(a){(a=void 0===a?'':a)?(this.tooltip.removeStyle(['display']),this.tooltip.setHtml(a)):(this.tooltip.setStyle({display:'none'}),this.tooltip.setHtml(''))};SUI.Tooltip.prototype.open=function(){this.tooltip.addClass('is-active')};SUI.Tooltip.prototype.close=function(){this.tooltip.removeClass('is-active')};SUI.Tooltip.prototype.isOpen=function(){return this.tooltip.hasClass('is-active')};
SUI.Tooltip.prototype.toggle=function(){this.isOpen()?this.close():this.open()};SUI.Async=function(a){this.sum=a||0;this._clear()};SUI.Async.prototype.parallel=function(a,b){var c=new SUI.Deferred;0===a.length?(c.resolve(b||this.call.results),this._clear()):SUI.each(a,function(d,e){this.call.results[e]=null;this._parallelWrapper(d,a.length,!1,e,b).defer(c)}.bind(this));return c.promise()};SUI.Async.prototype.parallelFunction=function(a,b,c){c=SUI.isUndefined(c)?this.call.counter++:c;this.call.results[c]=null;this._parallelWrapper(a,this.sum,!0,c,b)};
SUI.Async.prototype._parallelWrapper=function(a,b,c,d,e){var f=this,g=new SUI.Deferred;(a=a.apply(this,e||[]))&&SUI.isFunction(a.then)?a.then(function(a){f._parallelCaller(b,!1,a,c,d,e).defer(g)},function(a){f._parallelCaller(b,!0,a,c,d,e).defer(g)}):a||SUI.isUndefined(a)?this._parallelCaller(b,!1,a,c,d,e).defer(g):this._parallelCaller(b,!0,a,c,d,e).defer(g);return g.promise()};
SUI.Async.prototype._parallelCaller=function(a,b,c,d,e,f){var g=new SUI.Deferred;this.call.results[e]=c;b&&(this.call.isError=b);this.call.sum++;SUI.eq(this.call.sum,a)&&(a=f||SUI.copy(this.call.results),this._clear(),this.call.isError?d?this.eventComplete(this.call.isError,a):g.reject(a):d?this.eventComplete(this.call.isError,a):g.resolve(a));return g.promise()};SUI.Async.prototype._clear=function(){this.call={sum:0,isError:!1,counter:0,results:[]}};
SUI.Async.prototype.setStatus=function(a,b,c,d){this.call.sum=a;this.call.isError=b;this.call.counter=c;this.call.results=d};SUI.Async.prototype.eventComplete=function(a,b){console.warn('Async.eventComplete(isError, results)',a,b)};SUI.Async.prototype.serial=function(a,b){var c=new SUI.Deferred;0===a.length?(c.resolve(b||this.call.results),this._clear()):this._serialWrapper(a,0,b).defer(c);return c.promise()};
SUI.Async.prototype._serialWrapper=function(a,b,c){var d=new SUI.Deferred,e=a[b],f=c||this.call.results,g=(c||[]).concat(this.call.results);(e=e.apply(this,g))&&SUI.isFunction(e.then)?e.then(function(e){this._serialCaller(a,b,e,c).defer(d)}.bind(this),function(){d.reject(c||this.call.results);this._clear()}.bind(this)):e||SUI.isUndefined(e)?this._serialCaller(a,b,e,c).defer(d):(d.reject(f),this._clear());return d.promise()};
SUI.Async.prototype._serialCaller=function(a,b,c,d){var e=new SUI.Deferred;this.call.results[b]=c;b+=1;b<a.length?this._serialWrapper(a,b,d).defer(e):(e.resolve(d||this.call.results),this._clear());return e.promise()};SUI.lib.BaseModal=function(){};SUI.lib.BaseModal.prototype._initBase=function(){this.windowHeight=this.windowWidth=0;this.mainContainerNode=(new SUI.Query('.main-container')).getItem();this._initButtons()};SUI.lib.BaseModal.prototype._initButtons=function(){this._initCloseButton();this._initMinimizeButton();this._initMaximizeButton()};
SUI.lib.BaseModal.prototype._initMinimizeButton=function(){var a=this,b=(new SUI.Query('.minimize',this.modal)).getItem();b.isEmpty()||(b.addClass(['mdl-button','mdl-js-button','mdl-button--icon']),b.addEventListener('click',function(){a._actionMinimize()}),this.btnMinimize=b)};
SUI.lib.BaseModal.prototype._initMaximizeButton=function(){var a=this,b=(new SUI.Query('.maximize',this.modal)).getItem();b.isEmpty()||(b.addClass(['mdl-button','mdl-js-button','mdl-button--icon']),b.addEventListener('click',function(){a._actionMaximize()}),this.btnMaximize=b)};
SUI.lib.BaseModal.prototype._initCloseButton=function(){var a=this,b=(new SUI.Query('.close',this.modal)).getItem();b.isEmpty()||(b.addClass(['mdl-button','mdl-js-button','mdl-button--icon']),b.addEventListener('click',function(){a._actionCancel()}),this.btnClose=b)};SUI.lib.BaseModal.prototype.isOpened=function(){return this.modal.hasClass('visible-flex')};SUI.lib.BaseModal.prototype._handleCloseButton=function(a){this.btnClose&&(void 0===a||a?this.btnClose.removeClass('hidden'):this.btnClose.addClass('hidden'))};
SUI.lib.BaseModal.prototype.open=function(a){var b=this;a=void 0===a?!0:a;this.mainContainerNode.addClass('blur');this.body.addClass('overflow-hidden');this.modal.addClass('visible-flex');this.modal.removeClass('hidden');this._handleCloseButton(a);this._handleCenterPosition();this.interval=setInterval(function(){b._handleCenterPosition()},1E3)};
SUI.lib.BaseModal.prototype.close=function(){clearInterval(this.interval);this.mainContainerNode.removeClass('blur');this.body.removeClass('overflow-hidden');this.modal.addClass('hidden');this.modal.removeClass('visible-flex');this.modalTitle.removeChildren();this.modalBody.removeChildren();this.modalFooter.removeChildren()};
SUI.lib.BaseModal.prototype._setTitle=function(a){this.modalTitle.setHtml(a);SUI.isString(a)&&0<a.length||SUI.isNumber(a)?this.modalHeader.removeClass('hidden'):this.modalHeader.addClass('hidden');this.tooltip.setMessage(a)};SUI.lib.BaseModal.prototype._reset=function(){this.eventOK=SUI.noop();this.eventCancel=SUI.noop()};SUI.lib.BaseModal.prototype._actionOK=function(){var a=new SUI.Async,b=[this.eventOK.bind(this),this.close.bind(this)];a.serial(b)};
SUI.lib.BaseModal.prototype._actionCancel=function(){var a=new SUI.Async,b=[this.eventCancel.bind(this),this.close.bind(this)];a.serial(b)};SUI.lib.BaseModal.prototype._actionMinimize=function(){};SUI.lib.BaseModal.prototype._actionMaximize=function(){};SUI.lib.BaseModal.prototype.setSize=function(a,b){this.windowWidth=a;this.windowHeight=b;this._handleCenterPosition()};
SUI.lib.BaseModal.prototype._handleCenterPosition=function(){var a=this.modalWindow.getComputedStyle().getPropertyValue('height');SUI.contain(a,'px')?(a=parseInt(a.slice(0,-2),10),a>this.windowHeight?this.modal.removeClass('center'):this.modal.addClass('center')):this.modal.addClass('center')};SUI.lib.Confirm=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init();this._initBase()};goog.inherits(SUI.lib.Confirm,SUI.lib.BaseModal);SUI.lib.Confirm.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({id:'#confirm'});this.options.merge(a)};
SUI.lib.Confirm.prototype._init=function(){this.body=(new SUI.Query('body')).getItem();this.modal=(new SUI.Query(this.options.id)).getItem();this.modalWindow=(new SUI.Query('#confirm-window',this.modal)).getItem();this.modalHeader=(new SUI.Query('.modal-header',this.modal)).getItem();this.modalTitle=(new SUI.Query('.modal-title',this.modalHeader)).getItem();this.modalBody=(new SUI.Query('.modal-body',this.modal)).getItem();this.modalFooter=(new SUI.Query('.modal-footer',this.modal)).getItem();this.tooltip=
new SUI.Tooltip(this.modalTitle);this.tooltip.render()};
SUI.lib.Confirm.prototype.load=function(a,b,c,d,e){c=void 0===c?'':c;d=void 0===d?'':d;e=void 0===e?'normal':e;this._reset();this._setTitle(d);this.modalWindow.removeClass('normal info warning error success choice'.split(' '));this.modalWindow.addClass(e);this.modalBody.setHtml(a);this.modalFooter.removeChildren();c&&(a=['mdl-button','mdl-js-button','mdl-js-ripple-effect'],'choice'===e&&a.push('mdl-button--primary'),e=new SUI.Node('button'),e.setAttribute('type','button'),e.setHtml(c),e.addClass(a),
e.addEventListener('click',this._actionCancel.bind(this)),this.modalFooter.appendChild(e));c=new SUI.Node('button');c.setAttribute('type','button');c.setHtml(b);c.addClass(['mdl-button','mdl-js-button','mdl-js-ripple-effect','mdl-button--primary']);c.addEventListener('click',this._actionOK.bind(this));this.modalFooter.appendChild(c);SUI.mdl(this.modalFooter)};SUI.lib.Console=function(a,b){b=void 0===b?{}:b;this.config=a;this._setOptions(b)};SUI.lib.Console.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object;this.options.merge(a)};SUI.lib.Console.prototype.log=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.config.get('production')||console.log.apply(console,$jscomp.arrayFromIterable(b))};
SUI.lib.Console.prototype.warn=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.config.get('production')||console.warn.apply(console,$jscomp.arrayFromIterable(b))};SUI.lib.Console.prototype.info=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.config.get('production')||console.info.apply(console,$jscomp.arrayFromIterable(b))};
SUI.lib.Console.prototype.error=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.config.get('production')||console.error.apply(console,$jscomp.arrayFromIterable(b))};SUI.lib.Cookie=function(a){a=void 0===a?{}:a;this._setOptions(a)};SUI.lib.Cookie.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({prefix:'app',hours:24});this.options.merge(a)};SUI.lib.Cookie.prototype._getPropertyName=function(a){return[this.options.prefix,a].join('.').replace(/\./g,'_')};SUI.lib.Cookie.prototype._getName=function(a){a=a.split('_');a.shift();return a.join('.')};
SUI.lib.Cookie.prototype.set=function(a,b,c,d,e,f){c=void 0===c?'':c;d=void 0===d?'/':d;e=void 0===e?'':e;f=void 0===f?!1:f;a=this._getPropertyName(a);if(!/^(?:expires|max\-age|path|domain|secure)$/i.test(a)){if(c)switch(c.constructor){case Number:c=Infinity===c?'; expires=Fri, 31 Dec 9999 23:59:59 GMT':'; max-age='+3600*c;break;case Date:c='; expires='+c.toGMTString()}else c=new Date,c.setTime(c.getTime()+36E5*this.options.hours),c='; expires='+c.toGMTString();document.cookie=encodeURIComponent(a)+
'='+encodeURIComponent(b)+c+(e?'; domain='+e:'')+(d?'; path='+d:'')+(f?'; secure':'')}};SUI.lib.Cookie.prototype.get=function(a){a=this._getPropertyName(a);a=new RegExp('(?:(?:^|.*;)\\s*'+encodeURIComponent(a).replace(/[\-\.\+\*]/g,'\\$&')+'\\s*\\=\\s*([^;]*).*$)|^.*$');return SUI.typeCast(decodeURIComponent(document.cookie.replace(a,'$1'))||null)};
SUI.lib.Cookie.prototype.remove=function(a,b,c,d){b=void 0===b?'':b;c=void 0===c?'':c;d=void 0===d?!1:d;this.hasKey(a)&&this.set(a,'',new Date(1970,0,1),b,c,d)};SUI.lib.Cookie.prototype.hasKey=function(a){a=this._getPropertyName(a);return(new RegExp('(?:^|;\\s*)'+encodeURIComponent(a).replace(/[\-\.\+\*]/g,'\\$&')+'\\s*\\=')).test(document.cookie)};
SUI.lib.Cookie.prototype.getKeys=function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,'').split(/\s*(?:=[^;]*)?;\s*/),b=0;b<a.length;b++)a[b]=this._getName(decodeURIComponent(a[b]));return a};SUI.lib.Cookie.prototype.clear=function(){var a=this,b=this.getKeys();SUI.each(b,function(b){a.remove(b)})};SUI.lib.Dialog=function(a,b){b=void 0===b?{}:b;this.http=a;this._setOptions(b);this._init();this._initBase()};goog.inherits(SUI.lib.Dialog,SUI.lib.BaseModal);SUI.lib.Dialog.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({id:'#dialog'});this.options.merge(a)};
SUI.lib.Dialog.prototype._init=function(){this.body=(new SUI.Query('body')).getItem();this.modal=(new SUI.Query(this.options.id,this.body)).getItem();this.modalWindow=(new SUI.Query('#dialog-window',this.modal)).getItem();this.modalHeader=(new SUI.Query('.modal-header',this.modal)).getItem();this.modalTitle=(new SUI.Query('.modal-title',this.modalHeader)).getItem();this.modalBody=(new SUI.Query('.modal-body',this.modal)).getItem();this.modalFooter=(new SUI.Query('.modal-footer',this.modal)).getItem();
this.tooltip=new SUI.Tooltip(this.modalTitle);this.tooltip.render()};SUI.lib.Dialog.prototype.loadTemplate=function(a){var b=this;this._reset();var c=new SUI.Deferred;this.http.get(a).then(function(a){a=b._handleDom(a);c.resolve(a)},function(a){a=b._handleMessage(a);c.reject(a);b.open()});return c.promise()};
SUI.lib.Dialog.prototype._handleMessage=function(a){var b=(new SUI.Query('.message',a)).getItem();a=(new SUI.Query('title',a)).getItem();this._setTitle(a.getText());this.modalBody.insert(b);SUI.mdl(b);return b};SUI.lib.Dialog.prototype._handleDom=function(a){var b=(new SUI.Query('#title',a)).getItem();b.isEmpty()||this._setTitle(b.getText());b=(new SUI.Query('#content',a)).getItem();this.modalBody.insert(b);SUI.mdl(b);this._handleActions(a);return b};
SUI.lib.Dialog.prototype._handleActions=function(a){a=(new SUI.Query('#action',a)).getItem();if(a.isEmpty())this.modalFooter.removeChildren();else{var b=new SUI.Query('button',a),c=b.size(),d=[this._actionOK.bind(this)],e=['mdl-button--primary'];2===c&&(d=[this._actionCancel.bind(this),this._actionOK.bind(this)],e=['mdl-button--accent','mdl-button--primary']);b.each(function(a,b){var c=['mdl-button','mdl-js-button','mdl-js-ripple-effect'].concat([e[b]]);a.addClass(c);a.addEventListener('click',d[b])});
this.modalFooter.insert(a);SUI.mdl(a)}};SUI.lib.Document=function(a){this._setOptions(a);this._init()};SUI.lib.Document.prototype._setOptions=function(a){this.options=new SUI.Object;this.options.merge(a)};SUI.lib.Document.prototype._init=function(){var a=this;this.document=document;this.document.addEventListener('click',function(b){var c=new SUI.Node(b.target);a.eventClick(c,b)})};SUI.lib.Document.prototype.setTitle=function(a){this.document.title=a};SUI.lib.Document.prototype.getAppTitle=function(){return this.options.title};
SUI.lib.Document.prototype.eventClick=function(a,b){console.warn('Document.eventClick()',a,b)};SUI.lib.Document.prototype.mailTo=function(a,b){this.document.location.href='mailto:'+a+'?subject='+(void 0===b?'':b)};SUI.lib.Event=function(){this.eventContainer=new SUI.Object};SUI.lib.Event.prototype.set=function(a,b){if(SUI.isFunction(b)){var c=this.eventContainer.get(a,[]);c.push(b);this.eventContainer.set(a,c)}return b};SUI.lib.Event.prototype.remove=function(a,b){a=this.eventContainer.get(a,[]);b=a.indexOf(b);-1<b&&a.splice(b,1)};SUI.lib.Event.prototype.pop=function(a){var b=this.eventContainer.get(a,[]);b.pop();this.eventContainer.set(a,b)};
SUI.lib.Event.prototype.call=function(a,b){b=void 0===b?[]:b;a=this.eventContainer.get(a,[SUI.noop()]);return(new SUI.Async).serial(a,b)};SUI.lib.Event.prototype.override=function(a,b,c){a=this.eventContainer.get(a,[c]);return(new SUI.Async).serial(a,b)};SUI.lib.Footer=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init()};SUI.lib.Footer.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object;this.options.merge(a)};SUI.lib.Footer.prototype._init=function(){this.footerNode=(new SUI.Query('#footer')).getItem();this.templateViewNode=(new SUI.Query('.template-view')).getItem();this.contentNode=(new SUI.Query('.content',this.footerNode)).getItem();this.localesNode=(new SUI.Query('.locales',this.footerNode)).getItem()};
SUI.lib.Footer.prototype.show=function(){this.footerNode.removeClass(['static','hidden','has-footer']);var a=(new SUI.Query('.page-content.fullscreen',this.templateViewNode)).getItem();a&&!a.isEmpty()&&(a.hasClass('light')?this.footerNode.addClass('dark'):this.footerNode.removeClass('dark'),this.footerNode.addClass('static'),this.templateViewNode.addClass('has-footer'))};SUI.lib.Footer.prototype.hide=function(){this.footerNode.addClass('hidden');this.footerNode.removeClass('static');this.templateViewNode.removeClass('has-footer')};
SUI.lib.Footer.prototype.setContent=function(a){this.contentNode.appendChild(a)};SUI.lib.Footer.prototype.getLocalesContainer=function(){return this.localesNode};SUI.lib.Footer.prototype.open=function(){this.footerNode.addClass('open')};SUI.lib.Footer.prototype.close=function(){this.footerNode.removeClass('open')};SUI.lib.Footer.prototype.isOpened=function(){return this.footerNode.hasClass('open')};SUI.lib.Footer.prototype.toogle=function(){this.isOpened()?this.close():this.open()};SUI.lib.GeoLocation=function(){this._init()};SUI.lib.GeoLocation.prototype._init=function(){this.options={enableHighAccuracy:!0,timeout:5E3,maximumAge:Infinity}};SUI.lib.GeoLocation.prototype.setWatcher=function(){var a=this;this.watcherId=navigator.geolocation.watchPosition(function(b){a._handlePosition(b)},function(b){a._handleError(b)},this.options)};
SUI.lib.GeoLocation.prototype.getPosition=function(){var a=new SUI.Deferred;navigator.geolocation.getCurrentPosition(function(b){a.resolve([b.coords.latitude,b.coords.longitude])},function(b){a.reject([null,null])},this.options);return a.promise()};SUI.lib.GeoLocation.prototype.clearWatcher=function(){navigator.geolocation.clearWatch(this.watcherId)};SUI.lib.GeoLocation.prototype.eventChange=function(a,b,c){console.warn('SUI.lib.GeoLocation.eventChange()',a,b,c)};
SUI.lib.GeoLocation.prototype._handlePosition=function(a){this.eventChange(a.coords.latitude,a.coords.longitude,'User allowed the request for GeoLocation.')};
SUI.lib.GeoLocation.prototype._handleError=function(a){switch(a.code){case a.PERMISSION_DENIED:this.eventError('User denied the request for GeoLocation.','permission_denied');break;case a.POSITION_UNAVAILABLE:this.eventError('Location information is unavailable.','position_unavailable');break;case a.TIMEOUT:this.eventError('The request to get user location timed out.','timeout');break;default:this.eventError('An unknown error occurred.','unknown')}};
SUI.lib.GeoLocation.prototype.eventError=function(a,b){console.warn('SUI.lib.GeoLocation.eventError()',a,b)};SUI.lib.Header=function(a){a=void 0===a?{}:a;this.options=new SUI.Object;this.options.merge(a);this._init()};
SUI.lib.Header.prototype._init=function(){var a=this;this.headerNode=(new SUI.Query('#header')).getItem();this.leftMenuButton=(new SUI.Query('#open-left-menu',this.headerNode)).getItem();this.topMenuButton=(new SUI.Query('#toggle-top-menu',this.headerNode)).getItem();this.brandNode=(new SUI.Query('.brand',this.headerNode)).getItem();this.brandNode.setAttribute('href','javascript:void(0)');this.brandNode.addEventListener('click',function(){a.eventLogoClick()});this.brandNodeImage=(new SUI.Query('.brand img',
this.brandNode)).getItem();this.brandNodeTitle=(new SUI.Query('.brand .app-title',this.brandNode)).getItem();this.mainContainerNode=(new SUI.Query('.main-container')).getItem();this.templateViewNode=(new SUI.Query('.template-view')).getItem()};SUI.lib.Header.prototype.eventLogoClick=function(){console.warn('SUI.lib.Header.eventLogoClick()')};SUI.lib.Header.prototype.setTitle=function(a){this.brandNodeTitle.setHtml(a)};
SUI.lib.Header.prototype.setImage=function(a){this.brandNodeImage.setAttribute('src',a)};SUI.lib.Header.prototype.open=function(){this.headerNode.addClass('open')};SUI.lib.Header.prototype.close=function(){this.headerNode.removeClass('open')};SUI.lib.Header.prototype.show=function(){this.headerNode.removeClass('hidden');this.mainContainerNode.addClass('header-padding');this.templateViewNode.addClass('has-header')};
SUI.lib.Header.prototype.hide=function(){this.headerNode.addClass('hidden');this.mainContainerNode.removeClass('header-padding');this.templateViewNode.removeClass('has-header')};SUI.lib.Header.prototype.showShadow=function(){this.headerNode.addClass('shadow')};SUI.lib.Header.prototype.hideShadow=function(){this.headerNode.removeClass('shadow')};SUI.lib.Header.prototype.showLeftMenuButton=function(){this.leftMenuButton.removeClass('hidden')};SUI.lib.Header.prototype.hideLeftMenuButton=function(){this.leftMenuButton.addClass('hidden')};
SUI.lib.Header.prototype.showTopMenuButton=function(){this.topMenuButton.removeClass('hidden')};SUI.lib.Header.prototype.hideTopMenuButton=function(){this.topMenuButton.addClass('hidden')};SUI.lib.Helper=function(){this._init()};SUI.lib.Helper.prototype._init=function(){};SUI.lib.Helper.prototype.createLink=function(a,b,c,d,e,f){c=void 0===c?'javascript:void(0)':c;d=void 0===d?'':d;e=void 0===e?!0:e;f=void 0===f?[]:f;var g=new SUI.Node('a');g.setHtml(a);this.linkElement(g,b,c,d,e,f);return g};SUI.lib.Helper.prototype.multipleLink=function(a,b,c,d){var e=this;d=void 0===d?[]:d;(new SUI.Query(a,b)).each(function(a){e.linkElement(a,c,'','',!0,d)})};
SUI.lib.Helper.prototype.link=function(a,b,c,d,e,f,g){d=void 0===d?'':d;e=void 0===e?'':e;f=void 0===f?!0:f;g=void 0===g?[]:g;a=(new SUI.Query(a,b)).getItem();this.linkElement(a,c,d,e,f,g);return a};
SUI.lib.Helper.prototype.linkElement=function(a,b,c,d,e,f){c=void 0===c?'':c;d=void 0===d?'':d;e=void 0===e?!0:e;f=void 0===f?[]:f;if(!a.isEmpty())if(e){a.addClass(f);a.getId()?a.removeEventListeners('click'):a.setId(SUI.generateId('link'));c&&a.setAttribute('href',c);if(b){var g=a.getAttribute('href');a.addEventListener('click',function(){b(g)})}(new SUI.Tooltip(a)).render(d);SUI.mdl(a)}else a.remove()};
SUI.lib.Helper.prototype.createButton=function(a,b,c,d,e){c=void 0===c?'':c;d=void 0===d?!0:d;e=void 0===e?['mdl-button--primary']:e;var f=new SUI.Node('button');f.setHtml(a);this.buttonElement(f,b,c,d,e);return f};SUI.lib.Helper.prototype.multipleButton=function(a,b,c){var d=this;c=void 0===c?['mdl-button--primary']:c;(new SUI.Query(a,b)).each(function(a){d.buttonElement(a,void 0,'',!0,c)})};
SUI.lib.Helper.prototype.button=function(a,b,c,d,e,f){d=void 0===d?'':d;e=void 0===e?!0:e;f=void 0===f?['mdl-button--primary']:f;a=(new SUI.Query(a,b)).getItem();this.buttonElement(a,c,d,e,f);return a};
SUI.lib.Helper.prototype.buttonElement=function(a,b,c,d,e){c=void 0===c?'':c;d=void 0===d?!0:d;e=void 0===e?['mdl-button--primary']:e;a.isEmpty()||(d?(a.getId()?(d=a.getData('cssClasses'),a.removeClass(d),a.removeEventListeners('click')):a.setId(SUI.generateId('button')),e=['mdl-button','mdl-js-button','mdl-js-ripple-effect','mdl-button--raised'].concat(e),a.setData('cssClasses',e),a.addClass(e),b&&a.addEventListener('click',b),(new SUI.Tooltip(a)).render(c),SUI.mdl(a)):a.remove())};
SUI.lib.Helper.prototype.createIconButton=function(a,b,c,d,e){c=void 0===c?'':c;d=void 0===d?!0:d;e=void 0===e?['mdl-button--accent','mdl-button--fab','mdl-button--mini-fab']:e;var f=new SUI.Node('button');this._createIconNode(a,f);this.iconButtonElement(f,b,c,d,e);return f};
SUI.lib.Helper.prototype.multipleIconButton=function(a,b,c){var d=this;c=void 0===c?['mdl-button--accent','mdl-button--fab','mdl-button--mini-fab']:c;(new SUI.Query(a,b)).each(function(a){d.iconButtonElement(a,void 0,void 0,!0,c)})};SUI.lib.Helper.prototype.iconButton=function(a,b,c,d,e,f){d=void 0===d?'':d;e=void 0===e?!0:e;f=void 0===f?['mdl-button--accent','mdl-button--fab','mdl-button--mini-fab']:f;a=(new SUI.Query(a,b)).getItem();this.iconButtonElement(a,c,d,e,f);return a};
SUI.lib.Helper.prototype.iconButtonElement=function(a,b,c,d,e){c=void 0===c?'':c;d=void 0===d?!0:d;e=void 0===e?['mdl-button--accent','mdl-button--fab','mdl-button--mini-fab']:e;a.isEmpty()||(d?(a.getId()?(d=a.getData('cssClasses'),a.removeClass(d),a.removeEventListeners('click')):a.setId(SUI.generateId('button')),e=['mdl-button','mdl-js-button','mdl-js-ripple-effect','mdl-button--icon'].concat(e),a.setData('cssClasses',e),a.addClass(e),a.addEventListener('click',b),(new SUI.Tooltip(a)).render(c),
SUI.mdl(a)):a.remove())};SUI.lib.Helper.prototype._createIconNode=function(a,b){var c=new SUI.Node('em');c.addClass('material-icons');c.setHtml(a);b.appendChild(c)};SUI.lib.Helper.prototype.setGravatar=function(a,b,c,d,e){d=void 0===d?500:d;e=void 0===e?'g':e;c=SUI.format('https://www.gravatar.com/avatar/{0}?s={1}&r={2}&d=404',[SUI.md5(c),d,e]);a.setAttribute('src',c);a.setAttribute('onError',SUI.format("this.onerror=null;this.src='{0}';",[b]))};SUI.lib.Xhr=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init()};SUI.lib.Xhr.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({backend:'',locale:''});this.options.merge(a)};SUI.lib.Xhr.prototype._init=function(){this.requestHeaders={};this.authorization=null;this.types={};this._setTypes();this.http=new XMLHttpRequest;this.http.onreadystatechange=this._onReadyStateChange();this.deferred=new SUI.Deferred};
SUI.lib.Xhr.prototype._setTypes=function(){this._setType('json',['application/json','json','application/json']);this._setType('form',['application/x-www-form-urlencoded','json','application/json']);this._setType('html',['','document','text/html']);this._setType('svg',['','document','image/svg-xml']);this._setType('xml',['','document','application/xml'])};SUI.lib.Xhr.prototype._setType=function(a,b){this.types[a]=b};SUI.lib.Xhr.prototype._getType=function(a){return this.types[a]||[]};
SUI.lib.Xhr.prototype._getContentType=function(a){return this._getType(a)[0]||''};SUI.lib.Xhr.prototype._getResponseType=function(a){return this._getType(a)[1]||'text'};SUI.lib.Xhr.prototype._getAccept=function(a){return this._getType(a)[2]||'*/*'};
SUI.lib.Xhr.prototype._onReadyStateChange=function(){var a=this;return function(){switch(a.http.readyState){case 0:case 1:case 2:case 3:break;case 4:var b=a._getResponseData(a.http.response);SUI.eq(a.http.status,200)?a.deferred.resolve([a.http].concat(b)):a.deferred.reject([a.http].concat(b));break;default:console.error('SUI.lib.Xhr._onReadyStateChange()',a.http.readyState)}}};SUI.lib.Xhr.prototype.get=function(a,b,c){c=void 0===c?{}:c;return this._handleRequest('GET',a,{},b,c)};
SUI.lib.Xhr.prototype.post=function(a,b,c,d){d=void 0===d?{}:d;return this._handleRequest('POST',a,b,c,d)};SUI.lib.Xhr.prototype.put=function(a,b,c,d){d=void 0===d?{}:d;return this._handleRequest('PUT',a,b,c,d)};SUI.lib.Xhr.prototype.patch=function(a,b,c,d){d=void 0===d?{}:d;return this._handleRequest('PATCH',a,b,c,d)};SUI.lib.Xhr.prototype.delete=function(a,b,c,d){d=void 0===d?{}:d;return this._handleRequest('DELETE',a,b,c,d)};
SUI.lib.Xhr.prototype._getUrl=function(a,b){b=SUI.urlWithQueryString(a,b);return'/'===a[0]?this.options.backend+b:b};SUI.lib.Xhr.prototype._handleRequest=function(a,b,c,d,e){e=void 0===e?{}:e;this.http.open(a,this._getUrl(b,d),!0);a=SUI.getExtensionName(b);this._setResponseType(a);this._setRequestHeaders(a,e);this.http.send(this._getRequestData(c));return this.deferred.promise()};
SUI.lib.Xhr.prototype._getRequestData=function(a){var b='';if(a)switch(this.getHeader('Content-Type')){case this._getContentType('json'):b=JSON.stringify(a);break;case this._getContentType('form'):b=this._stringifyObject(a)}return b};
SUI.lib.Xhr.prototype._parseObject=function(a,b,c){c+=c?'['+b+']':b;b=[];if(a instanceof Array){c+='[]';for(var d=0;d<a.length;d++)b.push([c,a[d]].join('='))}else if('object'===typeof a)for(d in a){if(a.hasOwnProperty(d)){var e=this._parseObject(a[d],d,c);b=b.concat(e)}}else b.push([c,a].join('='));return b};SUI.lib.Xhr.prototype._stringifyObject=function(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var d=this._parseObject(a[c],c,'');b=b.concat(d)}return b.join('&')};
SUI.lib.Xhr.prototype._getResponseData=function(a){var b=this.http.getResponseHeader('Content-Type'),c='',d=a;if(b){switch(b.split(';')[0]){case 'application/json':a=SUI.isString(a)?JSON.parse(a||'null'):a,d=new SUI.Object,d.merge(a)}'blob'===this.http.responseType&&(a=this.http.getResponseHeader('Content-Disposition'))&&(c=a.match(/filename="(.+)"/)[1])}return[d,c]};
SUI.lib.Xhr.prototype._setRequestHeaders=function(a,b){var c=this;b=void 0===b?{}:b;SUI.eachObject(b,function(a,b){SUI.eq(b,'responseType')?c.http.responseType=a:c.setHeader(b,a)});SUI.isUndefined(this.getHeader('Accept'))&&this.setHeader('Accept',this._getAccept(a));SUI.isUndefined(this.getHeader('Accept-Language'))&&this.setHeader('Accept-Language',this.options.locale);SUI.isUndefined(this.getHeader('Content-Type'))&&this.setHeader('Content-Type',this._getContentType(a));SUI.isUndefined(this.getHeader('Authorization'))&&
this.authorization&&(this.setHeader('Authorization',this.authorization),this.http.withCredentials=!0);SUI.isUndefined(this.getHeader('X-Requested-With'))&&this.setHeader('X-Requested-With','XMLHttpRequest')};SUI.lib.Xhr.prototype._setResponseType=function(a,b){this.http.responseType=this._getResponseType(a)};SUI.lib.Xhr.prototype.setHeader=function(a,b){a&&b&&this.http.setRequestHeader(a,b);this.requestHeaders[a]=b};SUI.lib.Xhr.prototype.getHeader=function(a){return this.requestHeaders[a]};
SUI.lib.Xhr.prototype.setBasicAuthorization=function(a,b){a&&b&&(a=[a,b].join(':'),this.authorization='Basic '+SUI.encodeBase64(a))};SUI.lib.Xhr.prototype.setBearerAuthorization=function(a){a&&(this.authorization='Bearer '+a)};SUI.lib.Http=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init()};SUI.lib.Http.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({backend:'',locale:''});this.options.merge(a)};SUI.lib.Http.prototype._init=function(){this.token=this.password=this.username=null};SUI.lib.Http.prototype.setBasicAuthorization=function(a,b){this.username=a;this.password=b};SUI.lib.Http.prototype.setBearerAuthorization=function(a){this.token=a};
SUI.lib.Http.prototype.get=function(a,b,c){var d=this._getRequestHandler();return this._getPromise(d.get(a,b,c))};SUI.lib.Http.prototype.post=function(a,b,c,d){var e=this._getRequestHandler();return this._getPromise(e.post(a,b,c,d))};SUI.lib.Http.prototype.put=function(a,b,c,d){var e=this._getRequestHandler();return this._getPromise(e.put(a,b,c,d))};SUI.lib.Http.prototype.patch=function(a,b,c,d){var e=this._getRequestHandler();return this._getPromise(e.patch(a,b,c,d))};
SUI.lib.Http.prototype.delete=function(a,b,c,d){var e=this._getRequestHandler();return this._getPromise(e.delete(a,b,c,d))};SUI.lib.Http.prototype._getRequestHandler=function(){var a=new SUI.lib.Xhr(this.options);a.setBasicAuthorization(this.username,this.password);a.setBearerAuthorization(this.token);this.eventBeforeRequest(a);return a};
SUI.lib.Http.prototype._getPromise=function(a){var b=this,c=new SUI.Deferred;a.then(function(a){for(var d=[],f=0;f<arguments.length;++f)d[f-0]=arguments[f];b.eventAfterRequest.apply(b,$jscomp.arrayFromIterable(d));c.resolve.apply(c,[d.slice(1)])},function(a){for(var d=[],f=0;f<arguments.length;++f)d[f-0]=arguments[f];b.eventAfterRequest.apply(b,$jscomp.arrayFromIterable(d));c.reject.apply(c,[d.slice(1)])});return c.promise()};
SUI.lib.Http.prototype.eventBeforeRequest=function(a){console.warn('SUI.lib.Http.eventBeforeRequest',a)};SUI.lib.Http.prototype.eventAfterRequest=function(a,b){console.warn('SUI.lib.Http.eventAfterRequest',a,b)};SUI.lib.LeftMenu=function(){this._init()};
SUI.lib.LeftMenu.prototype._init=function(){this.body=(new SUI.Query('body')).getItem();this.mainContainerNode=(new SUI.Query('.main-container')).getItem();this.leftMenu=(new SUI.Query('#left-menu')).getItem();this.mainMenu=(new SUI.Query('.main-menu',this.leftMenu)).getItem();this.subMenu=(new SUI.Query('.sub-menu',this.leftMenu)).getItem();this.subMenu.addClass('hidden');this.mainMenuContainer=(new SUI.Query('.menu-container',this.mainMenu)).getItem();this.subMenuContainer=(new SUI.Query('.menu-container',
this.subMenu)).getItem();this.mainMenuTitle=(new SUI.Query('h3',this.mainMenu)).getItem();this.subMenuTitle=(new SUI.Query('h3',this.subMenu)).getItem();this._initEvents()};
SUI.lib.LeftMenu.prototype._initEvents=function(){var a=this;this.leftMenu.addEventListener('click',function(){a.close()});this.mainMenuContainer.addEventListener('click',function(){SUI.noop();return!0});this.subMenuContainer.addEventListener('click',function(){SUI.noop();return!0});var b=(new SUI.Query('#open-left-menu')).getItem();b.setAttribute('href','javascript:void(0)');b.addEventListener('click',function(){a.open()});b=(new SUI.Query('#close-left-menu',this.mainMenu)).getItem();b.setAttribute('href',
'javascript:void(0)');b.addEventListener('click',function(){a.close()});b=(new SUI.Query('#close-sub-menu',this.subMenu)).getItem();b.setAttribute('href','javascript:void(0)');b.addEventListener('click',function(){a.closeSubMenu()})};SUI.lib.LeftMenu.prototype.open=function(a){a=void 0===a?'':a;this.body.addClass('overflow-hidden');this.mainContainerNode.addClass('blur');this.leftMenu.addClass('visible');this.mainMenuTitle.setHtml(a)};
SUI.lib.LeftMenu.prototype.close=function(){this.body.removeClass('overflow-hidden');this.mainContainerNode.removeClass('blur');this.leftMenu.removeClass('visible')};SUI.lib.LeftMenu.prototype.openSubMenu=function(a){a=void 0===a?'':a;this.mainMenu.addClass('hidden');this.subMenu.removeClass('hidden');this.subMenuTitle.setHtml(a)};SUI.lib.LeftMenu.prototype.closeSubMenu=function(){this.mainMenu.removeClass('hidden');this.subMenu.addClass('hidden')};SUI.lib.LeftMenu.prototype.getMainContainer=function(){return this.mainMenuContainer};
SUI.lib.LeftMenu.prototype.getSubContainer=function(){return this.subMenuContainer};SUI.lib.Loader=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init()};SUI.lib.Loader.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({counter:0});this.options.merge(a)};SUI.lib.Loader.prototype._init=function(){this.loader=(new SUI.Query('#loader')).getItem();this.spinner=this.loader.createElement('div');this.spinner.addClass(['mdl-spinner','mdl-spinner--single-color','mdl-js-spinner']);this.loader.appendChild(this.spinner)};
SUI.lib.Loader.prototype.show=function(){this.options.counter++;this.loader.removeClass('hidden');this.spinner.addClass('is-active')};SUI.lib.Loader.prototype.hide=function(a){this.options.counter--;if(a||SUI.eq(this.options.counter,0))this.options.counter=0,this.loader.addClass('hidden'),this.spinner.removeClass('is-active')};SUI.lib.Notification=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init()};SUI.lib.Notification.prototype._init=function(){this.container=(new SUI.Query(this.options.id)).getItem()};SUI.lib.Notification.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({id:'#notifications',duration:4E3,closable:['error']});this.options.merge(a)};
SUI.lib.Notification.prototype._getNotificationNode=function(a,b,c,d,e){c=void 0===c?0:c;d=void 0===d?null:d;e=void 0===e?'':e;var f=this.container.createElement('div');e&&f.setAttribute('data-id',e);f.addClass(['notification',a]);f.setHtml(b);this._isClosable(a,d)&&!SUI.eq(c,Infinity)&&(a=this._getCloseButton(f,d),f.beforeChild(a));return f};
SUI.lib.Notification.prototype._getCloseButton=function(a,b){b=void 0===b?null:b;var c=a.createElement('button');c.addClass(['mdl-button','mdl-js-button','mdl-button--icon']);var d=c.createElement('i');d.addClass('material-icons');d.setHtml('close');c.appendChild(d);c.addEventListener('click',function(){this.remove(a,b)}.bind(this));SUI.mdl(c);return c};
SUI.lib.Notification.prototype._add=function(a,b,c,d,e){var f=this;c=void 0===c?0:c;d=void 0===d?null:d;e=void 0===e?'':e;this.removeNotificationNode(e);var g=this._getNotificationNode(a,b,c,d,e);this.container.appendChild(g);this._isClosable(a,d)||SUI.eq(c,Infinity)||(g.addClass('closable'),g.addEventListener('click',function(){f.remove(g,d)}),window.setTimeout(function(){this.remove(g,d)}.bind(this),c||this.options.duration));return g};
SUI.lib.Notification.prototype.removeNotificationNode=function(a){var b=this;if(a=void 0===a?'':a)a=SUI.format('[data-id={0}]',[a]),(new SUI.Query(a,this.container)).each(function(a){b.container.removeChild(a)})};SUI.lib.Notification.prototype._isClosable=function(a,b){b=void 0===b?null:b;return-1!==this.options.closable.indexOf(a)||SUI.isFunction(b)};SUI.lib.Notification.prototype.remove=function(a,b){b=void 0===b?null:b;SUI.isFunction(b)&&b();this.container.removeChild(a)};
SUI.lib.Notification.prototype.addSuccess=function(a,b,c,d){return this._add('success',a,void 0===b?0:b,void 0===c?null:c,void 0===d?'':d)};SUI.lib.Notification.prototype.addInfo=function(a,b,c,d){return this._add('info',a,void 0===b?0:b,void 0===c?null:c,void 0===d?'':d)};SUI.lib.Notification.prototype.addWarning=function(a,b,c,d){return this._add('warning',a,void 0===b?0:b,void 0===c?null:c,void 0===d?'':d)};
SUI.lib.Notification.prototype.addError=function(a,b,c,d){return this._add('error',a,void 0===b?0:b,void 0===c?null:c,void 0===d?'':d)};SUI.lib.Notification.prototype.addMessage=function(a,b,c,d){b=void 0===b?0:b;c=void 0===c?null:c;d=void 0===d?'':d;return SUI.isObject(a)?this._add(a.type,a.content,b,a.closable?SUI.noop:c,d):null};SUI.lib.Notification.prototype.addDefault=function(a,b,c,d){return this._add('default',a,void 0===b?0:b,void 0===c?null:c,void 0===d?'':d)};SUI.lib.ProgressBar=function(a,b,c){c=void 0===c?{}:c;this.dialog=a;this.confirm=b;this._setOptions(c);this._init()};SUI.lib.ProgressBar.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({lock:!1,counter:0});this.options.merge(a)};
SUI.lib.ProgressBar.prototype._init=function(){var a=this;this.progressBarContainer=(new SUI.Query('.main-container > .progress-bar')).getItem();this.progressBarHeader=(new SUI.Query('#header > .progress-bar')).getItem();this.progressBarDialog=(new SUI.Query('#dialog-window > .progress-bar')).getItem();this.progressBarConfirm=(new SUI.Query('#confirm-window > .progress-bar')).getItem();this.async=new SUI.Async(4);this.async.eventComplete=function(b,c){c[0].MaterialProgress&&(a.mProgressContainer=
c[0].MaterialProgress);c[1].MaterialProgress&&(a.mProgressHeader=c[1].MaterialProgress);c[2].MaterialProgress&&(a.mProgressDialog=c[2].MaterialProgress);c[3].MaterialProgress&&(a.mProgressConfirm=c[3].MaterialProgress);a.progressValue&&a.setProgress(a.progressValue);a.progressValue=0;a.bufferValue&&a.setBuffer(a.bufferValue);a.bufferValue=0};this.bufferValue=this.progressValue=0;this.mProgressContainer=this._getProgressBar(this.progressBarContainer);this.mProgressHeader=this._getProgressBar(this.progressBarHeader);
this.mProgressDialog=this._getProgressBar(this.progressBarDialog);this.mProgressConfirm=this._getProgressBar(this.progressBarConfirm)};SUI.lib.ProgressBar.prototype._getProgressBar=function(a){var b=this;a.addClass('mdl-js-progress');a.addEventListener('mdl-componentupgraded',function(a){b.async.parallelFunction(function(){return a})});return{setProgress:function(a){b.progressValue=a},setBuffer:function(a){b.bufferValue=a}}};
SUI.lib.ProgressBar.prototype._separateProgressBars=function(a,b,c,d){a(!this.dialog.isOpened()&&!this.confirm.isOpened());b(!this.dialog.isOpened()&&!this.confirm.isOpened());c(this.dialog.isOpened()&&!this.confirm.isOpened());d(this.confirm.isOpened())};
SUI.lib.ProgressBar.prototype._progress=function(){var a=this;this.options.get('lock')||this._separateProgressBars(function(b){b?a.progressBarContainer.addClass('mdl-progress'):a.progressBarContainer.removeClass('mdl-progress')},function(b){b?a.progressBarHeader.addClass('mdl-progress'):a.progressBarHeader.removeClass('mdl-progress')},function(b){b?a.progressBarDialog.addClass('mdl-progress'):a.progressBarDialog.removeClass('mdl-progress')},function(b){b?a.progressBarConfirm.addClass('mdl-progress'):
a.progressBarConfirm.removeClass('mdl-progress')})};
SUI.lib.ProgressBar.prototype.show=function(){var a=this;this._progress();this.options.counter++;this._separateProgressBars(function(b){b?a.progressBarContainer.addClass('mdl-progress__indeterminate'):a.progressBarContainer.removeClass('mdl-progress__indeterminate')},function(b){b?a.progressBarHeader.addClass('mdl-progress__indeterminate'):a.progressBarHeader.removeClass('mdl-progress__indeterminate')},function(b){b?a.progressBarDialog.addClass('mdl-progress__indeterminate'):a.progressBarDialog.removeClass('mdl-progress__indeterminate')},
function(b){b?a.progressBarConfirm.addClass('mdl-progress__indeterminate'):a.progressBarConfirm.removeClass('mdl-progress__indeterminate')})};SUI.lib.ProgressBar.prototype.setProgress=function(a){var b=this;this._progress();this._separateProgressBars(function(c){c&&b.mProgressContainer.setProgress(a)},function(c){c&&b.mProgressHeader.setProgress(a)},function(c){c&&b.mProgressDialog.setProgress(a)},function(c){c&&b.mProgressConfirm.setProgress(a)})};
SUI.lib.ProgressBar.prototype.setBuffer=function(a){var b=this;this._progress();this._separateProgressBars(function(c){c&&b.mProgressContainer.setBuffer(a)},function(c){c&&b.mProgressHeader.setBuffer(a)},function(c){c&&b.mProgressDialog.setBuffer(a)},function(c){c&&b.mProgressConfirm.setBuffer(a)})};
SUI.lib.ProgressBar.prototype.hide=function(a){this.options.counter--;if(a||SUI.eq(this.options.counter,0))this.options.counter=0,this.progressBarContainer.removeClass(['mdl-progress','mdl-progress__indeterminate']),this.progressBarHeader.removeClass(['mdl-progress','mdl-progress__indeterminate']),this.progressBarDialog.removeClass(['mdl-progress','mdl-progress__indeterminate']),this.progressBarConfirm.removeClass(['mdl-progress','mdl-progress__indeterminate'])};
SUI.lib.ProgressBar.prototype.lock=function(){this.options.set('lock',!0)};SUI.lib.ProgressBar.prototype.unlock=function(){this.options.set('lock',!1)};SUI.lib.Script=function(a,b){b=void 0===b?{}:b;this.progressBar=a;this._setOptions(b);this._init()};SUI.lib.Script.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object;this.options.merge(a)};SUI.lib.Script.prototype._init=function(){this.head=(new SUI.Query('head')).getItem()};
SUI.lib.Script.prototype.load=function(a,b,c){var d=this;this.progressBar.show();var e=new SUI.Deferred;if(0<(new SUI.Query('#'+a)).size())this.progressBar.hide(),e.resolve();else{var f=new SUI.Node('script');f.setId(a);a=SUI.urlWithQueryString(b,c);f.setAttribute('src',a);f.setAttribute('onload',function(){d.progressBar.hide();e.resolve()});f.setAttribute('onerror',function(){d.progressBar.hide();e.reject()});this.head.appendChild(f)}return e.promise()};
SUI.lib.Script.prototype.remove=function(a){a=(new SUI.Query('#'+a)).getItem();a.isEmpty()||a.remove()};SUI.lib.ServiceWorker=function(){this._init()};SUI.lib.ServiceWorker.prototype._init=function(){'serviceWorker'in navigator||this.eventMissingFeatures(['navigator.serviceWorker'])};SUI.lib.ServiceWorker.prototype.eventMissingFeatures=function(a){console.warn('SUI.lib.ServiceWorker.eventMissingFeatures()',a)};SUI.lib.Sidebar=function(a){this.selector=a;this._init()};SUI.lib.Sidebar.prototype._init=function(){this.sidebar=(new SUI.Query(this.selector)).getItem();this.button=(new SUI.Query('a',this.sidebar)).getItem();this.button.setAttribute('href','javascript:void(0)');this.button.addEventListener('click',function(){this.toggle()}.bind(this))};SUI.lib.Sidebar.prototype.toggle=function(){this.isOpened()?this.close():this.open()};SUI.lib.Sidebar.prototype.isOpened=function(){return this.sidebar.hasClass('open')};
SUI.lib.Sidebar.prototype.open=function(){this.sidebar.addClass('open')};SUI.lib.Sidebar.prototype.close=function(){this.sidebar.removeClass('open')};SUI.lib.Sidebar.prototype.show=function(){this.sidebar.removeClass('hidden')};SUI.lib.Sidebar.prototype.hide=function(){this.sidebar.addClass('hidden')};SUI.lib.Sidebar.prototype.setButtonPosition=function(a,b){this.button.setStyle({top:Math.round(a+b/2)+'px'})};SUI.lib.Storage=function(a){this.options=new SUI.Object({type:'local',prefix:'app',secret:'',hours:168,interval:6E4});this.options.merge(a);this._init()};SUI.lib.Storage.prototype._init=function(){var a=this;this.storage='local'===this.options.type?window.localStorage:window.sessionStorage;setInterval(function(){a._checkExpires()},this.options.interval)};SUI.lib.Storage.prototype._getPropertyName=function(a){return[this.options.prefix,a].join('.')};
SUI.lib.Storage.prototype._getName=function(a){a=a.split('.');a.shift();return a.join('.')};SUI.lib.Storage.prototype.set=function(a,b,c){b=this._getExpires(c)+';'+SUI.encrypt(b,this.options.secret);a=this._getPropertyName(a);this.storage.setItem(a,b)};SUI.lib.Storage.prototype.get=function(a){a=this._getPropertyName(a);a=this.storage.getItem(a);var b=null;a&&-1!==a.indexOf(';')&&(a=a.split(';',2)[1]||SUI.encrypt(null,this.options.secret),a=SUI.decrypt(a,this.options.secret),b=SUI.typeCast(a));return b};
SUI.lib.Storage.prototype.remove=function(a){a=this._getPropertyName(a);this.storage.removeItem(a)};SUI.lib.Storage.prototype.clear=function(){this.storage.clear()};SUI.lib.Storage.prototype._checkExpires=function(){var a=this,b=Object.keys(this.storage);SUI.eachArray(b,function(b){b=a._getName(b);a._isExpired(b)&&a.remove(b)})};SUI.lib.Storage.prototype._isExpired=function(a){var b=new Date;a=this._getExpiresDate(a);return!!a&&b.getTime()>=a.getTime()};
SUI.lib.Storage.prototype._getExpiresDate=function(a){a=this._getPropertyName(a);return(a=this.storage.getItem(a))?(a=a.split(';',2)[0],new Date(a)):null};SUI.lib.Storage.prototype._getExpires=function(a){var b=new Date;if(a)switch(a.constructor){case Number:b.setTime(b.getTime()+36E5*a);a=Infinity===a?'Fri, 31 Dec 9999 23:59:59 GMT':b.toUTCString();break;case Date:a=a.toUTCString()}else b.setTime(b.getTime()+36E5*this.options.hours),a=b.toUTCString();return a};SUI.lib.Style=function(a,b){b=void 0===b?{}:b;this.progressBar=a;this._setOptions(b);this._init()};SUI.lib.Style.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object;this.options.merge(a)};SUI.lib.Style.prototype._init=function(){this.head=(new SUI.Query('head')).getItem()};
SUI.lib.Style.prototype.load=function(a,b,c,d,e){var f=this;d=void 0===d?'stylesheet':d;e=void 0===e?'all':e;this.progressBar.show();var g=new SUI.Deferred;if(0<(new SUI.Query('#'+a)).size())this.progressBar.hide(),g.resolve(!0);else{var h=new SUI.Node('link');h.setId(a);a=SUI.urlWithQueryString(b,c);h.setAttribute('href',a);h.setAttribute('rel',d);h.setAttribute('media',e);h.setAttribute('onload',function(){f.progressBar.hide();g.resolve(!0)});h.setAttribute('onerror',function(){f.progressBar.hide();
g.reject(!1)});this.head.appendChild(h)}return g.promise()};SUI.lib.Style.prototype.remove=function(a){a=(new SUI.Query('#'+a)).getItem();a.isEmpty()||a.remove()};SUI.lib.Template=function(a,b){b=void 0===b?{}:b;this.http=a;this._setOptions(b);this._init()};SUI.lib.Template.prototype._setOptions=function(a){this.options=new SUI.Object({selector:'.template-view',locale:navigator.language});this.options.merge(a)};SUI.lib.Template.prototype._init=function(){this.viewNode=(new SUI.Query(this.options.selector)).getItem()};SUI.lib.Template.prototype.getViewNode=function(){return this.viewNode};
SUI.lib.Template.prototype.load=function(a){var b=this,c=new SUI.Deferred,d=this.viewNode.getAttribute('data-template-url'),e=this.viewNode.getAttribute('data-locale');SUI.contain(this.options.locale,e)&&d===a?(this.viewNode.removeAttribute('data-locale'),a=(new SUI.Query('.page-content',this.viewNode)).getItem(),c.resolve(a)):(this.viewNode.setAttribute('data-template-url',a),this.http.get(a).then(function(a){c.resolve(b._handleData(a,!1))},function(a){c.reject(b._handleData(a,!0))}));return c.promise()};
SUI.lib.Template.prototype._handleData=function(a,b){a=(new SUI.Query('.page-content',a)).getItem();b?(b=(new SUI.Query('.message',a)).getItem(),b={content:b.getText(),type:b.getAttribute('class').split(' ')[1]},this.eventError(b)):this.viewNode.insert(a);return a};SUI.lib.Template.prototype.eventError=function(a){console.warn('SUI.lib.Template.eventError()',a)};SUI.lib.TopMenu=function(a){this.header=a;this._init()};SUI.lib.TopMenu.prototype._init=function(){var a=this;this.topMenu=(new SUI.Query('#top-menu',this.header.headerNode)).getItem();this.toggleTopMenu=(new SUI.Query('#toggle-top-menu',this.header.headerNode)).getItem();this.toggleTopMenu.setAttribute('href','javascript:void(0)');this.toggleTopMenu.addEventListener('click',function(){a.toggle()})};SUI.lib.TopMenu.prototype.toggle=function(){this.isOpened()?this.close():this.open()};
SUI.lib.TopMenu.prototype.isOpened=function(){return this.topMenu.hasClass('visible-flex')};SUI.lib.TopMenu.prototype.open=function(){this.header.open();this.topMenu.addClass('visible-flex');this.toggleTopMenu.addClass('active');this.header.showShadow()};SUI.lib.TopMenu.prototype.close=function(){this.header.close();this.topMenu.removeClass('visible-flex');this.toggleTopMenu.removeClass('active');this.header.hideShadow()};SUI.lib.TopMenu.prototype.getContainer=function(){return this.topMenu};SUI.lib.Viewer=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init();this._initBase()};goog.inherits(SUI.lib.Viewer,SUI.lib.BaseModal);SUI.lib.Viewer.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({id:'#viewer'});this.options.merge(a)};
SUI.lib.Viewer.prototype._init=function(){this.body=(new SUI.Query('body')).getItem();this.modal=(new SUI.Query(this.options.id,this.body)).getItem();this.modalWindow=(new SUI.Query('#viewer-window',this.modal)).getItem();this.modalHeader=(new SUI.Query('.modal-header',this.modal)).getItem();this.modalTitle=(new SUI.Query('.modal-title',this.modalHeader)).getItem();this.modalBody=(new SUI.Query('.modal-body',this.modal)).getItem();this.modalFooter=(new SUI.Query('.modal-footer',this.modal)).getItem();
this.tooltip=new SUI.Tooltip(this.modalTitle,'BOTTOM');this.tooltip.render()};SUI.lib.Viewer.prototype.loadImage=function(a,b){b=void 0===b?'':b;this._reset();this._setImage(a);this._setTitle(b);this.open()};SUI.lib.Viewer.prototype._setImage=function(a){var b=new SUI.Node('img');b.setAttribute('src',a);this.modalBody.appendChild(b)};SUI.lib.Window=function(a){a=void 0===a?{}:a;this._setOptions(a);this._init()};SUI.lib.Window.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({delay:250});this.options.merge(a)};SUI.lib.Window.prototype._init=function(){this.window=window;this.document=document;this.orientation=this.getOrientation();this._initResizeEvent();this._initScrollEvent();this._initOnlineEvent()};
SUI.lib.Window.prototype._initResizeEvent=function(){var a=this;this.window.addEventListener('resize',SUI.debounce(function(b){a._resize(b)},this.options.delay),!1)};SUI.lib.Window.prototype._initScrollEvent=function(){var a=this;this.window.addEventListener('scroll',SUI.debounce(function(b){a._scroll(b)},this.options.delay),!1)};
SUI.lib.Window.prototype._initOnlineEvent=function(){var a=this;this.window.addEventListener('offline',function(b){a.eventOffline(b)},!1);this.window.addEventListener('online',function(b){a.eventOnline(b)},!1)};SUI.lib.Window.prototype.eventOffline=function(a){console.warn('SUI.Window.eventOffline()',a)};SUI.lib.Window.prototype.eventOnline=function(a){console.warn('SUI.Window.eventOffline()',a)};SUI.lib.Window.prototype.eventResize=function(a,b,c){console.warn('SUI.Window.eventResize()',a,b,c)};
SUI.lib.Window.prototype.eventOrientationChange=function(a,b,c,d){console.warn('SUI.Window.eventOrientationChange()',a,b,c,d)};SUI.lib.Window.prototype.eventScroll=function(a,b){console.warn('SUI.Window.eventScroll()',a,b)};SUI.lib.Window.prototype._resize=function(a){this.eventResize(this.getWidth(),this.getHeight(),a);var b=this.getOrientation();SUI.neq(this.orientation,b)&&(this.orientation=b,this.eventOrientationChange(this.orientation,this.getWidth(),this.getHeight(),a))};
SUI.lib.Window.prototype._scroll=function(a){this.eventScroll(this.getScrollTop(),a)};SUI.lib.Window.prototype.getScrollTop=function(){return this.document.documentElement.scrollTop||this.document.body.scrollTop};SUI.lib.Window.prototype.getWidth=function(){return this.window.innerWidth};SUI.lib.Window.prototype.getHeight=function(){return this.window.innerHeight};SUI.lib.Window.prototype.getOrientation=function(){return SUI.gte(this.getWidth(),this.getHeight())?'landscape':'portrait'};SUI.App=function(a,b){this._setOptions(a);this._init(b)};SUI.App.prototype._setOptions=function(a){this.options=new SUI.Object({app_id:'sui-app',title:'SUI-APP',locale:navigator.language,backend:'',production:!1,secret:'f74pej3qpb9qmpvregu7ef33m5w6f6qz',log_color:'#3f51b5'});this.options.merge(a)};
SUI.App.prototype._init=function(a){this.types={};this._injections=a;this._instances={};this._initCertificate();this._initApp();this._initRoutes();this._initStorage();this._initLocale();this._initModule();this._initEvent();this._initScheduler();this._initLoader();this._initHttp();this._initDialog();this._initConfirm();this._initViewer();this._initProgressBar();this._initCookie();this._initNotification();this._initTemplate();this._initDocument();this._initWindow();this._initHelper();this._initHeader();
this._initTopMenu();this._initLeftMenu();this._initNavBar();this._initSidebar();this._initFooter();this._initBottomMenu();this._initBrowser();this._initGeoLocation();this._initScript();this._initStyle();this._initConfig();this._initConsole();this._initAppCache();this._initServiceWorker();this._initActionCable();this._loadModules()};SUI.App.prototype.getLanguage=function(){return this.getLocale().split('-',2)[0]};
SUI.App.prototype.getLocale=function(){var a=this._instances[this._injections.localStorage].get('app.locale');a||(a=this.options.locale);return a};SUI.App.prototype.setLocale=function(a){this._instances[this._injections.localStorage].set('app.locale',a);this.options.locale=a};SUI.App.prototype.setLocaleWithReload=function(a){this.setLocale(a);this._instances[this._injections.state].reload()};SUI.App.prototype._initLocale=function(){var a=this.getLocale();window.moment.locale(a);this.setLocale(a)};
SUI.App.prototype._initCertificate=function(){(new SUI.Query('html')).getItem().addClass('sui-js')};
SUI.App.prototype._initModule=function(){var a=this;this._module=new SUI.Module;this._module.eventAfterInit=function(){a._instances[a._injections.progressBar].lock();a._instances[a._injections.loader].show();a._instances[a._injections.event].call('module.afterInit')};this._module.eventStateChange=function(b){a._instances[a._injections.progressBar].lock();a._instances[a._injections.loader].show();a._instances[a._injections.dialog].close();a._instances[a._injections.confirm].close();a._instances[a._injections.actionCable].unsubscribeAll();
return a._instances[a._injections.event].call('state.change',[b])};this._module.eventDomChange=function(b,c){return a._instances[a._injections.event].call('dom.change',[b,c])};this._module.eventServiceLoaded=function(){a._instances[a._injections.browser].detect();a._instances[a._injections.event].call('module.serviceLoaded')};this._module.eventServiceFailed=function(){a._instances[a._injections.event].call('module.serviceFailed')};this._module.eventModuleLoaded=function(b){a._instances[a._injections.progressBar].unlock();
a._instances[a._injections.loader].hide(!0);a._instances[a._injections.event].call('module.loaded',[b])};this._module.eventModuleFailed=function(b){a._instances[a._injections.progressBar].unlock();a._instances[a._injections.loader].hide(!0);a._instances[a._injections.event].call('module.failed',[b])};this._module.eventControllerLoaded=function(b){a._instances[a._injections.event].call('controller.loaded',[b])};this._module.eventControllerFailed=function(){a._instances[a._injections.event].call('controller.failed',
[])}};SUI.App.prototype._loadModules=function(){this._module.load(this._instances,this._injections)};SUI.App.prototype._initScript=function(){this._instances[this._injections.script]=new SUI.lib.Script(this._instances[this._injections.progressBar])};SUI.App.prototype._initStyle=function(){this._instances[this._injections.style]=new SUI.lib.Style(this._instances[this._injections.progressBar])};SUI.App.prototype._initConsole=function(){this._instances[this._injections.console]=new SUI.lib.Console(this._instances[this._injections.config])};
SUI.App.prototype._initConfig=function(){this._instances[this._injections.config]=this.options};SUI.App.prototype._initApp=function(){this._instances[this._injections.app]=this};
SUI.App.prototype._initGeoLocation=function(){var a=this;this._instances[this._injections.geoLocation]=new SUI.lib.GeoLocation;this._instances[this._injections.geoLocation].eventChange=function(b,c,d){a._instances[a._injections.event].override('geoLocation.success',[d],function(b){a._instances[a._injections.notification].addInfo(b)});a._instances[a._injections.event].call('geoLocation.change',[b,c])};this._instances[this._injections.geoLocation].eventError=function(b,c){a._instances[a._injections.event].override('geoLocation.error',
[b,c],function(b){a._instances[a._injections.notification].addError(b)})}};SUI.App.prototype._initCookie=function(){this._instances[this._injections.cookie]=new SUI.lib.Cookie({prefix:this.options.app_id})};SUI.App.prototype._initLoader=function(){this._instances[this._injections.loader]=new SUI.lib.Loader};SUI.App.prototype._initProgressBar=function(){this._instances[this._injections.progressBar]=new SUI.lib.ProgressBar(this._instances[this._injections.dialog],this._instances[this._injections.confirm])};
SUI.App.prototype._initStorage=function(){this._instances[this._injections.localStorage]=new SUI.lib.Storage({type:'local',prefix:this.options.app_id,secret:this.options.secret});this._instances[this._injections.sessionStorage]=new SUI.lib.Storage({type:'session',prefix:this.options.app_id,secret:this.options.secret})};SUI.App.prototype._initHelper=function(){this._instances[this._injections.helper]=new SUI.lib.Helper};
SUI.App.prototype._initDocument=function(){var a=new SUI.PopupContainer;this._instances[this._injections.document]=new SUI.lib.Document(this.options);this._instances[this._injections.document].eventClick=function(b,c){a.closeAll();this._instances[this._injections.event].call('document.click',[b,c])}.bind(this)};
SUI.App.prototype._initWindow=function(){this._instances[this._injections.window]=new SUI.lib.Window;var a=this._instances[this._injections.window].getWidth(),b=this._instances[this._injections.window].getHeight();this._instances[this._injections.dialog].setSize(a,b);this._instances[this._injections.confirm].setSize(a,b);this._instances[this._injections.viewer].setSize(a,b);this._instances[this._injections.window].eventResize=function(a,b,c){this._instances[this._injections.dialog].setSize(a,b);this._instances[this._injections.confirm].setSize(a,
b);this._instances[this._injections.viewer].setSize(a,b);this._instances[this._injections.event].call('window.resize',[a,b,c])}.bind(this);this._instances[this._injections.window].eventOrientationChange=function(a,b,c,g){this._instances[this._injections.dialog].setSize(b,c);this._instances[this._injections.confirm].setSize(b,c);this._instances[this._injections.viewer].setSize(b,c);this._instances[this._injections.event].call('window.orientationChange',[a,b,c,g])}.bind(this);this._instances[this._injections.window].eventScroll=
function(a,b){this._instances[this._injections.event].call('window.scroll',[a,b])}.bind(this);var c={node:null,message:'Unable to connect to the Internet',duration:Infinity};this._instances[this._injections.window].eventOnline=function(){c.node&&this._instances[this._injections.notification].remove(c.node)}.bind(this);this._instances[this._injections.window].eventOffline=function(a){this._instances[this._injections.event].override('window.offline',[c,a],function(a){a.node=this._instances[this._injections.notification].addWarning(a.message,
a.duration)}.bind(this))}.bind(this)};SUI.App.prototype._initEvent=function(){this._instances[this._injections.event]=new SUI.lib.Event};SUI.App.prototype._initScheduler=function(){this._instances[this._injections.scheduler]=new SUI.lib.Scheduler};
SUI.App.prototype._initHttp=function(){this._instances[this._injections.http]=new SUI.lib.Http(this.options);this._instances[this._injections.http].eventBeforeRequest=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this._instances[this._injections.progressBar].show();this._instances[this._injections.event].call('http.beforeRequest',b)}.bind(this);this._instances[this._injections.http].eventAfterRequest=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];
this._instances[this._injections.event].call('http.afterRequest',b);this._instances[this._injections.progressBar].hide()}.bind(this)};SUI.App.prototype._initTemplate=function(){this._instances[this._injections.template]=new SUI.lib.Template(this._instances[this._injections.http],{locale:this.getLocale()});this._instances[this._injections.template].eventError=function(a){this._instances[this._injections.state].back();this._instances[this._injections.loader].hide();this._instances[this._injections.notification].addMessage(a)}.bind(this)};
SUI.App.prototype._initNotification=function(){this._instances[this._injections.notification]=new SUI.lib.Notification};SUI.App.prototype._initDialog=function(){this._instances[this._injections.dialog]=new SUI.lib.Dialog(this._instances[this._injections.http])};SUI.App.prototype._initConfirm=function(){this._instances[this._injections.confirm]=new SUI.lib.Confirm};SUI.App.prototype._initViewer=function(){this._instances[this._injections.viewer]=new SUI.lib.Viewer};
SUI.App.prototype._initHeader=function(){this._instances[this._injections.header]=new SUI.lib.Header};SUI.App.prototype._initTopMenu=function(){this._instances[this._injections.topMenu]=new SUI.lib.TopMenu(this._instances[this._injections.header])};SUI.App.prototype._initNavBar=function(){this._instances[this._injections.navBar]=new SUI.lib.NavBar};SUI.App.prototype._initBottomMenu=function(){this._instances[this._injections.bottomMenu]=new SUI.lib.BottomMenu(this._instances[this._injections.footer])};
SUI.App.prototype._initSidebar=function(){this._instances[this._injections.leftSidebar]=new SUI.lib.Sidebar('#left-sidebar');this._instances[this._injections.rightSidebar]=new SUI.lib.Sidebar('#right-sidebar')};SUI.App.prototype._initLeftMenu=function(){this._instances[this._injections.leftMenu]=new SUI.lib.LeftMenu};SUI.App.prototype._initFooter=function(){this._instances[this._injections.footer]=new SUI.lib.Footer};
SUI.App.prototype._initBrowser=function(){var a=this;this._instances[this._injections.browser]=new SUI.lib.Browser;this._instances[this._injections.browser].eventMissingFeatures=function(b){a._instances[a._injections.notification].addError(b.join(', '))}};SUI.App.prototype._initAppCache=function(){var a=this;this._instances[this._injections.appCache]=new SUI.lib.AppCache;this._instances[this._injections.appCache].eventMissingFeatures=function(b){a._instances[a._injections.notification].addError(b.join(', '))}};
SUI.App.prototype._initServiceWorker=function(){var a=this;this._instances[this._injections.serviceWorker]=new SUI.lib.ServiceWorker;this._instances[this._injections.serviceWorker].eventMissingFeatures=function(b){a._instances[a._injections.notification].addError(b.join(', '))}};SUI.App.prototype._initActionCable=function(){this._instances[this._injections.actionCable]=new SUI.lib.ActionCable};SUI.App.prototype._initRoutes=function(){this._routes=[];this._routeOptions=new SUI.Object};
SUI.App.prototype.addState=function(a,b,c,d,e,f){e=void 0===e?'':e;f=void 0===f?{}:f;f=new SUI.Object(f);f.set('id',a);f.set('title',b);f.set('url',c);f.set('controller',d);f.set('template',e);this._routes.push(f)};SUI.App.prototype.setRootState=function(a,b){this._routeOptions.set('root.id',a);this._routeOptions.set('root.params',b)};SUI.App.prototype.setHomeState=function(a,b){this._routeOptions.set('home.id',a);this._routeOptions.set('home.params',b)};
SUI.App.prototype.setMaintenanceState=function(a,b){this._routeOptions.set('maintenance.id',a);this._routeOptions.set('maintenance.params',b)};SUI.App.prototype.getInstance=function(a){return this._instances[a]};SUI.App.prototype.getController=function(){return this._module.getController()};
SUI.App.prototype.run=function(){this.options.production?console.info('%cApplication run in production environment...','font-weight:bold;color:'+this.options.log_color+';'):(console.info('%cApplication run in development environment...','font-weight:bold;color:'+this.options.log_color+';'),(new SUI.Test).run());this._module.handleRoutes(this._routes,this._routeOptions);this._module.handleServices()};goog.exportProperty(SUI.App.prototype,'run',SUI.App.prototype.run);
SUI.App.prototype.controller=function(a,b,c,d){this._module.add(a,b,c,d)};SUI.App.prototype.service=function(a,b,c,d){this._module.add(a,b,c,d)};SUI.App.prototype.factory=function(a,b,c,d){this._module.add(a,b,c,d)};SUI.Day=function(a,b,c){this.date=window.moment(a,'YYYY-MM-DD');this.currentDate=b;this._setOptions(c);this._init()};SUI.Day.prototype._setOptions=function(a){this.options=a};SUI.Day.prototype._init=function(){var a=window.moment(this.date).isSame(this.currentDate.format('YYYY-MM-DD'))?'current':null,b=window.moment(this.date).isSame(window.moment().format('YYYY-MM-DD'))?'now':null;this.cssClasses=['day',this.options.css_class,b,a]};
SUI.Day.prototype.getNode=function(){var a=this,b=new SUI.Node('span');b.addClass(this.cssClasses);var c=parseInt(this.date.format('DD'),10);b.setHtml(c);b.addEventListener('click',function(){a.eventClick(a.date)});return b};SUI.Day.prototype.eventClick=function(a){console.warn('SUI.Day.eventClick()',a)};SUI.Month=function(a,b,c){this.date=window.moment(a,'YYYY-MM-DD');this.currentDate=b;this._setOptions(c);this._init()};SUI.Month.prototype._setOptions=function(a){this.options=a};SUI.Month.prototype._init=function(){var a=this.date.format('YYYY-MM')===this.currentDate.format('YYYY-MM')?'current':null,b=this.date.format('YYYY-MM')===window.moment().format('YYYY-MM')?'now':null;this.cssClasses=['month',this.options.css_class,b,a]};
SUI.Month.prototype.getNode=function(){var a=this,b=new SUI.Node('span');b.addClass(this.cssClasses);var c=this.date.month();c=window.moment.monthsShort(c);b.setHtml(c);b.addEventListener('click',function(){a.eventClick(a.date)});return b};SUI.Month.prototype.eventClick=function(a){console.warn('SUI.Month.eventClick()',a)};SUI.Year=function(a,b,c){this.date=window.moment(a,'YYYY-MM-DD');this.currentDate=b;this._setOptions(c);this._init()};SUI.Year.prototype._setOptions=function(a){this.options=a};SUI.Year.prototype._init=function(){var a=this.date.format('YYYY')===this.currentDate.format('YYYY')?'current':null,b=this.date.format('YYYY')===window.moment().format('YYYY')?'now':null;this.cssClasses=['year',this.options.css_class,b,a]};
SUI.Year.prototype.getNode=function(){var a=this,b=new SUI.Node('span');b.addClass(this.cssClasses);var c=parseInt(this.date.format('YYYY'),10);b.setHtml(c);b.addEventListener('click',function(){a.eventClick(a.date)});return b};SUI.Year.prototype.eventClick=function(a){console.warn('SUI.Year.eventClick()',a)};SUI.Calendar=function(a,b){this.calendarNode=a;this._setOptions(b);this._init()};SUI.Calendar.prototype._setOptions=function(a){this.options=a};SUI.Calendar.prototype._init=function(){this.maxDays=42;this.maxMonths=12;this.maxYears=16;this.modes=['YEAR','MONTH','DAY'];this.types={date:this.modes[2],month:this.modes[1],year:this.modes[0],week:this.modes[2],range:this.modes[2]};this._initStructure()};
SUI.Calendar.prototype._initStructure=function(){this._initHeaderNode();this._initContentNode();this._initMode(this.types[this.options.type]);var a=window.moment(this.options.date);this._setDate(a)};
SUI.Calendar.prototype._initHeaderNode=function(){var a=this;this.headerNode=new SUI.Node('div');this.headerNode.addClass('header');this.calendarNode.appendChild(this.headerNode);var b=new SUI.Node('a');b.setAttribute('href','javascript:void(0)');b.addClass(['previous','mdl-button','mdl-js-button','mdl-button--icon']);var c=new SUI.Node('i');c.addClass('material-icons');c.setHtml('chevron_left');b.appendChild(c);b.addEventListener('click',this._previous.bind(this));this.headerNode.appendChild(b);
this.currentModeNode=new SUI.Node('span');this.currentModeNode.addClass('current-mode');this.currentModeNode.addEventListener('click',function(){a._changeMode(-1);a.draw()});this.headerNode.appendChild(this.currentModeNode);b=new SUI.Node('a');b.setAttribute('href','javascript:void(0)');b.addClass(['previous','mdl-button','mdl-js-button','mdl-button--icon']);c=new SUI.Node('i');c.addClass('material-icons');c.setHtml('chevron_right');b.appendChild(c);b.addEventListener('click',this._next.bind(this));
this.headerNode.appendChild(b)};SUI.Calendar.prototype._initContentNode=function(){this.contentNode=new SUI.Node('div');this.contentNode.addClass('content');this.calendarNode.appendChild(this.contentNode)};SUI.Calendar.prototype._changeMode=function(a){a=this._getMode(a);this._initMode(a)};SUI.Calendar.prototype._getMode=function(a){var b=this.modes.indexOf(this.activeMode);-1!==b&&(b+=a);return(a=this.modes[b])?a:this.types[this.options.type]};
SUI.Calendar.prototype._switchMode=function(a,b,c){var d=null;switch(this.activeMode){case 'DAY':d=a();break;case 'MONTH':d=b();break;case 'YEAR':d=c()}return d};SUI.Calendar.prototype._initMode=function(a){this.contentNode.removeChildren();this.activeMode=a;this._switchMode(this._initDaysMode.bind(this),this._initMonthsMode.bind(this),this._initYearsMode.bind(this))};SUI.Calendar.prototype._initYearsMode=function(){this.yearsNode=new SUI.Node('div');this.yearsNode.addClass('years');this.contentNode.appendChild(this.yearsNode)};
SUI.Calendar.prototype._initMonthsMode=function(){this.monthsNode=new SUI.Node('div');this.monthsNode.addClass('months');this.contentNode.appendChild(this.monthsNode)};SUI.Calendar.prototype._initDaysMode=function(){this.weekDaysNode=new SUI.Node('div');this.weekDaysNode.addClass('week-days');this.contentNode.appendChild(this.weekDaysNode);this.daysNode=new SUI.Node('div');this.daysNode.addClass('days');this.contentNode.appendChild(this.daysNode)};
SUI.Calendar.prototype._previous=function(){var a=this,b=this._switchMode(function(){return a.previous.month},function(){return a.previous.year},function(){var b=a.current.day.clone().subtract(a.maxYears,'years');0>b.year()&&(b=a.current.day.clone());return b});this._setDate(b);this.draw()};
SUI.Calendar.prototype._next=function(){var a=this,b=this._switchMode(function(){return a.next.month},function(){return a.next.year},function(){return a.current.day.clone().add(a.maxYears,'years')});this._setDate(b);this.draw()};SUI.Calendar.prototype._setDate=function(a){this._setSelectedDate(a);this._setVariables(a);this._setPreviousMonth();this._setCurrentMonth();this._setNextMonth()};
SUI.Calendar.prototype._setVariables=function(a){this.days=[];this.previous={day:window.moment(a).subtract(1,'days'),month:window.moment(a).subtract(1,'months'),year:window.moment(a).subtract(1,'years')};this.current={day:window.moment(a)};this.next={day:window.moment(a).add(1,'days'),month:window.moment(a).add(1,'months'),year:window.moment(a).add(1,'years')}};SUI.Calendar.prototype.draw=function(){this._switchMode(this._drawDaysStructure.bind(this),this._drawMonthsStructure.bind(this),this._drawYearsStructure.bind(this))};
SUI.Calendar.prototype._drawDaysStructure=function(){this._drawHeader('YYYY MMMM');this._drawWeekDays();this._drawDays()};SUI.Calendar.prototype._drawMonthsStructure=function(){this._drawHeader('YYYY');this._drawMonths()};SUI.Calendar.prototype._drawYearsStructure=function(){this._drawHeader(null);this._drawYears()};SUI.Calendar.prototype._drawHeader=function(a){this.currentModeNode.removeChildren();a=a?this.current.day.format(a):'';this.currentModeNode.setHtml(a)};
SUI.Calendar.prototype._drawMonths=function(){this.monthsNode.removeChildren();for(var a=0;a<this.maxMonths;a++){var b=new SUI.Month(this.current.day.clone().month(a),this.selectedDate,{});b.eventClick=this._onClick.bind(this);b=b.getNode();this.monthsNode.appendChild(b)}};
SUI.Calendar.prototype._drawYears=function(){this.yearsNode.removeChildren();for(var a=this.current.day.year()-this.current.day.year()%this.maxYears,b=a;b<a+this.maxYears;b++){var c=new SUI.Year(this.current.day.clone().year(b),this.selectedDate,{});c.eventClick=this._onClick.bind(this);c=c.getNode();this.yearsNode.appendChild(c)}};
SUI.Calendar.prototype._drawWeekDays=function(){this.weekDaysNode.removeChildren();for(var a=this.options.start_day;a<this.options.start_day+7;a++){var b=new SUI.Node('span');b.addClass('day');var c=window.moment.weekdaysMin(a%7);b.setHtml(c);this.weekDaysNode.appendChild(b)}};SUI.Calendar.prototype._drawDays=function(){this.daysNode.removeChildren();for(var a=0;a<this.days.length;a++){var b=this.days[a].getNode();this.daysNode.appendChild(b)}};
SUI.Calendar.prototype._getDate=function(a,b,c){return[a,b+1,c].join('-')};SUI.Calendar.prototype._setPreviousMonth=function(){var a=this.previous.month.endOf('month').day()-this.options.start_day;for(a=this.previous.month.daysInMonth()-a;a<=this.previous.month.daysInMonth();a++){var b=this._getDate(this.previous.month.year(),this.previous.month.month(),a);b=new SUI.Day(b,this.selectedDate,{css_class:'previous-month'});b.eventClick=this._onClick.bind(this);this.days.push(b)}};
SUI.Calendar.prototype._setCurrentMonth=function(){for(var a=1;a<=this.current.day.daysInMonth();a++){var b=this._getDate(this.current.day.year(),this.current.day.month(),a);b=new SUI.Day(b,this.selectedDate,{css_class:'current-month'});b.eventClick=this._onClick.bind(this);this.days.push(b)}};
SUI.Calendar.prototype._setNextMonth=function(){for(var a=this.maxDays-this.days.length,b=1;b<=a;b++){var c=this._getDate(this.next.month.year(),this.next.month.month(),b);c=new SUI.Day(c,this.selectedDate,{css_class:'next-month'});c.eventClick=this._onClick.bind(this);this.days.push(c)}};SUI.Calendar.prototype._setModeDate=function(a){var b=this.current.day.clone();this._switchMode(function(){b.month(a.month());b.date(a.date())},function(){b.month(a.month())},function(){b.year(a.year())});this._setDate(b)};
SUI.Calendar.prototype._onClick=function(a){this._setModeDate(a);this.activeMode!==this.types[this.options.type]&&this._changeMode(1);this.draw();this.eventClick(a)};SUI.Calendar.prototype._setSelectedDate=function(a){this.selectedDate=a};SUI.Calendar.prototype.eventClick=function(a){console.warn('SUI.Calendar.eventClick()',a)};SUI.Widget=function(a,b,c,d,e){this.input=a;this.label=b;this.error=c;this.inputBlock=d;this.form=e;this.error&&(this.errorTooltip=new SUI.Tooltip(this.error));this._setInfoContainer();this._setMutation();this._setAdditionalLabel(this.label)};SUI.Widget.prototype.eventChange=function(a,b){};SUI.Widget.prototype.render=function(){console.warn('SUI.Widget.render()')};SUI.Widget.prototype.refresh=function(){console.warn('SUI.Widget.refresh()')};
SUI.Widget.prototype.modelChange=function(a){console.warn('SUI.Widget.modelChange()',a)};SUI.Widget.prototype.getName=function(){var a=this.input.getAttribute('name');return this._getAttributeName(a)};SUI.Widget.prototype.getValue=function(){var a=this.input.getNode().value;return SUI.typeCast(a)};SUI.Widget.prototype._getAttributeName=function(a){a=(a||'').replace(/]/g,'');a=a.replace(/\[/g,'.');return a=SUI.eq(a.slice(-1),'.')?a.slice(0,-1):a};
SUI.Widget.prototype.setError=function(a,b){a=void 0===a?'':a;b=void 0===b?!1:b;this.error&&(this.errorTooltip.setMessage(a),this.error.setHtml(a),a&&b&&this.inputBlock&&this.inputBlock.addClass('is-invalid'))};SUI.Widget.prototype.checkValidity=function(a,b){a=void 0===a?!1:a;b=void 0===b?!0:b;var c=this.isValid();c?this.setError(''):b&&this.setError(this.input.getNode().validationMessage);b=this._getUpgradedNode();a&&b&&(this.getValue()&&b.addClass('is-dirty'),c?b.removeClass('is-invalid'):b.addClass('is-invalid'))};
SUI.Widget.prototype.isValidityValid=function(){return this.input.getNode().validity.valid};SUI.Widget.prototype.isValid=function(){return this.isValidityValid()};SUI.Widget.prototype._getUpgradedNode=function(){return this.inputBlock};SUI.Widget.prototype.setValue=function(a){this.input.getNode().value=a;this.input.setAttribute('value',a);this.input.trigger('change')};SUI.Widget.prototype.exists=function(){return this.existsInputBlock()||this.existsInput()};
SUI.Widget.prototype.existsInput=function(){return!!this.input&&this.input.exists()};SUI.Widget.prototype.existsInputBlock=function(){return!!this.inputBlock&&this.inputBlock.exists()};SUI.Widget.prototype.get=function(a){return'model'===a?this.getName():this.input.get(a)};SUI.Widget.prototype.isRequired=function(){return this.input.getNode().required};
SUI.Widget.prototype.setRequired=function(a){a?this.input.setAttribute('required'):this.input.removeAttribute('required');this.input.getNode().required=a;this.checkValidity(!0,!1);this._setAdditionalLabel(this.label)};SUI.Widget.prototype.isEnabled=function(){return!this.isDisabled()};SUI.Widget.prototype.isDisabled=function(){return this.input.getNode().disabled};
SUI.Widget.prototype.setDisabled=function(a){a?this.input.setAttribute('disabled'):this.input.removeAttribute('disabled');this.input.getNode().disabled=a;this.checkValidity(!0,!1)};SUI.Widget.prototype.setLabel=function(a){this.label&&!this.label.isEmpty()&&(this.label.setHtml(a),this._setAdditionalLabel(this.label))};
SUI.Widget.prototype._setInfoContainer=function(){this.inputBlock&&!this.inputBlock.isEmpty()&&(this.infoContainerNode=(new SUI.Query('.info-container',this.inputBlock)).getItem(),this.infoContainerNode.isEmpty()&&(this.infoContainerNode=new SUI.Node('div'),this.infoContainerNode.addClass(['info-container']),this.inputBlock.appendChild(this.infoContainerNode)))};
SUI.Widget.prototype._setInfo=function(a){var b=a.getAttribute('title');a=a.getAttribute('desc');if(b||a){var c=(new SUI.Query('a.info-button',this.infoContainerNode)).getItem();c.isEmpty()||c.remove();c=new SUI.Node('a');c.setAttribute('title',b||'');c.setAttribute('desc',a||'');c.setAttribute('href','javascript:void(0)');c.addClass(['info-button','material-icons']);c.setHtml('info_outline');this.infoContainerNode.appendChild(c);(new SUI.Tooltip(c,'LEFT')).render()}};
SUI.Widget.prototype._setAdditionalLabel=function(a){if(a&&a.exists()){var b=this._getLabelRequiredText(a.getHtml(!0));a.setHtml(b);this._setInfo(a)}};SUI.Widget.prototype._getLabelRequiredText=function(a){var b=a.substr(a.length-2);this.isRequired()&&' *'!==b?a+=' *':this.isRequired()||' *'!==b||(a=a.replace(' *',''));return a};
SUI.Widget.prototype._setMutation=function(){var a=this;(new MutationObserver(function(b){for(var c=0;c<b.length;c++){var d=b[c];'disabled'===d.attributeName?a.refresh():'required'===d.attributeName&&a.refresh()}})).observe(this.input.getNode(),{attributeFilter:['disabled','required'],attributes:!0,attributeOldValue:!0})};SUI.widget=function(){};SUI.widget.AutoComplete=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.AutoComplete,SUI.Widget);SUI.widget.AutoComplete.prototype._init=function(){};SUI.lib.ActionCable=function(){this._init()};SUI.lib.ActionCable.prototype._init=function(){window.ActionCable&&(this.cable=window.ActionCable.createConsumer());this.clients=[];this.identifiers=[]};SUI.lib.ActionCable.prototype.getUrl=function(){var a='',b=(new SUI.Query('meta[name="action-cable-url"]')).getItem();b.isEmpty()||(a=b.getAttribute('content'));return a};
SUI.lib.ActionCable.prototype.subscribe=function(a,b){b={channel:a,room:b};a=this._generateIdentifier(b);return SUI.inArray(this.identifiers,a)?(new SUI.Deferred).promise():(this.identifiers.push(a),b=new SUI.lib.ActionCableClient(this,b),b.identifier=a,this.clients.push(b),b.subscribe())};SUI.lib.ActionCable.prototype.unsubscribeAll=function(){var a=this;SUI.eachArray(this.clients,function(b){b.unsubscribe();SUI.remove(a.identifiers,b.identifier)});SUI.clearArray(this.clients)};
SUI.lib.ActionCable.prototype._generateIdentifier=function(a){return SUI.md5(JSON.stringify(a))};SUI.lib.NavBar=function(){this._init()};SUI.lib.NavBar.prototype._init=function(){var a=this;this.navBarHeader=(new SUI.Query('.nav-bar-header')).getItem();this.navBar=(new SUI.Query('#nav-bar',this.navBarHeader)).getItem();var b=(new SUI.Query('#toggle-nav-bar',this.navBarHeader)).getItem();b.setAttribute('href','javascript:void(0)');b.addEventListener('click',function(){a.toggle()});this.toggleNavBarIcon=(new SUI.Query('.material-icons',b)).getItem()};
SUI.lib.NavBar.prototype.toggle=function(){this.isOpened()?this.close():this.open()};SUI.lib.NavBar.prototype.isOpened=function(){return this.navBar.hasClass('open')};SUI.lib.NavBar.prototype.open=function(){this.navBar.addClass('open');this.toggleNavBarIcon.setHtml('close')};SUI.lib.NavBar.prototype.close=function(){this.navBar.removeClass('open');this.toggleNavBarIcon.setHtml('menu')};SUI.lib.NavBar.prototype.show=function(){this.navBarHeader.removeClass('hidden')};
SUI.lib.NavBar.prototype.hide=function(){this.navBarHeader.addClass('hidden')};SUI.lib.NavBar.prototype.showShadow=function(){this.navBar.addClass('shadow')};SUI.lib.NavBar.prototype.hideShadow=function(){this.navBar.removeClass('shadow')};SUI.lib.NavBar.prototype.getContainer=function(){return this.navBar};SUI.lib.Scheduler=function(){this.schedulerContainer=new SUI.Object;this._callRunner()};SUI.lib.Scheduler.prototype._callRunner=function(){};SUI.lib.Scheduler.prototype.everyDay=function(a,b){if(SUI.isFunction(b)){var c=this.schedulerContainer.get(a,[]);c.push(b);this.schedulerContainer.set(a,c)}return b};SUI.box=function(){};SUI.Item=function(a,b){this.properties=new SUI.Object(a);this.parent=b};SUI.Item.prototype.set=function(a,b){this.properties.set(a,b)};SUI.Item.prototype.merge=function(a){this.properties.merge(a)};SUI.Item.prototype.get=function(a){return this.properties.get(a)};SUI.Router=function(a){this.route=void 0===a?'':a;this.param=/([:*])(\w+)/g;this.escape=/[-[]{}()+?.,]/g;this._init()};SUI.Router.prototype._init=function(){var a=this;this.paramNames=[];this.regex=this.route;this.regex=this.regex.replace(this.escape,'\\$&');this.regex=this.regex.replace(this.param,function(b,c,d){a.paramNames.push(d);return':'===c?'([^/]*)':'(.*)'});this.regex=new RegExp('^'+this.regex+'$')};
SUI.Router.prototype.stringify=function(a){a=void 0===a?{}:a;var b=this.route,c={},d;for(d in a){c.$jscomp$loop$prop$key$12=d;if(a.hasOwnProperty(c.$jscomp$loop$prop$key$12)){var e=a[c.$jscomp$loop$prop$key$12],f=new RegExp('[:*]'+c.$jscomp$loop$prop$key$12+'\\b');f.test(b)?b=b.replace(f,e):(b+=-1===b.indexOf('?')?'?':'&',SUI.isArray(e)?SUI.eachArray(e,function(a){return function(c,d){0<d&&(b+='&');b+=SUI.format('{0}[]={1}',[a.$jscomp$loop$prop$key$12,c])}}(c)):SUI.isUndefined(e)||(b+=SUI.format('{0}={1}',
[c.$jscomp$loop$prop$key$12,e])))}c={$jscomp$loop$prop$key$12:c.$jscomp$loop$prop$key$12}}b=b.replace(this.param,'');return'?'===b[b.length-1]?b.substring(0,b.length-1):b};SUI.Router.prototype.getMatches=function(a){var b=a.indexOf('?');-1!==b&&(a=a.substring(0,b));return a.match(this.regex)};SUI.Router.prototype.parse=function(a){var b=this.getMatches(a);if(!b)return{};a=this._parseParams(a);for(var c=0;c<this.paramNames.length;c++)a[this.paramNames[c]]=SUI.typeCast(b[c+1]);return a};
SUI.Router.prototype._parseParams=function(a){var b={},c=a.indexOf('?');if(-1!==c)for(a=a.substr(c+1).split('&'),c=0;c<a.length;c++){var d=a[c].replace('==','&&').split('=');2>d.length&&d.push('');var e=window.decodeURIComponent(d[0]);d=SUI.typeCast(window.decodeURIComponent(d[1].replace('&&','==')));SUI.contain(e,'[]')?(e=e.replace('[]',''),SUI.isArray(b[e])?b[e].push(d):b[e]=[d]):b[e]=d}return b};SUI.State=function(a,b){this._previous=this._current=new SUI.Object;this.routes=new SUI.Collection(a);this._setOptions(b);this._init()};SUI.State.prototype._setRealUrls=function(){var a=this;this.routes.each(function(b){var c=b.get('url');c=a._getRealUrl(c);b.set('realUrl',c)})};SUI.State.prototype._getUrlPrefix=function(){return'#'===this.basePath?'/#':''};SUI.State.prototype._getRealUrl=function(a){return SUI.format('{0}{1}',[this._getUrlPrefix(),a])};
SUI.State.prototype._setBasePath=function(){this.basePath='#';var a=(new SUI.Query('base')).getItem();a.isEmpty()||(this.basePath=a.getAttribute('href')||'#')};SUI.State.prototype._setOptions=function(a){this.options=new SUI.Object({root:{id:'root',params:void 0},home:{id:'home',params:void 0},maintenance:{id:'maintenance',params:void 0}});this.options.merge(a)};SUI.State.prototype._init=function(){this._setBasePath();this._setRealUrls();this._initPopstate();this._parseUrl()};
SUI.State.prototype._initPopstate=function(){var a=this;window.addEventListener('popstate',function(){if(window.history.state){var b=new SUI.Object;b.merge(window.history.state);a._setCurrent(b)}else a._parseUrl();a._triggerChange()})};SUI.State.prototype.run=function(){this._triggerChange()};
SUI.State.prototype._parseUrl=function(){var a=this,b=window.location.hash?window.location.hash:window.location.pathname.replace(this.basePath,'/')+window.location.search;this._parsePath(b,function(b,d,e){a._setHistory(b,d,e,!0)},function(){a.goRoot(!0)})};
SUI.State.prototype._parsePath=function(a,b,c){a='#'===a[0]?a.substr(1):a;for(var d=this.routes.getItems(),e=null,f=null,g=null,h=0;h<d.length&&SUI.isNull(g);)e=d[h],g=e.get('url'),f=new SUI.Router(g),g=f.getMatches(a),f=f.parse(a),h++;e&&f&&g?b(e,a,f):c(e,a,f)};
SUI.State.prototype._setHistory=function(a,b,c,d){c=void 0===c?{}:c;d=void 0===d?!1:d;b='#'===this.basePath?this.basePath+b:b;var e=a.get('template');e=new SUI.Router(e);a.set('templateUrl',e.stringify(c));a.set('params',c);d?window.history.replaceState(a.get(),a.get('title',''),b):window.history.pushState(a.get(),a.get('title',''),b);this._setCurrent(a);d||this._triggerChange()};SUI.State.prototype._triggerChange=function(){var a=this.getCurrent(),b=this.getPrevious();this.eventChange(a,b)};
SUI.State.prototype._setCurrent=function(a){this._previous=this._current;this._current=a};SUI.State.prototype.getCurrent=function(a){return this._current.get(a)};SUI.State.prototype.getPrevious=function(a){return this._previous.get(a)};
SUI.State.prototype.go=function(a,b,c){var d=this;c=void 0===c?!1:c;if(SUI.eq(a[0],'#')||SUI.eq(a[0],'/'))this._parsePath(a,function(a,b,e){d._setHistory(a,b,e,c)},function(){});else{var e=$jscomp.makeIterator(this.resolveUrlWithState(a,b));a=e.next().value;e=e.next().value;a&&e&&this._setHistory(e,a,b,c)}};SUI.State.prototype.resolveUrlWithState=function(a,b){a=this.routes.findById(a);var c='';a&&(c=a.get('url'),c=(new SUI.Router(c)).stringify(b));return[c,a]};
SUI.State.prototype.resolveUrl=function(a,b){a=this.resolveUrlWithState(a,b)[0];return this._getRealUrl(a)};SUI.State.prototype.goState=function(a,b){this.go(a.id,a.params,void 0===b?!1:b)};SUI.State.prototype.goHome=function(a){this.go(this.options.home.id,this.options.home.params,a)};SUI.State.prototype.goRoot=function(a){this.go(this.options.root.id,this.options.root.params,a)};SUI.State.prototype.goMaintenance=function(a){this.go(this.options.maintenance.id,this.options.maintenance.params,a)};
SUI.State.prototype.goBack=function(a,b,c){c=void 0===c?!1:c;SUI.eq(window.history.length,0)?this.go(a,b,c):this.back()};SUI.State.prototype.back=function(){window.history.go(-1)};SUI.State.prototype.redirect=function(a,b){(void 0===b?0:b)?window.open(a,'_blank'):window.location.href=a};SUI.State.prototype.forward=function(){window.history.forward()};SUI.State.prototype.eventChange=function(a,b){console.warn('SUI.State.eventChange()',a,b)};SUI.State.prototype.getRoutes=function(){return this.routes};
SUI.State.prototype.setParams=function(a){var b=this;SUI.eachObject(a,function(a,d){b.setParam(d,a)})};SUI.State.prototype.setParam=function(a,b){var c=this.getCurrent('id'),d=this.getParams();d.set(a,b);this.go(c,d,!0)};SUI.State.prototype.getParams=function(){return this.getCurrent('params')};SUI.State.prototype.getParam=function(a,b){return this.getParams().get(a,b)};SUI.State.prototype.reload=function(){window.location.reload()};SUI.State.prototype.refresh=function(){this._triggerChange()};SUI.test=function(){};SUI.Canvas=function(a){this._init(a);this._initEvents()};SUI.Canvas.prototype._init=function(a){this.canvasNode=a;SUI.isString(a)?this.canvasNode=(new SUI.Query(a)).getItem():SUI.isUndefined(a)&&(this.canvasNode=new SUI.Node('canvas'));this.canvasRaw=this.canvasNode.getNode();this.context=this.canvasRaw.getContext('2d')};
SUI.Canvas.prototype._initEvents=function(){var a=this;this.canvasNode.addEventListener('mousemove',function(b,c){b=b.getNode().getBoundingClientRect();a.eventMouseMove(c.clientX-b.left,c.clientY-b.top)})};SUI.Canvas.prototype.setWidth=function(a){this.canvasRaw.width=a};SUI.Canvas.prototype.getWidth=function(){return this.canvasRaw.width};SUI.Canvas.prototype.setHeight=function(a){this.canvasRaw.height=a};SUI.Canvas.prototype.getHeight=function(){return this.canvasRaw.height};
SUI.Canvas.prototype.setSize=function(a,b){this.setWidth(a);this.setHeight(b)};SUI.Canvas.prototype.drawPolygon=function(a,b,c,d,e,f){var g=this;if(!(3>d)){var h=2*Math.PI/d;this.context.save();this.context.translate(a,b);this.context.beginPath();this.context.rotate(e);this.context.moveTo(c,0);for(a=1;a<d;a++)this.context.lineTo(c*Math.cos(h*a),c*Math.sin(h*a));this.context.closePath();SUI.each(f,function(a,b){g.context[b]=a});this.context.fill();this.context.stroke();this.context.restore()}};
SUI.Canvas.prototype.drawRectangle=function(a,b,c,d,e,f){var g=this;this.context.save();this.context.translate(a,b);this.context.beginPath();this.context.rotate(e);this.context.rect(0,0,c,d);SUI.each(f,function(a,b){g.context[b]=a});f.fillStyle&&this.context.fill();f.strokeStyle&&this.context.stroke();this.context.restore()};
SUI.Canvas.prototype.drawImage=function(a,b,c){b=b||SUI.typeCast(a.getAttribute('width'));c=c||SUI.typeCast(a.getAttribute('height'));this.context.save();this.context.drawImage(a.getNode(),0,0,b,c);this.context.restore()};SUI.Canvas.prototype.getImageDataXY=function(a,b){return this.context.getImageData(a,b,1,1).data};SUI.Canvas.prototype.eventMouseMove=function(a,b){};SUI.Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.getWidth(),this.getHeight())};SUI.ContentHandler=function(a,b){b=void 0===b?{}:b;this.containerNode=a;this._setOptions(b);this._init()};SUI.ContentHandler.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({image_url:null,text:''});this.options.merge(a)};
SUI.ContentHandler.prototype._init=function(){this.contentNode=new SUI.Node('div');this.contentNode.addClass('content-handler');this.containerNode.insertAfter(this.contentNode);if(this.options.image_url){var a=new SUI.Node('img');a.setAttribute('src',this.options.image_url);this.contentNode.appendChild(a)}this.options.text&&(a=new SUI.Node('p'),a.setHtml(this.options.text),this.contentNode.appendChild(a));this.show()};
SUI.ContentHandler.prototype.show=function(){this.contentNode.addClass('visible-flex');this.containerNode.addClass('hidden')};SUI.ContentHandler.prototype.hide=function(){this.contentNode.removeClass('visible-flex');this.containerNode.removeClass('hidden')};SUI.Pager=function(a,b,c){b=void 0===b?['.pager','.pager-statistics']:b;c=void 0===c?{}:c;this.pager=(new SUI.Query(b[0],a)).getItem();this.pagerStatistics=(new SUI.Query(b[1],a)).getItem();this._setOptions(c);this._init()};SUI.Pager.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({row_count:10,pager_num:4});this.options.merge(a)};SUI.Pager.prototype._init=function(){this.count=this.options.row_count;this.setPage(1)};
SUI.Pager.prototype._drawPager=function(){this.pager.removeChildren();this.pageNum=Math.ceil(this.count/this.options.row_count);this._drawPreviousButton();this._drawPageNumbers();this._drawNextButton()};SUI.Pager.prototype._drawStatistics=function(){var a=this.page-1,b=a*this.options.row_count+1;a=a*this.options.row_count+this.options.row_count;a=a>this.count?this.count:a;0<a?this.pagerStatistics.setHtml(SUI.format('{0}\u2012{1} / {2}',[b,a,this.count])):this.pagerStatistics.setHtml('')};
SUI.Pager.prototype._drawPreviousButton=function(){var a=this;if(1<this.pageNum){var b=new SUI.Node('button');b.addClass(['mdl-button','mdl-js-button','mdl-js-ripple-effect']);b.addEventListener('click',function(){a._previous()});var c=new SUI.Node('i');c.addClass('material-icons');c.setHtml('chevron_left');b.appendChild(c);SUI.mdl(b);this.pager.appendChild(b)}};
SUI.Pager.prototype._drawNextButton=function(){var a=this;if(1<this.pageNum){var b=new SUI.Node('button');b.addClass(['mdl-button','mdl-js-button','mdl-js-ripple-effect']);b.addEventListener('click',function(){a._next()});var c=new SUI.Node('i');c.addClass('material-icons');c.setHtml('chevron_right');b.appendChild(c);SUI.mdl(b);this.pager.appendChild(b)}};
SUI.Pager.prototype._drawPageNumbers=function(){var a=this,b=this._getPagers();1<b.length&&SUI.each(b,function(b){var c=new SUI.Node('button');c.setData('page',b.page);c.setHtml(b.text);c.addClass(['mdl-button','mdl-js-button','mdl-js-ripple-effect']);a.page===b.page&&c.addClass('mdl-button--accent');c.addEventListener('click',function(b){b=b.getData('page');a._go(b)});SUI.mdl(c);a.pager.appendChild(c)})};
SUI.Pager.prototype._getPagers=function(){var a=Math.floor((this.page-1)/this.options.pager_num),b=[];0<a&&b.push({text:'...',page:a*this.options.pager_num});for(var c=1;c<=this.options.pager_num;c++){var d=a*this.options.pager_num+c;d<=this.pageNum&&b.push({text:d,page:d})}this.pageNum>this.options.pager_num&&a!==Math.floor((this.pageNum-1)/this.options.pager_num)&&b.push({text:'...',page:a*this.options.pager_num+this.options.pager_num+1});return b};
SUI.Pager.prototype._next=function(){var a=this.page+1;a>this.pageNum&&(a=1);this._go(a)};SUI.Pager.prototype._previous=function(){var a=this.page-1;1>a&&(a=this.pageNum);this._go(a)};SUI.Pager.prototype.setCount=function(a){this.count=a};SUI.Pager.prototype._go=function(a){this.setPage(a);this.eventAction(this.page)};SUI.Pager.prototype.setPage=function(a){this.page=a;this.offset=(this.page-1)*this.options.row_count};SUI.Pager.prototype.draw=function(){this._drawStatistics();this._drawPager()};
SUI.Pager.prototype.eventAction=function(a){console.warn('SUI.Pager.eventAction()',a)};SUI.CardCollection=function(a,b,c,d){c=void 0===c?null:c;d=void 0===d?{}:d;this.cardCollectionNode=(new SUI.Query(void 0===b?'.card-collection':b,a)).getItem();this.ctrl=c;this._setOptions(d);this._init()};SUI.CardCollection.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({no_content:{image_url:null,text:''},row_count:12,pager_num:4,sort:{column:null,order:'asc'}});this.options.merge(a)};
SUI.CardCollection.prototype._init=function(){var a=this;this.collection=new SUI.Collection;this.query='';this._initContentHandler();this._initStructure();this._initTemplate();this.pager=new SUI.Pager(this.cardCollectionNode,['.pager','.pager-statistics'],this.options);this.pager.eventAction=function(b){a.refresh(b)}};SUI.CardCollection.prototype._initContentHandler=function(){this.contentHandler=new SUI.ContentHandler(this.cardCollectionNode,this.options.no_content)};
SUI.CardCollection.prototype._initStructure=function(){this.cardCollectionNode.addClass('card-collection');this.body=new SUI.Node('div');this.body.addClass('cards');this.cardCollectionNode.appendChild(this.body);this.cardFooterNode=new SUI.Node('div');this.cardFooterNode.addClass('card-footer');this.cardCollectionNode.appendChild(this.cardFooterNode);this.pagerNode=new SUI.Node('div');this.pagerNode.addClass('pager-statistics');this.cardFooterNode.appendChild(this.pagerNode);this.pagerNode=new SUI.Node('div');
this.pagerNode.addClass('pager');this.cardFooterNode.appendChild(this.pagerNode)};SUI.CardCollection.prototype._initTemplate=function(){this.cardTemplate=(new SUI.Query('template',this.cardCollectionNode)).getItem();this.cardTemplate.remove();this.template=this.cardTemplate.toString(!1)};
SUI.CardCollection.prototype._getCardNode=function(a){var b=this,c=this.template.match(/{{[a-zA-Z._,() ]*}}/g),d=this.template;SUI.each(c,function(c){var e=c.replace('{{','').replace('}}','');if(SUI.contain(e,'ctrl.')){var g=e.match(/(([a-zA-Z._, ]*))/g);e=g[0].replace('ctrl.','');g=g[2].split(', ');var h=[];SUI.each(g,function(b){'item'===b?h.push(a):h.push(a.get(b))});b.ctrl&&((g=b.ctrl[e])?(e=g.apply(b.ctrl,h),d=d.replace(c,e)):console.warn(SUI.format('ctrl.{0}() missing',[e])))}else d=d.replace(c,
a.get(e))});return new SUI.Node(d)};SUI.CardCollection.prototype.refresh=function(a){a=void 0===a?-1:a;-1<a&&this.pager.setPage(a);a=new SUI.Object({query:this.query,column:this.options.sort.column,order:this.options.sort.order,offset:this.pager.offset,limit:this.options.row_count});this.eventAction(a)};SUI.CardCollection.prototype.eventAction=function(a){console.warn('SUI.CardCollection.eventAction()',a)};
SUI.CardCollection.prototype.eventCardNode=function(a,b){console.warn('SUI.CardCollection.eventCardNode()',a,b)};SUI.CardCollection.prototype._addCard=function(a){var b=this._getCardNode(a);this.body.appendChild(b);this.eventCardNode(b,a);SUI.mdl(b)};SUI.CardCollection.prototype.setData=function(a){this.collection.reload(a);0===this.collection.size()?this.contentHandler.show():(this.contentHandler.hide(),this._draw())};SUI.CardCollection.prototype.setCount=function(a){this.pager.setCount(a);this.pager.draw()};
SUI.CardCollection.prototype._getItems=function(){var a=this.collection.getItems();this.collection.size()>this.options.row_count&&(a=this.collection.limit(this.pager.offset,this.options.row_count));return a};SUI.CardCollection.prototype._draw=function(){var a=this;this.body.removeChildren();SUI.each(this._getItems(),function(b){a._addCard(b)});SUI.mdl(this.body)};SUI.CardCollection.prototype.render=function(){this.refresh()};SUI.Carousel=function(a,b,c){c=void 0===c?{}:c;this.carouselNode=(new SUI.Query(void 0===b?'.carousel':b,a)).getItem();this._setOptions(c);this._init()};SUI.Carousel.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({});this.options.merge(a)};SUI.Carousel.prototype._init=function(){};SUI.Time=function(a,b){this.timeNode=a;this._setOptions(b);this._init()};SUI.Time.prototype._setOptions=function(a){this.options=a};SUI.Time.prototype._init=function(){this._initCircleNode();this._initPointerNode()};SUI.Time.prototype._initCircleNode=function(){var a=new SUI.Node('div');a.addClass('circle');this.timeNode.appendChild(a);var b=window.getComputedStyle(a.getNode()),c=parseInt(b.width.slice(0,-2),10);b=parseInt(b.height.slice(0,-2),10);this.timeNode.removeChild(a);this._initSize(c,b)};
SUI.Time.prototype._initSize=function(a,b){var c=window.getComputedStyle(this.timeNode.getNode());this.options.width=parseInt(c.width.slice(0,-2),10)-a;this.options.height=parseInt(c.height.slice(0,-2),10)-b;this.options.radius_x=this.options.width/2;this.options.radius_y=this.options.height/2};SUI.Time.prototype._initPointerNode=function(){var a=new SUI.Node('div');a.addClass('center-point');this.timeNode.appendChild(a);this.pointerNode=new SUI.Node('div');this.pointerNode.addClass('pointer');this.timeNode.appendChild(this.pointerNode)};
SUI.Time.prototype.draw=function(a,b,c,d){this._drawCircles(a,b,void 0===c?1:c,void 0===d?!0:d)};SUI.Time.prototype._drawCircles=function(a,b,c,d){c=void 0===c?1:c;d=void 0===d?!0:d;for(var e=0,f=a;f<=b;f++){var g=new SUI.Node('div');this.timeNode.appendChild(g);0===f%c&&(g.setHtml(this.options.captions&&this.options.captions[e]?this.options.captions[e]:f),e++);this._setCircleStyle(g,a,b,f,c,d);this._setCircleEvent(g,f)}};
SUI.Time.prototype._setCircleEvent=function(a,b){var c=this;a.setData('index',b);a.addEventListener('click',function(a){a=a.getData('index');c.eventClick(a)})};
SUI.Time.prototype._setCircleStyle=function(a,b,c,d,e,f){e=void 0===e?1:e;e=e/2>d%e?d%e:e-d%e;var g=this.options.selected===d?'selected':null,h=this.options.radius_y+this.options.radius_y*Math.cos(360/(c+1-b)/180*d*Math.PI)*-1;f=this.options.radius_x+this.options.radius_x*Math.sin(360/(c+1-b)/180*d*Math.PI)*(void 0===f||f?1:-1);a.addClass(['circle','highlight'+e,g]);a.setStyle({position:'absolute','z-index':100-e,top:h+'px',left:f+'px'});g&&this.pointerNode.setStyle({transform:'rotate('+(360/(c+1-
b)/180*d*Math.PI*(180/Math.PI)-90)+'deg)'})};SUI.Time.prototype.eventClick=function(a){console.warn('SUI.Time.eventClick()',a)};SUI.Clock=function(a,b){this.clockNode=a;this._setOptions(b);this._init()};SUI.Clock.prototype._setOptions=function(a){this.options=a};SUI.Clock.prototype._init=function(){this.modes=['HOUR','MINUTE'];this.types={hour:this.modes[0],minute:this.modes[1]};this._initStructure()};SUI.Clock.prototype._switchMode=function(a,b){var c=null;switch(this.activeMode){case 'HOUR':c=a();break;case 'MINUTE':c=b()}return c};
SUI.Clock.prototype._initStructure=function(){this._initHeaderNode();this._initContentNode();this._initMode(this.types[this.options.type]);this.setTime(this.options.time)};SUI.Clock.prototype._initHeaderNode=function(){this.headerNode=new SUI.Node('div');this.headerNode.addClass('header');this.clockNode.appendChild(this.headerNode);this._initHoursHeaderNode();this._initSeparatorHeaderNode();this._initMinutesHeaderNode();this._initPeriodHeaderNode()};
SUI.Clock.prototype._initPeriodHeaderNode=function(){this.periodHeaderNode=new SUI.Node('div');this.periodHeaderNode.addClass('period');this.periodHeaderNode.addEventListener('click',this._togglePeriod.bind(this));this.headerNode.appendChild(this.periodHeaderNode)};SUI.Clock.prototype._togglePeriod=function(){'pm'===this.period?this.time.subtract(12,'hours'):this.time.add(12,'hours');this._onClick(this.time)};
SUI.Clock.prototype._initMinutesHeaderNode=function(){var a=this;this.minutesHeaderNode=new SUI.Node('div');this.minutesHeaderNode.addClass('minutes');this.minutesHeaderNode.addEventListener('click',function(){a._setMode(a.types.minute)});this.headerNode.appendChild(this.minutesHeaderNode)};
SUI.Clock.prototype._initHoursHeaderNode=function(){var a=this;this.hoursHeaderNode=new SUI.Node('div');this.hoursHeaderNode.addClass('hours');this.hoursHeaderNode.addEventListener('click',function(){a._setMode(a.types.hour)});this.headerNode.appendChild(this.hoursHeaderNode)};SUI.Clock.prototype._setMode=function(a){this._initMode(a);this.setTime(this.time);this.draw()};SUI.Clock.prototype._initSeparatorHeaderNode=function(){var a=new SUI.Node('div');a.addClass('separator');a.setHtml(':');this.headerNode.appendChild(a)};
SUI.Clock.prototype._initContentNode=function(){this.contentNode=new SUI.Node('div');this.contentNode.addClass('content');this.clockNode.appendChild(this.contentNode)};SUI.Clock.prototype._getTimeNode=function(){this.contentNode.removeChildren();var a=new SUI.Node('div');a.addClass('time');this.contentNode.appendChild(a);return a};
SUI.Clock.prototype._setHours=function(a){this.hours=a;var b=this.activeMode===this.types.hour?'active':null;this.hoursHeaderNode.removeClass('active');this.hoursHeaderNode.addClass(['hours',b]);this.hoursHeaderNode.setHtml(10>a?'0'+a:a)};SUI.Clock.prototype._setMinutes=function(a){this.minutes=a;var b=this.activeMode===this.types.minute?'active':null;this.minutesHeaderNode.removeClass('active');this.minutesHeaderNode.addClass(['minutes',b]);this.minutesHeaderNode.setHtml(10>a?'0'+a:a)};
SUI.Clock.prototype._setPeriod=function(a){this.period=a;this.periodHeaderNode.removeClass(['am','pm']);this.periodHeaderNode.addClass(['period',this.period]);a=window.moment.localeData().meridiem(this.time.hour(),this.time.minute(),!0);this.periodHeaderNode.setHtml(a)};SUI.Clock.prototype.setTime=function(a){this.time=window.moment(a);a=this.time.hour()%12||12;this._setHours(a);a=this.time.minute();this._setMinutes(a);a=12<this.time.hour()?'pm':'am';this._setPeriod(a)};
SUI.Clock.prototype._initMode=function(a){this.contentNode.removeChildren();this.activeMode=a};SUI.Clock.prototype._getMode=function(a){var b=this.modes.indexOf(this.activeMode);-1!==b&&(b+=a);return(a=this.modes[b])?a:this.types[this.options.type]};SUI.Clock.prototype._changeMode=function(a){a=this._getMode(a);this._initMode(a)};SUI.Clock.prototype.draw=function(){var a=this,b=this._getTimeNode();this._switchMode(function(){a._drawHours(b)},function(){a._drawMinutes(b)})};
SUI.Clock.prototype._drawMinutes=function(a){var b=this;a=new SUI.Time(a,{selected:this.minutes,captions:['00','05']});a.eventClick=function(a){b._changeMode(-1);a=b.time.minute(a);b._onClick(a)};a.draw(0,59,5,!0)};SUI.Clock.prototype._drawHours=function(a){var b=this;a=new SUI.Time(a,{selected:this.hours});a.eventClick=function(a){b._changeMode(1);a='pm'===b.period?a+12:a;a=b.time.hour(24===a?0:a);b._onClick(a)};a.draw(1,12,1,!0)};
SUI.Clock.prototype._onClick=function(a){this.setTime(a);this.draw();this.eventClick(a)};SUI.Clock.prototype.eventClick=function(a){console.warn('SUI.Clock.eventClick()',a)};SUI.Datetime=function(a,b){this.datetimeNode=a;this._setOptions(b);this._init()};SUI.Datetime.prototype._setOptions=function(a){this.options=a};SUI.Datetime.prototype._init=function(){this._initVariables();this._initStructure();this._setValue(this.options.value)};
SUI.Datetime.prototype._initVariables=function(){this.types={'datetime-local':{format:'YYYY-MM-DDTHH:mm:ss',calendar_type:'date',clock_type:'hour'},datetime:{format:'',calendar_type:'date',clock_type:'hour'},date:{format:'YYYY-MM-DD',calendar_type:'date',clock_type:''},time:{format:'HH:mm:ss',calendar_type:'',clock_type:'hour'},month:{format:'YYYY-MM',calendar_type:'month',clock_type:''},week:{format:'YYYY-\\Www',calendar_type:'week',clock_type:''},year:{format:'YYYY',calendar_type:'year',clock_type:''}};
this.config=this.types[this.options.type]};SUI.Datetime.prototype._initStructure=function(){this._initDateTimeNode();this._initCalendarNode();this._initClockNode()};SUI.Datetime.prototype._initDateTimeNode=function(){this.datetimeNode.addClass('datetime');this.datetimeNode.removeChildren()};SUI.Datetime.prototype._initCalendarNode=function(){this.config.calendar_type&&(this.calendarNode=new SUI.Node('div'),this.calendarNode.addClass('calendar'),this.datetimeNode.appendChild(this.calendarNode))};
SUI.Datetime.prototype._initClockNode=function(){this.config.clock_type&&(this.clockNode=new SUI.Node('div'),this.clockNode.addClass('clock'),this.datetimeNode.appendChild(this.clockNode))};SUI.Datetime.prototype.getConfig=function(){return this.config};SUI.Datetime.prototype._setValue=function(a){a=a||window.moment().format(this.config.format);this.value=window.moment(a,this.config.format)};SUI.Datetime.prototype.setValue=function(a){this._initStructure();this._setValue(a);this.draw()};
SUI.Datetime.prototype.getValue=function(){return this.value.format(this.config.format)};SUI.Datetime.prototype.draw=function(){this._drawCalendar();this._drawClock()};SUI.Datetime.prototype._drawCalendar=function(){var a=this;if(this.config.calendar_type){var b=new SUI.Calendar(this.calendarNode,{date:this.value,type:this.config.calendar_type,start_day:1});b.eventClick=function(b){a.value.year(b.year());a.value.month(b.month());a.value.date(b.date());a._onClick()};b.draw()}};
SUI.Datetime.prototype._drawClock=function(){var a=this;if(this.config.clock_type){var b=new SUI.Clock(this.clockNode,{time:this.value,type:this.config.clock_type});b.eventClick=function(b){a.value.hour(b.hour());a.value.minute(b.minute());a._onClick()};b.draw()}};SUI.Datetime.prototype._onClick=function(){var a=this.getValue();this.eventClick(a)};SUI.Datetime.prototype.eventClick=function(a){console.warn(a)};SUI.Dropdown=function(a,b){b=void 0===b?{}:b;this.dropdown=a;this._setOptions(b);this._init()};SUI.Dropdown.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({id:SUI.generateId('dropdown')});this.options.merge(a)};SUI.Dropdown.prototype._init=function(){this.collection=new SUI.Collection;this.actions=[];this.item=null;this._appendButton();this._appendMenu()};
SUI.Dropdown.prototype._appendButton=function(){this.buttonNode=new SUI.Node('button');this.buttonNode.setId(this.options.id);this.buttonNode.addClass(['mdl-button','mdl-js-button','mdl-button--icon']);var a=new SUI.Node('i');a.addClass('material-icons');a.setHtml('more_vert');this.buttonNode.appendChild(a);this.dropdown.appendChild(this.buttonNode)};
SUI.Dropdown.prototype._appendMenu=function(){this.menuNode=new SUI.Node('ul');this.menuNode.setFor(this.options.id);this.menuNode.addClass(['mdl-menu','mdl-menu--bottom-right','mdl-js-menu','mdl-js-ripple-effect']);this.dropdown.appendChild(this.menuNode)};SUI.Dropdown.prototype.setActions=function(a,b){this.actions=a;this.item=b;this._renderMenu();SUI.mdl(this.menuNode);SUI.mdl(this.buttonNode)};
SUI.Dropdown.prototype._renderMenu=function(){var a=this;SUI.eachArray(this.actions,function(b){var c=$jscomp.makeIterator(b.style(a.item)),d=c.next().value,e=c.next().value,f=c.next().value;c.next().value||(c=new SUI.Node('li'),c.addClass('mdl-menu__item'),c.setHtml(e||d),f&&c.setAttribute('disabled'),c.addEventListener('click',function(){b.click(a.item)}),a.menuNode.appendChild(c))})};SUI.widget.Button=function(a){SUI.Widget.call(this,a);this._init()};goog.inherits(SUI.widget.Button,SUI.Widget);SUI.widget.Button.prototype._init=function(){this.input.setAttribute('name','button')};SUI.widget.Button.prototype.render=function(){var a=this;this.input.addClass(['mdl-button','mdl-js-button','mdl-button--raised','mdl-js-ripple-effect','mdl-button--accent']);this.input.addEventListener('click',function(b){a.eventClick(b)});this.refresh()};SUI.widget.Button.prototype.refresh=function(){SUI.mdl(this.input)};
SUI.widget.Button.prototype.eventClick=function(a){console.warn('SUI.widget.Button.eventClick()',a)};SUI.widget.BaseCheckbox=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.BaseCheckbox,SUI.Widget);SUI.widget.BaseCheckbox.prototype._init=function(){var a=this;this.hiddenInput=(new SUI.Query('input[type=hidden]',this.inputBlock)).getItem();this.inputBlock.addClass('checkbox-widget');this.input.addEventListener('change',function(){a._change();return!0})};SUI.widget.BaseCheckbox.prototype._change=function(){var a=this.getValue();this.modelChange(a);this.checkValidity()};
SUI.widget.BaseCheckbox.prototype.getValue=function(){var a=this.input.getNode().checked,b=this.hiddenInput.getAttribute('value');a&&(b=this.input.getAttribute('value'));return SUI.typeCast(b)};SUI.widget.BaseCheckbox.prototype.setValue=function(a){var b=SUI.typeCast(this.input.getAttribute('value'));this.input.getNode().checked=b===a;this.input.getNode().checked||this.input.removeAttribute('checked');this.input.trigger('change')};
SUI.widget.BaseCheckbox.prototype.setDisabled=function(a){a?(this.input.setAttribute('disabled'),this.label.addClass('is-disabled')):(this.input.removeAttribute('disabled'),this.label.removeClass('is-disabled'));this.input.getNode().disabled=a;this.checkValidity(!0,!1)};SUI.widget.BaseCheckbox.prototype.setLabel=function(a){this.spanLabel&&!this.spanLabel.isEmpty()&&(this.spanLabel.setHtml(a),this._setAdditionalLabel(this.spanLabel))};SUI.widget.Checkbox=function(a,b,c,d){SUI.widget.BaseCheckbox.call(this,a,b,c,d)};goog.inherits(SUI.widget.Checkbox,SUI.widget.BaseCheckbox);
SUI.widget.Checkbox.prototype.render=function(){this.label.addClass(['mdl-checkbox','mdl-js-checkbox','mdl-js-ripple-effect']);var a=this.input.getId();this.label.setFor(a);a=this.label.getHtml(!0);this.spanLabel=new SUI.Node('span');this.spanLabel.addClass('mdl-checkbox__label');this.spanLabel.setHtml(a);this.input.addClass('mdl-checkbox__input');this.label.insert(this.input);this.label.appendChild(this.spanLabel);this.refresh()};
SUI.widget.Checkbox.prototype.refresh=function(){SUI.mdl(this.label,!1)};SUI.PopupContainer=function(a){this.selector=void 0===a?'body':a;this._init()};SUI.PopupContainer.prototype._init=function(){this.container=(new SUI.Query(this.selector)).getItem()};SUI.PopupContainer.prototype._initCollection=function(a){window.popup_collection=window.popup_collection||new SUI.Collection([],a)};SUI.PopupContainer.prototype.push=function(a,b){this._initCollection(a);window.popup_collection&&window.popup_collection.push(b)};
SUI.PopupContainer.prototype.delete=function(a){window.popup_collection&&window.popup_collection.delete(a)};SUI.PopupContainer.prototype.closeAll=function(){window.popup_collection&&window.popup_collection.each(function(a){a.close()})};SUI.PopupContainer.prototype.setPosition=function(a){a.setStyle({left:0})};SUI.PopupContainer.prototype.clearPosition=function(a){a.setStyle({top:'auto',bottom:'auto',left:'auto',right:'auto'})};SUI.Popup=function(a,b,c){this.content=a;this.parent=b;this.withClose=void 0===c?!1:c;this._init()};SUI.Popup.prototype._init=function(){this.popupContainer=new SUI.PopupContainer;this._draw()};SUI.Popup.prototype._draw=function(){this.popupNode=new SUI.Node('div');this.popupNode.addClass(['popup','hidden']);this.parent.addClass('popup-parent');this.parent.appendChild(this.popupNode);this.popupNode.appendChild(this.content);this._initCloseButton()};
SUI.Popup.prototype._initCloseButton=function(){var a=this;if(this.withClose){var b=new SUI.Node('button');b.setAttribute('type','button');b.addClass(['close','mdl-button','mdl-js-button','mdl-button--icon']);b.addEventListener('click',function(){a.close()});this.popupNode.appendChild(b);var c=new SUI.Node('i');c.addClass('material-icons');c.setHtml('close');b.appendChild(c);SUI.mdl(b)}};
SUI.Popup.prototype.open=function(){this.popupContainer.closeAll();this.popupContainer.push(SUI.Popup,this);this.popupNode.removeClass('hidden');this.popupContainer.setPosition(this.popupNode)};SUI.Popup.prototype.close=function(){this.popupContainer.delete(this);this.popupContainer.clearPosition(this.popupNode);this.popupNode.addClass('hidden');this.eventClose()};SUI.Popup.prototype.eventClose=function(){};SUI.Popup.prototype.toggle=function(){this.isOpened()?this.close():this.open()};
SUI.Popup.prototype.isOpened=function(){return!this.popupNode.hasClass('hidden')};SUI.widget.Color=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Color,SUI.Widget);SUI.widget.Color.prototype._init=function(){this.inputBlock.addClass('color-widget');this._initInput();this._initImage();this._initPreview();this._setMaterialColors()};SUI.widget.Color.prototype.render=function(){this.label&&this.label.exists()&&this.label.addClass('widget-label');this.refresh()};
SUI.widget.Color.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');this.isDisabled()?this.inputBlock.addClass('is-disabled'):this.inputBlock.removeClass('is-disabled');var a=this.getValue()||'#000000';this.setValue(a)};
SUI.widget.Color.prototype._initInput=function(){var a=this;this.input.addClass('hidden');this.input.addEventListener('change',function(b){b=b.getNode();a.tooltip.setMessage(b.value);a.previewNode.setStyle({background:b.value});a.modelChange(b.value);a.checkValidity();return!0})};
SUI.widget.Color.prototype._initPreview=function(){var a=this;this.previewNode=new SUI.Node('div');this.previewNode.addClass('preview');this.inputBlock.appendChild(this.previewNode);this.colorNode=new SUI.Node('div');this.colorNode.addClass('color');this.previewNode.appendChild(this.colorNode);this.popup=new SUI.Popup(this.canvas.canvasNode,this.inputBlock);this.tooltip=new SUI.Tooltip(this.previewNode);this.previewNode.addEventListener('click',function(){a.isEnabled()&&(a._draw(),a.popup.open())})};
SUI.widget.Color.prototype._draw=function(){if(this.image.isEmpty()){var a=this.colors[0].length,b=this.colors.length;this.canvas.setSize(15*a,15*b);for(var c=0;c<a;c++)for(var d=0;d<b;d++)this.canvas.drawRectangle(15*c,15*d,15,15,0,{fillStyle:this.colors[d][c]})}else a=SUI.typeCast(this.image.getAttribute('width')),b=SUI.typeCast(this.image.getAttribute('height')),this.canvas.setSize(a,b),this.canvas.drawImage(this.image,a,b)};
SUI.widget.Color.prototype._initImage=function(){var a=this;this.image=(new SUI.Query('img',this.inputBlock)).getItem();this.image.isEmpty()||this.image.addClass('hidden');this.canvas=new SUI.Canvas;this.canvas.canvasNode.addEventListener('click',function(b,c){var d=b=0;c.offsetX?(b=c.offsetX,d=c.offsetY):c.layerX&&(b=c.layerX,d=c.layerY);c=a.canvas.getImageDataXY(b,d);c=SUI.RGBtoHexColor.apply(null,c);a.setValue(c);a.popup.close()})};
SUI.widget.Color.prototype._setMaterialColors=function(){var a='#f44336 #e91e63 #9c27b0 #673ab7 #3f51b5 #2196f3 #03a9f4 #00bcd4 #009688 #4caf50 #8bc34a #cddc39 #ffeb3b #ffc107 #ff9800 #ff5722 #795548 #9e9e9e #607d8b'.split(' ');this.colors=[a,'#ffebee #fce4ec #f3e5f5 #ede7f6 #e8eaf6 #e3f2fd #e1f5fe #e0f7fa #e0f2f1 #e8f5e9 #f1f8e9 #f9fbe7 #fffde7 #fff8e1 #fff3e0 #fbe9e7 #efebe9 #fafafa #eceff1'.split(' '),'#ffcdd2 #f8bbd0 #e1bee7 #d1c4e9 #c5cae9 #bbdefb #b3e5fc #b2ebf2 #b2dfdb #c8e6c9 #dcedc8 #f0f4c3 #fff9c4 #ffecb3 #ffe0b2 #ffccbc #d7ccc8 #f5f5f5 #cfd8dc'.split(' '),
'#ef9a9a #f48fb1 #ce93d8 #b39ddb #9fa8da #90caf9 #81d4fa #80deea #80cbc4 #a5d6a7 #c5e1a5 #e6ee9c #fff59d #ffe082 #ffcc80 #ffab91 #bcaaa4 #eeeeee #b0bec5'.split(' '),'#e57373 #f06292 #ba68c8 #9575cd #7986cb #64b5f6 #4fc3f7 #4dd0e1 #4db6ac #81c784 #aed581 #dce775 #fff176 #ffd54f #ffb74d #ff8a65 #a1887f #e0e0e0 #90a4ae'.split(' '),'#ef5350 #ec407a #ab47bc #7e57c2 #5c6bc0 #42a5f5 #29b6f6 #26c6da #26a69a #66bb6a #9ccc65 #d4e157 #ffee58 #ffca28 #ffa726 #ff7043 #8d6e63 #bdbdbd #78909c'.split(' '),a,'#e53935 #d81b60 #8e24aa #5e35b1 #3949ab #1e88e5 #039be5 #00acc1 #00897b #43a047 #7cb342 #c0ca33 #fdd835 #ffb300 #fb8c00 #f4511e #6d4c41 #757575 #546e7a'.split(' '),
'#d32f2f #c2185b #7b1fa2 #512da8 #303f9f #1976d2 #0288d1 #0097a7 #00796b #388e3c #689f38 #afb42b #fbc02d #ffa000 #f57c00 #e64a19 #5d4037 #616161 #455a64'.split(' '),'#c62828 #ad1457 #6a1b9a #4527a0 #283593 #1565c0 #0277bd #00838f #00695c #2e7d32 #558b2f #9e9d24 #f9a825 #ff8f00 #ef6c00 #d84315 #4e342e #424242 #37474f'.split(' '),'#b71c1c #880e4f #4a148c #311b92 #1a237e #0d47a1 #01579b #006064 #004d40 #1b5e20 #33691e #827717 #f57f17 #ff6f00 #e65100 #bf360c #3e2723 #212121 #263238'.split(' ')]};SUI.widget.Datetime=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Datetime,SUI.Widget);
SUI.widget.Datetime.prototype._init=function(){this.inputBlock.addClass('datetime-widget');this.input.addClass('hidden');this.datetimeContainer=new SUI.Node('div');this.datetimeContainer.addClass('datetime-container');this.input.insertAfter(this.datetimeContainer);this.datetimeInput=new SUI.Node('div');this.datetimeInput.addClass('datetime-input');this.datetimeInput.addEventListener('click',this._onClick.bind(this));this.datetimeContainer.appendChild(this.datetimeInput);this._initInput()};
SUI.widget.Datetime.prototype._initInput=function(){var a=this;this.format=this.input.getData('format');this.input.addEventListener('change',function(){var b=a.getValue().toString();a.modelChange(b);a.checkValidity();return!0});var b=this.input.getAttribute('type'),c=this.getValue().toString();this.datetimeNode=new SUI.Node('div');this.datetime=new SUI.Datetime(this.datetimeNode,{value:c,type:b});this.datetime.eventClick=function(b){a.setValue(b)};this.popup=new SUI.Popup(this.datetimeNode,this.inputBlock);
this.popup.eventClose=function(){a.datetimeInput.removeClass('active')};c&&(b=this.datetime.getValue(),this._setTag(b))};SUI.widget.Datetime.prototype.render=function(){this.label&&this.label.exists()&&this.label.addClass('widget-label');var a=new SUI.Node('a');a.setAttribute('href','javascript:void(0)');a.addClass(['material-icons','size-24','expander']);a.setHtml('date_range');a.addEventListener('click',this._onClick.bind(this));this.infoContainerNode.appendChild(a);this.refresh();this.datetime.draw()};
SUI.widget.Datetime.prototype.refresh=function(){this.isDisabled()?this.inputBlock.addClass('is-disabled'):this.inputBlock.removeClass('is-disabled')};SUI.widget.Datetime.prototype.setValue=function(a){this._setTag(a);this.input.setAttribute('value',a);this.input.trigger('change');this.datetime.setValue(a)};
SUI.widget.Datetime.prototype._setTag=function(a){var b=this;this.datetimeInput.removeChildren();if(a){var c=window.moment(a,this.datetime.getConfig().format).format(this.format);a=new SUI.Node('div');a.addClass('tag');a.setHtml(c);this.datetimeInput.appendChild(a);this.isEnabled()&&(c=new SUI.Node('a'),c.setAttribute('href','javascript:void(0)'),c.addClass(['material-icons','size-18','close']),c.setHtml('close'),c.addEventListener('click',function(){b.setValue('')}),a.addClass('tag-with-action'),
a.appendChild(c))}};SUI.widget.Datetime.prototype._onClick=function(){this.isEnabled()&&(this.datetimeInput.addClass('active'),this.popup.toggle())};SUI.widget.File=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.File,SUI.Widget);
SUI.widget.File.prototype._init=function(){var a=this;this.inputBlock.addClass('file-widget');this.defaultSrc=null;this.imageTag=(new SUI.Query('img',this.inputBlock)).getItem();this.imageTag.isEmpty()?(this.imageTag=new SUI.Node('img'),this.inputBlock.beforeChild(this.imageTag)):this.defaultSrc=this.imageTag.getAttribute('src');this.imageTag.addEventListener('click',function(){a._remove()});this.input.addEventListener('change',function(b){b=b.getNode().files[0];a._read(b);return!0})};
SUI.widget.File.prototype.render=function(){this.inputBlock.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--floating-label']);this.input.addClass('mdl-textfield__input');this.label&&this.label.exists()&&this.label.addClass('mdl-textfield__label');this.refresh()};SUI.widget.File.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');SUI.mdl(this.inputBlock)};
SUI.widget.File.prototype._read=function(a){var b=this;if(a){var c=new FileReader;c.onload=function(c){c=c.target.result;SUI.contain(a.type,'image/')&&!b.imageTag.isEmpty()&&b.imageTag.setAttribute('src',c);b.modelChange(c);b.checkValidity()};c.readAsDataURL(a)}};SUI.widget.File.prototype._remove=function(){this.input.getNode().value='';this.defaultSrc?this.imageTag.setAttribute('src',this.defaultSrc):this.imageTag.removeAttribute('src');this.modelChange(null);this.checkValidity()};SUI.widget.Hidden=function(a){SUI.Widget.call(this,a);this._init()};goog.inherits(SUI.widget.Hidden,SUI.Widget);SUI.widget.Hidden.prototype._init=function(){var a=this;this.input.addEventListener('change',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity();return!0})};SUI.widget.Hidden.prototype.render=function(){};SUI.widget.Hidden.prototype.refresh=function(){};SUI.widget.IconToggle=function(a,b,c,d){SUI.widget.BaseCheckbox.call(this,a,b,c,d)};goog.inherits(SUI.widget.IconToggle,SUI.widget.BaseCheckbox);
SUI.widget.IconToggle.prototype.render=function(){this.label.addClass(['mdl-icon-toggle','mdl-js-icon-toggle','mdl-js-ripple-effect']);var a=this.input.getData('icon');this.icon=new SUI.Node('i');this.icon.addClass(['mdl-icon-toggle__label','material-icons']);this.icon.setHtml(a);this.input.addClass('mdl-icon-toggle__input');a=this.label.getText();this.spanLabel=new SUI.Node('span');this.spanLabel.addClass('mdl-icon__label');this.spanLabel.setHtml(a);this.label.insert(this.input);this.label.appendChild(this.icon);
this.label.appendChild(this.spanLabel);this.refresh()};SUI.widget.IconToggle.prototype.refresh=function(){SUI.mdl(this.label,!1)};SUI.widget.Radiobutton=function(a,b,c,d,e){SUI.Widget.call(this,a,b,c,d,e);this._init()};goog.inherits(SUI.widget.Radiobutton,SUI.Widget);SUI.widget.Radiobutton.prototype._init=function(){var a=this;this.inputBlock.addClass('radiobutton-widget');this.input.addEventListener('change',function(){a._change();return!0})};
SUI.widget.Radiobutton.prototype._change=function(){var a=this.input.getAttribute('value');this.modelChange(a);this.checkValidity();a=this.input.getAttribute('name');(new SUI.Query(SUI.format('input[name="{0}"]',[a]),this.form.formNode)).each(function(a){a=a.getParentNode();a.addClass('is-other-checked');a.getParentNode().removeClass('is-invalid')})};
SUI.widget.Radiobutton.prototype.render=function(){this.label.addClass(['mdl-radio','mdl-js-radio','mdl-js-ripple-effect']);var a=this.input.getId();this.label.setFor(a);a=this.label.getHtml(!0);var b=new SUI.Node('span');b.addClass('mdl-radio__label');b.setHtml(a);this.input.addClass('mdl-radio__button');this.label.insert(this.input);this.label.appendChild(b);this.dataLabelNode=new SUI.Node('span');this.dataLabelNode.addClass('widget-label');this.label.beforeChild(this.dataLabelNode);this.refresh()};
SUI.widget.Radiobutton.prototype.refresh=function(){var a=this.label.getAttribute('data-label');a?(a=this._getLabelRequiredText(a),this.dataLabelNode.setHtml(a)):this.dataLabelNode.setHtml('');SUI.mdl(this.label,!1)};SUI.widget.Radiobutton.prototype.setValue=function(a){this.input.getAttribute('value')===a&&(this.input.getNode().checked=!0,this.input.trigger('change'))};
SUI.widget.Radiobutton.prototype.getValue=function(){var a=null;this._getRadioButtonInputs().each(function(b){b.getNode().checked&&(a=b.getAttribute('value'))});return SUI.typeCast(a)};SUI.widget.Radiobutton.prototype.setDisabled=function(a){this._getRadioButtonInputs().each(function(b){a?(b.setAttribute('disabled'),b.getParentNode().addClass('is-disabled')):(b.removeAttribute('disabled'),b.getParentNode().removeClass('is-disabled'));b.getNode().disabled=a});this.checkValidity(!0,!1)};
SUI.widget.Radiobutton.prototype.isDisabled=function(){var a=!1;this._getRadioButtonInputs().each(function(b){b.getNode().disabled&&(a=!0)});return a};SUI.widget.Radiobutton.prototype._getRadioButtonInputs=function(){var a=this.input.getAttribute('name');return new SUI.Query(SUI.format('input[name="{0}"]',[a]),this.form.formNode)};SUI.widget.Radiobutton.prototype.setLabel=function(a){this.dataLabelNode&&!this.dataLabelNode.isEmpty()&&(this.dataLabelNode.setHtml(a),this._setAdditionalLabel(this.dataLabelNode))};SUI.widget.Range=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Range,SUI.Widget);SUI.widget.Range.prototype._init=function(){var a=this;this.inputBlock.addClass('range-widget');this.input.addEventListener('input',function(b){b=b.getNode();a.input.setAttribute('value',b.value);a.tooltip.setMessage(b.value);a.modelChange(b.value);a.checkValidity()})};
SUI.widget.Range.prototype.render=function(){this.inputBlock.addClass(['mdl-textfield','mdl-js-textfield','mdl-sliderfield']);this.input.addClass(['mdl-slider','mdl-js-slider']);this.label&&this.label.exists()&&this.label.addClass('mdl-textfield__label');this.refresh()};
SUI.widget.Range.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');SUI.mdl(this.input);this.isDisabled()?this.inputBlock.addClass('is-disabled'):this.inputBlock.removeClass('is-disabled');var a=(new SUI.Query('.mdl-slider__container',this.inputBlock)).getItem(),b=this.getValue();this.tooltip=new SUI.Tooltip(a);this.tooltip.render(b)};SUI.widget.Range.prototype.setValue=function(a){this.input.getNode().MaterialSlider.change(a);this.tooltip.render(a)};SUI.widget.Reset=function(a){SUI.Widget.call(this,a);this._init()};goog.inherits(SUI.widget.Reset,SUI.Widget);SUI.widget.Reset.prototype._init=function(){this.input.setAttribute('name','reset')};SUI.widget.Reset.prototype.render=function(){this.input.addClass(['mdl-button','mdl-js-button','mdl-js-ripple-effect']);this.refresh()};SUI.widget.Reset.prototype.refresh=function(){SUI.mdl(this.input)};SUI.widget.Select=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Select,SUI.Widget);SUI.widget.Select.prototype._init=function(){this.input.addClass('hidden');this.inputBlock.addClass('select-widget');this.query='';this.ids=[];this._initOptions();this._initChangeEvent();this._initPopup()};SUI.widget.Select.prototype.isMultiple=function(){return this.input.hasAttribute('multiple')};
SUI.widget.Select.prototype._initPopup=function(){this.containerNode=new SUI.Node('div');this._drawSearchInput();this.listNode=new SUI.Node('div');this.listNode.addClass('options-list');this.containerNode.appendChild(this.listNode);this.popup=new SUI.Popup(this.containerNode,this.inputBlock)};SUI.widget.Select.prototype._initChangeEvent=function(){var a=this;this.input.addEventListener('change',function(){a._change(!0);return!0})};
SUI.widget.Select.prototype._initOptions=function(){var a=this;this.options=new SUI.Collection;(new SUI.Query('option',this.input)).each(function(b){var c=b.getAttribute('value')||'',d=b.getAttribute('data-image')||'',e=b.getAttribute('data-item')||{},f=b.getText()||'';c=new SUI.Object({id:c,name:f,image:d,item:e});c.setRaw('option_node',b);a.options.push(c)})};
SUI.widget.Select.prototype.render=function(){var a=this;this.label&&this.label.exists()&&this.label.addClass('widget-label');this.iconNode=new SUI.Node('a');this.iconNode.setAttribute('href','javascript:void(0)');this.iconNode.addClass(['material-icons','size-24','expander']);this.iconNode.setHtml('expand_more');this.iconNode.addEventListener('click',function(){a.isEnabled()&&a.open()});this.infoContainerNode.appendChild(this.iconNode);this.refresh()};
SUI.widget.Select.prototype.refresh=function(){var a=this;(new SUI.Query('.select-container',this.inputBlock)).getItem().remove();this.isDisabled()?this.inputBlock.addClass('is-disabled'):this.inputBlock.removeClass('is-disabled');this.selectContainerNode=new SUI.Node('div');this.selectContainerNode.addClass('select-container');this.selectContainerNode.addEventListener('click',function(){a.isEnabled()&&a.open()});this.input.insertAfter(this.selectContainerNode);this.selectNode=new SUI.Node('div');
this.selectNode.addClass('select-input');this.selectContainerNode.appendChild(this.selectNode);var b=this._getSelectedIds();this._setSelectTags(b)};SUI.widget.Select.prototype.setValue=function(a){this.ids=a;SUI.isArray(a)||(this.ids=[a]);this._setSelectedIds(this.ids)};SUI.widget.Select.prototype.getValue=function(){var a=this._getSelectedIds();a=a.filter(function(a){return!SUI.eq(a,'')});return this.isMultiple()?a:a[0]||null};
SUI.widget.Select.prototype.getOptionValue=function(a){var b=this.getValue();return b?(b=this.options.findById(b),a?b.get(SUI.format('item.{0}',[a])):b):b};SUI.widget.Select.prototype.showLoader=function(){this.iconNode.setHtml('refresh');this.iconNode.addClass('rotate')};SUI.widget.Select.prototype._hideLoader=function(){this.iconNode.setHtml('expand_more');this.iconNode.removeClass('rotate')};
SUI.widget.Select.prototype.setOptions=function(a,b,c,d){var e=this;b=void 0===b?'value':b;c=void 0===c?'name':c;d=void 0===d?'':d;(new SUI.Query('option',this.input)).each(function(a){a.getAttribute('value')&&a.remove()});SUI.each(a,function(a){var f=a.get(b),h=a.get(c),l='';d&&(l=a.get(d));var k=new SUI.Node('option');k.setAttribute('value',f);k.setAttribute('data-image',l);k.setAttribute('data-item',a);k.setHtml(h);e.input.appendChild(k)});this._initOptions();this._hideLoader();this.setValue(this.ids)};
SUI.widget.Select.prototype._change=function(a){a=void 0===a?!1:a;var b=this._getSelectedIds();this._setSelectTags(b);b=this.getValue();this.modelChange(b);this.checkValidity(a)};SUI.widget.Select.prototype._setSelectTags=function(a){this.isRequired()&&1===a.length&&''===a[0]&&this.inputBlock.addClass('is-invalid');this.isMultiple()?this._setMultipleTag(a):this._setSimpleTag(a[0])};SUI.widget.Select.prototype._setSimpleTag=function(a){a=this.options.findById(a);this._setTags(a)};
SUI.widget.Select.prototype._setMultipleTag=function(a){var b=this,c=[];SUI.each(a,function(a){(a=b.options.findById(a))&&c.push(a)});SUI.neq(c.length,0)?this._setTags(c):this.isRequired()?(a=this.options.get(0),this._setTags(a)):SUI.eq(a.length,0)&&this._setTags([])};
SUI.widget.Select.prototype._setTags=function(a){var b=this;SUI.isArray(a)||(a=[a]);this.selectNode.removeChildren();SUI.each(a,function(a){var c=new SUI.Node('div');c.addClass('tag');c.setHtml(a.get('name'));b.isEnabled()&&c.addEventListener('click',function(){b.open()});b.selectNode.appendChild(c);var e=a.get('id');SUI.neq(e,'')&&b.isEnabled()&&(a=new SUI.Node('a'),a.setAttribute('href','javascript:void(0)'),a.addClass(['material-icons','size-18','close']),a.setHtml('close'),a.addEventListener('click',
function(){b._handleSelectedId(e)}),c.addClass('tag-with-action'),c.appendChild(a))})};SUI.widget.Select.prototype._setSelectedIds=function(a,b){b=void 0===b?!1:b;this.options.each(function(b){var c=b.get('id');c=SUI.inArray(a,c);b=b.get('option_node').getNode();c?b.setAttribute('selected',c):b.removeAttribute('selected');b.selected=c});this._change(b)};
SUI.widget.Select.prototype._getSelectedIds=function(){var a=[];this.options.each(function(b){b.get('option_node').getNode().selected&&(b=b.get('id'),a.push(b))});return 0===a.length?['']:a};SUI.widget.Select.prototype._handleSelectedId=function(a){var b=this._getSelectedIds();this.isMultiple()?((SUI.eq(a,'')||SUI.eq(b[0],''))&&SUI.clear(b),SUI.inArray(b,a)?SUI.remove(b,a):b.push(a),0===b.length&&(b=[''])):b=SUI.inArray(b,a)?['']:[a];this.query='';this._setSelectedIds(b,!0);this.close()};
SUI.widget.Select.prototype._drawItems=function(a){var b=this;this.listNode.removeChildren();var c=this._getSelectedIds();SUI.each(a,function(a){var d=a.get('id'),f=new SUI.Node('a');f.setAttribute('href','javascript:void(0)');SUI.inArray(c,d)&&f.addClass('selected');f.addEventListener('click',function(){b._handleSelectedId(d)});b.listNode.appendChild(f);var g=a.get('image');if(g){var h=new SUI.Node('img');h.setAttribute('src',g);f.appendChild(h)}a=a.get('name');g=new SUI.Node('span');g.setHtml(a);
f.appendChild(g)})};
SUI.widget.Select.prototype._drawSearchInput=function(){var a=this,b=new SUI.Node('div');b.addClass('search-box');this.containerNode.appendChild(b);var c=new SUI.Node('div');c.addClass(['mdl-textfield','mdl-js-textfield']);c.addEventListener('click',function(){});b.appendChild(c);b=SUI.generateId('select');this.searchInputNode=new SUI.Node('input');this.searchInputNode.setId(b);this.searchInputNode.setAttribute('type','text');this.searchInputNode.addClass('mdl-textfield__input');this.searchInputNode.addEventListener('keyup',
function(b){b=b.getNode();a._search(b.value);return!0});c.appendChild(this.searchInputNode);var d=new SUI.Node('label');d.setFor(b);d.addClass('mdl-textfield__label');c.appendChild(d);SUI.mdl(c)};SUI.widget.Select.prototype.open=function(){this._search(this.query);this.popup.open();this.searchInputNode.getNode().focus()};SUI.widget.Select.prototype.close=function(){this.popup.close()};
SUI.widget.Select.prototype._search=function(a){this.query=a;this.searchInputNode.getNode().value=a;this.searchInputNode.set('value',a);var b=new RegExp(a,'i'),c=[];this.options.each(function(a){var d=a.get('name');b.test(d)&&c.push(a)});this._drawItems(c)};SUI.widget.Submit=function(a){SUI.Widget.call(this,a);this._init()};goog.inherits(SUI.widget.Submit,SUI.Widget);SUI.widget.Submit.prototype._init=function(){this.input.setAttribute('name','submit')};SUI.widget.Submit.prototype.render=function(){this.input.addClass(['mdl-button','mdl-js-button','mdl-button--raised','mdl-js-ripple-effect','mdl-button--primary']);this.refresh()};SUI.widget.Submit.prototype.refresh=function(){SUI.mdl(this.input)};SUI.widget.Switch=function(a,b,c,d){SUI.widget.BaseCheckbox.call(this,a,b,c,d)};goog.inherits(SUI.widget.Switch,SUI.widget.BaseCheckbox);
SUI.widget.Switch.prototype.render=function(){this.label.addClass(['mdl-switch','mdl-js-switch','mdl-js-ripple-effect']);var a=this.label.getText();this.spanLabel=new SUI.Node('span');this.spanLabel.addClass('mdl-switch__label');this.spanLabel.setHtml(a);this.input.addClass('mdl-switch__input');this.label.insert(this.input);this.label.appendChild(this.spanLabel);this.refresh()};SUI.widget.Switch.prototype.refresh=function(){SUI.mdl(this.label,!1)};SUI.widget.Text=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Text,SUI.Widget);SUI.widget.Text.prototype._init=function(){var a=this;this.inputBlock.addClass('text-widget');this.input.addEventListener('keyup',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity();return!0});this.input.addEventListener('change',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity();return!0})};
SUI.widget.Text.prototype.render=function(){this.inputBlock.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--floating-label']);this.input.addClass(['mdl-textfield__input']);this.label&&this.label.exists()&&this.label.addClass('mdl-textfield__label');this.refresh()};SUI.widget.Text.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');SUI.mdl(this.inputBlock)};SUI.widget.Text.prototype.getValue=function(){return this.input.getNode().value};SUI.widget.Textarea=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Textarea,SUI.Widget);SUI.widget.Textarea.prototype._init=function(){var a=this;this.inputBlock.addClass('textarea-widget');this.input.addEventListener('keyup',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity(!0);a.textboxNode.setHtml(b.value);return!0});this.input.addEventListener('change',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity(!0);return!0})};
SUI.widget.Textarea.prototype.render=function(){var a=this;this.inputBlock.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--floating-label']);this.input.addClass(['mdl-textfield__input','mdl-textarea__input','hidden']);this.label&&this.label.exists()&&this.label.addClass('mdl-textfield__label');this.textboxNode=new SUI.Node('div');this.textboxNode.addClass(['mdl-textfield__input','mdl-textarea__input','textbox']);var b=this.getValue();b=0===b.indexOf('<p>')?b:'<p>'+(b||'<br />')+'</p>';
this.textboxNode.setHtml(b);this.input.insertAfter(this.textboxNode);this.oDoc=this.textboxNode.getNode();this.oDoc.contentEditable='true';this.textboxNode.addEventListener('keydown',function(a,b){13===b.keyCode&&document.execCommand('defaultParagraphSeparator',!1,'p');return!0});this.textboxNode.addEventListener('keyup',function(b){a._setValue(b.getHtml(!0));return!0});b=new SUI.Node('div');b.addClass('toolbar');this.input.insertBefore(b);b=new SUI.Node('a');b.setAttribute('href','javascript:void(0)');
b.addClass('material-icons');b.setHtml('format_bold');b.addEventListener('click',function(){a._formatDoc('bold')});b=new SUI.Node('a');b.setAttribute('href','javascript:void(0)');b.addClass('material-icons');b.setHtml('code');b.addEventListener('click',function(){a._setHtmlMode(!a._isHtmlMode())});this.refresh()};SUI.widget.Textarea.prototype._setHtmlMode=function(a){this.htmlMode=a;this._setDocMode(this.htmlMode)};SUI.widget.Textarea.prototype._isHtmlMode=function(){return!0===this.htmlMode};
SUI.widget.Textarea.prototype._formatDoc=function(a,b){this._isHtmlMode()||(document.execCommand(a,!1,b),this._setValue(this.oDoc.innerHTML))};SUI.widget.Textarea.prototype._setDocMode=function(a){a?(this.textboxNode.addClass('hidden'),this.input.removeClass('hidden')):(this.textboxNode.removeClass('hidden'),this.input.addClass('hidden'));this.oDoc.focus()};
SUI.widget.Textarea.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');this.isDisabled()&&(this.oDoc.contentEditable='false');SUI.mdl(this.inputBlock)};SUI.widget.Textarea.prototype._setValue=function(a){this.input.getNode().value=a;this.input.trigger('change')};SUI.widget.Textarea.prototype.setValue=function(a){this.oDoc.innerHTML=a;this._setValue(a)};SUI.widget.Textarea.prototype.getValue=function(){return this.input.getNode().value};SUI.FormWidget=function(a,b){var c=a,d=null,e=null,f=!1,g=a.getTagName(),h=a.getAttribute('type');SUI.eq(g,'input')&&!SUI.inArray(['hidden','reset','submit','button'],h)&&(a=a.getParentNode(),f=0);g=a.getTagName();SUI.eq(g,'div')&&(c=(new SUI.Query('input, textarea, select',a)).getItems(),c=c[!1!==f?f:c.length-1],d=(new SUI.Query('label',a)).getItem(),e=a.createElement('span'),e.addClass(['mdl-textfield__error','text-truncate']),a.appendChild(e),a.addClass('init-widget'));return this._getWidget(c,
d,e,a,b)};
SUI.FormWidget.prototype._getWidget=function(a,b,c,d,e){a.addClass('init-widget');var f=a.getData('type'),g=a.getTagName(),h=null;SUI.eq(g,'textarea')&&(h=new SUI.widget.Textarea(a,b,c,d));if(SUI.eq(g,'select'))h=new SUI.widget.Select(a,b,c,d);else if(SUI.eq(g,'input')||SUI.eq(g,'button'))switch(a.get('type')){case 'submit':h=new SUI.widget.Submit(a);break;case 'button':h=new SUI.widget.Button(a);break;case 'reset':h=new SUI.widget.Reset(a);break;case 'datetime':case 'datetime-local':case 'date':case 'time':case 'month':case 'week':case 'year':e=new SUI.Query('input',
d);2===e.size()?(f=e.get(0),g=!0,f.getAttribute('name')===a.getAttribute('name')&&(f=e.get(1),g=!1),h=new SUI.widget.DatetimeRange(f,b,c,d,g)):h=new SUI.widget.Datetime(a,b,c,d);break;case 'file':h=new SUI.widget.File(a,b,c,d);break;case 'checkbox':h=SUI.eq(f,'switch')?new SUI.widget.Switch(a,b,c,d):SUI.eq(f,'icon-toggle')?new SUI.widget.IconToggle(a,b,c,d):new SUI.widget.Checkbox(a,b,c,d);break;case 'radio':h=new SUI.widget.Radiobutton(a,b,c,d,e);break;case 'range':h=new SUI.widget.Range(a,b,c,d);
break;case 'color':h=new SUI.widget.Color(a,b,c,d);break;case 'hidden':h=new SUI.widget.Hidden(a);break;case 'number':h=new SUI.widget.Number(a,b,c,d);break;case 'url':h=new SUI.widget.Url(a,b,c,d);break;case 'search':h=new SUI.widget.Search(a,b,c,d);break;case 'text':h=SUI.eq(f,'location')?new SUI.widget.Location(a,b,c,d):new SUI.widget.Text(a,b,c,d);break;default:h=new SUI.widget.Text(a,b,c,d)}return h};SUI.Form=function(a,b){this.formNode=(new SUI.Query(void 0===b?'form':b,a)).getItem();this.formNode.setAttribute('novalidate');SUI.Collection.call(this,[],SUI.FormWidget,{parent:this.formNode});this._init()};goog.inherits(SUI.Form,SUI.Collection);
SUI.Form.prototype._init=function(){this.model=new SUI.Object;this.initWidgets=[];this.buttonClasses=['input[type=submit]:not(.init-widget)','input[type=reset]:not(.init-widget)','button:not(.init-widget)'];this.widgetClasses=['.input-block input:not([type="hidden"])+input:not([type="hidden"])','.input-block:not(.init-widget)','input[type=hidden]:not(.init-widget)'];this._initWidgets();this._initFormEvent()};
SUI.Form.prototype._initFormEvent=function(){this.formNode.addEventListener('keydown',function(a,b){/textarea/i.test((b.target||b.srcElement).tagName)||13!==(b.keyCode||b.which||b.charCode||0)||b.preventDefault();return!0});this._initSubmitFormEvent();this._initResetFormEvent()};SUI.Form.prototype._initSubmitFormEvent=function(){var a=this;this.formNode.addEventListener('submit',function(b,c){c.preventDefault();a.checkValidity(!0)&&a.eventSubmit(a.model,b)})};
SUI.Form.prototype._initResetFormEvent=function(){var a=this;this.formNode.addEventListener('reset',function(b,c){c.preventDefault();a.eventReset(a.model,b)})};
SUI.Form.prototype._initWidgets=function(){var a=this,b=(new SUI.Query(this.widgetClasses.concat(this.buttonClasses).join(', '),this.formNode)).getItems();this.load(b);var c=[],d=[];this.each(function(b){var e=b.getName();SUI.inArray(a.initWidgets,e)?SUI.inArray(c,e)||(b.refresh(),b.setValue(b.getValue()),c.push(e)):(b.modelChange=function(c){a._widgetValueChange(b,c)},b.eventClick=function(b){a.eventButton(a.model,b)},SUI.inArray(c,e)||(a._setValue(e,b.getValue()),c.push(e)),b.render(),SUI.inArray(d,
e)||d.push(e))});this.initWidgets=this.initWidgets.concat(d)};SUI.Form.prototype.setModel=function(a){this.each(function(b){var c=b.getName();c=a.get(c);SUI.isUndefined(c)||(b.setValue(c),b.checkValidity(!0))});this.model.merge(a)};SUI.Form.prototype.getModel=function(){return this.model};SUI.Form.prototype.reset=function(){this.each(function(a){a.setValue();a.checkValidity(!0)});this.model.clear()};SUI.Form.prototype._setValue=function(a,b){this.model.set(a,b)};SUI.Form.prototype._getValue=function(a){return this.model.get(a)};
SUI.Form.prototype._widgetValueChange=function(a,b){var c=a.getName(),d=this._getValue(c);this._setValue(c,b);SUI.isSame(b,d)||a.eventChange(b,d)};SUI.Form.prototype.setErrors=function(a){var b=new SUI.Object(a);this.each(function(a){var c=a.getName();c=b.get(c,[]);a.setError(c.join(', '),!0)})};SUI.Form.prototype.checkValidity=function(a){a=void 0===a?!1:a;this.each(function(b){b.checkValidity(a)});return this.formNode.getNode().checkValidity()};SUI.Form.prototype.isValid=function(){return this.checkValidity(!0)};
SUI.Form.prototype.isInvalid=function(){return!this.isValid()};SUI.Form.prototype.refresh=function(){var a=this;this.deleteAllByCondition(function(b){var c=b.exists();c||(b=b.getName(),a.model.remove(b),SUI.remove(a.initWidgets,b));return!c});this._initWidgets()};SUI.Form.prototype.findByModel=function(a){var b=this;return this.findByCondition(function(c,d){return b.get(d,'model')===a})};SUI.Form.prototype.eventSubmit=function(a,b){console.warn('SUI.Form.eventSubmit()',a,b)};
SUI.Form.prototype.eventReset=function(a,b){console.warn('SUI.Form.eventReset()',a,b)};SUI.Form.prototype.eventButton=function(a,b){console.warn('SUI.Form.eventButton()',a,b)};SUI.Form.prototype.lock=function(){this.each(function(a){a.disabled=a.isDisabled()});this.each(function(a){a.setDisabled(!0)})};SUI.Form.prototype.unlock=function(){this.each(function(a){a.setDisabled(a.disabled)})};SUI.GoogleMap=function(a,b,c){c=void 0===c?{}:c;this.mapNode=(new SUI.Query(void 0===b?'.map':b,a)).getItem();this._setOptions(c);this._init()};SUI.GoogleMap.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({center:{lat:47.6,lng:17.533333},zoom:8,scrollwheel:!1,streetViewControl:!1,scaleControl:!0,mapTypeControl:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.TERRAIN]}});this.options.merge(a);this.options=this.options.copy(!0)};
SUI.GoogleMap.prototype._getCustomMapType=function(){return new google.maps.StyledMapType([{elementType:'geometry',stylers:[{color:'#ebe3cd'}]},{elementType:'labels.text.fill',stylers:[{color:'#523735'}]},{elementType:'labels.text.stroke',stylers:[{color:'#f5f1e6'}]},{featureType:'administrative',elementType:'geometry.stroke',stylers:[{color:'#c9b2a6'}]},{featureType:'administrative.land_parcel',elementType:'geometry.stroke',stylers:[{color:'#dcd2be'}]},{featureType:'administrative.land_parcel',elementType:'labels.text.fill',
stylers:[{color:'#ae9e90'}]},{featureType:'landscape.natural',elementType:'geometry',stylers:[{color:'#dfd2ae'}]},{featureType:'poi',elementType:'geometry',stylers:[{color:'#dfd2ae'}]},{featureType:'poi',elementType:'labels.text.fill',stylers:[{color:'#93817c'}]},{featureType:'poi.park',elementType:'geometry.fill',stylers:[{color:'#a5b076'}]},{featureType:'poi.park',elementType:'labels.text.fill',stylers:[{color:'#447530'}]},{featureType:'road',elementType:'geometry',stylers:[{color:'#f5f1e6'}]},
{featureType:'road.arterial',elementType:'geometry',stylers:[{color:'#fdfcf8'}]},{featureType:'road.highway',elementType:'geometry',stylers:[{color:'#f8c967'}]},{featureType:'road.highway',elementType:'geometry.stroke',stylers:[{color:'#e9bc62'}]},{featureType:'road.highway.controlled_access',elementType:'geometry',stylers:[{color:'#e98d58'}]},{featureType:'road.highway.controlled_access',elementType:'geometry.stroke',stylers:[{color:'#db8555'}]},{featureType:'road.local',elementType:'labels.text.fill',
stylers:[{color:'#806b63'}]},{featureType:'transit.line',elementType:'geometry',stylers:[{color:'#dfd2ae'}]},{featureType:'transit.line',elementType:'labels.text.fill',stylers:[{color:'#8f7d77'}]},{featureType:'transit.line',elementType:'labels.text.stroke',stylers:[{color:'#ebe3cd'}]},{featureType:'transit.station',elementType:'geometry',stylers:[{color:'#dfd2ae'}]},{featureType:'water',elementType:'geometry.fill',stylers:[{color:'#b9d3c2'}]},{featureType:'water',elementType:'labels.text.fill',stylers:[{color:'#92998d'}]}],
{name:'Custom'})};SUI.GoogleMap.prototype._init=function(){this.markerIcons={};this._initMap();this._initOverlay();this.setMarkers();this.setPolygons()};SUI.GoogleMap.prototype._initMap=function(){this.map=new google.maps.Map(this.mapNode.getNode(),this.options);var a=this._getCustomMapType();this.map.mapTypes.set('custom',a);this._unbindEventsToMap();this._bindEventsToMap()};
SUI.GoogleMap.prototype._bindEventsToMap=function(){var a=this;this.map.addListener('click',function(b){var c=b.latLng;a.eventMapClick(c.lat(),c.lng(),b)})};SUI.GoogleMap.prototype._unbindEventsToMap=function(){google.maps.event.clearInstanceListeners(this.map)};SUI.GoogleMap.prototype._initOverlay=function(){this.overlay=new google.maps.OverlayView;this.overlay.draw=function(){};this.overlay.setMap(this.map)};SUI.GoogleMap.prototype.eventPolygonChanged=function(a,b,c,d){};
SUI.GoogleMap.prototype.createOrUpdatePolygon=function(a,b,c,d,e){d=void 0===d?{}:d;e=void 0===e?{}:e;this.getPolygon(a)?this.updatePolygon(a,b,c,d,e):this.createPolygon(a,b,c,d,e)};
SUI.GoogleMap.prototype.createPolygon=function(a,b,c,d,e){d=void 0===d?{}:d;e=void 0===e?{}:e;d=new SUI.Object(d);d.get('id')||d.set('id',a);a=new SUI.Object(this.polygonOptions);a.merge(e);e=new google.maps.Polygon(a.copy(!0));e.setMap(this.map);d.setRaw('_polygon',e);this._addPointsToPolygon(d,c);c=this._getCenterOfPolygon(d);b=SUI.mapText(b,new google.maps.LatLng(c.latitude,c.longitude),this.map);d.setRaw('_map_text',b);this.polygons.push(d);this._bindEventsToPolygon(e,d)};
SUI.GoogleMap.prototype.updatePolygon=function(a,b,c,d,e){d=void 0===d?{}:d;e=void 0===e?{}:e;var f=this.getPolygon(a);SUI.each(this._cleanPolygonData(d),function(a,b){f.set(b,a)});f.get('_polygon').setOptions(e);this._addPointsToPolygon(f,c);a=this._getCenterOfPolygon(f);c=f.get('_map_text');c.set('text',b);c.set('position',new google.maps.LatLng(a.latitude,a.longitude))};
SUI.GoogleMap.prototype._cleanPolygonData=function(a){var b=new SUI.Object;SUI.each(a,function(a,d){SUI.inArray(['_polygon','_map_text','_bounds'],d)||b.set(d,a)});return b};SUI.GoogleMap.prototype.getPolygon=function(a){return this.polygons.findById(a)};SUI.GoogleMap.prototype.removePolygon=function(a){var b=this.getPolygon(a);if(b){var c=b.get('_polygon');c.setMap(null);b.get('_map_text').set('map',null);this._unbindEventsToPolygon(c);this.polygons.deleteById(a)}};
SUI.GoogleMap.prototype.removeAllPolygon=function(a){var b=this;a=void 0===a?SUI.noop:a;this.polygons.each(function(c){var d=c.get('_polygon');d.setMap(null);c.get('_map_text').set('map',null);b._unbindEventsToPolygon(d);a(c)});this.polygons.clear()};
SUI.GoogleMap.prototype._bindEventsToPolygon=function(a,b){var c=this;a.addListener('rightclick',function(d){if(d.vertex)a.getPath().removeAt(d.vertex);else{var e=d.latLng;c.eventPolygonRightClick(b,e.lat(),e.lng(),d)}});a.addListener('click',function(a){var d=a.latLng;c.eventPolygonClick(b,d.lat(),d.lng(),a)});this._bindEventsToPolygonPath(a,b)};SUI.GoogleMap.prototype._unbindEventsToPolygon=function(a){google.maps.event.clearInstanceListeners(a);this._unbindEventsToPolygonPath(a)};
SUI.GoogleMap.prototype._bindEventsToPolygonPath=function(a,b){var c=this,d=a.getPath();d&&(d.addListener('insert_at',function(){c._callPolygonChangeEvent(a,b)}),d.addListener('set_at',function(){c._callPolygonChangeEvent(a,b)}),d.addListener('remove_at',function(){c._callPolygonChangeEvent(a,b)}))};SUI.GoogleMap.prototype._unbindEventsToPolygonPath=function(a){(a=a.getPath())&&google.maps.event.clearInstanceListeners(a)};
SUI.GoogleMap.prototype._callPolygonChangeEvent=function(a,b){var c=this._getPointsFromPolygon(b);this._setBoundsByPoints(b,c);var d=this._getCenterOfPolygon(b);b.get('_map_text').set('position',new google.maps.LatLng(d.latitude,d.longitude));b=this._cleanPolygonData(b);this.eventPolygonChanged(b,c,this._getComputeArea(a),d)};SUI.GoogleMap.prototype.eventPolygonClick=function(a,b,c,d){};SUI.GoogleMap.prototype.eventPolygonRightClick=function(a,b,c,d){};
SUI.GoogleMap.prototype.eventMapClick=function(a,b,c){};SUI.GoogleMap.prototype._addPointsToPolygon=function(a,b){var c=a.get('_polygon');b=this._convertPointsToPath(b);c.setPath(b);this._bindEventsToPolygonPath(c,a);this._setBoundsByPath(a,b)};SUI.GoogleMap.prototype._convertPointsToPath=function(a){var b=[];SUI.each(a,function(a){var c=new google.maps.LatLng(a.latitude,a.longitude);SUI.isUndefined(a.weight)||(c={location:c,weight:a.weight});b.push(c)});return b};
SUI.GoogleMap.prototype._setBoundsByPoints=function(a,b){b=this._convertPointsToPath(b);this._setBoundsByPath(a,b)};SUI.GoogleMap.prototype._setBoundsByPath=function(a,b){var c=new google.maps.LatLngBounds;0<b.length&&SUI.each(b,function(a){c.extend(a)});a.setRaw('_bounds',c)};SUI.GoogleMap.prototype._getCenterOfPolygon=function(a){a=a.get('_bounds').getCenter();return{latitude:a.lat(),longitude:a.lng()}};
SUI.GoogleMap.prototype.fitPolygonToMap=function(a){if(a=a.get('_bounds')){var b=a.getCenter();this.map.setCenter(b);this.map.fitBounds(a)}};SUI.GoogleMap.prototype._getPointsFromPolygon=function(a){var b=a.get('_polygon').getPath().getArray();this._setBoundsByPath(a,b);var c=[];SUI.each(b,function(a){c.push({latitude:a.lat(),longitude:a.lng()})});return c};SUI.GoogleMap.prototype._getComputeArea=function(a){a=a.getPath();return google.maps.geometry.spherical.computeArea(a)};
SUI.GoogleMap.prototype.addPointToPolygon=function(a,b,c){a.get('_polygon').getPath().push(new google.maps.LatLng(b,c))};SUI.GoogleMap.prototype.setMarkers=function(a){a=void 0===a?{}:a;this.markers=new SUI.Collection;this.markerOptions=new SUI.Object({draggable:!1});this.markerOptions.merge(a)};
SUI.GoogleMap.prototype.setHeatmap=function(a){a=void 0===a?{}:a;this.heatmapOptions=new SUI.Object({opacity:.2,radius:20,gradient:'rgba(102, 255, 0, 0);rgba(102, 255, 0, 1);rgba(147, 255, 0, 1);rgba(193, 255, 0, 1);rgba(238, 255, 0, 1);rgba(244, 227, 0, 1);rgba(249, 198, 0, 1);rgba(255, 170, 0, 1);rgba(255, 113, 0, 1);rgba(255, 57, 0, 1);rgba(255, 0, 0, 1)'.split(';')});this.heatmapOptions.merge(a)};
SUI.GoogleMap.prototype.createHeatmap=function(a,b){var c=this;b=void 0===b?{}:b;this.heatmap=new google.maps.visualization.HeatmapLayer({data:this._convertPointsToPath(a),map:this.map});this.heatmapOptions.merge(b);SUI.eachObject(this.heatmapOptions,function(a,b){c.heatmap.set(b,a)})};SUI.GoogleMap.prototype.removeHeatmap=function(){this.heatmap&&this.heatmap.setMap(null)};
SUI.GoogleMap.prototype.setPolygons=function(a){a=void 0===a?{}:a;this.polygons=new SUI.Collection;this.polygonOptions=new SUI.Object({geodesic:!0,strokeColor:'#FF0000',strokeOpacity:.5,strokeWeight:2,fillColor:'#FF0000',fillOpacity:.2,editable:!1});this.polygonOptions.merge(a)};SUI.GoogleMap.prototype.createOrUpdateMarker=function(a,b,c,d,e,f,g){f=void 0===f?{}:f;g=void 0===g?{}:g;this.getMarker(a)?this.updateMarker(a,b,c,d,e,f,g):this.createMarker(a,b,c,d,e,f,g)};
SUI.GoogleMap.prototype.createMarker=function(a,b,c,d,e,f,g){f=void 0===f?{}:f;g=void 0===g?{}:g;f=new SUI.Object(f);f.get('id')||f.set('id',a);a=new SUI.Object(this.markerOptions);a.merge(g);b=SUI.convert(b,'string');g=new google.maps.Marker(a.copy(!0));g.setPosition(new google.maps.LatLng(d,e));g.setIcon(this.markerIcons[c].icon);g.setShape(this.markerIcons[c].shape);g.setTitle(b);g.setMap(this.map);f.setRaw('_marker',g);c=SUI.mapLabel(g,b);f.setRaw('_map_label',c);this.markers.push(f);this._bindEventsToMarker(g,
f)};SUI.GoogleMap.prototype.createMarkerByXY=function(a,b,c,d,e,f){f=void 0===f?{}:f;d=new google.maps.Point(d,e);d=this.overlay.getProjection().fromContainerPixelToLatLng(d);this.createMarker(a,b,c,d.lat(),d.lng(),f)};
SUI.GoogleMap.prototype._bindEventsToMarker=function(a,b){var c=this,d=this._cleanMarkerData(b);a.addListener('click',function(a){c.eventMarkerClick(d,a)});a.addListener('rightclick',function(a){c.eventMarkerRightClick(d,a)});a.addListener('dragend',function(b){var e=a.getPosition(),g=e.lat();e=e.lng();c.eventMarkerChanged(d,g,e,b)})};SUI.GoogleMap.prototype._unbindEventsToMarker=function(a){google.maps.event.clearInstanceListeners(a)};
SUI.GoogleMap.prototype.updateMarker=function(a,b,c,d,e,f,g){f=void 0===f?{}:f;g=void 0===g?{}:g;var h=this.getMarker(a);SUI.each(this._cleanMarkerData(f),function(a,b){h.set(b,a)});a=SUI.convert(b,'string');b=h.get('_marker');b.setOptions(g);c=this.markerIcons[c];b.setIcon(c.icon);b.setShape(c.shape);b.setTitle(a);b.setPosition(new google.maps.LatLng(d,e));h.get('_map_label').set('text',a)};
SUI.GoogleMap.prototype._cleanMarkerData=function(a){var b=new SUI.Object;SUI.each(a,function(a,d){SUI.inArray(['_marker','_map_label'],d)||b.set(d,a)});return b};SUI.GoogleMap.prototype.getMarker=function(a){return this.markers.findById(a)};SUI.GoogleMap.prototype.removeMarker=function(a){var b=this.getMarker(a);b&&(b=b.get('_marker'),b.setMap(null),this._unbindEventsToMarker(b),this.markers.deleteById(a))};
SUI.GoogleMap.prototype.removeAllMarker=function(a){var b=this;a=void 0===a?SUI.noop:a;this.markers.each(function(c){var d=c.get('_marker');d.setMap(null);b._unbindEventsToMarker(d);a(c)});this.markers.clear()};SUI.GoogleMap.prototype.openInfoWindow=function(a,b){a=this.getMarker(a).get('_marker');(new google.maps.InfoWindow({content:SUI.convert(b,'string')})).open(this.map,a)};SUI.GoogleMap.prototype.eventMarkerClick=function(a,b){};SUI.GoogleMap.prototype.eventMarkerRightClick=function(a,b){};
SUI.GoogleMap.prototype.eventMarkerChanged=function(a,b,c,d){};SUI.GoogleMap.prototype.setMarkerIcon=function(a,b){var c={url:b.url,size:new google.maps.Size(b.size[0],b.size[1]),origin:new google.maps.Point(b.origin[0],b.origin[1]),anchor:new google.maps.Point(b.anchor[0],b.anchor[1])};this.markerIcons[a]={icon:c,shape:{coords:b.coords,type:'poly'}}};
SUI.GoogleMap.prototype.searchAddress=function(a){var b=new SUI.Deferred;(new google.maps.Geocoder).geocode({address:SUI.convert(a,'string')},function(a,d){if(d===google.maps.GeocoderStatus.OK&&0<a.length){var c=[];SUI.each(a,function(a){a={address:a.formatted_address,latitude:a.geometry.location.lat(),longitude:a.geometry.location.lng()};c.push(a)});b.resolve([c])}else b.reject()});return b.promise()};
SUI.GoogleMap.prototype.setCenter=function(a,b,c){c=void 0===c?!1:c;a=new google.maps.LatLng(a,b);c?this.map.getBounds().contains(a)||this.map.setCenter(a):this.map.setCenter(a)};SUI.GoogleMap.prototype.getCenter=function(){var a=this.map.getCenter();return{latitude:a.lat(),longitude:a.lng()}};SUI.GoogleMap.prototype.triggerResize=function(){google.maps.event.trigger(this.map,'resize')};
SUI.GoogleMap.prototype.getDinamicRadius=function(a){var b=new google.maps.Point(0,0);a=new google.maps.Point(a,a);var c=this.overlay.getProjection();b=c.fromContainerPixelToLatLng(b);a=c.fromContainerPixelToLatLng(a);b=new google.maps.LatLng(b.lat(),b.lng());a=new google.maps.LatLng(a.lat(),a.lng());return google.maps.geometry.spherical.computeDistanceBetween(b,a)};SUI.Navigation=function(a,b){b=void 0===b?{}:b;this.http=a;this._setOptions(b);this._init()};SUI.Navigation.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object;this.options.merge(a)};SUI.Navigation.prototype._init=function(){this.container=new SUI.Collection;this.linkNodeKey='node'};
SUI.Navigation.prototype.add=function(a){var b=a.get('id'),c=a.get('image'),d=a.get('icon'),e=a.get('title'),f=a.get('counter'),g=a.get('href'),h=a.get('action'),l=a.get('disabled');c?this.addImage(b,c,e,h,g,a):d?this.addIcon(b,d,e,h,g,a):SUI.isUndefined(f)?this.addText(b,e,h,g,a):this.addCounter(b,f,e,h,g,a);l&&this.setDisabled(b)};
SUI.Navigation.prototype.addCounter=function(a,b,c,d,e,f){f=void 0===f?{}:f;a=this._setItem(a,c,d,void 0===e?'':e,f);c=new SUI.Node('span');c.addClass('counter');c.setHtml(b);a.get(this.linkNodeKey).beforeChild(c)};SUI.Navigation.prototype.addIcon=function(a,b,c,d,e,f){f=void 0===f?{}:f;a=this._setItem(a,c,d,void 0===e?'':e,f);c=new SUI.Node('i');c.addClass(['material-icons']);c.setHtml(b);b=new SUI.Node('span');b.addClass('image');b.appendChild(c);a.get(this.linkNodeKey).beforeChild(b)};
SUI.Navigation.prototype.addImage=function(a,b,c,d,e,f){f=void 0===f?{}:f;a=this._setItem(a,c,d,void 0===e?'':e,f);var g=new SUI.Node('span');g.addClass('image');-1!==b.indexOf('.svg')?this.http.get(b,{},{Authorization:'','X-Requested-With':''}).then(function(a){a=(new SUI.Query('svg',a)).getItem();g.appendChild(a)}):(d=new SUI.Node('img'),d.setAttribute('src',b),c&&d.setAttribute('alt',c),g.appendChild(d));a.get(this.linkNodeKey).beforeChild(g)};
SUI.Navigation.prototype.addText=function(a,b,c,d,e){e=void 0===e?{}:e;this._setItem(a,b,c,void 0===d?'':d,e)};
SUI.Navigation.prototype._setItem=function(a,b,c,d,e){d=void 0===d?'':d;e=void 0===e?{}:e;var f=new SUI.Node('a');if(b){var g=new SUI.Node('span');g.addClass('title');g.setHtml(b);f.appendChild(g)}f.setAttribute('href',d||'javascript:void(0)');var h=f.getAttribute('href');d=f.addEventListener('click',function(){c(h)});e=new SUI.Object(e);e.merge({id:a,title:b,href:h,action:c,listener:d});e.setRaw(this.linkNodeKey,f);this.container.push(e);return e};SUI.Navigation.prototype.each=function(a){this.container.each(function(b){a(b)})};
SUI.Navigation.prototype.bindToContainer=function(a){var b=this;a.removeChildren();this.each(function(c){c=c.get(b.linkNodeKey);a.appendChild(c)})};SUI.Navigation.prototype.setDisabled=function(a){(a=this.container.findById(a))&&this._disabled(a)};SUI.Navigation.prototype._disabled=function(a){var b=a.get(this.linkNodeKey);b.addClass('disabled');b.removeEventListener('click',a.get('listener'));b.setAttribute('href','javascript:void(0)')};
SUI.Navigation.prototype.setEnabled=function(a){(a=this.container.findById(a))&&this._enabled(a)};SUI.Navigation.prototype._enabled=function(a){this._disabled(a);var b=a.get(this.linkNodeKey);b.removeClass('disabled');var c=a.get('action'),d=a.get('href');b.setAttribute('href',d);b=b.addEventListener('click',function(){c(d)});a.set('listener',b)};
SUI.Navigation.prototype.setActive=function(a){var b=this;this.each(function(c){var d=c.get(b.linkNodeKey);d.removeClass('active');c=c.get('id');('.'===c[c.length-1]&&SUI.contain(a,c)||SUI.eq(a,c))&&d.addClass('active')})};SUI.Navigation.prototype.setAllInactive=function(){var a=this;this.each(function(b){b.get(a.linkNodeKey).removeClass('active')})};SUI.Navigation.prototype.show=function(a){if(a=this.container.findById(a))a.get(this.linkNodeKey).removeClass('hidden'),this._enabled(a)};
SUI.Navigation.prototype.hide=function(a){if(a=this.container.findById(a))a.get(this.linkNodeKey).addClass('hidden'),this._disabled(a)};SUI.ProgressStatus=function(a,b,c){c=void 0===c?{}:c;this.progressStatusNode=(new SUI.Query(void 0===b?'.progress-status':b,a)).getItem();this._setOptions(c);this._init()};SUI.ProgressStatus.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({successStyle:'success',infoStyle:'info',warningStyle:'warning',errorStyle:'error'});this.options.merge(a)};
SUI.ProgressStatus.prototype._init=function(){this.iconNode=(new SUI.Query('.icon',this.progressStatusNode)).getItem();this.textNode=(new SUI.Query('.text',this.progressStatusNode)).getItem()};SUI.ProgressStatus.prototype._setStatus=function(a,b,c){c=void 0===c?'':c;this.progressStatusNode.removeClass([this.options.errorStyle,this.options.successStyle,this.options.infoStyle,this.options.warningStyle]);this.progressStatusNode.addClass(a);this.textNode.setHtml(b);c&&this.iconNode.setHtml(c)};
SUI.ProgressStatus.prototype.setSuccess=function(a,b){this._setStatus(this.options.successStyle,a,void 0===b?'':b)};SUI.ProgressStatus.prototype.setInfo=function(a,b){this._setStatus(this.options.infoStyle,a,void 0===b?'':b)};SUI.ProgressStatus.prototype.setWarning=function(a,b){this._setStatus(this.options.warningStyle,a,void 0===b?'':b)};SUI.ProgressStatus.prototype.setError=function(a,b){this._setStatus(this.options.errorStyle,a,void 0===b?'':b)};SUI.Table=function(a,b,c){c=void 0===c?{}:c;this.tableNode=(new SUI.Query(void 0===b?'table':b,a)).getItem();this._setOptions(c);this._init()};SUI.Table.prototype._setOptions=function(a){a=void 0===a?{}:a;this.options=new SUI.Object({no_content:{image_url:null,text:''},row_count:10,pager_num:4,sort:{column:null,order:'desc'},columns:[],calculations:{},sorted:[],column:null});this.options.merge(a)};
SUI.Table.prototype._init=function(){this.collection=new SUI.Collection;this.query='';this.actions=[];this._initContentHandler();this._initHeader();this._initSearch();this._initStructure()};SUI.Table.prototype._initContentHandler=function(){this.contentHandler=new SUI.ContentHandler(this.tableNode,this.options.no_content)};
SUI.Table.prototype._initSearch=function(){var a=this;if('search'===this.options.columns[this.options.columns.length-1]){var b=new SUI.Node('div');b.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--expandable']);this.headerNodes.get(this.headerNodes.size()-1).insert(b);var c=new SUI.Node('label');c.addClass(['mdl-button','mdl-js-button','mdl-button--icon']);c.setFor('table-search');b.appendChild(c);var d=new SUI.Node('i');d.addClass('material-icons');d.setHtml('search');c.appendChild(d);
c=new SUI.Node('div');c.addClass('mdl-textfield__expandable-holder');b.appendChild(c);d=new SUI.Node('input');d.setAttribute('type','text');d.setId('table-search');d.addClass('mdl-textfield__input');d.addEventListener('keypress',function(b,c){SUI.eq(c.keyCode,13)&&(a.query=b.getNode().value,a.refresh(1));return!0});c.appendChild(d);d=new SUI.Node('label');d.addClass('mdl-textfield__label');c.appendChild(d);SUI.mdl(b)}};
SUI.Table.prototype._initHeader=function(){var a=this;this.headerTexts=[];this.headerNodes=new SUI.Query('thead th',this.tableNode);this.headerNodes.each(function(b,c){var d=b.getHtml();a.headerTexts.push(d);a._renderHeader(b,c)})};
SUI.Table.prototype._renderHeader=function(a,b){var c=this,d=this.options.columns[b];SUI.inArray(['search','actions'],d)&&a.addClass('actions');b=this.options.sorted.filter(function(a){return SUI.contain(a,d)});if(1===b.length){a.setData('column',b[0]);a.addEventListener('click',function(a){a=a.getData('column');c._toggleSorting(a)});b=new SUI.Node('span');b.addClass('icons');a.appendChild(b);var e=new SUI.Node('i');e.addClass(['material-icons','asc']);e.setHtml('arrow_drop_up');b.appendChild(e);
e=new SUI.Node('i');e.addClass(['material-icons','desc']);e.setHtml('arrow_drop_down');b.appendChild(e)}b=a.getAttribute('title');e=a.getAttribute('desc');if(b||e){var f=new SUI.Node('i');b&&f.setAttribute('desc',b);e&&f.setAttribute('desc',e);f.addClass(['material-icons','info']);f.setHtml('info_outline');a.appendChild(f);(new SUI.Tooltip(f,'BOTTOM')).render()}};
SUI.Table.prototype._initStructure=function(){var a=this;this.tbody=new SUI.Node('tbody');this.tableNode.appendChild(this.tbody);this.tfoot=new SUI.Node('tfoot');this.tableNode.appendChild(this.tfoot);var b=new SUI.Node('tr'),c=new SUI.Node('td');c.addClass('pager-statistics');b.appendChild(c);c=new SUI.Node('td');c.addClass('pager');c.setAttribute('colspan',this.headerNodes.size()-1);b.appendChild(c);this.tfoot.appendChild(b);this.pager=new SUI.Pager(this.tfoot,['.pager','.pager-statistics'],this.options);
this.pager.eventAction=function(b){a.refresh(b)}};SUI.Table.prototype.refresh=function(a){a=void 0===a?-1:a;-1<a&&this.pager.setPage(a);a=new SUI.Object({query:this.query,column:this.options.sort.column,order:this.options.sort.order,offset:this.pager.offset,limit:this.options.row_count});this.eventAction(a)};SUI.Table.prototype.eventAction=function(a){console.warn('SUI.Table.eventAction()',a)};
SUI.Table.prototype._toggleSorting=function(a){var b=$jscomp.makeIterator(a.split(':',2));a=b.next().value;b=(b=b.next().value)||'desc';SUI.eq(this.options.sort.column,a)&&SUI.eq(this.options.sort.order,b)&&(b='asc'===b?'desc':'asc');this._setSorting(a,b)};
SUI.Table.prototype._handleSortingColumn=function(a,b){var c=this.options.columns[b];if(SUI.eq(this.options.sort.column,null)&&SUI.eq(b,0)||SUI.eq(c,this.options.sort.column))a=(new SUI.Query(SUI.format('.icons i.{0}',[this.options.sort.order]),a)).getItem(),a.isEmpty()||a.addClass('active')};SUI.Table.prototype._updateSorting=function(){var a=this;this._resetSorting();this.headerNodes.each(function(b,c){a._handleSortingColumn(b,c)});this.refresh()};
SUI.Table.prototype._setSorting=function(a,b){this.options.sort.column=a;this.options.sort.order=void 0===b?'asc':b;this._updateSorting()};SUI.Table.prototype._resetSorting=function(){(new SUI.Query('thead th .icons i',this.tableNode)).each(function(a){a.removeClass('active')})};SUI.Table.prototype._getColumn=function(){return this.options.column||this.options.columns[0]};
SUI.Table.prototype._addHeaderRow=function(a,b){var c=new SUI.Node('tr');c.addEventListener('click',function(a){a.toggleClass('active');c.getNextSibling().toggleClass('open')});c.addClass('header');this.tbody.appendChild(c);var d=new SUI.Node('td');c.appendChild(d);this._renderDataNodeByItem(a,b,this._getColumn(),d,c);d.setAttribute('colspan',this.headerNodes.size()-2);b=new SUI.Node('td');c.appendChild(b);this._renderActions(b,a)};
SUI.Table.prototype._addRow=function(a,b){var c=this,d=new SUI.Node('tr');d.addClass('data');this.tbody.appendChild(d);SUI.each(this.options.columns,function(e,f){var g=new SUI.Node('td');d.appendChild(g);c._renderDataNode(g,a,b,e,f,d)})};SUI.Table.prototype.setActions=function(a){this.actions=a};
SUI.Table.prototype._renderDataNodeByItem=function(a,b,c,d,e){var f=a.get(c,'');c=this.options.calculations[c];SUI.isFunction(c)&&(f=c(a,this.pager.offset+b,e));SUI.instanceOf(f,SUI.Node)||(a=new SUI.Node('span'),a.setHtml(f),f=a);d.appendChild(f);(f.getAttribute('title')||f.getAttribute('desc'))&&(new SUI.Tooltip(f)).render()};
SUI.Table.prototype._renderDataNode=function(a,b,c,d,e,f){if(SUI.inArray(['search','actions'],d))this._renderActions(a,b);else{var g=new SUI.Node('span');g.addClass('label');g.setHtml(this.headerTexts[e]);this._renderHeader(g,e);this._handleSortingColumn(g,e);a.appendChild(g);this._renderDataNodeByItem(b,c,d,a,f)}};
SUI.Table.prototype._renderActions=function(a,b){var c=new SUI.Node('div');a.addClass('actions');a.appendChild(c);3<this.actions.length?(c.addClass('dropDown'),this._renderDropDownNode(c,b)):this._renderActionNodes(c,b)};SUI.Table.prototype._renderActionNodes=function(a,b){var c=this;SUI.each(this.actions,function(d){c._createActionButton(a,d,b)})};SUI.Table.prototype._renderDropDownNode=function(a,b){(new SUI.Dropdown(a)).setActions(this.actions,b)};
SUI.Table.prototype._createActionButton=function(a,b,c){var d=$jscomp.makeIterator(b.style(c)),e=d.next().value,f=d.next().value,g=d.next().value;d.next().value||(d=new SUI.Node('button'),a.appendChild(d),d.addClass(['mdl-button','mdl-js-button','mdl-button--icon','mdl-button--primary']),g?d.setAttribute('disabled'):d.addEventListener('click',function(){b.click(c)}),f&&(new SUI.Tooltip(d)).render(f),a=new SUI.Node('i'),a.addClass('material-icons'),a.setHtml(e),d.appendChild(a))};
SUI.Table.prototype.setData=function(a){this.collection.reload(a);0===this.collection.size()?this.contentHandler.show():(this.contentHandler.hide(),this._draw())};SUI.Table.prototype.setCount=function(a){this.pager.setCount(a);this.pager.draw()};SUI.Table.prototype._getItems=function(){var a=this.collection.getItems();this.collection.size()>this.options.row_count&&(a=this.collection.limit(this.pager.offset,this.options.row_count));return a};
SUI.Table.prototype._draw=function(){var a=this;this.tbody.removeChildren();SUI.each(this._getItems(),function(b,c){a._addHeaderRow(b,c);a._addRow(b,c)});SUI.mdl(this.tbody)};SUI.Table.prototype.render=function(){this.tableNode.isEmpty()||this._updateSorting()};SUI.TabPanel=function(a,b,c,d){c=void 0===c?'':c;d=void 0===d?'':d;this.tabpanel=(new SUI.Query(void 0===b?'.tab-panel':b,a)).getItem();this.options={selected_tab:c,default_tab:d||c};this._init()};SUI.TabPanel.prototype._init=function(){this._initTabs();this._initPanels();this.activeTab=this.options.selected_tab;this._setActive(this.activeTab)};
SUI.TabPanel.prototype._initTabs=function(){var a=this;this.tabs=new SUI.Query('.tabs a',this.tabpanel);this.tabs.each(function(b){var c=b.getAttribute('href').substr(1);1===a.tabs.size()&&b.addClass('hidden');b.setData('panel',c);b.setAttribute('href','javascript:void(0)');b.addEventListener('click',function(b){a.setActive(c)})})};SUI.TabPanel.prototype._initPanels=function(){this.panels=new SUI.Query('.panel',this.tabpanel)};
SUI.TabPanel.prototype._setActive=function(a){var b=this.options.default_tab;this.panels.each(function(c){c.removeClass('active');if(c.getId()===a||c.hasClass(a))c.addClass('active'),b=a});this.tabs.each(function(b){b.removeClass('active');b.getData('panel')===a&&b.addClass('active')});this.activeTab=b};SUI.TabPanel.prototype.eventChange=function(a){console.warn('SUI.TabPanel.eventChange()',a)};
SUI.TabPanel.prototype.setActive=function(a){var b=this,c=new SUI.Deferred;SUI.isNull(a)?c.reject():(this._setActive(a),(new SUI.Async).serial([function(){return b.eventChange(b.getActive())}]).defer(c));return c.promise()};SUI.TabPanel.prototype.getActive=function(){return this.activeTab};SUI.Waiter=function(){this.counter=this.timeoutWaiting=0};SUI.Waiter.prototype.advancedWaiting=function(a,b){this._advancedDelayHandler(a,b||3E3,this.timeoutWaiting)};SUI.Waiter.prototype._advancedDelayHandler=function(a,b,c){var d=this;this.timeoutWaiting+=1E-4;setTimeout(function(){(d.timeoutWaiting-1E-4).toFixed(4)===c.toFixed(4)&&(d.timeoutWaiting=0,a())},b)};
SUI.Waiter.prototype.stopAdvancedWaiting=function(){var a=this;this.timeoutWaiting+=1E-4;this.intervall=setInterval(function(){a.timeoutWaiting+=1E-4},1E3)};SUI.Waiter.prototype.startAdvancedWaiting=function(){clearInterval(this.intervall);this.timeoutWaiting-=1E-4};SUI.Waiter.prototype.simpleWaiting=function(a,b){this._simpleDelayHandler(a,b||3E3,this.counter)};
SUI.Waiter.prototype._simpleDelayHandler=function(a,b,c){var d=this;this.counter++;setTimeout(function(){c===d.counter-1&&(d.counter=0,a())},b)};SUI.widget.DatetimeRange=function(a,b,c,d,e){SUI.Widget.call(this,a,b,c,d);this.isStartInput=e;this._init()};goog.inherits(SUI.widget.DatetimeRange,SUI.Widget);
SUI.widget.DatetimeRange.prototype._init=function(){this.inputBlock.addClass('datetime-range-widget');this.input.addClass('hidden');this.datetimeContainer=(new SUI.Query('.datetime-container',this.inputBlock)).getItem();this.isStartInput&&(this.datetimeContainer=new SUI.Node('div'),this.datetimeContainer.addClass('datetime-container'),this.input.insertAfter(this.datetimeContainer));this.datetimeInput=new SUI.Node('div');this.datetimeInput.addClass('datetime-input');this.datetimeInput.addEventListener('click',
this._onClick.bind(this));this.datetimeContainer.appendChild(this.datetimeInput);this._initInput()};
SUI.widget.DatetimeRange.prototype._initInput=function(){var a=this;this.format=this.input.getData('format');this.input.addEventListener('change',function(){var b=a.getValue().toString();a.modelChange(b);a.checkValidity();return!0});var b=this.input.getAttribute('type'),c=this.getValue().toString();this.datetimeNode=new SUI.Node('div');this.datetime=new SUI.Datetime(this.datetimeNode,{value:c,type:b});this.datetime.eventClick=function(b){a.setValue(b)};this.popup=new SUI.Popup(this.datetimeNode,this.inputBlock);
this.popup.eventClose=function(){a.datetimeInput.removeClass('active')};c&&(b=this.datetime.getValue(),this._setTag(b))};
SUI.widget.DatetimeRange.prototype.render=function(){this.label&&this.label.exists()&&this.label.addClass('widget-label');var a=new SUI.Node('a');a.setAttribute('href','javascript:void(0)');a.addClass(['material-icons','size-24','expander']);this.isStartInput?(a.setHtml('remove'),this.datetimeInput.insertAfter(a)):(a.setHtml('date_range'),this.infoContainerNode.appendChild(a));a.addEventListener('click',this._onClick.bind(this));this.refresh();this.datetime.draw()};
SUI.widget.DatetimeRange.prototype.refresh=function(){this.isDisabled()?this.inputBlock.addClass('is-disabled'):this.inputBlock.removeClass('is-disabled')};SUI.widget.DatetimeRange.prototype.setValue=function(a){this._setTag(a);this.input.setAttribute('value',a);this.input.trigger('change');this.datetime.setValue(a)};
SUI.widget.DatetimeRange.prototype._setTag=function(a){var b=this;this.datetimeInput.removeChildren();if(a){var c=window.moment(a,this.datetime.getConfig().format).format(this.format);a=new SUI.Node('div');a.addClass('tag');a.setHtml(c);this.datetimeInput.appendChild(a);this.isEnabled()&&(c=new SUI.Node('a'),c.setAttribute('href','javascript:void(0)'),c.addClass(['material-icons','size-18','close']),c.setHtml('close'),c.addEventListener('click',function(){b.setValue('')}),a.addClass('tag-with-action'),
a.appendChild(c))}};SUI.widget.DatetimeRange.prototype._onClick=function(){this.isEnabled()&&(this.datetimeInput.addClass('active'),this.popup.toggle())};SUI.widget.Location=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Location,SUI.Widget);
SUI.widget.Location.prototype._init=function(){var a=this;this.inputBlock.addClass('location-widget');this._initButtons();this.icon=this.input.getData('icon');this.input.addEventListener('keyup',function(b,c){var d=b.getNode();SUI.eq(c.keyCode,13)?a.eventSearch(d.value):b.trigger('change');return!0});this.input.addEventListener('change',function(b){b=b.getNode();var c=a.getValue();c.address=SUI.typeCast(b.value);a._setDataValue(c);a.modelChange(c);a.checkValidity();return!0})};
SUI.widget.Location.prototype._initButtons=function(){this._initSearchButton();this._initAdvancedButton()};SUI.widget.Location.prototype._initSearchButton=function(){var a=this,b=new SUI.Node('a');b.setAttribute('href','javascript:void(0)');b.addClass(['search-button','material-icons']);b.setHtml('pin_drop');b.addEventListener('click',function(){if(a.isEnabled()){var b=a.input.getNode();a.eventSearch(b.value)}});this.infoContainerNode.appendChild(b)};
SUI.widget.Location.prototype._initAdvancedButton=function(){var a=this;this.advancedButton=new SUI.Node('a');this.advancedButton.setAttribute('href','javascript:void(0)');this.advancedButton.addClass(['advanced-button','material-icons']);this.advancedButton.setHtml('settings');this.advancedButton.addEventListener('click',function(){a.isEnabled()&&a._toggleAdvancedInputs()});this.infoContainerNode.appendChild(this.advancedButton)};
SUI.widget.Location.prototype.search=function(a){var b=this;this.map.searchAddress(a).then(function(c){c=c[0];c={address:SUI.typeCast(a),latitude:c.latitude,longitude:c.longitude};b.setValue(c)},function(){})};
SUI.widget.Location.prototype.render=function(){this.inputBlock.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--floating-label']);this.input.addClass('mdl-textfield__input');this.label&&this.label.exists()&&this.label.addClass('mdl-textfield__label');this._renderAdvancedInputs();this._renderMap();this._setDefaultValue();this.refresh()};SUI.widget.Location.prototype.refresh=function(){this.isDisabled()?this.mapLockNode.addClass('map-lock'):this.mapLockNode.removeClass('map-lock');SUI.mdl(this.inputBlock)};
SUI.widget.Location.prototype._toggleAdvancedInputs=function(){this.advancedButton.toggleClass('active');this.advancedNode.toggleClass('hidden')};
SUI.widget.Location.prototype._renderAdvancedInputs=function(){var a=this;this.advancedNode=new SUI.Node('div');this.advancedNode.addClass(['advanced','row','hidden']);this.inputBlock.appendChild(this.advancedNode);this.latitudeInput=this._renderAdvancedInput(SUI.generateId('latitude'),this.input.getData('latitude'),function(b){var c=a.getValue();b=b.getNode().value;c.latitude=b;a.setValue(c)});this.longitudeInput=this._renderAdvancedInput(SUI.generateId('longitude'),this.input.getData('longitude'),
function(b){var c=a.getValue();b=b.getNode().value;c.longitude=b;a.setValue(c)})};
SUI.widget.Location.prototype._renderAdvancedInput=function(a,b,c){var d=new SUI.Node('div');d.addClass('col-6');this.advancedNode.appendChild(d);var e=new SUI.Node('div');e.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--floating-label']);d.appendChild(e);d=new SUI.Node('label');d.setFor(a);d.addClass('mdl-textfield__label');d.setHtml(b);e.appendChild(d);b=new SUI.Node('input');b.setId(a);b.setAttribute('type','text');b.addClass('mdl-textfield__input');e.appendChild(b);this._setAdditionalLabel(d);
b.addEventListener('change',function(a){c(a);return!0});return b};
SUI.widget.Location.prototype._renderMap=function(){var a=this,b=new SUI.Node('div');b.addClass('map');this.inputBlock.appendChild(b);this.mapLockNode=new SUI.Node('div');this.mapLockNode.addClass('map-lock');this.inputBlock.appendChild(this.mapLockNode);this.map=new SUI.GoogleMap(this.inputBlock,'.map',{zoom:12,scrollwheel:!0});this.map.setMarkers({draggable:!0});this.map.setMarkerIcon('marker',this.icon);this.map.eventMapClick=function(b,d){a.updatePosition(b,d)};this.map.eventMarkerRightClick=
function(){a.updatePosition(null,null)};this.map.eventMarkerChanged=function(b,d,e){a.updatePosition(d,e)}};SUI.widget.Location.prototype._setDefaultValue=function(){var a=this.getValue();SUI.isNull(a.latitude)||SUI.isNull(a.longitude)||(this.map.setCenter(a.latitude,a.longitude),this.map.createMarker(0,'','marker',a.latitude,a.longitude),this._setDataValue(a))};SUI.widget.Location.prototype.updatePosition=function(a,b){var c=this.getValue();c.latitude=a;c.longitude=b;this.setValue(c)};
SUI.widget.Location.prototype._setDataValue=function(a){this.latitudeInput.getNode().value=a.latitude||'';this.longitudeInput.getNode().value=a.longitude||'';this.input.setAttribute('value',a.address||'');this.input.setData('value',a)};
SUI.widget.Location.prototype.setValue=function(a){this._setDataValue(a);this.map.removeMarker(0);SUI.isNull(a.latitude)||SUI.isNull(a.longitude)||(this.map.setCenter(a.latitude,a.longitude),this.map.getMarker(0)?this.map.updateMarker(0,'','marker',a.latitude,a.longitude):this.map.createMarker(0,'','marker',a.latitude,a.longitude));this.input.trigger('change')};SUI.widget.Location.prototype.getValue=function(){var a=this.input.getData('value');return SUI.typeCast(a)};
SUI.widget.Location.prototype.eventSearch=function(a){};SUI.widget.Number=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Number,SUI.Widget);SUI.widget.Number.prototype._init=function(){var a=this;this.inputBlock.addClass('number-widget');this._initButtons();this.input.addEventListener('keyup',function(b){a._checkValue();b=a.getValue();a.modelChange(b);a.checkValidity(!0);return!0});this.input.addEventListener('change',function(){a._checkValue();var b=a.getValue();a.modelChange(b);a.checkValidity(!0);return!0})};
SUI.widget.Number.prototype._initButtons=function(){var a=this,b=new SUI.Node('span');b.addClass('step-change');this.infoContainerNode.appendChild(b);var c=new SUI.Node('a');c.setAttribute('href','javascript:void(0)');c.addClass(['up-button','material-icons']);c.setHtml('keyboard_arrow_up');c.addEventListener('click',function(){if(a.isEnabled()){var b=a.getValue()||0;b+=a._getStep();a.setValue(b);a.checkValidity(!0)}});b.appendChild(c);c=new SUI.Node('a');c.setAttribute('href','javascript:void(0)');
c.addClass(['down-button','material-icons']);c.setHtml('keyboard_arrow_down');c.addEventListener('click',function(){if(a.isEnabled()){var b=a.getValue()||0;b-=a._getStep();a.setValue(b);a.checkValidity(!0)}});b.appendChild(c)};SUI.widget.Number.prototype._checkValue=function(){var a=this.getValue(),b=this._getMin();a<b&&this.setValue(b);b=this._getMax();a>b&&this.setValue(b)};SUI.widget.Number.prototype._getMax=function(){var a=this.input.getAttribute('max')||9999999999;return SUI.typeCast(a)};
SUI.widget.Number.prototype._getMin=function(){var a=this.input.getAttribute('min')||0;return SUI.typeCast(a)};SUI.widget.Number.prototype._getStep=function(){var a=this.input.getAttribute('step')||1;return SUI.typeCast(a)};SUI.widget.Number.prototype.render=function(){this.inputBlock.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--floating-label']);this.input.addClass(['mdl-textfield__input']);this.label&&this.label.exists()&&this.label.addClass('mdl-textfield__label');this.refresh()};
SUI.widget.Number.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');SUI.mdl(this.inputBlock)};SUI.widget.Search=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Search,SUI.Widget);SUI.widget.Search.prototype._init=function(){var a=this;this.input.addEventListener('keyup',function(b,c){b=b.getNode();a.modelChange(b.value);a.checkValidity();SUI.eq(c.keyCode,13)&&a.eventEnter(b.value);return!0});this.input.addEventListener('change',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity();return!0})};
SUI.widget.Search.prototype.render=function(){this.inputBlock.addClass(['search-widget','mdl-textfield','mdl-js-textfield','mdl-textfield--expandable']);this.input.addClass(['mdl-textfield__input']);this.label.addClass(['mdl-button','mdl-js-button','mdl-button--icon']);var a=new SUI.Node('i');a.addClass(['material-icons','search-button']);a.setHtml('search');this.label.insert(a);this.holderNode=new SUI.Node('div');this.holderNode.addClass('mdl-textfield__expandable-holder');this.holderNode.appendChild(this.input);
this.inputBlock.appendChild(this.holderNode);a=new SUI.Node('label');a.addClass('mdl-textfield__label');this.holderNode.appendChild(a);this._initClearButton();this.refresh()};SUI.widget.Search.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');SUI.mdl(this.inputBlock)};
SUI.widget.Search.prototype._initClearButton=function(){var a=this,b=new SUI.Node('a');b.setAttribute('href','javascript:void(0)');b.addClass(['material-icons','clear-button']);b.setHtml('clear');b.addEventListener('click',function(){a.isEnabled()&&(a.inputBlock.removeClass(['is-dirty','is-focused']),a.setValue(''),a.eventEnter(''))});this.holderNode.appendChild(b)};SUI.widget.Search.prototype.eventEnter=function(a){};SUI.widget.Url=function(a,b,c,d){SUI.Widget.call(this,a,b,c,d);this._init()};goog.inherits(SUI.widget.Url,SUI.Widget);SUI.widget.Url.prototype._init=function(){var a=this;this.inputBlock.addClass('url-widget');this.protocol=this.input.getData('protocol');this.input.addEventListener('keyup',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity();return!0});this.input.addEventListener('change',function(b){b=b.getNode();a.modelChange(b.value);a.checkValidity();return!0})};
SUI.widget.Url.prototype.render=function(){this.inputBlock.addClass(['mdl-textfield','mdl-js-textfield','mdl-textfield--floating-label']);this.input.addClass(['mdl-textfield__input']);this.label&&this.label.exists()&&this.label.addClass('mdl-textfield__label');if(this.protocol){var a=new SUI.Node('span');a.addClass('protocol');a.setHtml(this.protocol);this.input.insertAfter(a)}this.refresh()};
SUI.widget.Url.prototype.refresh=function(){this.isRequired()&&''===this.getValue()&&this.inputBlock.addClass('is-invalid');SUI.mdl(this.inputBlock)};
