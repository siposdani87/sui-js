{
  "version": 3,
  "sources": ["../node_modules/crypto-js/core.js", "../node_modules/crypto-js/enc-base64.js", "../node_modules/crypto-js/enc-utf8.js", "../node_modules/crypto-js/md5.js", "../node_modules/crypto-js/sha1.js", "../node_modules/crypto-js/hmac.js", "../node_modules/crypto-js/evpkdf.js", "../node_modules/crypto-js/cipher-core.js", "../node_modules/crypto-js/aes.js", "../src/index.ts", "../src/common/controller.ts", "../src/common/config.ts", "../src/common/service.ts", "../src/utils/operation.ts", "../src/core/objekt.ts", "../src/core/collection.ts", "../src/utils/log.ts", "../src/core/knot.ts", "../src/core/query.ts", "../src/component/popupContainer.ts", "../src/core/promize.ts", "../src/core/deferred.ts", "../src/core/async.ts", "../src/core/router.ts", "../src/core/state.ts", "../src/core/module.ts", "../src/module/bottomMenu.ts", "../src/module/page.ts", "../src/module/browser.ts", "../src/module/baseModal.ts", "../src/utils/render.ts", "../src/module/confirm.ts", "../src/module/cookie.ts", "../src/module/dialog.ts", "../src/utils/coder.ts", "../src/module/flash.ts", "../src/module/footer.ts", "../src/module/geoLocation.ts", "../src/component/tooltip.ts", "../src/module/helper.ts", "../src/module/xhr.ts", "../src/module/http.ts", "../src/module/leftMenu.ts", "../src/module/loader.ts", "../src/module/navBar.ts", "../src/module/progressBar.ts", "../src/module/script.ts", "../src/module/style.ts", "../src/module/template.ts", "../src/module/topMenu.ts", "../src/module/viewer.ts", "../src/module/depot.ts", "../src/module/header.ts", "../src/module/eventBus.ts", "../src/module/scheduler.ts", "../src/module/screen.ts", "../node_modules/date-fns/constants.js", "../node_modules/date-fns/constructFrom.js", "../node_modules/date-fns/toDate.js", "../node_modules/date-fns/addDays.js", "../node_modules/date-fns/addMonths.js", "../node_modules/date-fns/addMilliseconds.js", "../node_modules/date-fns/addHours.js", "../node_modules/date-fns/_lib/defaultOptions.js", "../node_modules/date-fns/startOfWeek.js", "../node_modules/date-fns/startOfISOWeek.js", "../node_modules/date-fns/getISOWeekYear.js", "../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js", "../node_modules/date-fns/_lib/normalizeDates.js", "../node_modules/date-fns/startOfDay.js", "../node_modules/date-fns/differenceInCalendarDays.js", "../node_modules/date-fns/startOfISOWeekYear.js", "../node_modules/date-fns/addMinutes.js", "../node_modules/date-fns/addYears.js", "../node_modules/date-fns/isDate.js", "../node_modules/date-fns/isValid.js", "../node_modules/date-fns/endOfMonth.js", "../node_modules/date-fns/startOfYear.js", "../node_modules/date-fns/locale/en-US/_lib/formatDistance.js", "../node_modules/date-fns/locale/_lib/buildFormatLongFn.js", "../node_modules/date-fns/locale/en-US/_lib/formatLong.js", "../node_modules/date-fns/locale/en-US/_lib/formatRelative.js", "../node_modules/date-fns/locale/_lib/buildLocalizeFn.js", "../node_modules/date-fns/locale/en-US/_lib/localize.js", "../node_modules/date-fns/locale/_lib/buildMatchFn.js", "../node_modules/date-fns/locale/_lib/buildMatchPatternFn.js", "../node_modules/date-fns/locale/en-US/_lib/match.js", "../node_modules/date-fns/locale/en-US.js", "../node_modules/date-fns/getDayOfYear.js", "../node_modules/date-fns/getISOWeek.js", "../node_modules/date-fns/getWeekYear.js", "../node_modules/date-fns/startOfWeekYear.js", "../node_modules/date-fns/getWeek.js", "../node_modules/date-fns/_lib/addLeadingZeros.js", "../node_modules/date-fns/_lib/format/lightFormatters.js", "../node_modules/date-fns/_lib/format/formatters.js", "../node_modules/date-fns/_lib/format/longFormatters.js", "../node_modules/date-fns/_lib/protectedTokens.js", "../node_modules/date-fns/format.js", "../node_modules/date-fns/formatISO.js", "../node_modules/date-fns/getDate.js", "../node_modules/date-fns/getDay.js", "../node_modules/date-fns/getDaysInMonth.js", "../node_modules/date-fns/getDefaultOptions.js", "../node_modules/date-fns/getHours.js", "../node_modules/date-fns/getISODay.js", "../node_modules/date-fns/getMinutes.js", "../node_modules/date-fns/getMonth.js", "../node_modules/date-fns/getYear.js", "../node_modules/date-fns/isAfter.js", "../node_modules/date-fns/isBefore.js", "../node_modules/date-fns/transpose.js", "../node_modules/date-fns/parse/_lib/Setter.js", "../node_modules/date-fns/parse/_lib/Parser.js", "../node_modules/date-fns/parse/_lib/parsers/EraParser.js", "../node_modules/date-fns/parse/_lib/constants.js", "../node_modules/date-fns/parse/_lib/utils.js", "../node_modules/date-fns/parse/_lib/parsers/YearParser.js", "../node_modules/date-fns/parse/_lib/parsers/LocalWeekYearParser.js", "../node_modules/date-fns/parse/_lib/parsers/ISOWeekYearParser.js", "../node_modules/date-fns/parse/_lib/parsers/ExtendedYearParser.js", "../node_modules/date-fns/parse/_lib/parsers/QuarterParser.js", "../node_modules/date-fns/parse/_lib/parsers/StandAloneQuarterParser.js", "../node_modules/date-fns/parse/_lib/parsers/MonthParser.js", "../node_modules/date-fns/parse/_lib/parsers/StandAloneMonthParser.js", "../node_modules/date-fns/setWeek.js", "../node_modules/date-fns/parse/_lib/parsers/LocalWeekParser.js", "../node_modules/date-fns/setISOWeek.js", "../node_modules/date-fns/parse/_lib/parsers/ISOWeekParser.js", "../node_modules/date-fns/parse/_lib/parsers/DateParser.js", "../node_modules/date-fns/parse/_lib/parsers/DayOfYearParser.js", "../node_modules/date-fns/setDay.js", "../node_modules/date-fns/parse/_lib/parsers/DayParser.js", "../node_modules/date-fns/parse/_lib/parsers/LocalDayParser.js", "../node_modules/date-fns/parse/_lib/parsers/StandAloneLocalDayParser.js", "../node_modules/date-fns/setISODay.js", "../node_modules/date-fns/parse/_lib/parsers/ISODayParser.js", "../node_modules/date-fns/parse/_lib/parsers/AMPMParser.js", "../node_modules/date-fns/parse/_lib/parsers/AMPMMidnightParser.js", "../node_modules/date-fns/parse/_lib/parsers/DayPeriodParser.js", "../node_modules/date-fns/parse/_lib/parsers/Hour1to12Parser.js", "../node_modules/date-fns/parse/_lib/parsers/Hour0to23Parser.js", "../node_modules/date-fns/parse/_lib/parsers/Hour0To11Parser.js", "../node_modules/date-fns/parse/_lib/parsers/Hour1To24Parser.js", "../node_modules/date-fns/parse/_lib/parsers/MinuteParser.js", "../node_modules/date-fns/parse/_lib/parsers/SecondParser.js", "../node_modules/date-fns/parse/_lib/parsers/FractionOfSecondParser.js", "../node_modules/date-fns/parse/_lib/parsers/ISOTimezoneWithZParser.js", "../node_modules/date-fns/parse/_lib/parsers/ISOTimezoneParser.js", "../node_modules/date-fns/parse/_lib/parsers/TimestampSecondsParser.js", "../node_modules/date-fns/parse/_lib/parsers/TimestampMillisecondsParser.js", "../node_modules/date-fns/parse/_lib/parsers.js", "../node_modules/date-fns/parse.js", "../node_modules/date-fns/subDays.js", "../node_modules/date-fns/parseISO.js", "../node_modules/date-fns/setMonth.js", "../node_modules/date-fns/setDate.js", "../node_modules/date-fns/setHours.js", "../node_modules/date-fns/setMinutes.js", "../node_modules/date-fns/setYear.js", "../node_modules/date-fns/subMonths.js", "../node_modules/date-fns/subHours.js", "../node_modules/date-fns/subMinutes.js", "../node_modules/date-fns/subYears.js", "../node_modules/date-fns/locale/hu/_lib/formatDistance.js", "../node_modules/date-fns/locale/hu/_lib/formatLong.js", "../node_modules/date-fns/locale/hu/_lib/formatRelative.js", "../node_modules/date-fns/locale/hu/_lib/localize.js", "../node_modules/date-fns/locale/hu/_lib/match.js", "../node_modules/date-fns/locale/hu.js", "../src/utils/dateio.ts", "../src/component/application.ts", "../src/utils/math.ts", "../src/utils/color.ts", "../src/component/day.ts", "../src/component/month.ts", "../src/component/year.ts", "../src/component/calendar.ts", "../src/component/canvas.ts", "../src/component/contentHandler.ts", "../src/component/pager.ts", "../src/component/cardCollection.ts", "../src/component/carousel.ts", "../src/component/time.ts", "../src/component/clock.ts", "../src/component/dateTime.ts", "../src/component/dropdown.ts", "../src/field/baseField.ts", "../src/field/button.ts", "../src/field/baseCheckboxField.ts", "../src/field/checkboxField.ts", "../src/component/popup.ts", "../src/field/colorField.ts", "../src/field/dateTimeField.ts", "../src/field/dateTimeRangeField.ts", "../src/field/hiddenField.ts", "../src/field/iconToggleField.ts", "../src/field/radiobuttonField.ts", "../src/field/resetButton.ts", "../src/field/searchField.ts", "../src/field/selectField.ts", "../src/field/submitButton.ts", "../src/field/switchField.ts", "../src/field/textareaField.ts", "../src/field/urlField.ts", "../src/field/fileField.ts", "../src/field/rangeField.ts", "../src/field/numberField.ts", "../src/component/mapLabel.ts", "../src/component/googleMap.ts", "../src/field/locationField.ts", "../src/field/textField.ts", "../src/component/formField.ts", "../src/component/form.ts", "../src/component/navigation.ts", "../src/component/progressStatus.ts", "../src/component/route.ts", "../src/component/table.ts", "../src/component/tabPanel.ts", "../src/component/waiter.ts", "../src/field/autoCompleteField.ts"],
  "sourcesContent": [";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));", ";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              var bitsCombined = bits1 | bits2;\n\t              words[nBytes >>> 2] |= bitsCombined << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));", ";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));", ";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Constants table\n\t    var T = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        for (var i = 0; i < 64; i++) {\n\t            T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n\t        }\n\t    }());\n\n\t    /**\n\t     * MD5 hash algorithm.\n\t     */\n\t    var MD5 = C_algo.MD5 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Swap endian\n\t            for (var i = 0; i < 16; i++) {\n\t                // Shortcuts\n\t                var offset_i = offset + i;\n\t                var M_offset_i = M[offset_i];\n\n\t                M[offset_i] = (\n\t                    (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n\t                    (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n\t                );\n\t            }\n\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var M_offset_0  = M[offset + 0];\n\t            var M_offset_1  = M[offset + 1];\n\t            var M_offset_2  = M[offset + 2];\n\t            var M_offset_3  = M[offset + 3];\n\t            var M_offset_4  = M[offset + 4];\n\t            var M_offset_5  = M[offset + 5];\n\t            var M_offset_6  = M[offset + 6];\n\t            var M_offset_7  = M[offset + 7];\n\t            var M_offset_8  = M[offset + 8];\n\t            var M_offset_9  = M[offset + 9];\n\t            var M_offset_10 = M[offset + 10];\n\t            var M_offset_11 = M[offset + 11];\n\t            var M_offset_12 = M[offset + 12];\n\t            var M_offset_13 = M[offset + 13];\n\t            var M_offset_14 = M[offset + 14];\n\t            var M_offset_15 = M[offset + 15];\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\n\t            // Computation\n\t            a = FF(a, b, c, d, M_offset_0,  7,  T[0]);\n\t            d = FF(d, a, b, c, M_offset_1,  12, T[1]);\n\t            c = FF(c, d, a, b, M_offset_2,  17, T[2]);\n\t            b = FF(b, c, d, a, M_offset_3,  22, T[3]);\n\t            a = FF(a, b, c, d, M_offset_4,  7,  T[4]);\n\t            d = FF(d, a, b, c, M_offset_5,  12, T[5]);\n\t            c = FF(c, d, a, b, M_offset_6,  17, T[6]);\n\t            b = FF(b, c, d, a, M_offset_7,  22, T[7]);\n\t            a = FF(a, b, c, d, M_offset_8,  7,  T[8]);\n\t            d = FF(d, a, b, c, M_offset_9,  12, T[9]);\n\t            c = FF(c, d, a, b, M_offset_10, 17, T[10]);\n\t            b = FF(b, c, d, a, M_offset_11, 22, T[11]);\n\t            a = FF(a, b, c, d, M_offset_12, 7,  T[12]);\n\t            d = FF(d, a, b, c, M_offset_13, 12, T[13]);\n\t            c = FF(c, d, a, b, M_offset_14, 17, T[14]);\n\t            b = FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n\t            a = GG(a, b, c, d, M_offset_1,  5,  T[16]);\n\t            d = GG(d, a, b, c, M_offset_6,  9,  T[17]);\n\t            c = GG(c, d, a, b, M_offset_11, 14, T[18]);\n\t            b = GG(b, c, d, a, M_offset_0,  20, T[19]);\n\t            a = GG(a, b, c, d, M_offset_5,  5,  T[20]);\n\t            d = GG(d, a, b, c, M_offset_10, 9,  T[21]);\n\t            c = GG(c, d, a, b, M_offset_15, 14, T[22]);\n\t            b = GG(b, c, d, a, M_offset_4,  20, T[23]);\n\t            a = GG(a, b, c, d, M_offset_9,  5,  T[24]);\n\t            d = GG(d, a, b, c, M_offset_14, 9,  T[25]);\n\t            c = GG(c, d, a, b, M_offset_3,  14, T[26]);\n\t            b = GG(b, c, d, a, M_offset_8,  20, T[27]);\n\t            a = GG(a, b, c, d, M_offset_13, 5,  T[28]);\n\t            d = GG(d, a, b, c, M_offset_2,  9,  T[29]);\n\t            c = GG(c, d, a, b, M_offset_7,  14, T[30]);\n\t            b = GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n\t            a = HH(a, b, c, d, M_offset_5,  4,  T[32]);\n\t            d = HH(d, a, b, c, M_offset_8,  11, T[33]);\n\t            c = HH(c, d, a, b, M_offset_11, 16, T[34]);\n\t            b = HH(b, c, d, a, M_offset_14, 23, T[35]);\n\t            a = HH(a, b, c, d, M_offset_1,  4,  T[36]);\n\t            d = HH(d, a, b, c, M_offset_4,  11, T[37]);\n\t            c = HH(c, d, a, b, M_offset_7,  16, T[38]);\n\t            b = HH(b, c, d, a, M_offset_10, 23, T[39]);\n\t            a = HH(a, b, c, d, M_offset_13, 4,  T[40]);\n\t            d = HH(d, a, b, c, M_offset_0,  11, T[41]);\n\t            c = HH(c, d, a, b, M_offset_3,  16, T[42]);\n\t            b = HH(b, c, d, a, M_offset_6,  23, T[43]);\n\t            a = HH(a, b, c, d, M_offset_9,  4,  T[44]);\n\t            d = HH(d, a, b, c, M_offset_12, 11, T[45]);\n\t            c = HH(c, d, a, b, M_offset_15, 16, T[46]);\n\t            b = HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n\t            a = II(a, b, c, d, M_offset_0,  6,  T[48]);\n\t            d = II(d, a, b, c, M_offset_7,  10, T[49]);\n\t            c = II(c, d, a, b, M_offset_14, 15, T[50]);\n\t            b = II(b, c, d, a, M_offset_5,  21, T[51]);\n\t            a = II(a, b, c, d, M_offset_12, 6,  T[52]);\n\t            d = II(d, a, b, c, M_offset_3,  10, T[53]);\n\t            c = II(c, d, a, b, M_offset_10, 15, T[54]);\n\t            b = II(b, c, d, a, M_offset_1,  21, T[55]);\n\t            a = II(a, b, c, d, M_offset_8,  6,  T[56]);\n\t            d = II(d, a, b, c, M_offset_15, 10, T[57]);\n\t            c = II(c, d, a, b, M_offset_6,  15, T[58]);\n\t            b = II(b, c, d, a, M_offset_13, 21, T[59]);\n\t            a = II(a, b, c, d, M_offset_4,  6,  T[60]);\n\t            d = II(d, a, b, c, M_offset_11, 10, T[61]);\n\t            c = II(c, d, a, b, M_offset_2,  15, T[62]);\n\t            b = II(b, c, d, a, M_offset_9,  21, T[63]);\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n\t            var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n\t            var nBitsTotalL = nBitsTotal;\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n\t                (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n\t            );\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n\t                (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n\t            );\n\n\t            data.sigBytes = (dataWords.length + 1) * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Shortcuts\n\t            var hash = this._hash;\n\t            var H = hash.words;\n\n\t            // Swap endian\n\t            for (var i = 0; i < 4; i++) {\n\t                // Shortcut\n\t                var H_i = H[i];\n\n\t                H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n\t                       (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n\t            }\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    function FF(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & c) | (~b & d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function GG(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & d) | (c & ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function HH(a, b, c, d, x, s, t) {\n\t        var n = a + (b ^ c ^ d) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function II(a, b, c, d, x, s, t) {\n\t        var n = a + (c ^ (b | ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.MD5('message');\n\t     *     var hash = CryptoJS.MD5(wordArray);\n\t     */\n\t    C.MD5 = Hasher._createHelper(MD5);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacMD5(message, key);\n\t     */\n\t    C.HmacMD5 = Hasher._createHmacHelper(MD5);\n\t}(Math));\n\n\n\treturn CryptoJS.MD5;\n\n}));", ";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-1 hash algorithm.\n\t     */\n\t    var SHA1 = C_algo.SHA1 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476,\n\t                0xc3d2e1f0\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\n\t            // Computation\n\t            for (var i = 0; i < 80; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var n = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n\t                    W[i] = (n << 1) | (n >>> 31);\n\t                }\n\n\t                var t = ((a << 5) | (a >>> 27)) + e + W[i];\n\t                if (i < 20) {\n\t                    t += ((b & c) | (~b & d)) + 0x5a827999;\n\t                } else if (i < 40) {\n\t                    t += (b ^ c ^ d) + 0x6ed9eba1;\n\t                } else if (i < 60) {\n\t                    t += ((b & c) | (b & d) | (c & d)) - 0x70e44324;\n\t                } else /* if (i < 80) */ {\n\t                    t += (b ^ c ^ d) - 0x359d3e2a;\n\t                }\n\n\t                e = d;\n\t                d = c;\n\t                c = (b << 30) | (b >>> 2);\n\t                b = a;\n\t                a = t;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA1('message');\n\t     *     var hash = CryptoJS.SHA1(wordArray);\n\t     */\n\t    C.SHA1 = Hasher._createHelper(SHA1);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA1(message, key);\n\t     */\n\t    C.HmacSHA1 = Hasher._createHmacHelper(SHA1);\n\t}());\n\n\n\treturn CryptoJS.SHA1;\n\n}));", ";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));", ";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha1\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha1\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_algo = C.algo;\n\t    var MD5 = C_algo.MD5;\n\n\t    /**\n\t     * This key derivation function is meant to conform with EVP_BytesToKey.\n\t     * www.openssl.org/docs/crypto/EVP_BytesToKey.html\n\t     */\n\t    var EvpKDF = C_algo.EvpKDF = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {number} keySize The key size in words to generate. Default: 4 (128 bits)\n\t         * @property {Hasher} hasher The hash algorithm to use. Default: MD5\n\t         * @property {number} iterations The number of iterations to perform. Default: 1\n\t         */\n\t        cfg: Base.extend({\n\t            keySize: 128/32,\n\t            hasher: MD5,\n\t            iterations: 1\n\t        }),\n\n\t        /**\n\t         * Initializes a newly created key derivation function.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for the derivation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create();\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8 });\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8, iterations: 1000 });\n\t         */\n\t        init: function (cfg) {\n\t            this.cfg = this.cfg.extend(cfg);\n\t        },\n\n\t        /**\n\t         * Derives a key from a password.\n\t         *\n\t         * @param {WordArray|string} password The password.\n\t         * @param {WordArray|string} salt A salt.\n\t         *\n\t         * @return {WordArray} The derived key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var key = kdf.compute(password, salt);\n\t         */\n\t        compute: function (password, salt) {\n\t            var block;\n\n\t            // Shortcut\n\t            var cfg = this.cfg;\n\n\t            // Init hasher\n\t            var hasher = cfg.hasher.create();\n\n\t            // Initial values\n\t            var derivedKey = WordArray.create();\n\n\t            // Shortcuts\n\t            var derivedKeyWords = derivedKey.words;\n\t            var keySize = cfg.keySize;\n\t            var iterations = cfg.iterations;\n\n\t            // Generate key\n\t            while (derivedKeyWords.length < keySize) {\n\t                if (block) {\n\t                    hasher.update(block);\n\t                }\n\t                block = hasher.update(password).finalize(salt);\n\t                hasher.reset();\n\n\t                // Iterations\n\t                for (var i = 1; i < iterations; i++) {\n\t                    block = hasher.finalize(block);\n\t                    hasher.reset();\n\t                }\n\n\t                derivedKey.concat(block);\n\t            }\n\t            derivedKey.sigBytes = keySize * 4;\n\n\t            return derivedKey;\n\t        }\n\t    });\n\n\t    /**\n\t     * Derives a key from a password.\n\t     *\n\t     * @param {WordArray|string} password The password.\n\t     * @param {WordArray|string} salt A salt.\n\t     * @param {Object} cfg (Optional) The configuration options to use for this computation.\n\t     *\n\t     * @return {WordArray} The derived key.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var key = CryptoJS.EvpKDF(password, salt);\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8 });\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8, iterations: 1000 });\n\t     */\n\t    C.EvpKDF = function (password, salt, cfg) {\n\t        return EvpKDF.create(cfg).compute(password, salt);\n\t    };\n\t}());\n\n\n\treturn CryptoJS.EvpKDF;\n\n}));", ";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./evpkdf\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./evpkdf\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t/**\n\t * Cipher core components.\n\t */\n\tCryptoJS.lib.Cipher || (function (undefined) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var Base64 = C_enc.Base64;\n\t    var C_algo = C.algo;\n\t    var EvpKDF = C_algo.EvpKDF;\n\n\t    /**\n\t     * Abstract base cipher template.\n\t     *\n\t     * @property {number} keySize This cipher's key size. Default: 4 (128 bits)\n\t     * @property {number} ivSize This cipher's IV size. Default: 4 (128 bits)\n\t     * @property {number} _ENC_XFORM_MODE A constant representing encryption mode.\n\t     * @property {number} _DEC_XFORM_MODE A constant representing decryption mode.\n\t     */\n\t    var Cipher = C_lib.Cipher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {WordArray} iv The IV to use for this operation.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Creates this cipher in encryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createEncryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createEncryptor: function (key, cfg) {\n\t            return this.create(this._ENC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Creates this cipher in decryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createDecryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createDecryptor: function (key, cfg) {\n\t            return this.create(this._DEC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created cipher.\n\t         *\n\t         * @param {number} xformMode Either the encryption or decryption transormation mode constant.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.create(CryptoJS.algo.AES._ENC_XFORM_MODE, keyWordArray, { iv: ivWordArray });\n\t         */\n\t        init: function (xformMode, key, cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Store transform mode and key\n\t            this._xformMode = xformMode;\n\t            this._key = key;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this cipher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     cipher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-cipher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Adds data to be encrypted or decrypted.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.process('data');\n\t         *     var encrypted = cipher.process(wordArray);\n\t         */\n\t        process: function (dataUpdate) {\n\t            // Append\n\t            this._append(dataUpdate);\n\n\t            // Process available blocks\n\t            return this._process();\n\t        },\n\n\t        /**\n\t         * Finalizes the encryption or decryption process.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The final data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after final processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.finalize();\n\t         *     var encrypted = cipher.finalize('data');\n\t         *     var encrypted = cipher.finalize(wordArray);\n\t         */\n\t        finalize: function (dataUpdate) {\n\t            // Final data update\n\t            if (dataUpdate) {\n\t                this._append(dataUpdate);\n\t            }\n\n\t            // Perform concrete-cipher logic\n\t            var finalProcessedData = this._doFinalize();\n\n\t            return finalProcessedData;\n\t        },\n\n\t        keySize: 128/32,\n\n\t        ivSize: 128/32,\n\n\t        _ENC_XFORM_MODE: 1,\n\n\t        _DEC_XFORM_MODE: 2,\n\n\t        /**\n\t         * Creates shortcut functions to a cipher's object interface.\n\t         *\n\t         * @param {Cipher} cipher The cipher to create a helper for.\n\t         *\n\t         * @return {Object} An object with encrypt and decrypt shortcut functions.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var AES = CryptoJS.lib.Cipher._createHelper(CryptoJS.algo.AES);\n\t         */\n\t        _createHelper: (function () {\n\t            function selectCipherStrategy(key) {\n\t                if (typeof key == 'string') {\n\t                    return PasswordBasedCipher;\n\t                } else {\n\t                    return SerializableCipher;\n\t                }\n\t            }\n\n\t            return function (cipher) {\n\t                return {\n\t                    encrypt: function (message, key, cfg) {\n\t                        return selectCipherStrategy(key).encrypt(cipher, message, key, cfg);\n\t                    },\n\n\t                    decrypt: function (ciphertext, key, cfg) {\n\t                        return selectCipherStrategy(key).decrypt(cipher, ciphertext, key, cfg);\n\t                    }\n\t                };\n\t            };\n\t        }())\n\t    });\n\n\t    /**\n\t     * Abstract base stream cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 1 (32 bits)\n\t     */\n\t    var StreamCipher = C_lib.StreamCipher = Cipher.extend({\n\t        _doFinalize: function () {\n\t            // Process partial blocks\n\t            var finalProcessedBlocks = this._process(!!'flush');\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 1\n\t    });\n\n\t    /**\n\t     * Mode namespace.\n\t     */\n\t    var C_mode = C.mode = {};\n\n\t    /**\n\t     * Abstract base block cipher mode template.\n\t     */\n\t    var BlockCipherMode = C_lib.BlockCipherMode = Base.extend({\n\t        /**\n\t         * Creates this mode for encryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createEncryptor(cipher, iv.words);\n\t         */\n\t        createEncryptor: function (cipher, iv) {\n\t            return this.Encryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Creates this mode for decryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createDecryptor(cipher, iv.words);\n\t         */\n\t        createDecryptor: function (cipher, iv) {\n\t            return this.Decryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created mode.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.Encryptor.create(cipher, iv.words);\n\t         */\n\t        init: function (cipher, iv) {\n\t            this._cipher = cipher;\n\t            this._iv = iv;\n\t        }\n\t    });\n\n\t    /**\n\t     * Cipher Block Chaining mode.\n\t     */\n\t    var CBC = C_mode.CBC = (function () {\n\t        /**\n\t         * Abstract base CBC mode.\n\t         */\n\t        var CBC = BlockCipherMode.extend();\n\n\t        /**\n\t         * CBC encryptor.\n\t         */\n\t        CBC.Encryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // XOR and encrypt\n\t                xorBlock.call(this, words, offset, blockSize);\n\t                cipher.encryptBlock(words, offset);\n\n\t                // Remember this block to use with next block\n\t                this._prevBlock = words.slice(offset, offset + blockSize);\n\t            }\n\t        });\n\n\t        /**\n\t         * CBC decryptor.\n\t         */\n\t        CBC.Decryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // Remember this block to use with next block\n\t                var thisBlock = words.slice(offset, offset + blockSize);\n\n\t                // Decrypt and XOR\n\t                cipher.decryptBlock(words, offset);\n\t                xorBlock.call(this, words, offset, blockSize);\n\n\t                // This block becomes the previous block\n\t                this._prevBlock = thisBlock;\n\t            }\n\t        });\n\n\t        function xorBlock(words, offset, blockSize) {\n\t            var block;\n\n\t            // Shortcut\n\t            var iv = this._iv;\n\n\t            // Choose mixing block\n\t            if (iv) {\n\t                block = iv;\n\n\t                // Remove IV for subsequent blocks\n\t                this._iv = undefined;\n\t            } else {\n\t                block = this._prevBlock;\n\t            }\n\n\t            // XOR blocks\n\t            for (var i = 0; i < blockSize; i++) {\n\t                words[offset + i] ^= block[i];\n\t            }\n\t        }\n\n\t        return CBC;\n\t    }());\n\n\t    /**\n\t     * Padding namespace.\n\t     */\n\t    var C_pad = C.pad = {};\n\n\t    /**\n\t     * PKCS #5/7 padding strategy.\n\t     */\n\t    var Pkcs7 = C_pad.Pkcs7 = {\n\t        /**\n\t         * Pads data using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to pad.\n\t         * @param {number} blockSize The multiple that the data should be padded to.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.pad(wordArray, 4);\n\t         */\n\t        pad: function (data, blockSize) {\n\t            // Shortcut\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count padding bytes\n\t            var nPaddingBytes = blockSizeBytes - data.sigBytes % blockSizeBytes;\n\n\t            // Create padding word\n\t            var paddingWord = (nPaddingBytes << 24) | (nPaddingBytes << 16) | (nPaddingBytes << 8) | nPaddingBytes;\n\n\t            // Create padding\n\t            var paddingWords = [];\n\t            for (var i = 0; i < nPaddingBytes; i += 4) {\n\t                paddingWords.push(paddingWord);\n\t            }\n\t            var padding = WordArray.create(paddingWords, nPaddingBytes);\n\n\t            // Add padding\n\t            data.concat(padding);\n\t        },\n\n\t        /**\n\t         * Unpads data that had been padded using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to unpad.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.unpad(wordArray);\n\t         */\n\t        unpad: function (data) {\n\t            // Get number of padding bytes from last byte\n\t            var nPaddingBytes = data.words[(data.sigBytes - 1) >>> 2] & 0xff;\n\n\t            // Remove padding\n\t            data.sigBytes -= nPaddingBytes;\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract base block cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 4 (128 bits)\n\t     */\n\t    var BlockCipher = C_lib.BlockCipher = Cipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Mode} mode The block mode to use. Default: CBC\n\t         * @property {Padding} padding The padding strategy to use. Default: Pkcs7\n\t         */\n\t        cfg: Cipher.cfg.extend({\n\t            mode: CBC,\n\t            padding: Pkcs7\n\t        }),\n\n\t        reset: function () {\n\t            var modeCreator;\n\n\t            // Reset cipher\n\t            Cipher.reset.call(this);\n\n\t            // Shortcuts\n\t            var cfg = this.cfg;\n\t            var iv = cfg.iv;\n\t            var mode = cfg.mode;\n\n\t            // Reset block mode\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                modeCreator = mode.createEncryptor;\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                modeCreator = mode.createDecryptor;\n\t                // Keep at least one block in the buffer for unpadding\n\t                this._minBufferSize = 1;\n\t            }\n\n\t            if (this._mode && this._mode.__creator == modeCreator) {\n\t                this._mode.init(this, iv && iv.words);\n\t            } else {\n\t                this._mode = modeCreator.call(mode, this, iv && iv.words);\n\t                this._mode.__creator = modeCreator;\n\t            }\n\t        },\n\n\t        _doProcessBlock: function (words, offset) {\n\t            this._mode.processBlock(words, offset);\n\t        },\n\n\t        _doFinalize: function () {\n\t            var finalProcessedBlocks;\n\n\t            // Shortcut\n\t            var padding = this.cfg.padding;\n\n\t            // Finalize\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                // Pad data\n\t                padding.pad(this._data, this.blockSize);\n\n\t                // Process final blocks\n\t                finalProcessedBlocks = this._process(!!'flush');\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                // Process final blocks\n\t                finalProcessedBlocks = this._process(!!'flush');\n\n\t                // Unpad data\n\t                padding.unpad(finalProcessedBlocks);\n\t            }\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 128/32\n\t    });\n\n\t    /**\n\t     * A collection of cipher parameters.\n\t     *\n\t     * @property {WordArray} ciphertext The raw ciphertext.\n\t     * @property {WordArray} key The key to this ciphertext.\n\t     * @property {WordArray} iv The IV used in the ciphering operation.\n\t     * @property {WordArray} salt The salt used with a key derivation function.\n\t     * @property {Cipher} algorithm The cipher algorithm.\n\t     * @property {Mode} mode The block mode used in the ciphering operation.\n\t     * @property {Padding} padding The padding scheme used in the ciphering operation.\n\t     * @property {number} blockSize The block size of the cipher.\n\t     * @property {Format} formatter The default formatting strategy to convert this cipher params object to a string.\n\t     */\n\t    var CipherParams = C_lib.CipherParams = Base.extend({\n\t        /**\n\t         * Initializes a newly created cipher params object.\n\t         *\n\t         * @param {Object} cipherParams An object with any of the possible cipher parameters.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.lib.CipherParams.create({\n\t         *         ciphertext: ciphertextWordArray,\n\t         *         key: keyWordArray,\n\t         *         iv: ivWordArray,\n\t         *         salt: saltWordArray,\n\t         *         algorithm: CryptoJS.algo.AES,\n\t         *         mode: CryptoJS.mode.CBC,\n\t         *         padding: CryptoJS.pad.PKCS7,\n\t         *         blockSize: 4,\n\t         *         formatter: CryptoJS.format.OpenSSL\n\t         *     });\n\t         */\n\t        init: function (cipherParams) {\n\t            this.mixIn(cipherParams);\n\t        },\n\n\t        /**\n\t         * Converts this cipher params object to a string.\n\t         *\n\t         * @param {Format} formatter (Optional) The formatting strategy to use.\n\t         *\n\t         * @return {string} The stringified cipher params.\n\t         *\n\t         * @throws Error If neither the formatter nor the default formatter is set.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = cipherParams + '';\n\t         *     var string = cipherParams.toString();\n\t         *     var string = cipherParams.toString(CryptoJS.format.OpenSSL);\n\t         */\n\t        toString: function (formatter) {\n\t            return (formatter || this.formatter).stringify(this);\n\t        }\n\t    });\n\n\t    /**\n\t     * Format namespace.\n\t     */\n\t    var C_format = C.format = {};\n\n\t    /**\n\t     * OpenSSL formatting strategy.\n\t     */\n\t    var OpenSSLFormatter = C_format.OpenSSL = {\n\t        /**\n\t         * Converts a cipher params object to an OpenSSL-compatible string.\n\t         *\n\t         * @param {CipherParams} cipherParams The cipher params object.\n\t         *\n\t         * @return {string} The OpenSSL-compatible string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var openSSLString = CryptoJS.format.OpenSSL.stringify(cipherParams);\n\t         */\n\t        stringify: function (cipherParams) {\n\t            var wordArray;\n\n\t            // Shortcuts\n\t            var ciphertext = cipherParams.ciphertext;\n\t            var salt = cipherParams.salt;\n\n\t            // Format\n\t            if (salt) {\n\t                wordArray = WordArray.create([0x53616c74, 0x65645f5f]).concat(salt).concat(ciphertext);\n\t            } else {\n\t                wordArray = ciphertext;\n\t            }\n\n\t            return wordArray.toString(Base64);\n\t        },\n\n\t        /**\n\t         * Converts an OpenSSL-compatible string to a cipher params object.\n\t         *\n\t         * @param {string} openSSLStr The OpenSSL-compatible string.\n\t         *\n\t         * @return {CipherParams} The cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.format.OpenSSL.parse(openSSLString);\n\t         */\n\t        parse: function (openSSLStr) {\n\t            var salt;\n\n\t            // Parse base64\n\t            var ciphertext = Base64.parse(openSSLStr);\n\n\t            // Shortcut\n\t            var ciphertextWords = ciphertext.words;\n\n\t            // Test for salt\n\t            if (ciphertextWords[0] == 0x53616c74 && ciphertextWords[1] == 0x65645f5f) {\n\t                // Extract salt\n\t                salt = WordArray.create(ciphertextWords.slice(2, 4));\n\n\t                // Remove salt from ciphertext\n\t                ciphertextWords.splice(0, 4);\n\t                ciphertext.sigBytes -= 16;\n\t            }\n\n\t            return CipherParams.create({ ciphertext: ciphertext, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A cipher wrapper that returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var SerializableCipher = C_lib.SerializableCipher = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Formatter} format The formatting strategy to convert cipher param objects to and from a string. Default: OpenSSL\n\t         */\n\t        cfg: Base.extend({\n\t            format: OpenSSLFormatter\n\t        }),\n\n\t        /**\n\t         * Encrypts a message.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key);\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv });\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Encrypt\n\t            var encryptor = cipher.createEncryptor(key, cfg);\n\t            var ciphertext = encryptor.finalize(message);\n\n\t            // Shortcut\n\t            var cipherCfg = encryptor.cfg;\n\n\t            // Create and return serializable cipher params\n\t            return CipherParams.create({\n\t                ciphertext: ciphertext,\n\t                key: key,\n\t                iv: cipherCfg.iv,\n\t                algorithm: cipher,\n\t                mode: cipherCfg.mode,\n\t                padding: cipherCfg.padding,\n\t                blockSize: cipher.blockSize,\n\t                formatter: cfg.format\n\t            });\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Decrypt\n\t            var plaintext = cipher.createDecryptor(key, cfg).finalize(ciphertext.ciphertext);\n\n\t            return plaintext;\n\t        },\n\n\t        /**\n\t         * Converts serialized ciphertext to CipherParams,\n\t         * else assumed CipherParams already and returns ciphertext unchanged.\n\t         *\n\t         * @param {CipherParams|string} ciphertext The ciphertext.\n\t         * @param {Formatter} format The formatting strategy to use to parse serialized ciphertext.\n\t         *\n\t         * @return {CipherParams} The unserialized ciphertext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher._parse(ciphertextStringOrParams, format);\n\t         */\n\t        _parse: function (ciphertext, format) {\n\t            if (typeof ciphertext == 'string') {\n\t                return format.parse(ciphertext, this);\n\t            } else {\n\t                return ciphertext;\n\t            }\n\t        }\n\t    });\n\n\t    /**\n\t     * Key derivation function namespace.\n\t     */\n\t    var C_kdf = C.kdf = {};\n\n\t    /**\n\t     * OpenSSL key derivation function.\n\t     */\n\t    var OpenSSLKdf = C_kdf.OpenSSL = {\n\t        /**\n\t         * Derives a key and IV from a password.\n\t         *\n\t         * @param {string} password The password to derive from.\n\t         * @param {number} keySize The size in words of the key to generate.\n\t         * @param {number} ivSize The size in words of the IV to generate.\n\t         * @param {WordArray|string} salt (Optional) A 64-bit salt to use. If omitted, a salt will be generated randomly.\n\t         *\n\t         * @return {CipherParams} A cipher params object with the key, IV, and salt.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32);\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32, 'saltsalt');\n\t         */\n\t        execute: function (password, keySize, ivSize, salt, hasher) {\n\t            // Generate random salt\n\t            if (!salt) {\n\t                salt = WordArray.random(64/8);\n\t            }\n\n\t            // Derive key and IV\n\t            if (!hasher) {\n\t                var key = EvpKDF.create({ keySize: keySize + ivSize }).compute(password, salt);\n\t            } else {\n\t                var key = EvpKDF.create({ keySize: keySize + ivSize, hasher: hasher }).compute(password, salt);\n\t            }\n\n\n\t            // Separate key and IV\n\t            var iv = WordArray.create(key.words.slice(keySize), ivSize * 4);\n\t            key.sigBytes = keySize * 4;\n\n\t            // Return params\n\t            return CipherParams.create({ key: key, iv: iv, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A serializable cipher wrapper that derives the key from a password,\n\t     * and returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var PasswordBasedCipher = C_lib.PasswordBasedCipher = SerializableCipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {KDF} kdf The key derivation function to use to generate a key and IV from a password. Default: OpenSSL\n\t         */\n\t        cfg: SerializableCipher.cfg.extend({\n\t            kdf: OpenSSLKdf\n\t        }),\n\n\t        /**\n\t         * Encrypts a message using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password');\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize, cfg.salt, cfg.hasher);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Encrypt\n\t            var ciphertext = SerializableCipher.encrypt.call(this, cipher, message, derivedParams.key, cfg);\n\n\t            // Mix in derived params\n\t            ciphertext.mixIn(derivedParams);\n\n\t            return ciphertext;\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, 'password', { format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize, ciphertext.salt, cfg.hasher);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Decrypt\n\t            var plaintext = SerializableCipher.decrypt.call(this, cipher, ciphertext, derivedParams.key, cfg);\n\n\t            return plaintext;\n\t        }\n\t    });\n\t}());\n\n\n}));", ";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./enc-base64\"), require(\"./md5\"), require(\"./evpkdf\"), require(\"./cipher-core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./enc-base64\", \"./md5\", \"./evpkdf\", \"./cipher-core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var BlockCipher = C_lib.BlockCipher;\n\t    var C_algo = C.algo;\n\n\t    // Lookup tables\n\t    var SBOX = [];\n\t    var INV_SBOX = [];\n\t    var SUB_MIX_0 = [];\n\t    var SUB_MIX_1 = [];\n\t    var SUB_MIX_2 = [];\n\t    var SUB_MIX_3 = [];\n\t    var INV_SUB_MIX_0 = [];\n\t    var INV_SUB_MIX_1 = [];\n\t    var INV_SUB_MIX_2 = [];\n\t    var INV_SUB_MIX_3 = [];\n\n\t    // Compute lookup tables\n\t    (function () {\n\t        // Compute double table\n\t        var d = [];\n\t        for (var i = 0; i < 256; i++) {\n\t            if (i < 128) {\n\t                d[i] = i << 1;\n\t            } else {\n\t                d[i] = (i << 1) ^ 0x11b;\n\t            }\n\t        }\n\n\t        // Walk GF(2^8)\n\t        var x = 0;\n\t        var xi = 0;\n\t        for (var i = 0; i < 256; i++) {\n\t            // Compute sbox\n\t            var sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4);\n\t            sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63;\n\t            SBOX[x] = sx;\n\t            INV_SBOX[sx] = x;\n\n\t            // Compute multiplication\n\t            var x2 = d[x];\n\t            var x4 = d[x2];\n\t            var x8 = d[x4];\n\n\t            // Compute sub bytes, mix columns tables\n\t            var t = (d[sx] * 0x101) ^ (sx * 0x1010100);\n\t            SUB_MIX_0[x] = (t << 24) | (t >>> 8);\n\t            SUB_MIX_1[x] = (t << 16) | (t >>> 16);\n\t            SUB_MIX_2[x] = (t << 8)  | (t >>> 24);\n\t            SUB_MIX_3[x] = t;\n\n\t            // Compute inv sub bytes, inv mix columns tables\n\t            var t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);\n\t            INV_SUB_MIX_0[sx] = (t << 24) | (t >>> 8);\n\t            INV_SUB_MIX_1[sx] = (t << 16) | (t >>> 16);\n\t            INV_SUB_MIX_2[sx] = (t << 8)  | (t >>> 24);\n\t            INV_SUB_MIX_3[sx] = t;\n\n\t            // Compute next counter\n\t            if (!x) {\n\t                x = xi = 1;\n\t            } else {\n\t                x = x2 ^ d[d[d[x8 ^ x2]]];\n\t                xi ^= d[d[xi]];\n\t            }\n\t        }\n\t    }());\n\n\t    // Precomputed Rcon lookup\n\t    var RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];\n\n\t    /**\n\t     * AES block cipher algorithm.\n\t     */\n\t    var AES = C_algo.AES = BlockCipher.extend({\n\t        _doReset: function () {\n\t            var t;\n\n\t            // Skip reset of nRounds has been set before and key did not change\n\t            if (this._nRounds && this._keyPriorReset === this._key) {\n\t                return;\n\t            }\n\n\t            // Shortcuts\n\t            var key = this._keyPriorReset = this._key;\n\t            var keyWords = key.words;\n\t            var keySize = key.sigBytes / 4;\n\n\t            // Compute number of rounds\n\t            var nRounds = this._nRounds = keySize + 6;\n\n\t            // Compute number of key schedule rows\n\t            var ksRows = (nRounds + 1) * 4;\n\n\t            // Compute key schedule\n\t            var keySchedule = this._keySchedule = [];\n\t            for (var ksRow = 0; ksRow < ksRows; ksRow++) {\n\t                if (ksRow < keySize) {\n\t                    keySchedule[ksRow] = keyWords[ksRow];\n\t                } else {\n\t                    t = keySchedule[ksRow - 1];\n\n\t                    if (!(ksRow % keySize)) {\n\t                        // Rot word\n\t                        t = (t << 8) | (t >>> 24);\n\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\n\t                        // Mix Rcon\n\t                        t ^= RCON[(ksRow / keySize) | 0] << 24;\n\t                    } else if (keySize > 6 && ksRow % keySize == 4) {\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\t                    }\n\n\t                    keySchedule[ksRow] = keySchedule[ksRow - keySize] ^ t;\n\t                }\n\t            }\n\n\t            // Compute inv key schedule\n\t            var invKeySchedule = this._invKeySchedule = [];\n\t            for (var invKsRow = 0; invKsRow < ksRows; invKsRow++) {\n\t                var ksRow = ksRows - invKsRow;\n\n\t                if (invKsRow % 4) {\n\t                    var t = keySchedule[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 4];\n\t                }\n\n\t                if (invKsRow < 4 || ksRow <= 4) {\n\t                    invKeySchedule[invKsRow] = t;\n\t                } else {\n\t                    invKeySchedule[invKsRow] = INV_SUB_MIX_0[SBOX[t >>> 24]] ^ INV_SUB_MIX_1[SBOX[(t >>> 16) & 0xff]] ^\n\t                                               INV_SUB_MIX_2[SBOX[(t >>> 8) & 0xff]] ^ INV_SUB_MIX_3[SBOX[t & 0xff]];\n\t                }\n\t            }\n\t        },\n\n\t        encryptBlock: function (M, offset) {\n\t            this._doCryptBlock(M, offset, this._keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX);\n\t        },\n\n\t        decryptBlock: function (M, offset) {\n\t            // Swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\n\t            this._doCryptBlock(M, offset, this._invKeySchedule, INV_SUB_MIX_0, INV_SUB_MIX_1, INV_SUB_MIX_2, INV_SUB_MIX_3, INV_SBOX);\n\n\t            // Inv swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\t        },\n\n\t        _doCryptBlock: function (M, offset, keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX) {\n\t            // Shortcut\n\t            var nRounds = this._nRounds;\n\n\t            // Get input, add round key\n\t            var s0 = M[offset]     ^ keySchedule[0];\n\t            var s1 = M[offset + 1] ^ keySchedule[1];\n\t            var s2 = M[offset + 2] ^ keySchedule[2];\n\t            var s3 = M[offset + 3] ^ keySchedule[3];\n\n\t            // Key schedule row counter\n\t            var ksRow = 4;\n\n\t            // Rounds\n\t            for (var round = 1; round < nRounds; round++) {\n\t                // Shift rows, sub bytes, mix columns, add round key\n\t                var t0 = SUB_MIX_0[s0 >>> 24] ^ SUB_MIX_1[(s1 >>> 16) & 0xff] ^ SUB_MIX_2[(s2 >>> 8) & 0xff] ^ SUB_MIX_3[s3 & 0xff] ^ keySchedule[ksRow++];\n\t                var t1 = SUB_MIX_0[s1 >>> 24] ^ SUB_MIX_1[(s2 >>> 16) & 0xff] ^ SUB_MIX_2[(s3 >>> 8) & 0xff] ^ SUB_MIX_3[s0 & 0xff] ^ keySchedule[ksRow++];\n\t                var t2 = SUB_MIX_0[s2 >>> 24] ^ SUB_MIX_1[(s3 >>> 16) & 0xff] ^ SUB_MIX_2[(s0 >>> 8) & 0xff] ^ SUB_MIX_3[s1 & 0xff] ^ keySchedule[ksRow++];\n\t                var t3 = SUB_MIX_0[s3 >>> 24] ^ SUB_MIX_1[(s0 >>> 16) & 0xff] ^ SUB_MIX_2[(s1 >>> 8) & 0xff] ^ SUB_MIX_3[s2 & 0xff] ^ keySchedule[ksRow++];\n\n\t                // Update state\n\t                s0 = t0;\n\t                s1 = t1;\n\t                s2 = t2;\n\t                s3 = t3;\n\t            }\n\n\t            // Shift rows, sub bytes, add round key\n\t            var t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++];\n\n\t            // Set output\n\t            M[offset]     = t0;\n\t            M[offset + 1] = t1;\n\t            M[offset + 2] = t2;\n\t            M[offset + 3] = t3;\n\t        },\n\n\t        keySize: 256/32\n\t    });\n\n\t    /**\n\t     * Shortcut functions to the cipher's object interface.\n\t     *\n\t     * @example\n\t     *\n\t     *     var ciphertext = CryptoJS.AES.encrypt(message, key, cfg);\n\t     *     var plaintext  = CryptoJS.AES.decrypt(ciphertext, key, cfg);\n\t     */\n\t    C.AES = BlockCipher._createHelper(AES);\n\t}());\n\n\n\treturn CryptoJS.AES;\n\n}));", "/**\n * @license\n * Copyright 2015 D\u00E1niel Sipos (siposdani87@gmail.com),\n * SUI-JS\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n * either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * @module\n * A component handler interface using the revealing module design pattern.\n * More details on this design pattern here\n *\n * @author D\u00E1niel Sipos\n */\n\nexport * from './common';\nexport * from './component';\nexport * from './core';\nexport * from './field';\nexport * from './module';\nexport * from './utils';\n", "/**\n * Base controller class with `enter()` and `exit()` lifecycle hooks.\n *\n * @description Controllers manage page-level logic and are instantiated by\n * the {@link Application} router. Override `enter()` to set up the page\n * and `exit()` to tear down resources when navigating away.\n *\n * @example\n * class HomeController extends Controller {\n *     enter(): void {\n *         // Set up home page\n *     }\n *     exit(): void {\n *         // Clean up resources\n *     }\n * }\n *\n * @see {@link Application}\n * @see {@link Module}\n * @category Common\n */\nexport class Controller {\n    /**\n     * Called when the controller becomes active. Override to initialize page logic.\n     */\n    enter(): void {\n        //empty method\n    }\n\n    /**\n     * Called when the controller is deactivated. Override to clean up resources.\n     */\n    exit(): void {\n        // empty method\n    }\n}\n", "/**\n * Global release mode flag controlling debug behavior.\n *\n * @category Common\n */\nexport let releaseMode = true;\n\n/**\n * Sets the global release mode flag.\n *\n * @param {boolean} mode Whether release mode is enabled.\n * @category Common\n */\nexport const setReleaseMode = (mode: boolean): void => {\n    releaseMode = mode;\n};\n\n/**\n * Mapping of core dependency injection resource names used by {@link Application}.\n *\n * @category Common\n */\nexport const coreResources = {\n    app: 'app',\n    config: 'config',\n    eventBus: 'eventBus',\n    scheduler: 'scheduler',\n    http: 'http',\n    flash: 'flash',\n    template: 'template',\n    dialog: 'dialog',\n    confirm: 'confirm',\n    viewer: 'viewer',\n    header: 'header',\n    topMenu: 'topMenu',\n    leftMenu: 'leftMenu',\n    footer: 'footer',\n    bottomMenu: 'bottomMenu',\n    navBar: 'navBar',\n    script: 'script',\n    style: 'style',\n    state: 'state',\n    dom: 'dom',\n    page: 'page',\n    screen: 'screen',\n    helper: 'helper',\n    cookie: 'cookie',\n    localDepot: 'localDepot',\n    sessionDepot: 'sessionDepot',\n    browser: 'browser',\n    loader: 'loader',\n    progressBar: 'progressBar',\n    geoLocation: 'geoLocation',\n    instances: 'instances',\n    console: 'console',\n};\n", "/**\n * Base service class with an `enter()` lifecycle hook.\n *\n * @description Services provide shared business logic and are managed by\n * the {@link Application} dependency injection container. Override `enter()`\n * to initialize the service when it is first activated.\n *\n * @example\n * class AuthService extends Service {\n *     enter(): void {\n *         // Initialize authentication state\n *     }\n * }\n *\n * @see {@link Application}\n * @see {@link Module}\n * @category Common\n */\nexport class Service {\n    /**\n     * Called when the service is activated. Override to perform initialization.\n     */\n    enter(): void {\n        //empty method\n    }\n}\n", "import { Objekt } from '../core';\n\n/**\n * Casts string representations to their native JavaScript types.\n *\n * Converts common string literals such as `'true'`, `'false'`, `'null'`,\n * `'undefined'`, `'infinity'`, and numeric strings into their corresponding\n * native types. Non-string values and multi-word strings (containing spaces)\n * pass through unchanged.\n *\n * @param {any} value The value to cast. Only single-word strings are processed.\n * @returns {any} The cast native value, or the original value if no conversion applies.\n * @example\n * typeCast('true');       // true\n * typeCast('null');       // null\n * typeCast('123');        // 123\n * typeCast('hello world'); // 'hello world' (unchanged, contains space)\n * typeCast(42);           // 42 (unchanged, not a string)\n * @category Utility\n */\nexport const typeCast = (value: any): any => {\n    let result = value;\n    if (isString(value) && !contain(value, ' ')) {\n        const lowerCaseValue = value.toLowerCase();\n        if (eq(lowerCaseValue, '')) {\n            result = '';\n        } else if (eq(lowerCaseValue, 'undefined')) {\n            result = undefined;\n        } else if (eq(lowerCaseValue, 'null')) {\n            result = null;\n        } else if (eq(lowerCaseValue, 'true')) {\n            result = true;\n        } else if (eq(lowerCaseValue, 'false')) {\n            result = false;\n        } else if (eq(lowerCaseValue, 'infinity')) {\n            result = Infinity;\n        } else if (isNumber(lowerCaseValue)) {\n            result = Number(lowerCaseValue);\n        }\n    }\n    return result;\n};\n\n/**\n * Recursively merges two plain objects, returning a new deep-copied object.\n *\n * Properties from `objB` are merged into a deep copy of `objA`. When both\n * sides have a plain object for the same key, the merge recurses. Otherwise,\n * the value from `objB` overwrites the one from `objA`.\n *\n * @param {Record<string, any>} objA The base object to merge into.\n * @param {Record<string, any>} objB The object whose properties take precedence.\n * @returns {object | undefined} A new merged object combining both inputs.\n * @example\n * merge({ a: 1, b: { c: 2 } }, { b: { d: 3 }, e: 4 });\n * // { a: 1, b: { c: 2, d: 3 }, e: 4 }\n * @category Utility\n */\nexport const merge = (\n    objA: Record<string, any>,\n    objB: Record<string, any>,\n): object | undefined => {\n    const obj = copyObject(objA) as Record<string, any>;\n    for (const key in objB) {\n        if (objB.hasOwnProperty(key)) {\n            if (isPureObject(objB[key].constructor)) {\n                obj[key] = merge(obj[key], objB[key]);\n            } else {\n                obj[key] = objB[key];\n            }\n        }\n    }\n    return obj;\n};\n\n/**\n * Template string formatter that replaces token placeholders with values.\n *\n * Replaces `{key}` tokens in the input string with corresponding values from\n * the params object or array. The delimiter characters around keys are\n * configurable via `opt_prefix` and `opt_postfix` (regex patterns).\n *\n * @param {string} str The template string containing `{key}` placeholders.\n * @param {object | Array<T> | null | undefined} opt_params An object or array\n *     providing replacement values. Object keys or array indices serve as token names.\n * @param {string | undefined} opt_prefix Regex pattern for the opening delimiter.\n *     Defaults to `'\\\\{'`.\n * @param {string | undefined} opt_postfix Regex pattern for the closing delimiter.\n *     Defaults to `'\\\\}'`.\n * @returns {string} The formatted string with all matched tokens replaced.\n * @example\n * format('Hello {name}!', { name: 'World' });\n * // 'Hello World!'\n *\n * format('{0} + {1} = {2}', [1, 2, 3]);\n * // '1 + 2 = 3'\n *\n * format('Hello <name>', { name: 'World' }, '<', '>');\n * // 'Hello World'\n * @category Utility\n */\nexport const format = <T>(\n    str: string,\n    opt_params: object | Array<T> | null | undefined = null,\n    opt_prefix: string | undefined = '\\\\{',\n    opt_postfix: string | undefined = '\\\\}',\n): string => {\n    each(opt_params as object | Array<T>, (value, key) => {\n        const regex = new RegExp(opt_prefix + key + opt_postfix, 'gm');\n        str = str.replace(regex, value as string);\n    });\n    return str;\n};\n\n/**\n * Returns a function that always returns the given value (or `undefined`).\n *\n * Useful as a default callback or placeholder function when a callable is\n * required but no meaningful operation is needed.\n *\n * @param {T} [opt_result] The value the returned function will produce.\n * @returns {() => T | undefined} A no-operation function that returns `opt_result`.\n * @example\n * const fn = noop();\n * fn(); // undefined\n *\n * const fn42 = noop(42);\n * fn42(); // 42\n * @category Utility\n */\nexport const noop =\n    <T>(opt_result?: T): (() => T | undefined) =>\n    () => {\n        return opt_result;\n    };\n\n/**\n * Checks strict equality between two values.\n *\n * @param {unknown} a The first value.\n * @param {unknown} b The second value.\n * @returns {boolean} `true` if `a === b`.\n * @category Utility\n */\nexport const eq = (a: unknown, b: unknown): boolean => a === b;\n\n/**\n * Checks strict inequality between two values.\n *\n * @param {unknown} a The first value.\n * @param {unknown} b The second value.\n * @returns {boolean} `true` if `a !== b`.\n * @category Utility\n */\nexport const neq = (a: unknown, b: unknown): boolean => a !== b;\n\n/**\n * Checks if the first value is numerically greater than the second.\n *\n * @param {unknown} a The first value (treated as a number).\n * @param {unknown} b The second value (treated as a number).\n * @returns {boolean} `true` if `a > b`.\n * @category Utility\n */\nexport const gt = (a: unknown, b: unknown): boolean =>\n    (a as number) > (b as number);\n\n/**\n * Checks if the first value is numerically greater than or equal to the second.\n *\n * @param {unknown} a The first value (treated as a number).\n * @param {unknown} b The second value (treated as a number).\n * @returns {boolean} `true` if `a >= b`.\n * @category Utility\n */\nexport const gte = (a: unknown, b: unknown): boolean =>\n    (a as number) >= (b as number);\n\n/**\n * Checks if the first value is numerically less than the second.\n *\n * @param {unknown} a The first value (treated as a number).\n * @param {unknown} b The second value (treated as a number).\n * @returns {boolean} `true` if `a < b`.\n * @category Utility\n */\nexport const lt = (a: unknown, b: unknown): boolean =>\n    (a as number) < (b as number);\n\n/**\n * Checks if the first value is numerically less than or equal to the second.\n *\n * @param {unknown} a The first value (treated as a number).\n * @param {unknown} b The second value (treated as a number).\n * @returns {boolean} `true` if `a <= b`.\n * @category Utility\n */\nexport const lte = (a: unknown, b: unknown): boolean =>\n    (a as number) <= (b as number);\n\n/**\n * Type guard that checks whether a value is an array.\n *\n * Delegates to `Array.isArray` and narrows the type to `Array<T>`.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if the value is an array.\n * @category Utility\n */\nexport const isArray = <T>(value: any): value is Array<T> =>\n    Array.isArray(value);\n\n/**\n * Type guard that checks whether a value is a function.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if `typeof value === 'function'`.\n * @category Utility\n */\nexport const isFunction = (value: any): value is Function =>\n    is(value, 'function');\n\n/**\n * Type guard that checks whether a value is a string.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if `typeof value === 'string'`.\n * @category Utility\n */\nexport const isString = (value: any): value is string => is(value, 'string');\n\n/**\n * Type guard that checks whether a value can be safely cast to a finite number.\n *\n * Returns `true` for numeric strings and numbers that represent finite values.\n * Excludes empty strings, `null`, values starting with `'0'` (except `'0'` itself)\n * or `'+'`, `Infinity`, and `NaN`.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if the value represents a valid finite number.\n * @example\n * isNumber(42);      // true\n * isNumber('3.14');   // true\n * isNumber('');       // false\n * isNumber('007');    // false (leading zero)\n * isNumber(Infinity); // false\n * @category Utility\n */\nexport const isNumber = (value: any): value is number =>\n    value !== null &&\n    value !== '' &&\n    !isNaN(value) &&\n    (!inArray(['0', '+'], value?.[0]) || value === '0') &&\n    Number(value).toString() !== 'NaN' &&\n    Number(value).toString() !== 'Infinity';\n\n/**\n * Type guard that checks whether a value is a floating-point number.\n *\n * Returns `true` when `parseFloat(value)` produces the same value,\n * indicating the value is already a parsed float.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if `parseFloat(value) === value`.\n * @category Utility\n */\nexport const isFloat = (value: any): value is number =>\n    parseFloat(value) === value;\n\n/**\n * Type guard that checks whether a value is an integer.\n *\n * Returns `true` when `parseInt(value, 10)` produces the same value,\n * indicating the value is already a parsed integer.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if `parseInt(value, 10) === value`.\n * @category Utility\n */\nexport const isInteger = (value: any): value is number =>\n    parseInt(value, 10) === value;\n\n/**\n * Type guard that checks whether a value has `typeof 'object'`.\n *\n * Note: this returns `true` for arrays, `Date` instances, and `null`.\n * Use {@link isPureObject} to check for plain objects only.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if `typeof value === 'object'`.\n * @category Utility\n */\nexport const isObject = (value: any): value is object => is(value, 'object');\n\n/**\n * Type guard that checks whether a value is a plain JavaScript object.\n *\n * Unlike {@link isObject}, this excludes `null`, `Date` instances, and arrays,\n * returning `true` only for plain object literals and `Object.create` results.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if the value is a plain object.\n * @example\n * isPureObject({ a: 1 }); // true\n * isPureObject([1, 2]);   // false\n * isPureObject(null);     // false\n * isPureObject(new Date); // false\n * @category Utility\n */\nexport const isPureObject = (value: any): value is object =>\n    !isNull(value) && !isDate(value) && !isArray(value) && isObject(value);\n\n/**\n * Type guard that checks whether a value is a `Date` instance.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if the value is an instance of `Date`.\n * @category Utility\n */\nexport const isDate = (value: any): value is Date => instanceOf(value, Date);\n\n/**\n * Type guard that checks whether a value is `null`.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if the value is strictly `null`.\n * @category Utility\n */\nexport const isNull = (value: any): value is null => value === null;\n\n/**\n * Type guard that checks whether a value is `Infinity`.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if the value is `Infinity`.\n * @category Utility\n */\nexport const isInfinity = (value: any): value is typeof Infinity =>\n    value === Infinity;\n\n/**\n * Type guard that checks whether a value is `undefined`.\n *\n * @param {any} value The value to check.\n * @returns {boolean} `true` if `typeof value === 'undefined'`.\n * @category Utility\n */\nexport const isUndefined = (value: any): value is undefined =>\n    is(value, 'undefined');\n\n/**\n * Low-level type check using the `typeof` operator.\n *\n * Compares the `typeof` result of the value against the given type string.\n * Acts as a type guard narrowing the value to `typeof type`.\n *\n * @param {any} value The value to check.\n * @param {string} type The expected `typeof` string (e.g., `'string'`, `'number'`, `'object'`).\n * @returns {boolean} `true` if `typeof value === type`.\n * @category Utility\n */\nexport const is = (value: any, type: string): value is typeof type =>\n    typeof value === type;\n\n/**\n * Generic `instanceof` wrapper.\n *\n * Checks whether a value is an instance of the given constructor or class.\n *\n * @param {any} value The value to check.\n * @param {T} obj The constructor or class to test against.\n * @returns {boolean} `true` if `value instanceof obj`.\n * @example\n * instanceOf(new Date(), Date); // true\n * instanceOf('hello', String);  // false\n * @category Utility\n */\nexport const instanceOf = <T>(value: any, obj: T): boolean =>\n    value instanceof (obj as any);\n\n/**\n * Universal iterator that delegates to {@link eachArray} for arrays or\n * {@link eachObject} for plain objects.\n *\n * Provides a single entry point for iterating over both arrays and objects.\n * For arrays, optional `opt_start` and `opt_end` bounds are forwarded to\n * {@link eachArray}.\n *\n * @param {Array<T> | object} items The array or object to iterate over.\n * @param {(item: any, key: string | number) => void} next Callback invoked\n *     for each element with the value and its key (index for arrays, property\n *     name for objects).\n * @param {number} [opt_start] Start index for array iteration (inclusive).\n * @param {number} [opt_end] End index for array iteration (exclusive).\n * @example\n * each([10, 20, 30], (value, index) => {\n *     console.log(index, value);\n * });\n *\n * each({ a: 1, b: 2 }, (value, key) => {\n *     console.log(key, value);\n * });\n * @category Utility\n */\nexport const each = <T>(\n    items: Array<T> | object,\n    next: (item: any, key: string | number) => void,\n    opt_start?: number,\n    opt_end?: number,\n): void => {\n    if (isArray(items)) {\n        eachArray(items, next, opt_start, opt_end);\n    } else if (isPureObject(items)) {\n        eachObject(items, next);\n    }\n};\n\n/**\n * Iterates over an array, invoking a callback for each element.\n *\n * Supports optional start and end bounds to iterate over a sub-range of the\n * array. Defaults to iterating over the entire array.\n *\n * @param {Array<T>} items The array to iterate over.\n * @param {(item: T, index: number) => void} next Callback invoked with each\n *     element and its index.\n * @param {number} [opt_start] Start index (inclusive). Defaults to `0`.\n * @param {number} [opt_end] End index (exclusive). Defaults to `items.length`.\n * @example\n * eachArray(['a', 'b', 'c', 'd'], (item, i) => {\n *     console.log(i, item);\n * }, 1, 3);\n * // 1 'b'\n * // 2 'c'\n * @category Utility\n */\nexport const eachArray = <T>(\n    items: Array<T>,\n    next: (item: T, index: number) => void,\n    opt_start?: number | undefined,\n    opt_end?: number | undefined,\n): void => {\n    opt_start = opt_start || 0;\n    opt_end = opt_end || items.length;\n    for (let i = opt_start; i < opt_end; i++) {\n        next(items[i], i);\n    }\n};\n\n/**\n * Iterates over an object's own enumerable properties, invoking a callback\n * for each property.\n *\n * Only processes properties that belong directly to the object (via\n * `hasOwnProperty`), skipping inherited properties from the prototype chain.\n *\n * @param {Record<string, any>} object The object to iterate over.\n * @param {(value: any, key: string) => void} next Callback invoked with\n *     each property value and its key.\n * @example\n * eachObject({ x: 10, y: 20 }, (value, key) => {\n *     console.log(key, value);\n * });\n * // 'x' 10\n * // 'y' 20\n * @category Utility\n */\nexport const eachObject = (\n    object: Record<string, any>,\n    next: (value: any, key: string) => void,\n): void => {\n    for (const key in object) {\n        if (object.hasOwnProperty(key)) {\n            next(object[key], key);\n        }\n    }\n};\n\n/**\n * Iterates with a configurable delay between each invocation.\n *\n * Calls the `next` callback starting at index `i`, incrementing on each\n * iteration. Each subsequent call is delayed by `duration` milliseconds\n * using `setTimeout`. Stops when `i` reaches `length`.\n *\n * @param {(index: number) => void} next Callback invoked with the current index.\n * @param {number} i The starting index.\n * @param {number} length The total number of iterations (exclusive upper bound).\n * @param {number} duration Delay in milliseconds between each iteration.\n * @example\n * sleepEach((index) => {\n *     console.log('Processing item', index);\n * }, 0, 5, 1000);\n * // Logs items 0-4 with 1 second between each\n * @category Utility\n */\nexport const sleepEach = (\n    next: (_index: number) => void,\n    i: number,\n    length: number,\n    duration: number,\n): void => {\n    const loop = () => {\n        next(i);\n        i++;\n        if (i < length) {\n            setTimeout(loop, duration);\n        }\n    };\n    loop();\n};\n\n/**\n * Clears all elements from an array or all own properties from an object.\n *\n * Delegates to {@link clearArray} for arrays or {@link clearObject} for\n * plain objects. The original reference is mutated in-place.\n *\n * @param {Array<T> | object} items The array or object to clear.\n * @category Utility\n */\nexport const clear = <T>(items: Array<T> | object): void => {\n    if (isArray(items)) {\n        clearArray(items);\n    } else if (isPureObject(items)) {\n        clearObject(items);\n    }\n};\n\n/**\n * Empties an array in-place by removing all elements via `splice`.\n *\n * The original array reference is preserved; only its contents are removed.\n *\n * @param {Array<T>} items The array to empty.\n * @category Utility\n */\nexport const clearArray = <T>(items: Array<T>): void => {\n    items.splice(0, items.length);\n};\n\n/**\n * Deletes all own properties from an object in-place.\n *\n * The original object reference is preserved; only its properties are removed.\n *\n * @param {Record<string, any>} items The object to clear.\n * @category Utility\n */\nexport const clearObject = (items: Record<string, any>): void => {\n    for (const key in items) {\n        if (items.hasOwnProperty(key)) {\n            delete items[key];\n        }\n    }\n};\n\n/**\n * Checks whether an item exists in an array.\n *\n * Uses `indexOf` for the lookup, so comparison is by strict equality.\n *\n * @param {Array<T>} items The array to search.\n * @param {T} item The item to look for.\n * @returns {boolean} `true` if the item is found in the array.\n * @category Utility\n */\nexport const inArray = <T>(items: Array<T>, item: T): boolean =>\n    items.indexOf(item) !== -1;\n\n/**\n * Checks whether a string contains a given substring.\n *\n * @param {string} str The string to search within.\n * @param {string} subStr The substring to look for.\n * @returns {boolean} `true` if the substring is found.\n * @category Utility\n */\nexport const contain = (str: string, subStr: string): boolean =>\n    str.indexOf(subStr) !== -1;\n\n/**\n * Checks whether any element in a string array contains the given substring.\n *\n * Iterates through the array and returns `true` as soon as an element is\n * found that contains the given substring (via {@link contain}).\n *\n * @param {Array<string>} items The array of strings to search through.\n * @param {string} item The substring to look for within each element.\n * @returns {boolean} `true` if at least one element contains the substring.\n * @example\n * inContainArray(['application/json', 'text/html'], 'json'); // true\n * inContainArray(['text/html', 'text/plain'], 'json');       // false\n * @category Utility\n */\nexport const inContainArray = (items: Array<string>, item: string): boolean => {\n    let i = 0;\n    while (i < items.length && !contain(items[i], item)) {\n        i++;\n    }\n    return i < items.length;\n};\n\n/**\n * Performs a deep equality comparison between two values.\n *\n * For plain objects with equal JSON string lengths, recursively compares\n * each property using `isSame`. For all other types, compares their\n * JSON serialized representations via strict equality.\n *\n * @param {any} a The first value to compare.\n * @param {any} b The second value to compare.\n * @returns {boolean} `true` if the two values are deeply equal.\n * @example\n * isSame({ a: 1, b: [2, 3] }, { a: 1, b: [2, 3] }); // true\n * isSame([1, 2], [1, 3]);                              // false\n * @category Utility\n */\nexport const isSame = (a: any, b: any): boolean => {\n    const strA = JSON.stringify(a);\n    const strB = JSON.stringify(b);\n    if (isPureObject(a) && isPureObject(b) && eq(strA.length, strB.length)) {\n        let result = true;\n        each(a, (value: any, key: string | number) => {\n            if (!isSame((b as Record<string, any>)[key], value)) {\n                result = false;\n            }\n        });\n        return result;\n    }\n    return eq(strA, strB);\n};\n\n/**\n * Removes the first occurrence of an item from an array in-place.\n *\n * If the item is not found, the array is left unchanged.\n *\n * @param {Array<T>} items The array to remove from.\n * @param {T} item The item to remove.\n * @category Utility\n */\nexport const remove = <T>(items: Array<T>, item: T): void => {\n    const position = items.indexOf(item);\n    if (neq(position, -1)) {\n        items.splice(position, 1);\n    }\n};\n\n/**\n * Creates a deep copy of an array or plain object.\n *\n * Delegates to {@link copyArray} for arrays or {@link copyObject} for plain\n * objects. Nested arrays and objects are recursively deep-copied.\n *\n * @param {Array<T> | object} items The array or object to copy.\n * @returns {Array<T> | object | undefined} A deep copy of the input, or\n *     `undefined` if the input is neither an array nor a plain object.\n * @category Utility\n */\nexport const copy = <T>(\n    items: Array<T> | object,\n): Array<T> | object | undefined => {\n    let results;\n    if (isArray(items)) {\n        results = copyArray(items);\n    } else if (isPureObject(items)) {\n        results = copyObject(items);\n    }\n    return results;\n};\n\n/**\n * Creates a deep copy of an array.\n *\n * Recursively copies nested arrays (via {@link copyArray}) and plain objects\n * (via {@link copyObject}). Primitive values are copied by value.\n *\n * @param {Array<T>} items The array to deep copy.\n * @returns {Array<T>} A new array containing deep copies of all elements.\n * @category Utility\n */\nexport const copyArray = <T>(items: Array<T>): Array<T> => {\n    const results: any[] = [];\n    eachArray(items, (item, index) => {\n        if (isArray(item)) {\n            results[index] = copyArray(item);\n        } else if (isPureObject(item)) {\n            results[index] = copyObject(item);\n        } else {\n            results[index] = item;\n        }\n    });\n    return results;\n};\n\n/**\n * Creates a deep copy of a plain object.\n *\n * Recursively copies nested arrays (via {@link copyArray}) and plain objects\n * (via {@link copyObject}). Primitive values are copied by value.\n *\n * @param {object} item The object to deep copy.\n * @returns {object} A new object containing deep copies of all properties.\n * @category Utility\n */\nexport const copyObject = (item: object): object => {\n    const results: Record<string, any> = {};\n    eachObject(item as Record<string, any>, (value, key) => {\n        if (isArray(value)) {\n            results[key] = copyArray(value);\n        } else if (isPureObject(value)) {\n            results[key] = copyObject(value);\n        } else {\n            results[key] = value;\n        }\n    });\n    return results;\n};\n\n/**\n * Checks whether an array or object is empty.\n *\n * For arrays, checks if `length === 0`. For plain objects, counts own\n * properties and returns `true` if there are none.\n *\n * @param {Array<T> | object} items The array or object to check.\n * @returns {boolean} `true` if the collection has no elements or properties.\n * @example\n * isEmpty([]);        // true\n * isEmpty([1]);       // false\n * isEmpty({});        // true\n * isEmpty({ a: 1 }); // false\n * @category Utility\n */\nexport const isEmpty = <T>(items: Array<T> | object): boolean => {\n    let result = false;\n    if (isArray(items)) {\n        result = items.length === 0;\n    } else if (isPureObject(items)) {\n        let counter = 0;\n        each(items, () => {\n            counter++;\n        });\n        result = counter === 0;\n    }\n    return result;\n};\n\n/**\n * Spreads an array as individual arguments to a callback function.\n *\n * Equivalent to `callback(...args)`, providing a functional way to apply\n * array elements as positional arguments.\n *\n * @param {Array<T>} args The array of arguments to spread.\n * @param {(...rest: T[]) => void} callback The function to invoke with the spread arguments.\n * @example\n * list([1, 2, 3], (a, b, c) => {\n *     console.log(a, b, c); // 1 2 3\n * });\n * @category Utility\n */\nexport const list = <T>(\n    args: Array<T>,\n    callback: (...rest: T[]) => void,\n): void => {\n    callback(...args);\n};\n\n/**\n * Capitalizes the first character of a string.\n *\n * @param {string} str The string to capitalize.\n * @returns {string} The string with its first character converted to uppercase.\n * @example\n * capitalize('hello'); // 'Hello'\n * @category Utility\n */\nexport const capitalize = (str: string): string =>\n    str.charAt(0).toUpperCase() + str.slice(1);\n\n/**\n * Extracts values of a given attribute from an array of {@link Objekt} instances.\n *\n * Calls `get()` on each {@link Objekt} with the specified attribute name,\n * collecting results into a new array.\n *\n * @param {Array<K>} items The array of {@link Objekt} instances to pluck from.\n * @param {string} attribute The dot-notation attribute path to extract\n *     (passed to {@link Objekt.get}).\n * @returns {Array<T>} An array of extracted attribute values.\n * @example\n * const items = [new Objekt({ name: 'Alice' }), new Objekt({ name: 'Bob' })];\n * pluck(items, 'name'); // ['Alice', 'Bob']\n * @category Utility\n */\nexport const pluck = <T, K extends Objekt = Objekt>(\n    items: Array<K>,\n    attribute: string,\n): Array<T> => {\n    const results: T[] = [];\n    eachArray(items, (item) => {\n        const result = item.get<T>(attribute);\n        results.push(result);\n    });\n\n    return results;\n};\n\n/**\n * Returns the keys of an object for which a condition function returns `true`.\n *\n * Iterates over the object's own properties and collects keys where the\n * condition callback evaluates to `true`.\n *\n * @param {object} obj The object whose keys to filter.\n * @param {(value: any, key: string) => boolean} condition A predicate function\n *     invoked with each property value and key.\n * @returns {Array<string>} An array of keys where the condition was satisfied.\n * @example\n * pluckKeys({ a: 1, b: 2, c: 3 }, (value) => value > 1);\n * // ['b', 'c']\n * @category Utility\n */\nexport const pluckKeys = (\n    obj: object,\n    condition: (value: any, key: string) => boolean,\n): Array<string> => {\n    const results: string[] = [];\n    eachObject(obj as Record<string, any>, (value, key) => {\n        if (condition(value, key)) {\n            results.push(key);\n        }\n    });\n    return results;\n};\n\nlet _scrollInterval: number | null = null;\n\n/**\n * Performs an animated smooth scroll to the specified coordinates.\n *\n * Uses `setInterval` to incrementally scroll the window toward the target\n * position over the given duration. Any previously active scroll animation\n * is cancelled before starting a new one.\n *\n * @param {number} x The target horizontal scroll position in pixels.\n * @param {number} y The target vertical scroll position in pixels.\n * @param {number} [opt_duration=500] Total animation duration in milliseconds.\n * @param {number} [opt_step=20] Interval between scroll increments in milliseconds.\n * @example\n * scrollTo(0, 500);        // Scroll to y=500 over 500ms\n * scrollTo(0, 0, 1000, 10); // Scroll to top over 1 second with 10ms steps\n * @category Utility\n */\nexport const scrollTo = (\n    x: number,\n    y: number,\n    opt_duration: number | undefined = 500,\n    opt_step: number | undefined = 20,\n): void => {\n    clearInterval(_scrollInterval!);\n    let scrollStepX = -(window.scrollX - x) / (opt_duration / opt_step);\n    let scrollStepY = -(window.scrollY - y) / (opt_duration / opt_step);\n    _scrollInterval = setInterval(() => {\n        if (\n            (scrollStepX > 0 && window.scrollX + scrollStepX > x) ||\n            (scrollStepX < 0 && window.scrollX + scrollStepX < x)\n        ) {\n            scrollStepX = x - window.scrollX;\n        }\n        if (\n            (scrollStepY > 0 && window.scrollY + scrollStepY > y) ||\n            (scrollStepY < 0 && window.scrollY + scrollStepY < y)\n        ) {\n            scrollStepY = y - window.scrollY;\n        }\n        if (window.scrollX !== x || window.scrollY !== y) {\n            window.scrollBy(scrollStepX, scrollStepY);\n        } else {\n            clearInterval(_scrollInterval!);\n        }\n    }, opt_step);\n};\n\n/**\n * Performs an animated smooth scroll to a DOM element's position.\n *\n * Queries the DOM for the first element matching the given CSS selector,\n * then delegates to {@link scrollTo} using the element's offset position.\n *\n * @param {string} selector A CSS selector identifying the target element.\n * @param {number} [opt_duration=500] Total animation duration in milliseconds.\n * @param {number} [opt_step=20] Interval between scroll increments in milliseconds.\n * @example\n * scrollToElement('#section-2');\n * scrollToElement('.target', 1000);\n * @category Utility\n */\nexport const scrollToElement = (\n    selector: string,\n    opt_duration: number | undefined = 500,\n    opt_step: number | undefined = 20,\n): void => {\n    const nodeList = document.querySelectorAll<HTMLElement>(selector);\n    const element = nodeList[0];\n    const x = element.offsetLeft;\n    const y = element.offsetTop;\n    scrollTo(x, y, opt_duration, opt_step);\n};\n\n/**\n * Scrolls a DOM element into view using the native `scrollIntoView` API.\n *\n * Queries the DOM for the first element matching the given CSS selector\n * and calls `scrollIntoView` with the specified scroll behavior.\n *\n * @param {string} selector A CSS selector identifying the target element.\n * @param {ScrollBehavior} [opt_behavior='smooth'] The scroll behavior\n *     (`'smooth'`, `'instant'`, or `'auto'`).\n * @example\n * scrollIntoView('#footer');\n * scrollIntoView('.section', 'instant');\n * @category Utility\n */\nexport const scrollIntoView = (\n    selector: string,\n    opt_behavior: ScrollBehavior | undefined = 'smooth',\n): void => {\n    document.querySelector(selector)!.scrollIntoView({\n        behavior: opt_behavior,\n    });\n};\n\n/**\n * Creates a debounced version of a function that delays invocation.\n *\n * The returned function postpones calling `func` until `opt_wait` milliseconds\n * have elapsed since the last invocation. If `opt_immediate` is `true`, the\n * function fires on the leading edge instead of the trailing edge.\n *\n * @param {(ev: Event) => void} func The function to debounce.\n * @param {number} [opt_wait=250] Delay in milliseconds before the function is invoked.\n * @param {boolean} [opt_immediate=false] If `true`, trigger the function on the\n *     leading edge instead of the trailing edge.\n * @returns {(this: Window, ev: Event) => void} The debounced function.\n * @example\n * const debouncedSearch = debounce((ev) => {\n *     performSearch(ev.target.value);\n * }, 300);\n * inputElement.addEventListener('input', debouncedSearch);\n * @category Utility\n */\nexport const debounce = (\n    func: (ev: Event) => void,\n    opt_wait: number | undefined = 250,\n    opt_immediate: boolean | undefined = false,\n): ((this: Window, ev: Event) => void) => {\n    let timeout: number;\n    return (...args) => {\n        const later = () => {\n            timeout = null as unknown as number;\n            if (!opt_immediate) func(...args);\n        };\n        const callNow = opt_immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, opt_wait);\n        if (callNow) func(...args);\n    };\n};\n\n/**\n * Appends query string parameters to a URL.\n *\n * Builds a query string from the params object (via {@link getQueryString})\n * and appends it to the URL. Uses `?` if the URL has no existing query string,\n * or `&` if one already exists.\n *\n * @param {string} url The base URL to append parameters to.\n * @param {object} [opt_params] An object of key-value pairs to encode as query parameters.\n * @returns {string} The URL with appended query string, or the original URL if\n *     no parameters are provided.\n * @example\n * urlWithQueryString('/api/items', { page: 1, limit: 10 });\n * // '/api/items?page=1&limit=10'\n *\n * urlWithQueryString('/api/items?sort=name', { page: 2 });\n * // '/api/items?sort=name&page=2'\n * @category Utility\n */\nexport const urlWithQueryString = (\n    url: string,\n    opt_params?: object | undefined,\n): string => {\n    const queryString = getQueryString(opt_params);\n    const separator = contain(url, '?') ? '&' : '?';\n    return url + (queryString ? separator + queryString : '');\n};\n\n/**\n * Builds a query string from an object of key-value pairs.\n *\n * Array values are encoded with bracket notation (`key[]=value`). Properties\n * with `undefined` or `null` values are skipped.\n *\n * @param {object} [opt_params] An object of key-value pairs to encode.\n * @returns {string} The encoded query string without a leading `?`, or an\n *     empty string if no valid parameters are provided.\n * @example\n * getQueryString({ name: 'test', tags: ['a', 'b'] });\n * // 'name=test&tags[]=a&tags[]=b'\n *\n * getQueryString({ a: 1, b: null, c: undefined });\n * // 'a=1'\n * @category Utility\n */\nexport const getQueryString = (opt_params?: object): string => {\n    const queries: string[] = [];\n    eachObject(opt_params as Record<string, any>, (param, key) => {\n        if (isArray(param)) {\n            eachArray(param, (value) => {\n                queries.push(format('{0}[]={1}', [key, value]));\n            });\n        } else if (!isUndefined(param) && !isNull(param)) {\n            queries.push(format('{0}={1}', [key, param]));\n        }\n    });\n    return isEmpty(queries) ? '' : queries.join('&');\n};\n\n/**\n * Extracts the file extension from a URL.\n *\n * Strips any query string before extracting the extension. Returns the\n * portion of the URL after the last `.` character.\n *\n * @param {string} url The URL or file path to extract the extension from.\n * @returns {string} The file extension without the leading dot, or an empty\n *     string if no extension is found.\n * @example\n * getExtensionName('https://example.com/image.png?v=2'); // 'png'\n * getExtensionName('document.pdf');                       // 'pdf'\n * getExtensionName('no-extension');                       // ''\n * @category Utility\n */\nexport const getExtensionName = (url: string): string => {\n    const realUrl = url.split('?', 2)[0];\n    return realUrl.slice(\n        (Math.max(0, realUrl.lastIndexOf('.')) || Infinity) + 1,\n    );\n};\n\n/**\n * Strips diacritical marks (accents) from a string.\n *\n * Applies Unicode NFD normalization to decompose characters, then removes\n * all combining diacritical marks (Unicode range U+0300 to U+036F).\n *\n * @param {string} str The string to normalize.\n * @returns {string} The string with all diacritical marks removed.\n * @example\n * normalize('cafe\\u0301'); // 'cafe'\n * normalize('nino');       // 'nino'\n * @category Utility\n */\nexport const normalize = (str: string): string =>\n    str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n\n/**\n * Copies text to the system clipboard.\n *\n * Creates a hidden `<textarea>` element, sets its value to the given string,\n * selects it, and executes the `copy` command. The temporary element is\n * removed after the operation.\n *\n * @param {string} str The text to copy to the clipboard.\n * @category Utility\n */\nexport const copyToClipboard = (str: string): void => {\n    const textareaElement = document.createElement('textarea');\n    textareaElement.value = str;\n    textareaElement.setAttribute('readonly', '');\n    textareaElement.style.position = 'absolute';\n    textareaElement.style.left = '-9999px';\n    document.body.appendChild(textareaElement);\n    textareaElement.select();\n    document.execCommand('copy');\n    document.body.removeChild(textareaElement);\n    // navigator.clipboard.writeText(str);\n};\n", "import {\n    clear,\n    copyArray,\n    copyObject,\n    each,\n    eachObject,\n    inArray,\n    instanceOf,\n    isArray,\n    isEmpty,\n    isPureObject,\n    isUndefined,\n    typeCast,\n} from '../utils/operation';\n\n/**\n * Recursive object wrapper that provides dot-notation access to nested\n * properties. Objekt serves as the foundational data container throughout the\n * SUI framework, replacing plain JavaScript objects with a richer interface\n * for deep property access, recursive merging, and filtered copying.\n *\n * Nested plain objects are automatically converted to Objekt instances during\n * {@link Objekt.merge}, so the entire object tree supports the same API at\n * every level.\n *\n * @example\n * const config = new Objekt({\n *     server: { host: 'localhost', port: 3000 },\n *     debug: true,\n * });\n * config.get('server.host');       // 'localhost'\n * config.set('server.port', 8080);\n * config.get('server.port');       // 8080\n *\n * @see {@link Collection}\n * @category Core\n */\n// Record, Entry, Thing\nexport class Objekt<T extends object = object> {\n    [key: string]: T[keyof T | any];\n\n    /**\n     * Creates a new Objekt instance, optionally populated with the properties\n     * of the given plain object. Nested plain objects are recursively converted\n     * to Objekt instances.\n     *\n     * @param {T} [opt_object] Initial data to merge into this instance.\n     *\n     * @example\n     * const obj = new Objekt({ name: 'Alice', address: { city: 'Paris' } });\n     * obj.get('address.city'); // 'Paris'\n     */\n    constructor(opt_object?: T) {\n        Object.call(this, opt_object);\n        this.merge(opt_object);\n    }\n\n    /**\n     * Recursively merges the properties of the given object into this Objekt.\n     * Plain-object values are converted to Objekt instances so the full API\n     * is available at every nesting level. Arrays whose first element is a\n     * plain object are converted element-wise. Scalar values are passed\n     * through {@link typeCast}.\n     *\n     * @param {any} object The source object whose properties will be merged.\n     * @returns {Objekt} This instance, for chaining.\n     *\n     * @example\n     * const obj = new Objekt({ a: 1 });\n     * obj.merge({ b: 2, c: { d: 3 } });\n     * obj.get('c.d'); // 3\n     */\n    merge(object: any): Objekt {\n        if (isPureObject(object)) {\n            const obj = object as Record<string, any>;\n            for (const key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    if (isPureObject(obj[key])) {\n                        if (!instanceOf(this[key], Objekt)) {\n                            this[key] = new Objekt(this[key]);\n                        }\n                        this[key].merge(obj[key]);\n                    } else if (isArray(obj[key]) && isPureObject(obj[key][0])) {\n                        this._convertobject(obj, key);\n                        this[key] = obj[key];\n                    } else {\n                        this[key] = typeCast(obj[key]);\n                    }\n                }\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Converts each element in an array property from a plain object to an\n     * Objekt instance, mutating the source array in place.\n     *\n     * @param {any} object The parent object containing the array.\n     * @param {string} key The property name of the array to convert.\n     */\n    private _convertobject(object: any, key: string): void {\n        each(object[key], (obj, i) => {\n            object[key][i] = new Objekt(obj);\n        });\n    }\n\n    /**\n     * Retrieves a value from this Objekt using a dot-notation path. When the\n     * path resolves to a nested Objekt, that Objekt is returned. If the path\n     * does not exist, the optional default value is returned instead.\n     *\n     * When `opt_isSafe` is `true` the attribute string is treated as a single\n     * literal key rather than being split on dots; this is useful when keys\n     * themselves contain periods.\n     *\n     * @template K The expected return type.\n     * @param {string | undefined} attribute Dot-notation path such as\n     *     `'user.address.city'`, or `undefined` to return the entire Objekt.\n     * @param {K} [opt_defaultValue] Value returned when the path does not\n     *     resolve to an existing property.\n     * @param {boolean} [opt_isSafe=false] When `true`, treat the attribute\n     *     as a literal key without splitting on dots.\n     * @returns {K} The resolved value, or the default value if the path is\n     *     not found.\n     *\n     * @example\n     * const obj = new Objekt({ user: { name: 'Bob', age: 30 } });\n     * obj.get('user.name');             // 'Bob'\n     * obj.get('user.email', 'n/a');     // 'n/a'\n     * obj.get('user.name', '', true);   // undefined (literal key 'user.name')\n     */\n    get<K>(\n        attribute: string | undefined,\n        opt_defaultValue?: K,\n        opt_isSafe: boolean | undefined = false,\n    ): K {\n        if (!attribute) {\n            return this as any;\n        }\n        const attributes = opt_isSafe ? [attribute] : attribute.split('.');\n        const value = this._getByAttributes<K>(this, attributes);\n\n        return !isUndefined(value) ? value : opt_defaultValue!;\n    }\n\n    /**\n     * Recursively walks the attribute path to retrieve a nested value.\n     *\n     * @template K The expected return type.\n     * @param {object | Objekt} object The current level of the object tree.\n     * @param {Array<string>} attributes Remaining path segments to resolve.\n     * @returns {K | undefined} The value at the resolved path, or `undefined`.\n     */\n    private _getByAttributes<K>(\n        object: object | Objekt,\n        attributes: Array<string>,\n    ): K | undefined {\n        let result = undefined;\n        const obj = object as Record<string, any>;\n        each(object, (_value, property) => {\n            if (\n                attributes.length === 1 &&\n                property.toString() === attributes[0]\n            ) {\n                result = obj[property];\n            } else if (\n                property.toString() === attributes[0] &&\n                (isPureObject(obj[property]) || isArray(obj[property]))\n            ) {\n                const copyAttributes = copyArray(attributes);\n                copyAttributes.shift();\n                result = this._getByAttributes(obj[property], copyAttributes);\n            }\n        });\n        return result;\n    }\n\n    /**\n     * Recursively walks the attribute path and sets the value at the final\n     * segment, mutating the existing object tree in place.\n     *\n     * @param {object | Objekt} object The current level of the object tree.\n     * @param {Array<string>} attributes Remaining path segments to traverse.\n     * @param {any} value The value to assign at the resolved path.\n     */\n    private _setByAttributes(\n        object: object | Objekt,\n        attributes: Array<string>,\n        value: any,\n    ): void {\n        const obj = object as Record<string, any>;\n        eachObject(obj, (_oldValue, property) => {\n            if (attributes.length === 1 && property === attributes[0]) {\n                obj[property] = value;\n            } else if (\n                property === attributes[0] &&\n                (isPureObject(obj[property]) || isArray(obj[property]))\n            ) {\n                const copyAttributes = copyArray(attributes);\n                copyAttributes.shift();\n                this._setByAttributes(obj[property], copyAttributes, value);\n            }\n        });\n    }\n\n    /**\n     * Sets a value at the given dot-notation path. Intermediate objects are\n     * created as needed and merged into this Objekt, so the full path is\n     * guaranteed to exist after the call.\n     *\n     * @template K The type of the value being set.\n     * @param {string} attribute Dot-notation path such as `'theme.color'`.\n     * @param {K} value The value to assign.\n     *\n     * @example\n     * const obj = new Objekt();\n     * obj.set('theme.color', 'blue');\n     * obj.get('theme.color'); // 'blue'\n     */\n    set<K>(attribute: string, value: K): void {\n        let object = {};\n        object = this._attributesToobject(object, attribute.split('.'), value);\n        this.merge(object);\n    }\n\n    /**\n     * Sets a value at the given path, bypassing the recursive merge used by\n     * {@link Objekt.set}. This is useful when the value is not a plain object\n     * and should be stored as-is (e.g., class instances, DOM elements, or\n     * functions).\n     *\n     * Internally, the path is first set to `null` via {@link Objekt.set} to\n     * ensure the path exists, then the actual value is written directly with\n     * {@link Objekt._setByAttributes}.\n     *\n     * @template K The type of the value being set.\n     * @param {string} attribute Dot-notation path.\n     * @param {K} value The value to assign without merging.\n     * @param {boolean} [opt_isSafe=false] When `true`, treat the attribute\n     *     as a literal key without splitting on dots.\n     *\n     * @example\n     * const obj = new Objekt();\n     * const el = document.createElement('div');\n     * obj.setRaw('container', el);\n     * obj.get('container') === el; // true\n     */\n    setRaw<K>(\n        attribute: string,\n        value: K,\n        opt_isSafe: boolean | undefined = false,\n    ): void {\n        this.set(attribute, null);\n        const attributes = opt_isSafe ? [attribute] : attribute.split('.');\n        this._setByAttributes(this, attributes, value);\n    }\n\n    /**\n     * Removes the property at the given dot-notation path. If the path\n     * includes nested segments, only the leaf property is deleted.\n     *\n     * @param {string} attribute Dot-notation path of the property to remove.\n     *\n     * @example\n     * const obj = new Objekt({ a: { b: 1, c: 2 } });\n     * obj.remove('a.b');\n     * obj.get('a.b'); // undefined\n     * obj.get('a.c'); // 2\n     */\n    remove(attribute: string): void {\n        const attributes = attribute.split('.');\n        this._removeByAttributes(this, attributes);\n    }\n\n    /**\n     * Removes all properties from this Objekt, leaving it empty.\n     *\n     * @example\n     * const obj = new Objekt({ x: 1, y: 2 });\n     * obj.clear();\n     * obj.isEmpty(); // true\n     */\n    clear(): void {\n        clear(this);\n    }\n\n    /**\n     * Recursively walks the attribute path and deletes the property at the\n     * final segment.\n     *\n     * @param {object | Objekt} object The current level of the object tree.\n     * @param {Array<string>} attributes Remaining path segments to traverse.\n     */\n    private _removeByAttributes(\n        object: object | Objekt,\n        attributes: Array<string>,\n    ): void {\n        const obj = object as Record<string, any>;\n        for (const property in obj) {\n            if (obj.hasOwnProperty(property)) {\n                if (attributes.length === 1 && property === attributes[0]) {\n                    delete obj[property];\n                } else if (\n                    property === attributes[0] &&\n                    (isPureObject(obj[property]) || isArray(obj[property]))\n                ) {\n                    const copyAttributes = copyArray(attributes);\n                    copyAttributes.shift();\n                    this._removeByAttributes(obj[property], copyAttributes);\n                }\n            }\n        }\n    }\n\n    /**\n     * Recursively iterates over every leaf value in this Objekt (or a\n     * sub-tree), invoking the callback with the value and its full\n     * dot-notation key. Nested objects and arrays are traversed automatically;\n     * only scalar leaf values trigger the callback.\n     *\n     * @template K The type of the leaf values.\n     * @param {Function} next Callback invoked for each leaf value, receiving\n     *     `(value, key)` where `key` is the full dot-notation path.\n     * @param {object} [opt_properties] Sub-tree to iterate; defaults to this\n     *     Objekt.\n     * @param {Array<string>} [opt_attributes] Accumulated path segments used\n     *     during recursion.\n     *\n     * @example\n     * const obj = new Objekt({ a: { b: 1 }, c: 2 });\n     * obj.each((value, key) => {\n     *     console.log(key, value);\n     * });\n     * // Logs: 'a.b' 1, 'c' 2\n     */\n    each<K>(\n        next: (value: K, key: string) => void,\n        opt_properties?: object | undefined,\n        opt_attributes?: Array<string> | undefined,\n    ): void {\n        const properties = opt_properties || this;\n        const attributes = opt_attributes || [];\n\n        eachObject(properties, (value, property) => {\n            const attributesCopy = copyArray(attributes);\n            attributesCopy.push(property);\n            if (isPureObject(value) || isArray(value)) {\n                this.each(next, value, attributesCopy);\n            } else {\n                next(value, attributesCopy.join('.'));\n            }\n        });\n    }\n\n    /**\n     * Builds a nested plain-object structure from a dot-notation attribute\n     * path and assigns the value at the deepest level.\n     *\n     * @param {object} object The object to populate with nested keys.\n     * @param {Array<string>} attributes Path segments to create.\n     * @param {any} value The value to assign at the deepest level.\n     * @returns {object} The populated object.\n     */\n    private _attributesToobject(\n        object: object,\n        attributes: Array<string>,\n        value: any,\n    ): object {\n        const lastAttribute = attributes.pop();\n        let base: Record<string, any> = object as Record<string, any>;\n        for (const attribute of attributes) {\n            base = base[attribute] = base[attribute] || {};\n        }\n        base[lastAttribute!] = value;\n        return object;\n    }\n\n    /**\n     * Creates a deep copy of this Objekt, returning a new independent\n     * instance with the same data.\n     *\n     * @returns {Objekt} A new Objekt containing a deep copy of this\n     *     instance's data.\n     *\n     * @example\n     * const original = new Objekt({ x: { y: 1 } });\n     * const clone = original.copy();\n     * clone.set('x.y', 99);\n     * original.get('x.y'); // 1 (unchanged)\n     */\n    copy(): Objekt {\n        const copy = this.copyObject();\n        return new Objekt(copy);\n    }\n\n    /**\n     * Returns a deep copy of this Objekt's data as a plain JavaScript object.\n     *\n     * @returns {object} A plain object representation of this Objekt.\n     *\n     * @example\n     * const obj = new Objekt({ a: 1, b: { c: 2 } });\n     * const plain = obj.copyObject();\n     * // plain is { a: 1, b: { c: 2 } } (plain object, not Objekt)\n     */\n    copyObject(): object {\n        return copyObject(this);\n    }\n\n    /**\n     * Checks whether this Objekt has no properties.\n     *\n     * @returns {boolean} `true` if the Objekt contains no properties,\n     *     `false` otherwise.\n     *\n     * @example\n     * new Objekt().isEmpty();         // true\n     * new Objekt({ a: 1 }).isEmpty(); // false\n     */\n    isEmpty(): boolean {\n        return isEmpty(this);\n    }\n\n    /**\n     * Creates a new Objekt containing only the properties whose\n     * dot-notation keys appear in the given allowlist. All other properties\n     * are excluded.\n     *\n     * @param {Array<string>} keys Dot-notation keys to include.\n     * @returns {Objekt} A new Objekt with only the allowed keys.\n     *\n     * @example\n     * const obj = new Objekt({ name: 'Alice', age: 30, role: 'admin' });\n     * const filtered = obj.allowKeys(['name', 'role']);\n     * filtered.get('name'); // 'Alice'\n     * filtered.get('age');  // undefined\n     */\n    allowKeys(keys: Array<string>): Objekt {\n        return this.filterKeys(this, (key) => {\n            return inArray(keys, key);\n        });\n    }\n\n    /**\n     * Creates a new Objekt excluding the properties whose dot-notation keys\n     * appear in the given denylist. All other properties are kept.\n     *\n     * @param {Array<string>} keys Dot-notation keys to exclude.\n     * @returns {Objekt} A new Objekt without the denied keys.\n     *\n     * @example\n     * const obj = new Objekt({ name: 'Alice', password: 'secret' });\n     * const safe = obj.denyKeys(['password']);\n     * safe.get('password'); // undefined\n     * safe.get('name');     // 'Alice'\n     */\n    denyKeys(keys: Array<string>): Objekt {\n        return this.filterKeys(this, (key) => {\n            return !inArray(keys, key);\n        });\n    }\n\n    /**\n     * Creates a new Objekt by iterating over the leaf values of the source\n     * Objekt and including only those whose dot-notation keys satisfy the\n     * condition callback.\n     *\n     * @param {Objekt} obj The source Objekt to filter.\n     * @param {Function} condition Predicate receiving a dot-notation key;\n     *     return `true` to include the property.\n     * @returns {Objekt} A new Objekt containing only the matching properties.\n     *\n     * @example\n     * const obj = new Objekt({ a: 1, b: 2, c: 3 });\n     * const result = obj.filterKeys(obj, (key) => key !== 'b');\n     * result.get('a'); // 1\n     * result.get('b'); // undefined\n     */\n    filterKeys(obj: Objekt, condition: (key: string) => boolean): Objekt {\n        const resultObj = new Objekt();\n        obj.each((value, key) => {\n            if (condition(key)) {\n                resultObj.set(key, value);\n            }\n        });\n        return resultObj;\n    }\n}\n", "import { Id } from '../utils';\nimport {\n    each,\n    instanceOf,\n    isUndefined,\n    clear,\n    eq,\n    eachArray,\n} from '../utils/operation';\nimport { Objekt } from './objekt';\n\n/**\n * Generic typed collection that wraps an array of items with find, delete,\n * iterate, and pagination operations. Items added as plain objects are\n * automatically instantiated through the configured `Type` constructor\n * (defaulting to {@link Objekt}), so every item in the collection shares a\n * consistent interface.\n *\n * Collection is used throughout the SUI framework to manage lists of\n * components, data records, and configuration entries. It supports\n * identifier-based lookups via a configurable ID attribute, condition-based\n * filtering, and bulk operations.\n *\n * @template T The item type stored in this collection.\n *\n * @example\n * const users = new Collection([\n *     { id: 1, name: 'Alice' },\n *     { id: 2, name: 'Bob' },\n * ]);\n * users.size();                  // 2\n * users.findById(1).get('name'); // 'Alice'\n * users.deleteById(2);\n * users.size();                  // 1\n *\n * @see {@link Objekt}\n * @category Core\n */\nexport class Collection<T extends object = object> {\n    Type: any;\n    items: T[];\n    options!: Objekt;\n\n    /**\n     * Creates a new Collection, optionally pre-populated with initial items.\n     * Each plain object in the items array is automatically wrapped using the\n     * provided `Type` constructor.\n     *\n     * @param {Array<T>} [opt_items=[]] Initial items to load into the\n     *     collection. Plain objects are wrapped via `Type`.\n     * @param {any} [opt_type=Objekt] Constructor used to instantiate plain\n     *     objects added to the collection. Called as\n     *     `new Type(object, parent)`.\n     * @param {object} [opt_options={}] Configuration options. Supports `id`\n     *     (the attribute name used as the unique identifier, defaults to\n     *     `'id'`) and `parent` (the parent reference passed to the `Type`\n     *     constructor).\n     *\n     * @example\n     * // Default: items become Objekt instances keyed by 'id'\n     * const col = new Collection([{ id: 1, label: 'First' }]);\n     *\n     * // Custom type and ID attribute\n     * const col2 = new Collection([], MyModel, { id: 'uuid' });\n     */\n    constructor(\n        opt_items: Array<T> | undefined = [],\n        opt_type: any = Objekt,\n        opt_options: object = {},\n    ) {\n        this.Type = opt_type;\n        this._setOptions(opt_options);\n        this.items = [];\n        this.load(opt_items);\n    }\n\n    /**\n     * Initializes the options Objekt with defaults and merges any\n     * user-provided overrides.\n     *\n     * @param {object} [opt_options={}] User-provided options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            id: 'id',\n            parent: undefined,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Appends each object in the array to this collection. Plain objects are\n     * automatically wrapped via the configured `Type` constructor.\n     *\n     * @param {Array<object | T>} objects Items to add to the collection.\n     *\n     * @example\n     * const col = new Collection();\n     * col.load([{ id: 1 }, { id: 2 }]);\n     * col.size(); // 2\n     */\n    load(objects: Array<object | T>): void {\n        each(objects, (object) => {\n            this.push(object);\n        });\n    }\n\n    /**\n     * Clears all existing items and loads the given objects, effectively\n     * replacing the entire collection contents.\n     *\n     * @param {Array<object | T>} objects Items to populate the collection\n     *     with after clearing.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }]);\n     * col.reload([{ id: 2 }, { id: 3 }]);\n     * col.size(); // 2\n     */\n    reload(objects: Array<object | T>): void {\n        this.clear();\n        this.load(objects);\n    }\n\n    /**\n     * Adds a single item to the end of the collection. If the item is a\n     * plain object (not already an instance of `Type`), it is wrapped via\n     * the configured constructor.\n     *\n     * @param {object | T} object The item or plain object to add.\n     * @returns {T} The item as stored in the collection (possibly wrapped).\n     *\n     * @example\n     * const col = new Collection();\n     * const item = col.push({ id: 5, name: 'Eve' });\n     * item.get('name'); // 'Eve'\n     */\n    push(object: object | T): T {\n        const item = this._createItem(object);\n        this.items.push(item);\n        return item;\n    }\n\n    /**\n     * Wraps a plain object in the configured `Type` if it is not already an\n     * instance. The parent reference from options (or this collection) is\n     * passed as the second constructor argument.\n     *\n     * @param {object | T} object The item or plain object to wrap.\n     * @returns {T} The item as an instance of `Type`.\n     */\n    private _createItem(object: object | T): T {\n        if (!instanceOf(object, this.Type)) {\n            const parent = !isUndefined(this.options.parent)\n                ? this.options.parent\n                : this;\n            return new this.Type(object, parent) as T;\n        }\n        return object as T;\n    }\n\n    /**\n     * Sets an item at a specific index in the collection. If the index is\n     * within the current bounds, the existing item is replaced. If the index\n     * is out of bounds, the item is appended via {@link Collection.push}.\n     *\n     * @param {number} index Zero-based position to set the item at.\n     * @param {object | T} object The item or plain object to store.\n     * @returns {T} The item as stored in the collection.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }]);\n     * col.set(0, { id: 10 });\n     * col.get(0).get('id'); // 10\n     */\n    set(index: number, object: object | T): T {\n        const item = this._createItem(object);\n        if (index < this.size()) {\n            this.items[index] = item;\n        } else {\n            this.push(item);\n        }\n        return item;\n    }\n\n    /**\n     * Finds an existing item by its ID and merges the given object's\n     * properties into it. This is useful for updating an item in-place\n     * without changing its reference in the collection.\n     *\n     * @param {object | T} object The object containing updated properties\n     *     and an ID matching an existing item.\n     * @returns {T | null} The updated item if found, or `null` if no item\n     *     with a matching ID exists.\n     *\n     * @example\n     * const col = new Collection([{ id: 1, name: 'Alice' }]);\n     * col.replace({ id: 1, name: 'Alicia' });\n     * col.findById(1).get('name'); // 'Alicia'\n     */\n    replace(object: object | T): T | null {\n        const item = this._createItem(object);\n        if (item && instanceOf(item, Objekt)) {\n            const id = (item as any as Objekt).get<Id>(this.options.id);\n            const oldKnot = this.findById(id);\n            if (oldKnot && instanceOf(oldKnot, Objekt)) {\n                (oldKnot as any as Objekt).merge(item);\n                return oldKnot;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Returns the raw internal array of items. The returned array is the\n     * same reference used internally, so mutations will affect the\n     * collection.\n     *\n     * @returns {Array<T>} The internal items array.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }]);\n     * col.getItems().length; // 2\n     */\n    getItems(): Array<T> {\n        return this.items;\n    }\n\n    /**\n     * Core iteration method that filters and processes items in a single\n     * pass. The `callback` predicate determines which items to include, and\n     * the `next` function is invoked for each matching item. Returns the\n     * array of matching items.\n     *\n     * @param {Function} callback Predicate receiving an item; return `true`\n     *     to include it.\n     * @param {Function} next Function invoked with `(item, index)` for each\n     *     matching item.\n     * @param {Array<T>} [opt_items] Items to iterate over; defaults to the\n     *     collection's internal array.\n     * @returns {Array<T>} Array of items that matched the callback predicate.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }, { id: 3 }]);\n     * const evens = col.iterator(\n     *     (item) => item.get('id') % 2 === 0,\n     *     (item) => console.log(item.get('id')),\n     * );\n     * // Logs: 2\n     * // evens.length === 1\n     */\n    iterator(\n        callback: (_item: T) => boolean,\n        next: (_item: T, _index: number) => void,\n        opt_items?: Array<T> | undefined,\n    ): Array<T> {\n        opt_items = opt_items || this.items;\n        const results: T[] = [];\n        eachArray(opt_items, (item, index) => {\n            if (callback(item)) {\n                next(item, index);\n                results.push(item);\n            }\n        });\n        return results;\n    }\n\n    /**\n     * Iterates over every item in the collection, invoking the callback for\n     * each one. This is a convenience wrapper around {@link Collection.iterator}\n     * that accepts all items.\n     *\n     * @param {Function} next Function invoked with `(item, index)` for each\n     *     item.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }]);\n     * col.each((item, index) => {\n     *     console.log(index, item.get('id'));\n     * });\n     * // Logs: 0 1, 1 2\n     */\n    each(next: (_item: T, _index: number) => void): void {\n        this.iterator(() => {\n            return true;\n        }, next);\n    }\n\n    /**\n     * Returns the item at the given index. If `opt_attribute` is provided\n     * and the item is an {@link Objekt}, the attribute value is extracted\n     * and returned instead of the item itself.\n     *\n     * @template K The type of the extracted attribute value.\n     * @param {number} index Zero-based index of the item to retrieve.\n     * @param {string} [opt_attribute] Optional dot-notation attribute to\n     *     extract from the item via {@link Objekt.get}.\n     * @returns {T | K | null} The item, the extracted attribute value, or\n     *     `null` if the index is out of bounds.\n     *\n     * @example\n     * const col = new Collection([{ id: 1, name: 'Alice' }]);\n     * col.get(0);           // Objekt { id: 1, name: 'Alice' }\n     * col.get(0, 'name');   // 'Alice'\n     * col.get(99);          // null\n     */\n    get<K = T>(\n        index: number,\n        opt_attribute?: string | undefined,\n    ): T | K | null {\n        if (index >= 0 && index < this.items.length) {\n            const item = this.items[index];\n            if (item && opt_attribute && instanceOf(item, Objekt)) {\n                return (item as any as Objekt).get<K>(opt_attribute);\n            }\n            return item;\n        }\n        return null;\n    }\n\n    /**\n     * Finds an item by its ID and optionally extracts an attribute value.\n     * Combines {@link Collection.findById} and {@link Objekt.get} in a\n     * single call.\n     *\n     * @template K The type of the extracted attribute value.\n     * @param {Id} id The identifier value to search for.\n     * @param {string} [opt_attribute] Optional dot-notation attribute to\n     *     extract from the found item.\n     * @returns {T | K | null} The item, the extracted attribute value, or\n     *     `null` if no item matches.\n     *\n     * @example\n     * const col = new Collection([{ id: 1, name: 'Alice' }]);\n     * col.getById(1);           // Objekt { id: 1, name: 'Alice' }\n     * col.getById(1, 'name');   // 'Alice'\n     * col.getById(999);         // null\n     */\n    getById<K = T>(id: Id, opt_attribute?: string): T | K | null {\n        const item = this.findById(id);\n        if (item && opt_attribute && instanceOf(item, Objekt)) {\n            return (item as any as Objekt).get<K>(opt_attribute);\n        }\n        return item;\n    }\n\n    /**\n     * Removes all items from the collection, resetting its size to zero.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }]);\n     * col.clear();\n     * col.size(); // 0\n     */\n    clear(): void {\n        clear(this.items);\n    }\n\n    /**\n     * Finds the first item whose configured ID attribute matches the given\n     * value.\n     *\n     * @param {Id} id The identifier value to search for (compared with\n     *     strict equality).\n     * @returns {T | null} The matching item, or `null` if not found.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }]);\n     * col.findById(2).get('id'); // 2\n     * col.findById(99);          // null\n     */\n    findById(id: Id): T | null {\n        return this.findBy(this.options.id, id);\n    }\n\n    /**\n     * Finds the first item where the given attribute equals the specified\n     * value (strict equality).\n     *\n     * @param {string} attribute Dot-notation attribute path to compare.\n     * @param {any} value The value to match against.\n     * @returns {T | null} The first matching item, or `null` if not found.\n     *\n     * @example\n     * const col = new Collection([\n     *     { id: 1, role: 'admin' },\n     *     { id: 2, role: 'user' },\n     * ]);\n     * col.findBy('role', 'admin').get('id'); // 1\n     */\n    findBy(attribute: string, value: any): T | null {\n        return this.findByCondition((_item: T, i: number) => {\n            return this.get(i, attribute) === value;\n        });\n    }\n\n    /**\n     * Finds the first item for which the condition callback returns `true`.\n     * Items are tested sequentially from index 0.\n     *\n     * @param {Function} conditionCallback Predicate receiving `(item, index)`;\n     *     return `true` to select the item.\n     * @returns {T | null} The first matching item, or `null` if none match.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }, { id: 3 }]);\n     * const item = col.findByCondition((item) => item.get('id') > 1);\n     * item.get('id'); // 2\n     */\n    findByCondition(conditionCallback: Function): T | null {\n        let i = 0;\n        while (i < this.items.length && !conditionCallback(this.items[i], i)) {\n            i++;\n        }\n        return this.get(i) as T | null;\n    }\n\n    /**\n     * Returns all items where the given attribute equals the specified value\n     * (strict equality).\n     *\n     * @param {string} attribute Dot-notation attribute path to compare.\n     * @param {any} value The value to match against.\n     * @returns {Array<T>} Array of all matching items (may be empty).\n     *\n     * @example\n     * const col = new Collection([\n     *     { id: 1, role: 'user' },\n     *     { id: 2, role: 'admin' },\n     *     { id: 3, role: 'user' },\n     * ]);\n     * col.findAllBy('role', 'user').length; // 2\n     */\n    findAllBy(attribute: string, value: any): Array<T> {\n        return this.findAllByCondition((_item: T, i: number) => {\n            return this.get(i, attribute) === value;\n        });\n    }\n\n    /**\n     * Returns all items for which the condition callback returns `true`.\n     *\n     * @param {Function} conditionCallback Predicate receiving `(item, index)`;\n     *     return `true` to include the item.\n     * @returns {Array<T>} Array of all matching items (may be empty).\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }, { id: 3 }]);\n     * const items = col.findAllByCondition((item) => item.get('id') >= 2);\n     * items.length; // 2\n     */\n    findAllByCondition(conditionCallback: Function): Array<T> {\n        const items: T[] = [];\n        eachArray(this.items, (item, i) => {\n            if (conditionCallback(item, i)) {\n                items.push(this.get(i) as T);\n            }\n        });\n        return items;\n    }\n\n    /**\n     * Removes the first item that is strictly equal to the given value\n     * (reference equality via {@link eq}).\n     *\n     * @param {object | T} value The item reference to delete.\n     * @returns {T | null} The deleted item, or `null` if not found.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }]);\n     * const item = col.get(0);\n     * col.delete(item);\n     * col.size(); // 0\n     */\n    delete(value: object | T): T | null {\n        return this.deleteByCondition((item: T) => {\n            return eq(item, value);\n        });\n    }\n\n    /**\n     * Removes the first item whose configured ID attribute matches the\n     * given value.\n     *\n     * @param {Id} id The identifier of the item to remove.\n     * @returns {T | null} The deleted item, or `null` if no match was found.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }]);\n     * const deleted = col.deleteById(1);\n     * deleted.get('id'); // 1\n     * col.size();        // 1\n     */\n    deleteById(id: Id): T | null {\n        return this.deleteBy(this.options.id, id);\n    }\n\n    /**\n     * Removes the first item where the given attribute equals the specified\n     * value.\n     *\n     * @param {string} attribute Dot-notation attribute path to compare.\n     * @param {any} value The value to match against.\n     * @returns {T | null} The deleted item, or `null` if no match was found.\n     *\n     * @example\n     * const col = new Collection([\n     *     { id: 1, role: 'admin' },\n     *     { id: 2, role: 'user' },\n     * ]);\n     * col.deleteBy('role', 'user');\n     * col.size(); // 1\n     */\n    deleteBy(attribute: string, value: any): T | null {\n        return this.deleteByCondition((item: T, i: number) => {\n            return this.get(i, attribute) === value;\n        });\n    }\n\n    /**\n     * Removes the first item for which the condition callback returns `true`.\n     * The item is spliced from the internal array and returned.\n     *\n     * @param {Function} conditionCallback Predicate receiving `(item, index)`;\n     *     return `true` to delete the item.\n     * @returns {T | null} The deleted item, or `null` if no match was found.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }, { id: 3 }]);\n     * const deleted = col.deleteByCondition((item) => item.get('id') === 2);\n     * deleted.get('id'); // 2\n     * col.size();        // 2\n     */\n    deleteByCondition(conditionCallback: Function): T | null {\n        let i = 0;\n        while (i < this.items.length && !conditionCallback(this.items[i], i)) {\n            i++;\n        }\n        const item = this.get(i) as T | null;\n        this.items.splice(i, 1);\n        return item;\n    }\n\n    /**\n     * Removes all items where the given attribute equals the specified value.\n     *\n     * @param {string} attribute Dot-notation attribute path to compare.\n     * @param {any} value The value to match against.\n     * @returns {Array<T>} Array of all deleted items.\n     *\n     * @example\n     * const col = new Collection([\n     *     { id: 1, role: 'user' },\n     *     { id: 2, role: 'admin' },\n     *     { id: 3, role: 'user' },\n     * ]);\n     * const deleted = col.deleteAllBy('role', 'user');\n     * deleted.length; // 2\n     * col.size();     // 1\n     */\n    deleteAllBy(attribute: string, value: any): Array<T> {\n        return this.deleteAllByCondition((_item: T, i: number) => {\n            return this.get(i, attribute) === value;\n        });\n    }\n\n    /**\n     * Removes all items for which the condition callback returns `true`.\n     * The internal array is rebuilt to contain only non-matching items.\n     *\n     * @param {Function} conditionCallback Predicate receiving `(item, index)`;\n     *     return `true` to delete the item.\n     * @returns {Array<T>} Array of all deleted items.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }, { id: 3 }]);\n     * const deleted = col.deleteAllByCondition(\n     *     (item) => item.get('id') % 2 !== 0,\n     * );\n     * deleted.length; // 2 (ids 1 and 3)\n     * col.size();     // 1 (id 2 remains)\n     */\n    deleteAllByCondition(conditionCallback: Function): Array<T> {\n        const items: T[] = [];\n        const deletedKnots: T[] = [];\n        eachArray(this.items, (item, i) => {\n            if (conditionCallback(item, i)) {\n                deletedKnots.push(this.get(i) as T);\n            } else {\n                items.push(this.get(i) as T);\n            }\n        });\n        this.items = items;\n        return deletedKnots;\n    }\n\n    /**\n     * Returns the number of items currently in the collection.\n     *\n     * @returns {number} The item count.\n     *\n     * @example\n     * const col = new Collection([{ id: 1 }, { id: 2 }]);\n     * col.size(); // 2\n     */\n    size(): number {\n        return this.items.length;\n    }\n\n    /**\n     * Returns a slice of the collection's items for pagination. The slice\n     * starts at `offset` and contains up to `opt_count` items.\n     *\n     * @param {number} offset Zero-based starting index of the slice.\n     * @param {number} [opt_count=10] Maximum number of items to return.\n     * @returns {Array<T>} The sliced subset of items.\n     *\n     * @example\n     * const col = new Collection([\n     *     { id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }, { id: 5 },\n     * ]);\n     * col.limit(1, 2); // [Objekt{id:2}, Objekt{id:3}]\n     * col.limit(3);    // [Objekt{id:4}, Objekt{id:5}]\n     */\n    limit(offset: number, opt_count: number | undefined = 10): Array<T> {\n        return this.items.slice(offset, offset + opt_count);\n    }\n}\n", "/**\n * @module log\n *\n * Conditional console logging utilities.\n *\n * Provides thin wrappers around native `console.*` methods that respect\n * the application's release mode setting. When `releaseMode` is `true`\n * (imported from `../common/config`), informational logging\n * ({@link consoleLog}, {@link consoleInfo}, {@link consoleWarn}) is\n * suppressed to keep production output clean. Error, debug, and assert\n * output is always emitted regardless of the mode.\n *\n * @category Utility\n */\n\nimport { releaseMode } from '../common/config';\n\n/**\n * Logs messages to `console.log`.\n *\n * Output is suppressed when `releaseMode` is `true`.\n *\n * @param message - One or more values to log.\n * @category Utility\n *\n * @example\n * consoleLog('User loaded', userId);\n */\nexport const consoleLog = (...message: any[]) => {\n    if (!releaseMode) {\n        console.log(...message);\n    }\n};\n\n/**\n * Logs informational messages to `console.info`.\n *\n * Output is suppressed when `releaseMode` is `true`.\n *\n * @param message - One or more values to log.\n * @category Utility\n *\n * @example\n * consoleInfo('Cache refreshed');\n */\nexport const consoleInfo = (...message: any[]) => {\n    if (!releaseMode) {\n        console.info(...message);\n    }\n};\n\n/**\n * Logs warning messages to `console.warn`.\n *\n * Output is suppressed when `releaseMode` is `true`.\n *\n * @param message - One or more values to log.\n * @category Utility\n *\n * @example\n * consoleWarn('Deprecated method called');\n */\nexport const consoleWarn = (...message: any[]) => {\n    if (!releaseMode) {\n        console.warn(...message);\n    }\n};\n\n/**\n * Logs error messages to `console.error`.\n *\n * Always outputs regardless of `releaseMode`, ensuring that errors\n * are never silently swallowed in production.\n *\n * @param message - One or more values to log.\n * @category Utility\n *\n * @example\n * consoleError('Failed to load config', error);\n */\nexport const consoleError = (...message: any[]) => {\n    console.error(...message);\n};\n\n/**\n * Logs debug messages to `console.debug`.\n *\n * Always outputs regardless of `releaseMode`, allowing fine-grained\n * debugging that can be filtered in browser developer tools.\n *\n * @param message - One or more values to log.\n * @category Utility\n *\n * @example\n * consoleDebug('State transition', prevState, nextState);\n */\nexport const consoleDebug = (...message: any[]) => {\n    console.debug(...message);\n};\n\n/**\n * Asserts a condition using `console.assert`.\n *\n * Always outputs regardless of `releaseMode`. If `condition` is falsy,\n * the assertion message and optional data are written to the console.\n *\n * @param condition - The boolean condition to assert.\n * @param data - Additional values to include in the assertion output.\n * @category Utility\n *\n * @example\n * consoleAssert(items.length > 0, 'Items array must not be empty');\n */\nexport const consoleAssert = (condition: boolean, ...data: any[]) => {\n    console.assert(condition, ...data);\n};\n", "import {\n    contain,\n    each,\n    eachArray,\n    eachObject,\n    eq,\n    isArray,\n    isFunction,\n    isInfinity,\n    isString,\n    isUndefined,\n    noop,\n    typeCast,\n} from '../utils/operation';\nimport { consoleWarn } from '../utils/log';\nimport { Listener } from '../utils';\n\n/**\n * DOM element wrapper that provides a convenient, chainable API for\n * manipulating HTML elements.  Every element managed by the SUI framework\n * is wrapped in a `Knot` instance, which offers attribute, class, event,\n * style, data, and DOM-tree operations while tracking a logical parent\n * that may differ from the native DOM parentNode.\n *\n * The generic parameter `T` constrains the underlying element type, giving\n * callers type-safe access to element-specific properties via\n * {@link Knot.getNode}.\n *\n * @example\n * // Create a new <div> element\n * const div = new Knot<HTMLDivElement>('div');\n * div.setId('container');\n * div.addClass('card');\n *\n * // Wrap an existing DOM element\n * const body = new Knot(document.body);\n * body.appendChild(div);\n *\n * // Parse an HTML string into a Knot\n * const link = new Knot<HTMLAnchorElement>('<a href=\"/home\">Home</a>');\n *\n * @see {@link Query} for selecting multiple Knot elements from the DOM\n * @see {@link Objekt} for the framework's plain-object wrapper\n * @category Core\n */\nexport class Knot<T extends HTMLElement = HTMLElement> {\n    /** The underlying DOM element managed by this wrapper. */\n    node: T;\n    /** Logical parent in the framework's element tree. */\n    parentKnot: Knot | undefined;\n    /** Property name used to store event listeners on the DOM node. */\n    listenerStoreKey: string;\n\n    /**\n     * Creates a new Knot by wrapping an existing element, creating one from\n     * a tag name, or parsing an HTML string.\n     *\n     * @param node Tag name (e.g. `'div'`), HTML string\n     *     (e.g. `'<span>text</span>'`), an existing HTMLElement, or `null`.\n     * @param opt_parentKnot Optional logical parent Knot to track in\n     *     the framework's element tree.\n     * @example\n     * // From a tag name\n     * const span = new Knot('span');\n     *\n     * // From an HTML fragment\n     * const fragment = new Knot('<p class=\"intro\">Hello</p>');\n     *\n     * // From an existing element, with a parent\n     * const child = new Knot(document.getElementById('child'), parentKnot);\n     */\n    constructor(\n        node: (T | HTMLElement | string) | null,\n        opt_parentKnot?: Knot | undefined,\n    ) {\n        if (isString(node)) {\n            if (contain(node, '<') && contain(node, '</')) {\n                const template = document.createElement('template');\n                template.innerHTML = node;\n                node = template.content.firstElementChild as any as T;\n            } else {\n                node = document.createElement(node) as any as T;\n            }\n        }\n        this.node = node as T;\n        this.parentKnot = opt_parentKnot;\n        this.listenerStoreKey = '_listeners';\n    }\n\n    /**\n     * Replaces the logical parent tracked by this Knot.\n     *\n     * @param parentKnot The new parent Knot, or `undefined` to clear\n     *     the parent reference.\n     */\n    setParentKnot(parentKnot: Knot | undefined): void {\n        this.parentKnot = parentKnot;\n    }\n\n    /**\n     * Sets an attribute on the underlying element. If the attribute is\n     * `'id'`, delegates to {@link Knot.setId} for consistent handling.\n     *\n     * @param attribute Attribute name to set (e.g. `'href'`, `'id'`).\n     * @param value Attribute value; will be converted to a string\n     *     by the underlying DOM API.\n     * @example\n     * knot.set('title', 'Click me');\n     * knot.set('id', 'main-nav');\n     */\n    set(attribute: string, value: boolean | number | string): void {\n        if (eq(attribute, 'id')) {\n            this.setId(value);\n        } else {\n            this.setAttribute(attribute, value);\n        }\n    }\n\n    /**\n     * Sets multiple attributes at once by iterating over the supplied\n     * key-value pairs and delegating each to {@link Knot.set}.\n     *\n     * @param properties Object whose keys are attribute names and values\n     *     are the corresponding attribute values.\n     * @example\n     * knot.merge({ id: 'logo', class: 'brand', title: 'Home' });\n     */\n    merge(properties: object): void {\n        eachObject(properties, (value, attribute) => {\n            this.set(attribute, value);\n        });\n    }\n\n    /**\n     * Retrieves the value of an attribute. Delegates to {@link Knot.getId}\n     * when the attribute is `'id'`, otherwise calls\n     * {@link Knot.getAttribute}.\n     *\n     * @param attribute Attribute name to read.\n     * @returns The attribute value, type-cast from its string\n     *     representation, or `null` if the attribute does not exist.\n     * @example\n     * const href = knot.get('href');\n     */\n    get(attribute: string): any {\n        if (eq(attribute, 'id')) {\n            return this.getId();\n        }\n        return this.getAttribute(attribute);\n    }\n\n    /**\n     * Returns the raw DOM element wrapped by this Knot, allowing direct\n     * access to native DOM APIs when needed.\n     *\n     * @returns The underlying DOM element of type `T`.\n     * @example\n     * const input = knot.getNode() as HTMLInputElement;\n     * input.focus();\n     */\n    getNode(): T {\n        return this.node;\n    }\n\n    /**\n     * Returns the lower-cased tag name of the underlying element\n     * (e.g. `'div'`, `'input'`).\n     *\n     * @returns Lower-cased HTML tag name.\n     * @example\n     * const tag = knot.getTagName(); // 'div'\n     */\n    getTagName(): string {\n        return this.node.tagName.toLowerCase();\n    }\n\n    /**\n     * Returns the element's `id`, or `null` if no id is set.\n     *\n     * @returns The element id string, or `null`.\n     * @example\n     * const id = knot.getId(); // 'main-nav' or null\n     */\n    getId(): string | null {\n        return this.node.id || null;\n    }\n\n    /**\n     * Sets the element's `id` attribute.\n     *\n     * @param id Value to assign as the element id; converted to a string.\n     * @example\n     * knot.setId('sidebar');\n     */\n    setId(id: boolean | number | string): void {\n        this.node.id = id.toString();\n    }\n\n    /**\n     * Sets the `for` attribute on a `<label>` element, linking it to a\n     * form control by id. Updates both the DOM property and the HTML\n     * attribute for maximum compatibility.\n     *\n     * @param htmlFor The id of the form control this label refers to.\n     * @example\n     * const label = new Knot<HTMLLabelElement>('label');\n     * label.setFor('email-input');\n     */\n    setFor(htmlFor: boolean | number | string): void {\n        (this.node as any as HTMLLabelElement).htmlFor = htmlFor.toString();\n        this.setAttribute('for', htmlFor);\n    }\n\n    /**\n     * Returns the `for` attribute value from a `<label>` element.\n     * Reads the DOM property first, falling back to the HTML attribute.\n     *\n     * @returns The associated form control id, or `null`.\n     * @example\n     * const targetId = label.getFor(); // 'email-input'\n     */\n    getFor(): string | null {\n        return (\n            (this.node as any as HTMLLabelElement).htmlFor ||\n            this.getAttribute('for')\n        );\n    }\n\n    /**\n     * Checks whether the element has the given CSS class.\n     *\n     * @param cssClass Class name to test.\n     * @returns `true` if the class is present on the element.\n     * @example\n     * if (knot.hasClass('active')) { ... }\n     */\n    hasClass(cssClass: string): boolean {\n        return this.node.classList.contains(cssClass);\n    }\n\n    /**\n     * Iterates over one or more CSS class names and invokes the callback\n     * for each individual class.\n     *\n     * @param cssClasses A single class name or an array of class names.\n     * @param callback Function to call for each class name.\n     */\n    private _handleClassList(\n        cssClasses: Array<string> | string,\n        callback: Function,\n    ): void {\n        if (isArray(cssClasses)) {\n            each(cssClasses, (cssClass) => {\n                callback(cssClass);\n            });\n        } else {\n            callback(cssClasses);\n        }\n    }\n\n    /**\n     * Adds one or more CSS classes to the element. Classes that are\n     * already present are not duplicated.\n     *\n     * @param cssClasses A single class name or an array of class names\n     *     to add.\n     * @example\n     * knot.addClass('visible');\n     * knot.addClass(['card', 'elevation-2']);\n     */\n    addClass(cssClasses: Array<string> | string): void {\n        this._handleClassList(cssClasses, (cssClass: string) => {\n            if (cssClass && !this.hasClass(cssClass)) {\n                this.node.classList.add(cssClass);\n            }\n        });\n    }\n\n    /**\n     * Removes one or more CSS classes from the element.\n     *\n     * @param cssClasses A single class name or an array of class names\n     *     to remove.\n     * @example\n     * knot.removeClass('hidden');\n     * knot.removeClass(['fade-in', 'animate']);\n     */\n    removeClass(cssClasses: Array<string> | string): void {\n        this._handleClassList(cssClasses, (cssClass: string) => {\n            this.node.classList.remove(cssClass);\n        });\n    }\n\n    /**\n     * Toggles one or more CSS classes on the element. Each class is\n     * added if absent, or removed if present.\n     *\n     * @param cssClasses A single class name or an array of class names\n     *     to toggle.\n     * @example\n     * knot.toggleClass('expanded');\n     */\n    toggleClass(cssClasses: Array<string> | string): void {\n        this._handleClassList(cssClasses, (cssClass: string) => {\n            this.node.classList.toggle(cssClass);\n        });\n    }\n\n    /**\n     * Returns all CSS classes currently applied to the element.\n     *\n     * @returns Array of class name strings.\n     * @example\n     * const classes = knot.getClasses(); // ['card', 'elevation-2']\n     */\n    getClasses(): Array<string> {\n        return this.node.classList.value.split(' ');\n    }\n\n    /**\n     * Sets a single attribute on the underlying element. Handles three\n     * special cases:\n     *\n     * 1. **Function values** are assigned as DOM properties (e.g. event\n     *    handlers).\n     * 2. **`data-*` attributes** with non-string, non-Infinity values\n     *    are JSON-serialized before being stored.\n     * 3. All other values are set via the standard `setAttribute` API.\n     *\n     * When called without a value and the attribute name does not start\n     * with `data-`, the attribute name is used as both name and value\n     * (boolean-attribute shorthand).\n     *\n     * @param attribute Attribute name (e.g. `'href'`, `'data-config'`).\n     * @param opt_value Value to assign. Accepts primitives, objects\n     *     (JSON-serialized for data attributes), functions, arrays, or\n     *     `null`/`undefined`.\n     * @example\n     * knot.setAttribute('href', '/about');\n     * knot.setAttribute('data-options', { page: 1, limit: 20 });\n     * knot.setAttribute('disabled');\n     */\n    setAttribute(\n        attribute: string,\n        opt_value?:\n            | (\n                  | object\n                  | Function\n                  | Array<any>\n                  | boolean\n                  | number\n                  | string\n                  | null\n                  | undefined\n              )\n            | undefined,\n    ): void {\n        const value =\n            !contain(attribute, 'data-') && isUndefined(opt_value)\n                ? attribute\n                : opt_value;\n        if (isFunction(value)) {\n            (this.node as any)[attribute] = value;\n        } else if (\n            contain(attribute, 'data-') &&\n            !isString(value) &&\n            !isInfinity(value)\n        ) {\n            this.node.setAttribute(attribute, JSON.stringify(value));\n        } else {\n            this.node.setAttribute(attribute, value as string);\n        }\n    }\n\n    /**\n     * Reads an attribute from the element. For `data-*` attributes whose\n     * stored value begins with `\"`, `[`, or `{`, the value is\n     * JSON-parsed before being returned. All other values are run through\n     * `typeCast` to convert numeric strings to numbers, etc.\n     *\n     * @param attribute Attribute name to read.\n     * @returns The parsed or type-cast attribute value, or `null` when\n     *     the attribute is not present.\n     * @example\n     * knot.setAttribute('data-count', 42);\n     * const count = knot.getAttribute('data-count'); // 42 (number)\n     */\n    getAttribute(attribute: string): any {\n        const data = this.node.getAttribute(attribute);\n        if (\n            contain(attribute, 'data-') &&\n            data &&\n            (eq(data[0], '\"') || eq(data[0], '[') || eq(data[0], '{'))\n        ) {\n            return JSON.parse(data);\n        }\n        return typeCast(data);\n    }\n\n    /**\n     * Removes an attribute from the element.\n     *\n     * @param attribute Attribute name to remove.\n     * @example\n     * knot.removeAttribute('disabled');\n     */\n    removeAttribute(attribute: string): void {\n        this.node.removeAttribute(attribute);\n    }\n\n    /**\n     * Checks whether the element has the specified attribute.\n     *\n     * @param attribute Attribute name to test.\n     * @returns `true` if the attribute exists on the element.\n     * @example\n     * if (knot.hasAttribute('data-loaded')) { ... }\n     */\n    hasAttribute(attribute: string): boolean {\n        return this.node.hasAttribute(attribute);\n    }\n\n    /**\n     * Attaches an event listener to the element. The native event is\n     * automatically stopped from propagating. If the callback returns a\n     * falsy value, the event's default action is also prevented.\n     *\n     * The listener is stored internally so it can later be removed via\n     * {@link Knot.removeEventListeners}.\n     *\n     * @param eventName DOM event name (e.g. `'click'`, `'input'`).\n     * @param opt_callback Handler that receives this Knot and the native\n     *     Event. Return a truthy value to allow the default action, or\n     *     falsy to call `preventDefault()`.\n     * @returns The wrapped listener function that was registered on the\n     *     DOM node. Keep this reference if you need to remove the\n     *     listener individually with {@link Knot.removeEventListener}.\n     * @example\n     * knot.addEventListener('click', (knot, event) => {\n     *     console.log('Clicked:', knot.getId());\n     *     return true; // allow default action\n     * });\n     */\n    addEventListener(\n        eventName: string,\n        opt_callback?: (knot: Knot<T>, event: any) => any,\n    ): Function {\n        let listener: any = noop();\n        if (opt_callback) {\n            listener = (event: Event) => {\n                event.stopPropagation();\n                if (!opt_callback(this, event)) {\n                    event.preventDefault();\n                }\n            };\n            this.node.addEventListener(eventName, listener);\n            this._addListenerToStore(eventName, listener);\n        }\n        return listener;\n    }\n\n    /**\n     * Stores a listener reference on the DOM node for later retrieval\n     * and cleanup.\n     *\n     * @param eventName DOM event name the listener is bound to.\n     * @param listener The listener function to store.\n     */\n    private _addListenerToStore(eventName: string, listener: Function): void {\n        const node = this.node as Record<string, any>;\n        if (!node[this.listenerStoreKey]) {\n            node[this.listenerStoreKey] = {};\n        }\n        if (!node[this.listenerStoreKey][eventName]) {\n            node[this.listenerStoreKey][eventName] = [];\n        }\n        node[this.listenerStoreKey][eventName].push(listener);\n    }\n\n    /**\n     * Retrieves all stored listeners for a given event name.\n     *\n     * @param eventName DOM event name to look up.\n     * @returns Array of listener functions, or an empty array when none\n     *     are stored.\n     */\n    private _getListenersFromStore(eventName: string): Listener[] {\n        const node = this.node as Record<string, any>;\n        if (\n            node[this.listenerStoreKey] ||\n            node[this.listenerStoreKey][eventName]\n        ) {\n            return node[this.listenerStoreKey][eventName];\n        }\n        return [];\n    }\n\n    /**\n     * Removes a single, previously registered event listener from the\n     * element.\n     *\n     * @param eventName DOM event name the listener was bound to.\n     * @param listener The exact listener function reference returned by\n     *     {@link Knot.addEventListener}.\n     * @example\n     * const listener = knot.addEventListener('click', handler);\n     * knot.removeEventListener('click', listener);\n     */\n    removeEventListener(\n        eventName: keyof GlobalEventHandlersEventMap,\n        listener: Listener,\n    ): void {\n        this.node.removeEventListener(eventName, listener);\n    }\n\n    /**\n     * Removes all listeners previously registered for the given event\n     * name via {@link Knot.addEventListener}. Uses the internal listener\n     * store to find every registered handler.\n     *\n     * @param eventName DOM event name whose listeners should be removed.\n     * @example\n     * knot.removeEventListeners('click');\n     */\n    removeEventListeners(eventName: keyof GlobalEventHandlersEventMap): void {\n        const listeners = this._getListenersFromStore(eventName);\n        eachArray(listeners, (listener) => {\n            this.removeEventListener(eventName, listener);\n        });\n    }\n\n    /**\n     * Dispatches a DOM event on the underlying element.\n     *\n     * @param event The Event object to dispatch.\n     * @example\n     * knot.dispatchEvent(new CustomEvent('my-event', { detail: 42 }));\n     */\n    dispatchEvent(event: Event): void {\n        this.node.dispatchEvent(event);\n    }\n\n    /**\n     * Creates and dispatches a synthetic DOM event, triggering any\n     * listeners bound to the given event name.\n     *\n     * @param eventName Name of the event to fire (e.g. `'change'`).\n     * @example\n     * knot.trigger('change');\n     */\n    trigger(eventName: string): void {\n        // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\n        const event = new Event(eventName);\n        this.dispatchEvent(event);\n    }\n\n    /**\n     * Creates a new child element and returns it as a Knot whose\n     * {@link Knot.parentKnot} points to this instance.\n     *\n     * @param tagName HTML tag name for the new element (e.g. `'span'`).\n     * @returns A new {@link Knot} wrapping the created element.\n     * @example\n     * const li = ul.createElement<HTMLLIElement>('li');\n     * li.setText('Item 1');\n     */\n    createElement<K extends HTMLElement = HTMLElement>(\n        tagName: string,\n    ): Knot<K> {\n        const node = document.createElement(tagName);\n        return new Knot<K>(node, this);\n    }\n\n    /**\n     * Appends a child Knot's element to this element in the DOM.\n     *\n     * @param knot The child Knot to append.\n     * @example\n     * const container = new Knot('div');\n     * const paragraph = new Knot('<p>Hello</p>');\n     * container.appendChild(paragraph);\n     */\n    appendChild(knot: Knot): void {\n        this.node.appendChild(knot.getNode());\n    }\n\n    /**\n     * Removes all child nodes from the element, leaving it empty.\n     *\n     * @example\n     * knot.removeChildren(); // clears all inner content\n     */\n    removeChildren(): void {\n        while (this.hasChildren()) {\n            this.node.removeChild(this.node.firstChild!);\n        }\n    }\n\n    /**\n     * Checks whether the element has any child nodes.\n     *\n     * @returns `true` if the element contains at least one child node.\n     * @example\n     * if (knot.hasChildren()) { ... }\n     */\n    hasChildren(): boolean {\n        return this.node.hasChildNodes();\n    }\n\n    /**\n     * Removes a specific child Knot from this element. Logs a warning\n     * if the child is not found instead of throwing.\n     *\n     * @param knot The child Knot to remove.\n     * @example\n     * parent.removeChild(child);\n     */\n    removeChild(knot: Knot): void {\n        if (this.hasChildren()) {\n            try {\n                this.node.removeChild(knot.getNode());\n            } catch (e) {\n                consoleWarn(e);\n            }\n        }\n    }\n\n    /**\n     * Removes this element from its parent in the DOM. Uses the logical\n     * {@link Knot.parentKnot} if available, otherwise falls back to the\n     * native `parentElement`.\n     *\n     * @example\n     * knot.remove(); // detaches from the DOM tree\n     */\n    remove(): void {\n        const parentElement = this._getParentElement();\n        if (!this.isEmpty() && parentElement) {\n            parentElement.removeChild(this.node);\n        }\n    }\n\n    /**\n     * Replaces all children of this element with a single new child.\n     * Equivalent to calling {@link Knot.removeChildren} followed by\n     * {@link Knot.appendChild}.\n     *\n     * @param knot The Knot to insert as the sole child.\n     * @example\n     * container.insert(newContent);\n     */\n    insert(knot: Knot): void {\n        this.removeChildren();\n        this.appendChild(knot);\n    }\n\n    /**\n     * Inserts a Knot before the first child of this element. If there\n     * are no existing children, the element is still inserted using\n     * `insertBefore` with a `null` reference node.\n     *\n     * @param knot The Knot to prepend.\n     * @returns `true` if a reference child existed, `false` otherwise.\n     * @example\n     * list.beforeChild(newFirstItem);\n     */\n    beforeChild(knot: Knot): boolean {\n        const referenceKnot =\n            this.node.firstChild || this.node.firstElementChild;\n        if (referenceKnot) {\n            this.node.insertBefore(knot.getNode(), referenceKnot);\n            return true;\n        }\n        // TODO: refactor to use other technique\n        this.node.insertBefore(knot.getNode(), referenceKnot);\n        return false;\n    }\n\n    /**\n     * Appends a Knot after the last child by appending it to the parent\n     * element.\n     *\n     * @param knot The Knot to append after existing children.\n     * @returns `true` if the parent element was found and the operation\n     *     succeeded, `false` otherwise.\n     * @example\n     * list.afterChild(newLastItem);\n     */\n    afterChild(knot: Knot): boolean {\n        const parentElement = this._getParentElement();\n        if (parentElement) {\n            parentElement.appendChild(knot.getNode());\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Inserts a Knot immediately before this element in the DOM, as a\n     * sibling.\n     *\n     * @param knot The Knot to insert before this element.\n     * @returns `true` if the parent element was found and the operation\n     *     succeeded, `false` otherwise.\n     * @example\n     * existingKnot.insertBefore(newSibling);\n     */\n    insertBefore(knot: Knot): boolean {\n        const parentElement = this._getParentElement();\n        if (parentElement) {\n            parentElement.insertBefore(knot.getNode(), this.node);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Inserts a Knot immediately after this element in the DOM, as a\n     * sibling.\n     *\n     * @param knot The Knot to insert after this element.\n     * @returns `true` if the parent element was found and the operation\n     *     succeeded, `false` otherwise.\n     * @example\n     * existingKnot.insertAfter(newSibling);\n     */\n    insertAfter(knot: Knot): boolean {\n        const nextSiblingKnot = this.getNextSibling();\n        const parentElement = this._getParentElement();\n        if (parentElement) {\n            parentElement.insertBefore(\n                knot.getNode(),\n                nextSiblingKnot.getNode(),\n            );\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Replaces this element in the DOM with the provided Knot's element.\n     *\n     * @param knot The replacement Knot whose element will take this\n     *     element's position.\n     * @returns `true` if the parent element was found and the replacement\n     *     succeeded, `false` otherwise.\n     * @example\n     * oldKnot.replaceChild(newKnot);\n     */\n    replaceChild(knot: Knot): boolean {\n        const parentElement = this._getParentElement();\n        if (parentElement) {\n            parentElement.replaceChild(knot.getNode(), this.node);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Returns the next sibling of this element, wrapped in a new Knot.\n     * Falls back to `nextElementSibling` if `nextSibling` is not\n     * available.\n     *\n     * @returns A new {@link Knot} wrapping the next sibling node.\n     * @example\n     * const next = knot.getNextSibling();\n     */\n    getNextSibling(): Knot {\n        const referenceKnot =\n            this.node.nextSibling || this.node.nextElementSibling;\n        return new Knot(referenceKnot as T);\n    }\n\n    /**\n     * Sets the inner HTML content of the element.\n     *\n     * @param text HTML string to set as `innerHTML`.\n     * @example\n     * knot.setHtml('<strong>Bold</strong> text');\n     */\n    setHtml(text: string): void {\n        this.node.innerHTML = text;\n    }\n\n    /**\n     * Returns the HTML representation of the element. By default returns\n     * the outer HTML (including the element's own tag). Pass `true` to\n     * get only the inner HTML.\n     *\n     * @param opt_isInner When `true`, returns `innerHTML`; otherwise\n     *     returns `outerHTML`. Defaults to `false`.\n     * @returns The HTML string, or an empty string if the node is empty.\n     * @example\n     * const outer = knot.getHtml();       // '<div>...</div>'\n     * const inner = knot.getHtml(true);   // '...'\n     */\n    getHtml(opt_isInner: boolean | undefined = false): string {\n        if (!this.isEmpty()) {\n            return opt_isInner ? this.node.innerHTML : this.node.outerHTML;\n        }\n        return '';\n    }\n\n    /**\n     * Sets the text content of the node via `nodeValue`. Useful for\n     * text nodes; for element content prefer {@link Knot.setHtml}.\n     *\n     * @param text Plain text string to assign.\n     * @example\n     * textNode.setText('Updated label');\n     */\n    setText(text: string): void {\n        this.node.nodeValue = text;\n    }\n\n    /**\n     * Returns the combined text content of the element and all its\n     * descendants.\n     *\n     * @returns The text content string.\n     * @example\n     * const label = knot.getText();\n     */\n    getText(): string {\n        return this.node.textContent;\n    }\n\n    /**\n     * Sets a `data-*` attribute on the element via the `dataset` API.\n     * Non-string, non-Infinity values are JSON-serialized before being\n     * stored, allowing complex data to be round-tripped through\n     * {@link Knot.getData}.\n     *\n     * @param name Dataset key in camelCase (e.g. `'userId'` maps to\n     *     the `data-user-id` attribute).\n     * @param value Value to store. Objects and arrays are\n     *     JSON-stringified automatically.\n     * @example\n     * knot.setData('userId', 42);\n     * knot.setData('config', { theme: 'dark', lang: 'en' });\n     */\n    setData(name: string, value: any): void {\n        if (!this.isEmpty()) {\n            let data = value;\n            if (!isString(value) && !isInfinity(value)) {\n                data = JSON.stringify(value);\n            }\n            this.node.dataset[name] = data;\n        }\n    }\n\n    /**\n     * Reads a `data-*` attribute from the element. Values that were\n     * JSON-serialized by {@link Knot.setData} are automatically parsed\n     * back into objects or arrays. Primitive-looking strings are\n     * type-cast (e.g. `'42'` becomes the number `42`).\n     *\n     * @param name Dataset key in camelCase.\n     * @returns The deserialized value, or `undefined` if the attribute\n     *     does not exist.\n     * @example\n     * const userId = knot.getData('userId');   // 42\n     * const config = knot.getData('config');   // { theme: 'dark' }\n     */\n    getData(name: string): any {\n        let data = this.node.dataset[name];\n        if (\n            data &&\n            (eq(data[0], '\"') || eq(data[0], '[') || eq(data[0], '{'))\n        ) {\n            data = JSON.parse(data);\n        }\n        return typeCast(data);\n    }\n\n    /**\n     * Removes a `data-*` attribute from the element by deleting both\n     * the `dataset` property and the corresponding HTML attribute.\n     *\n     * @param name Dataset key in camelCase.\n     * @example\n     * knot.removeData('userId');\n     */\n    removeData(name: string): void {\n        if (!this.isEmpty()) {\n            delete this.node.dataset[name];\n            this.node.removeAttribute('data-' + name);\n        }\n    }\n\n    /**\n     * Returns the parent element wrapped in a new Knot. Prefers the\n     * logical {@link Knot.parentKnot} if set; otherwise uses the\n     * native DOM `parentElement`.\n     *\n     * @returns A new {@link Knot} wrapping the parent element, or\n     *     `null` if no parent exists.\n     * @example\n     * const parent = knot.getParentKnot();\n     * if (parent) { parent.addClass('has-child'); }\n     */\n    getParentKnot(): Knot | null {\n        const parentElement = this._getParentElement();\n        if (parentElement) {\n            return new Knot(parentElement);\n        }\n        return null;\n    }\n\n    /**\n     * Resolves the parent HTMLElement, preferring the logical\n     * parentKnot over the native DOM parentElement.\n     *\n     * @returns The parent HTMLElement, or `null` if none is found.\n     */\n    private _getParentElement(): HTMLElement | null {\n        if (this.parentKnot && !this.parentKnot.isEmpty()) {\n            return this.parentKnot.getNode();\n        } else if (this.node) {\n            return this.node.parentElement;\n        }\n        return null;\n    }\n\n    /**\n     * Returns the computed style of the element as resolved by the\n     * browser's layout engine.\n     *\n     * @returns A read-only `CSSStyleDeclaration` with all computed\n     *     CSS property values, or `null` if unavailable.\n     * @example\n     * const style = knot.getComputedStyle();\n     * const color = style.getPropertyValue('color');\n     */\n    getComputedStyle(): CSSStyleDeclaration | null {\n        return window.getComputedStyle(this.node);\n    }\n\n    /**\n     * Returns the element's inline `style` object, allowing direct\n     * reads and writes of individual CSS properties.\n     *\n     * @returns The mutable `CSSStyleDeclaration` for inline styles.\n     * @example\n     * const display = knot.getStyle().display;\n     */\n    getStyle(): CSSStyleDeclaration {\n        return this.node.style;\n    }\n\n    /**\n     * Sets one or more inline CSS properties on the element using\n     * `style.setProperty`.\n     *\n     * @param properties Object whose keys are CSS property names\n     *     (e.g. `'background-color'`) and values are the corresponding\n     *     CSS values.\n     * @example\n     * knot.setStyle({ 'background-color': '#fff', 'opacity': '0.9' });\n     */\n    setStyle(properties: object): void {\n        eachObject(properties, (value, propertyName) => {\n            this.node.style.setProperty(propertyName, value, '');\n        });\n    }\n\n    /**\n     * Removes one or more inline CSS properties from the element.\n     *\n     * @param properties Array of CSS property names to remove\n     *     (e.g. `['background-color', 'opacity']`).\n     * @example\n     * knot.removeStyle(['background-color', 'opacity']);\n     */\n    removeStyle(properties: Array<any>): void {\n        each(properties, (property) => {\n            this.node.style.removeProperty(property);\n        });\n    }\n\n    /**\n     * Checks whether the underlying DOM node reference is falsy\n     * (e.g. `null` or `undefined`), indicating this Knot does not\n     * wrap a valid element.\n     *\n     * @returns `true` if the node is falsy.\n     * @example\n     * if (knot.isEmpty()) { return; }\n     */\n    isEmpty(): boolean {\n        return !this.node;\n    }\n\n    /**\n     * Checks whether the element is currently attached to the document\n     * body. Useful for verifying an element has not been removed from\n     * the DOM.\n     *\n     * @returns `true` if the element is a descendant of `document.body`.\n     * @example\n     * if (knot.exists()) {\n     *     knot.addClass('visible');\n     * }\n     */\n    exists(): boolean {\n        return document.body.contains(this.node);\n    }\n\n    /**\n     * Returns an HTML string representation of the element.\n     *\n     * @param opt_isRoot When `true` (default), returns the full\n     *     `outerHTML` including the element tag itself. When `false`,\n     *     returns only the `innerHTML`.\n     * @returns HTML string representation.\n     * @example\n     * const html = knot.toString();       // '<div class=\"card\">...</div>'\n     * const inner = knot.toString(false); // '...'\n     */\n    toString(opt_isRoot: boolean | undefined = true): string {\n        if (opt_isRoot) {\n            return this.node.outerHTML;\n        }\n        return this.node.innerHTML;\n    }\n}\n", "import { instanceOf, isFunction } from '../utils/operation';\nimport { Collection } from './collection';\nimport { Knot } from './knot';\n\n/**\n * A DOM query result collection that selects elements matching a CSS selector\n * and wraps them as {@link Knot} instances within a {@link Collection}.\n *\n * Query uses an optimized {@link querySelector} helper that dispatches to the\n * fastest native DOM method available for the given selector string:\n * `getElementById`, `getElementsByClassName`, `getElementsByTagName`, or\n * `querySelectorAll` for complex selectors.\n *\n * @example\n * // Select all list items inside a container\n * const items = new Query<HTMLLIElement>('ul.menu li');\n * const firstItem = items.getKnot();\n *\n * // Select within a specific parent element\n * const container = new Knot<HTMLDivElement>('.sidebar');\n * const links = new Query<HTMLAnchorElement>('a', container);\n * const allLinks = links.getKnots();\n *\n * @see {@link Collection}\n * @see {@link Knot}\n * @category Core\n */\nexport class Query<T extends HTMLElement = HTMLElement> extends Collection<\n    Knot<T>\n> {\n    /**\n     * Creates a new Query by selecting DOM elements matching the given CSS\n     * selector and wrapping each result in a {@link Knot}.\n     *\n     * @param selector CSS selector string used to find matching elements.\n     * @param opt_element Parent element or {@link Knot} to scope the query\n     *     within. Defaults to the document root when omitted.\n     */\n    constructor(selector: string, opt_element?: HTMLElement | Knot) {\n        let element = opt_element ?? (document as any as HTMLElement);\n        if (instanceOf(element, Knot)) {\n            element = (element as Knot).getNode();\n        }\n\n        const items = querySelector(selector, element as HTMLElement);\n        super(items, Knot, {\n            parent: null,\n        });\n    }\n\n    /**\n     * Returns the first matched element as a {@link Knot}. If the query\n     * matched no elements, returns an empty Knot (wrapping `null`).\n     *\n     * @returns The first matched DOM element wrapped in a {@link Knot}, or\n     *     an empty Knot if no elements matched.\n     * @example\n     * const header = new Query<HTMLHeadingElement>('h1').getKnot();\n     * console.log(header.getNode().textContent);\n     */\n    getKnot(): Knot<T> {\n        let firstKnot = this.get(0);\n        if (!firstKnot) {\n            firstKnot = new Knot<T>(null);\n        }\n        return firstKnot;\n    }\n\n    /**\n     * Returns all matched elements as an array of {@link Knot} instances.\n     *\n     * @returns An array of all matched DOM elements, each wrapped in a\n     *     {@link Knot}.\n     * @example\n     * const buttons = new Query<HTMLButtonElement>('button').getKnots();\n     * buttons.forEach((knot) => knot.addClass('styled'));\n     */\n    getKnots(): Knot[] {\n        return this.getItems();\n    }\n}\n\n/**\n * Selects DOM elements matching a CSS selector using the most efficient\n * native method available. For simple selectors it dispatches to\n * `getElementById`, `getElementsByClassName`, or `getElementsByTagName`.\n * Complex selectors (containing spaces, multiple classes, attribute\n * selectors, or combined tag-class selectors) fall through to\n * `querySelectorAll`.\n *\n * @param selector CSS selector string to match elements against.\n * @param element Parent DOM element to scope the selection within.\n * @returns An array of matched DOM elements (nulls filtered out).\n */\nconst querySelector = (selector: string, element: HTMLElement): Array<any> => {\n    let nodeList: any = [];\n    if (\n        selector.indexOf(' ') !== -1 ||\n        selector.split('.').length - 1 > 1 ||\n        (selector.indexOf('.') > -1 && !selector.startsWith('.')) ||\n        selector.indexOf('[') !== -1\n    ) {\n        nodeList = element.querySelectorAll(selector);\n    } else if (selector.startsWith('#')) {\n        let docElement = element as any as Document;\n        if (!isFunction(docElement.getElementById)) {\n            docElement = document;\n        }\n        const node = docElement.getElementById(selector.replace('#', ''));\n        nodeList.push(node);\n    } else if (selector.startsWith('.')) {\n        nodeList = element.getElementsByClassName(selector.replace('.', ''));\n    } else {\n        nodeList = element.getElementsByTagName(selector);\n    }\n    const nodes = [];\n    for (let i = 0; i < nodeList.length; i++) {\n        if (nodeList[i]) {\n            nodes.push(nodeList[i]);\n        }\n    }\n    return nodes;\n};\n", "import { Knot } from '../core';\nimport { Collection } from '../core/collection';\nimport { Query } from '../core/query';\nimport { Popup } from './popup';\n\n/**\n * @description Global popup lifecycle manager that tracks all open popups via a window-level\n * collection. Handles positioning and bulk close operations.\n *\n * @example\n * const container = new PopupContainer();\n * container.closeAll();\n *\n * @see {@link Popup} for individual popup instances\n *\n * @category Component\n */\nexport class PopupContainer {\n    selector: string;\n    container!: Knot;\n\n    /**\n     * @description Creates a new PopupContainer bound to a DOM container element.\n     * @param {string} [opt_selector] - CSS selector for the container element.\n     */\n    constructor(opt_selector: string | undefined = 'body') {\n        this.selector = opt_selector;\n        this._init();\n    }\n\n    /**\n     * @description Resolves the container DOM element from the selector.\n     */\n    private _init(): void {\n        this.container = new Query(this.selector).getKnot();\n    }\n\n    /**\n     * @description Lazily initializes the window-level popup collection if it does not exist.\n     * @param {Function} type - The constructor type for the collection.\n     */\n    private _initCollection(type: Function): void {\n        (window as any)['popup_collection'] =\n            (window as any)['popup_collection'] || new Collection([], type);\n    }\n\n    /**\n     * @description Registers a popup in the global collection.\n     * @param {Function} type - The popup constructor type.\n     * @param {Popup} popup - The popup instance to register.\n     *\n     * @example\n     * container.push(Popup, popupInstance);\n     */\n    push(type: Function, popup: Popup): void {\n        this._initCollection(type);\n        if ((window as any)['popup_collection']) {\n            (window as any)['popup_collection'].push(popup);\n        }\n    }\n\n    /**\n     * @description Removes a popup from the global collection.\n     * @param {Popup} popup - The popup instance to remove.\n     *\n     * @example\n     * container.delete(popupInstance);\n     */\n    delete(popup: Popup): void {\n        if ((window as any)['popup_collection']) {\n            (window as any)['popup_collection'].delete(popup);\n        }\n    }\n\n    /**\n     * @description Closes all currently open popups in the global collection.\n     *\n     * @example\n     * container.closeAll();\n     */\n    closeAll(): void {\n        if ((window as any)['popup_collection']) {\n            (window as any)['popup_collection'].each((popup: Popup) => {\n                popup.close();\n            });\n        }\n    }\n\n    /**\n     * @description Sets the CSS position of a popup element within the container.\n     * @param {Knot} popupKnot - The popup DOM element to position.\n     *\n     * @example\n     * container.setPosition(popupKnot);\n     */\n    setPosition(popupKnot: Knot): void {\n        // const containerKnot = this.container.getKnot();\n        // const top = containerKnot.offsetHeight - containerKnot.scrollHeight;\n        // const absoluteTop = top === 0 ? 'auto' : top + 'px';\n        // let left = containerKnot.offsetWidth - containerKnot.scrollWidth;\n        // let absoluteLeft = left === 0 ? 'auto' : left + 'px';\n        popupKnot.setStyle({\n            // 'top': 0, // absoluteTop,\n            left: 0, // absoluteLeft\n        });\n    }\n\n    /**\n     * @description Resets all CSS positioning properties of a popup element to auto.\n     * @param {Knot} popupKnot - The popup DOM element to reset.\n     *\n     * @example\n     * container.clearPosition(popupKnot);\n     */\n    clearPosition(popupKnot: Knot): void {\n        popupKnot.setStyle({\n            top: 'auto',\n            bottom: 'auto',\n            left: 'auto',\n            right: 'auto',\n        });\n    }\n}\n", "import { isArray, isFunction, noop } from '../utils/operation';\nimport { Deferred } from './deferred';\nimport { Objekt } from './objekt';\n\n/**\n * The framework's custom promise implementation, used instead of native\n * `Promise` throughout the codebase. Promize supports resolve/reject\n * semantics with deferred callback registration: callbacks can be attached\n * before or after the promise has been settled.\n *\n * Data is stored and passed as arrays to support multi-argument callback\n * invocation. The generic type parameters `T` (resolve data) and `K`\n * (reject data) provide type safety for the callback signatures.\n *\n * Promize works in tandem with {@link Deferred}, which wraps a Promize and\n * exposes its resolve/reject controls externally, and with {@link Async},\n * which orchestrates serial and parallel execution of Promize-returning\n * functions.\n *\n * @example\n * const promize = new Promize<string, Error>();\n *\n * promize.then(\n *     (message) => console.log('Resolved:', message),\n *     (error) => console.error('Rejected:', error),\n *     () => console.log('Complete'),\n * );\n *\n * promize.resolve('Success');\n *\n * @see {@link Deferred}\n * @see {@link Async}\n * @category Core\n */\nexport class Promize<T = object, K = object> {\n    options!: Objekt;\n\n    /**\n     * Creates a new Promize instance in an unsettled state.\n     *\n     * @param opt_options Optional configuration object merged into the\n     *     internal options. Typically left empty; used internally by the\n     *     framework for advanced scenarios.\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n    }\n\n    /**\n     * Initializes the internal options with default values for status,\n     * data, and callback slots, then merges any provided overrides.\n     *\n     * @param opt_options Optional configuration to merge into defaults.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            status: null,\n            data: null,\n            resolve: null,\n            reject: null,\n            complete: null,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Resolves the promise with the given data. If `then()` callbacks have\n     * already been registered, they are invoked immediately. Otherwise the\n     * data and settled status are stored so that callbacks registered via a\n     * later `then()` call receive the data synchronously.\n     *\n     * @param opt_data Optional data to pass to the resolve callback.\n     *     Non-array values are wrapped in an array for consistent\n     *     multi-argument spreading.\n     *\n     * @example\n     * const promize = new Promize<number>();\n     * promize.then((value) => console.log(value));\n     * promize.resolve(42); // logs: 42\n     */\n    resolve(opt_data?: T): void {\n        let data: any[] = [];\n        if (opt_data) {\n            data = isArray(opt_data) ? opt_data : [opt_data];\n        }\n        if (\n            isFunction(this.options.resolve) &&\n            isFunction(this.options.complete)\n        ) {\n            this.options.resolve.apply(this, data);\n            this.options.complete.apply(this, data);\n        } else {\n            this.options.data = data;\n            this.options.status = true;\n        }\n    }\n\n    /**\n     * Rejects the promise with the given data. If `then()` callbacks have\n     * already been registered, the reject and complete callbacks are invoked\n     * immediately. Otherwise the data and rejected status are stored for\n     * deferred delivery.\n     *\n     * @param opt_data Optional data to pass to the reject callback.\n     *     Non-array values are wrapped in an array for consistent\n     *     multi-argument spreading.\n     *\n     * @example\n     * const promize = new Promize<string, Error>();\n     * promize.then(null, (err) => console.error(err));\n     * promize.reject(new Error('Failed'));\n     */\n    reject(opt_data?: K): void {\n        let data: any[] = [];\n        if (opt_data) {\n            data = isArray(opt_data) ? opt_data : [opt_data];\n        }\n        if (\n            isFunction(this.options.reject) &&\n            isFunction(this.options.complete)\n        ) {\n            this.options.reject.apply(this, data);\n            this.options.complete.apply(this, data);\n        } else {\n            this.options.data = data;\n            this.options.status = false;\n        }\n    }\n\n    /**\n     * Registers resolve, reject, and complete callbacks on this promise.\n     *\n     * If the promise has already been settled (resolved or rejected), the\n     * appropriate callbacks are invoked immediately with the stored data.\n     * If the promise is still pending, the callbacks are stored and will be\n     * invoked when `resolve()` or `reject()` is called.\n     *\n     * @param resolve Callback invoked when the promise is resolved.\n     * @param opt_reject Callback invoked when the promise is rejected.\n     *     Defaults to a no-op function.\n     * @param opt_complete Callback invoked after either resolve or reject.\n     *     Defaults to a no-op function.\n     *\n     * @example\n     * const promize = new Promize<string, string>();\n     *\n     * // Register before settlement\n     * promize.then(\n     *     (msg) => console.log('OK:', msg),\n     *     (err) => console.log('Error:', err),\n     *     () => console.log('Done'),\n     * );\n     *\n     * promize.resolve('Hello');\n     * // logs: \"OK: Hello\" then \"Done\"\n     */\n    then(\n        resolve: (...args: T extends Array<any> ? T : [T]) => void,\n        opt_reject?: (...args: K extends Array<any> ? K : [K]) => void,\n        opt_complete?: (...args: T extends Array<any> ? T : [T]) => void,\n    ): void {\n        const reject = opt_reject || noop();\n        const complete = opt_complete || noop();\n        switch (this.options.status) {\n            case true:\n                resolve.apply(this, this.options.data);\n                complete.apply(this, this.options.data);\n                break;\n            case false:\n                reject.apply(this, this.options.data);\n                complete.apply(this, this.options.data);\n                break;\n            default:\n                this.options.merge({\n                    resolve: resolve,\n                    reject: reject,\n                    complete: complete,\n                });\n        }\n    }\n\n    /**\n     * Chains this promise to a {@link Deferred}, forwarding the resolution\n     * or rejection to the deferred's promise. This is used internally to\n     * propagate results through {@link Async} execution chains.\n     *\n     * @param defer The {@link Deferred} instance to forward results to.\n     * @param opt_complete Optional complete callback invoked after forwarding.\n     *\n     * @example\n     * const deferred = new Deferred<string[]>();\n     * const promize = new Promize<string>();\n     *\n     * promize.defer(deferred);\n     * promize.resolve('result');\n     * // deferred.promise() is now resolved with ['result']\n     */\n    defer(defer: Deferred, opt_complete?: () => void): void {\n        this.then(\n            (...args) => {\n                defer.resolve(args);\n            },\n            (...args) => {\n                defer.reject(args);\n            },\n            opt_complete,\n        );\n    }\n}\n", "import { Promize } from './promize';\n\n/**\n * A deferred pattern wrapper around {@link Promize} that separates promise\n * creation from resolution. The Deferred holds an internal {@link Promize}\n * and exposes `resolve()` and `reject()` methods so that the promise can be\n * settled from outside the callback scope.\n *\n * This is the primary mechanism used throughout the framework to create\n * resolvable promises from within asynchronous flows such as\n * {@link Async} serial/parallel execution and controller lifecycle events.\n *\n * @example\n * const deferred = new Deferred<string, Error>();\n * const promise = deferred.promise();\n *\n * promise.then(\n *     (message) => console.log('Resolved:', message),\n *     (error) => console.error('Rejected:', error),\n * );\n *\n * // Resolve later from any scope that has a reference to the deferred\n * deferred.resolve('Operation complete');\n *\n * @see {@link Promize}\n * @see {@link Async}\n * @category Core\n */\nexport class Deferred<T = object, K = object> {\n    private _promise: Promize<T, K>;\n\n    /**\n     * Creates a new Deferred instance with an unsettled {@link Promize}.\n     */\n    constructor() {\n        this._promise = new Promize<T, K>();\n    }\n\n    /**\n     * Returns the underlying {@link Promize} instance so that consumers can\n     * register `then()` callbacks without having access to the resolve/reject\n     * controls.\n     *\n     * @returns The internal {@link Promize} associated with this deferred.\n     *\n     * @example\n     * const deferred = new Deferred<number>();\n     * const promise = deferred.promise();\n     * promise.then((value) => console.log(value));\n     * deferred.resolve(42);\n     */\n    promise(): Promize<T, K> {\n        return this._promise;\n    }\n\n    /**\n     * Resolves the deferred's {@link Promize} with the given data, triggering\n     * any registered resolve and complete callbacks.\n     *\n     * @param opt_data Optional data to pass to the resolve callback.\n     *\n     * @example\n     * const deferred = new Deferred<string>();\n     * deferred.promise().then((msg) => console.log(msg));\n     * deferred.resolve('Done');\n     */\n    resolve(opt_data?: T): void {\n        this._promise.resolve(opt_data);\n    }\n\n    /**\n     * Rejects the deferred's {@link Promize} with the given data, triggering\n     * any registered reject and complete callbacks.\n     *\n     * @param opt_data Optional data to pass to the reject callback.\n     *\n     * @example\n     * const deferred = new Deferred<string, Error>();\n     * deferred.promise().then(null, (err) => console.error(err));\n     * deferred.reject(new Error('Something went wrong'));\n     */\n    reject(opt_data?: K): void {\n        this._promise.reject(opt_data);\n    }\n}\n", "import { isUndefined, isFunction, eq, eachArray } from '../utils/operation';\nimport { consoleDebug } from '../utils/log';\nimport { Deferred } from './deferred';\n\n/**\n * Provides serial and parallel execution of asynchronous function calls\n * using the framework's {@link Deferred}/{@link Promize} system rather than\n * native Promises.\n *\n * Functions passed to `parallel()` or `serial()` may return a\n * {@link Promize} (or any thenable) to signal asynchronous completion, or\n * return a synchronous value (including `undefined`) to proceed immediately.\n *\n * The `parallelFunction()` method supports dynamic, incremental additions\n * to an ongoing parallel batch when the total count is known ahead of time\n * (set via the constructor's `opt_sum` parameter). When the batch completes,\n * the overridable `eventComplete()` hook is called.\n *\n * @example\n * const async = new Async();\n *\n * // Serial execution: each function runs after the previous resolves\n * async.serial([\n *     () => fetchUser(),\n *     () => fetchPosts(),\n * ]).then((results) => {\n *     console.log('All done:', results);\n * });\n *\n * @example\n * const async = new Async();\n *\n * // Parallel execution: all functions run concurrently\n * async.parallel([\n *     () => loadImage('a.png'),\n *     () => loadImage('b.png'),\n * ]).then((results) => {\n *     console.log('Images loaded:', results);\n * });\n *\n * @see {@link Deferred}\n * @see {@link Promize}\n * @category Core\n */\nexport class Async {\n    sum: number;\n    call!: {\n        results: any[];\n        counter: number;\n        sum: number;\n        isError: boolean;\n    };\n\n    /**\n     * Creates a new Async instance.\n     *\n     * @param opt_sum Optional expected count for parallel batch operations\n     *     using `parallelFunction()`. When set, the batch completes once\n     *     this many functions have finished.\n     */\n    constructor(opt_sum?: number) {\n        this.sum = opt_sum || 0;\n        this._clear();\n    }\n\n    /**\n     * Executes an array of functions concurrently. Each function may return\n     * a {@link Promize} for asynchronous work or a synchronous value. The\n     * returned promise resolves with an array of results (one per function)\n     * once all functions have completed, or rejects if any function fails.\n     *\n     * @param calls Array of functions to execute in parallel.\n     * @param opt_args Optional arguments array passed to each function call.\n     *     When provided, the results array in the resolution will contain\n     *     these args instead of the individual function results.\n     * @returns A {@link Promize} that resolves with the collected results.\n     *\n     * @example\n     * const async = new Async();\n     * async.parallel([\n     *     () => loadResource('config.json'),\n     *     () => loadResource('data.json'),\n     * ]).then((results) => {\n     *     const [config, data] = results;\n     * });\n     */\n    parallel(calls: Array<Function>, opt_args?: Array<any>) {\n        const deferred = new Deferred();\n        if (calls.length === 0) {\n            const results = opt_args || this.call.results;\n            deferred.resolve(results);\n            this._clear();\n        } else {\n            eachArray(calls, (call, index) => {\n                this.call.results[index] = null;\n                this._parallelWrapper(\n                    call,\n                    calls.length,\n                    false,\n                    index,\n                    opt_args,\n                ).defer(deferred);\n            });\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Adds a single function to an ongoing parallel batch. Unlike\n     * `parallel()`, this method does not return a promise; instead, the\n     * overridable `eventComplete()` hook is called when all expected\n     * functions (determined by the constructor's `opt_sum`) have finished.\n     *\n     * This is useful for dynamic, incremental parallel execution where\n     * functions are added one at a time rather than all at once.\n     *\n     * @param call The function to execute as part of the parallel batch.\n     * @param opt_args Optional arguments array passed to the function.\n     * @param opt_index Optional explicit index for storing the result.\n     *     If omitted, an auto-incrementing counter is used.\n     *\n     * @example\n     * const async = new Async(3);\n     * async.eventComplete = (isError, results) => {\n     *     console.log('Batch complete:', results);\n     * };\n     *\n     * async.parallelFunction(() => loadItem(1));\n     * async.parallelFunction(() => loadItem(2));\n     * async.parallelFunction(() => loadItem(3));\n     */\n    parallelFunction(\n        call: Function,\n        opt_args?: Array<any>,\n        opt_index?: number,\n    ): void {\n        const index = !isUndefined(opt_index) ? opt_index : this.call.counter++;\n        this.call.results[index] = null;\n        this._parallelWrapper(call, this.sum, true, index, opt_args);\n    }\n\n    /**\n     * Wraps a single parallel function call, handling both thenable and\n     * synchronous return values, and forwarding results to\n     * `_parallelCaller()`.\n     *\n     * @param call The function to execute.\n     * @param length Total number of expected parallel completions.\n     * @param allowEvent Whether to fire `eventComplete()` instead of\n     *     resolving/rejecting the deferred.\n     * @param index The result index for this function.\n     * @param opt_args Optional arguments passed through to the function.\n     * @returns A {@link Promize} that settles when this function's result\n     *     has been recorded.\n     */\n    private _parallelWrapper(\n        call: Function,\n        length: number,\n        allowEvent: boolean,\n        index: number,\n        opt_args?: Array<any>,\n    ) {\n        const deferred = new Deferred();\n        const args = opt_args || [];\n        const promise = call.apply(this, args);\n        if (promise && isFunction(promise.then)) {\n            promise.then(\n                (object: any) => {\n                    this._parallelCaller(\n                        length,\n                        false,\n                        object,\n                        allowEvent,\n                        index,\n                        opt_args,\n                    ).defer(deferred);\n                },\n                (object: any) => {\n                    this._parallelCaller(\n                        length,\n                        true,\n                        object,\n                        allowEvent,\n                        index,\n                        opt_args,\n                    ).defer(deferred);\n                },\n            );\n        } else if (promise || isUndefined(promise)) {\n            this._parallelCaller(\n                length,\n                false,\n                promise,\n                allowEvent,\n                index,\n                opt_args,\n            ).defer(deferred);\n        } else {\n            this._parallelCaller(\n                length,\n                true,\n                promise,\n                allowEvent,\n                index,\n                opt_args,\n            ).defer(deferred);\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Records a single parallel function's result and checks whether all\n     * expected functions have completed. When the batch is complete, either\n     * resolves/rejects the deferred or fires `eventComplete()` depending\n     * on the `allowEvent` flag.\n     *\n     * @param length Total number of expected parallel completions.\n     * @param isError Whether this function's execution resulted in an error.\n     * @param result The result or error value from the function.\n     * @param allowEvent Whether to fire `eventComplete()` instead of\n     *     settling the deferred.\n     * @param index The result index for this function.\n     * @param opt_args Optional arguments used as the results payload when\n     *     provided (overrides the collected results array).\n     * @returns A {@link Promize} that settles when the batch check completes.\n     */\n    private _parallelCaller(\n        length: number | undefined,\n        isError: boolean,\n        result: any,\n        allowEvent: boolean,\n        index: number,\n        opt_args?: Array<any>,\n    ) {\n        const deferred = new Deferred();\n        this.call.results[index] = result;\n        if (isError) {\n            this.call.isError = isError;\n        }\n        this.call.sum++;\n        if (eq(this.call.sum, length)) {\n            const results = opt_args || [...this.call.results];\n            this._clear();\n            if (!this.call.isError) {\n                if (allowEvent) {\n                    this.eventComplete(this.call.isError, results);\n                } else {\n                    deferred.resolve(results);\n                }\n            } else {\n                if (allowEvent) {\n                    this.eventComplete(this.call.isError, results);\n                } else {\n                    deferred.reject(results);\n                }\n            }\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Resets the internal call tracking state to its initial values.\n     */\n    private _clear(): void {\n        this.call = {\n            sum: 0,\n            isError: false,\n            counter: 0,\n            results: [],\n        };\n    }\n\n    /**\n     * Manually sets the internal counter state. This is primarily used for\n     * testing or external control scenarios where the internal tracking\n     * needs to be adjusted without going through the normal execution flow.\n     *\n     * @param sum The current completed count.\n     * @param isError Whether an error has occurred in the batch.\n     * @param counter The auto-increment counter for `parallelFunction()`.\n     * @param results The current results array.\n     *\n     * @example\n     * const async = new Async(5);\n     * async.setStatus(2, false, 2, [resultA, resultB]);\n     */\n    setStatus(\n        sum: number,\n        isError: boolean,\n        counter: number,\n        results: Array<any>,\n    ): void {\n        this.call.sum = sum;\n        this.call.isError = isError;\n        this.call.counter = counter;\n        this.call.results = results;\n    }\n\n    /**\n     * Overridable hook called when a parallel batch started via\n     * `parallelFunction()` completes (i.e., all expected functions have\n     * finished). Override this method to handle batch completion events.\n     *\n     * @param isError Whether any function in the batch produced an error.\n     * @param results Array of results from all functions in the batch.\n     *\n     * @example\n     * const async = new Async(2);\n     * async.eventComplete = (isError, results) => {\n     *     if (!isError) {\n     *         console.log('All parallel functions completed:', results);\n     *     }\n     * };\n     */\n    eventComplete(isError: boolean, results: Array<any>): void {\n        consoleDebug('Async.eventComplete(isError, results)', isError, results);\n    }\n\n    /**\n     * Executes an array of functions sequentially, one after another. Each\n     * function receives the optional args concatenated with accumulated\n     * results from previous functions. The returned promise resolves with\n     * the collected results array once all functions have completed, or\n     * rejects on the first failure.\n     *\n     * @param calls Array of functions to execute in order.\n     * @param opt_args Optional arguments array passed to each function\n     *     call and used as the results payload when provided.\n     * @returns A {@link Promize} that resolves with the collected results.\n     *\n     * @example\n     * const async = new Async();\n     * async.serial([\n     *     () => authenticate(),\n     *     () => loadUserProfile(),\n     *     () => loadDashboard(),\n     * ]).then(\n     *     (results) => console.log('All steps complete:', results),\n     *     (error) => console.error('Step failed:', error),\n     * );\n     */\n    serial(calls: Array<Function>, opt_args?: Array<any>) {\n        const deferred = new Deferred();\n        if (calls.length === 0) {\n            const results = opt_args || this.call.results;\n            deferred.resolve(results);\n            this._clear();\n        } else {\n            this._serialWrapper(calls, 0, opt_args).defer(deferred);\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Wraps a single serial step, executing the function at the given index\n     * and forwarding its result to `_serialCaller()` for chain continuation.\n     *\n     * @param calls The full array of serial functions.\n     * @param index The current step index to execute.\n     * @param opt_args Optional arguments passed through to each function.\n     * @returns A {@link Promize} that settles when this step completes.\n     */\n    private _serialWrapper(\n        calls: Array<Function>,\n        index: number,\n        opt_args?: Array<any>,\n    ) {\n        const deferred = new Deferred();\n        const call = calls[index];\n        const results = opt_args || this.call.results;\n        const args = (opt_args || []).concat(this.call.results);\n        const promise = call.apply(this, args);\n        if (promise && isFunction(promise.then)) {\n            promise.then(\n                (result: any) => {\n                    this._serialCaller(calls, index, result, opt_args).defer(\n                        deferred,\n                    );\n                },\n                () => {\n                    const results = opt_args || this.call.results;\n                    deferred.reject(results);\n                    this._clear();\n                },\n            );\n        } else if (promise || isUndefined(promise)) {\n            this._serialCaller(calls, index, promise, opt_args).defer(deferred);\n        } else {\n            deferred.reject(results);\n            this._clear();\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Records the result of a serial step and either advances to the next\n     * step or resolves the chain if all steps are complete.\n     *\n     * @param calls The full array of serial functions.\n     * @param index The index of the step that just completed.\n     * @param result The result value from the completed step.\n     * @param opt_args Optional arguments passed through for chain\n     *     continuation.\n     * @returns A {@link Promize} that settles when the chain progresses.\n     */\n    private _serialCaller(\n        calls: Array<Function>,\n        index: number,\n        result: any,\n        opt_args?: Array<any>,\n    ) {\n        const deferred = new Deferred();\n        this.call.results[index] = result;\n        const nextIndex = index + 1;\n        if (nextIndex < calls.length) {\n            this._serialWrapper(calls, nextIndex, opt_args).defer(deferred);\n        } else {\n            const results = opt_args || this.call.results;\n            deferred.resolve(results);\n            this._clear();\n        }\n        return deferred.promise();\n    }\n}\n", "import { Params } from '../utils';\nimport {\n    isArray,\n    typeCast,\n    contain,\n    urlWithQueryString,\n} from '../utils/operation';\n\n/**\n * Handles URL pattern matching and parameter extraction for client-side\n * routing. A Router instance compiles a route pattern string into a regular\n * expression that can be tested against URL paths, and provides methods\n * to extract named parameters from matching URLs or to build URLs from\n * a pattern and parameter values.\n *\n * Route patterns support two placeholder types:\n * - `:param` matches a single URL segment (everything except `/`)\n * - `*param` matches any remaining path (including `/` characters)\n *\n * @example\n * const router = new Router('/users/:userId/posts/:postId');\n *\n * // Test if a URL matches the pattern\n * const matches = router.getMatches('/users/42/posts/7');\n * // matches !== null\n *\n * // Extract named parameters from a URL\n * const params = router.parse('/users/42/posts/7');\n * // { userId: 42, postId: 7 }\n *\n * // Build a URL from parameters\n * const url = router.stringify({ userId: 42, postId: 7 });\n * // '/users/42/posts/7'\n *\n * @see {@link State}\n * @see {@link Params}\n * @category Core\n */\nexport class Router {\n    route: string;\n    param: RegExp;\n    escape: RegExp;\n    paramNames!: string[];\n    regex!: RegExp;\n\n    /**\n     * Creates a new Router for the given route pattern. The pattern is\n     * compiled into a regular expression during construction, and\n     * placeholder names are extracted for later parameter parsing.\n     *\n     * @param opt_route Route pattern string containing `:param` or `*param`\n     *     placeholders. Defaults to an empty string.\n     */\n    constructor(opt_route: string | undefined = '') {\n        this.route = opt_route;\n        this.param = /([:*])(\\w+)/g;\n        this.escape = /[-[]{}()+?.,]/g;\n\n        this._init();\n    }\n\n    /**\n     * Compiles the route pattern into a regular expression. Escapes special\n     * regex characters in the pattern, replaces `:param` placeholders with\n     * single-segment capture groups and `*param` placeholders with greedy\n     * capture groups, and stores the extracted parameter names.\n     */\n    private _init(): void {\n        this.paramNames = [];\n        let route = this.route;\n        route = route.replace(this.escape, '\\\\$&');\n        route = route.replace(this.param, (_param, mode, paramName) => {\n            this.paramNames.push(paramName);\n            return mode === ':' ? '([^/]*)' : '(.*)';\n        });\n        this.regex = new RegExp('^' + route + '$');\n    }\n\n    /**\n     * Builds a URL string from the route pattern by substituting parameter\n     * values into placeholders. Any parameters that do not correspond to\n     * placeholders in the pattern are appended as query string parameters.\n     * Unused placeholders are removed from the result.\n     *\n     * @param opt_params Key-value pairs to substitute into the route\n     *     pattern. Keys matching `:param` or `*param` names are inserted\n     *     inline; remaining keys become query string parameters.\n     * @returns The constructed URL with parameters substituted and\n     *     optional query string appended.\n     * @example\n     * const router = new Router('/search/:category');\n     * const url = router.stringify({ category: 'books', page: '2' });\n     * // '/search/books?page=2'\n     */\n    stringify(opt_params: Record<string, any> | undefined = {}): string {\n        let route = this.route;\n        const params: Record<string, any> = {};\n        for (const key in opt_params) {\n            if (opt_params.hasOwnProperty(key)) {\n                const param = opt_params[key];\n                const regex = new RegExp('[:*]' + key + '\\\\b');\n                if (regex.test(route)) {\n                    route = route.replace(regex, param);\n                } else {\n                    params[key] = opt_params[key];\n                }\n            }\n        }\n        route = urlWithQueryString(route, params);\n\n        route = route.replace(this.param, '');\n        return route[route.length - 1] === '?'\n            ? route.substring(0, route.length - 1)\n            : route;\n    }\n\n    /**\n     * Tests whether a URL path matches the compiled route pattern. The\n     * query string portion of the URL (if present) is stripped before\n     * matching.\n     *\n     * @param url URL path to test against the route pattern.\n     * @returns A `RegExpMatchArray` if the URL matches the pattern, or\n     *     `null` if it does not match.\n     * @example\n     * const router = new Router('/users/:id');\n     * router.getMatches('/users/42');    // RegExpMatchArray\n     * router.getMatches('/posts/42');    // null\n     */\n    getMatches(url: string): RegExpMatchArray | null {\n        const questionMark = url.indexOf('?');\n        if (questionMark !== -1) {\n            url = url.substring(0, questionMark);\n        }\n        return url.match(this.regex);\n    }\n\n    /**\n     * Extracts named parameters from a URL that matches the route pattern.\n     * Combines both path-segment parameters (from `:param` and `*param`\n     * placeholders) and query string parameters into a single object.\n     * Values are automatically type-cast (e.g., numeric strings become\n     * numbers).\n     *\n     * @param url URL path to extract parameters from.\n     * @returns An object mapping parameter names to their extracted and\n     *     type-cast values. Returns an empty object if the URL does not\n     *     match the pattern.\n     * @example\n     * const router = new Router('/items/:id');\n     * const params = router.parse('/items/99?sort=name');\n     * // { id: 99, sort: 'name' }\n     */\n    parse(url: string): object {\n        const matches = this.getMatches(url);\n        if (!matches) {\n            return {};\n        }\n        const params: Record<string, any> = this._parseParams(url);\n        for (let i = 0; i < this.paramNames.length; i++) {\n            const key = this.paramNames[i];\n            params[key] = typeCast(matches[i + 1]);\n        }\n        return params;\n    }\n\n    /**\n     * Parses query string parameters from a URL into a key-value object.\n     * Handles URI-decoded keys and values, array parameters denoted by\n     * `[]` suffix, and escaped `==` sequences within values.\n     *\n     * @param url URL containing a query string to parse.\n     * @returns A {@link Params} object of decoded query string parameters.\n     */\n    private _parseParams(url: string): Params {\n        const params: Record<string, any> = {};\n        const question = url.indexOf('?');\n        if (question !== -1) {\n            const pieces = url.substring(question + 1).split('&');\n            for (const piece of pieces) {\n                const parts = piece.replace('==', '&&').split('=');\n                if (parts.length < 2) {\n                    parts.push('');\n                }\n                const key = window.decodeURIComponent(parts[0]);\n                const value = typeCast(\n                    window.decodeURIComponent(parts[1].replace('&&', '==')),\n                );\n                if (contain(key, '[]')) {\n                    const realKey = key.replace('[]', '');\n                    if (!isArray(params[realKey])) {\n                        params[realKey] = [value];\n                    } else {\n                        params[realKey].push(value);\n                    }\n                } else {\n                    params[key] = value;\n                }\n            }\n        }\n        return params;\n    }\n}\n", "import { eachObject, eq, format, isNull } from '../utils/operation';\nimport { consoleDebug, consoleWarn } from '../utils/log';\nimport { Collection } from './collection';\nimport { Objekt } from './objekt';\nimport { Query } from './query';\nimport { Router } from './router';\nimport { Route } from '../component';\n\n/**\n * Manages application state via URL-based routing using the browser\n * History API. State maintains a collection of {@link Route} definitions,\n * matches the current URL against those routes using {@link Router}, and\n * triggers state change notifications when navigation occurs.\n *\n * State supports both hash-based (`#/path`) and path-based (`/path`)\n * routing, auto-detecting the mode from the `<base href>` tag. It\n * integrates with `window.history` for pushState/replaceState navigation\n * and handles browser back/forward via the `popstate` event.\n *\n * The {@link eventChange} method is designed to be overridden by subclasses\n * (such as {@link Module}) to react to state transitions.\n *\n * @example\n * const routes = [\n *     new Route('home', 'Home', '/', 'HomeController'),\n *     new Route('user', 'User Profile', '/users/:id', 'UserController'),\n * ];\n *\n * const state = new State(routes, { root: { id: 'home' } });\n * state.go('user', { id: 42 });\n * state.getParam('id'); // 42\n *\n * @see {@link Router}\n * @see {@link Route}\n * @see {@link Module}\n * @category Core\n */\nexport class State {\n    private _current: Objekt;\n    private _previous: Objekt;\n    routes: Collection<Route>;\n    basePath!: string;\n    options!: Objekt;\n\n    /**\n     * Creates a new State instance with the given route definitions and\n     * options. Initializes the base path, parses the current URL, and\n     * sets up the `popstate` event listener for browser navigation.\n     *\n     * @param routes Array of {@link Route} objects defining the\n     *     application's available routes.\n     * @param opt_options Configuration options. Supports `root.id` and\n     *     `root.params` to define the fallback root route.\n     */\n    constructor(routes: Route[], opt_options: object | undefined = {}) {\n        this._current = new Objekt();\n        this._previous = this._current;\n\n        this.routes = new Collection(routes);\n\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges the provided options with defaults. The default root route\n     * is configured with `id: 'root'`.\n     *\n     * @param opt_options User-provided options to merge with defaults.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            root: {\n                id: 'root',\n                params: undefined,\n            },\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes the state manager by determining the base path, computing\n     * real URLs for all routes, setting up the popstate listener, and\n     * parsing the current browser URL.\n     */\n    private _init(): void {\n        this._setBasePath();\n        this._setRealUrls();\n\n        this._initPopstate();\n        this._parseUrl();\n    }\n\n    /**\n     * Computes the full real URL for each route by prepending the URL\n     * prefix (hash or empty) and stores it as the `realUrl` property.\n     */\n    private _setRealUrls(): void {\n        this.routes.each((route) => {\n            const url = route.get<string>('url');\n            const realUrl = this._getRealUrl(url);\n            route.set('realUrl', realUrl);\n        });\n    }\n\n    /**\n     * Returns the URL prefix based on the routing mode. In hash-based\n     * routing returns `'/#'`; in path-based routing returns an empty string.\n     *\n     * @returns The URL prefix string.\n     */\n    private _getUrlPrefix(): string {\n        return this.basePath === '#' ? '/#' : '';\n    }\n\n    /**\n     * Prepends the URL prefix to a route URL to produce a navigable URL.\n     *\n     * @param url The route's URL pattern.\n     * @returns The full URL including the routing prefix.\n     */\n    private _getRealUrl(url: string): string {\n        return format('{0}{1}', [this._getUrlPrefix(), url]);\n    }\n\n    /**\n     * Determines the base path from the `<base>` HTML tag. If a `<base>`\n     * tag with an `href` attribute exists, uses that value; otherwise\n     * defaults to `'#'` for hash-based routing.\n     */\n    private _setBasePath(): void {\n        this.basePath = '#';\n        const baseMetaTag = new Query('base').getKnot();\n        if (!baseMetaTag.isEmpty()) {\n            this.basePath = baseMetaTag.getAttribute('href') || '#';\n        }\n    }\n\n    /**\n     * Registers the `popstate` event listener on the window. When the\n     * browser navigates back or forward, re-parses the URL or restores\n     * the saved history state and triggers a state change.\n     */\n    private _initPopstate(): void {\n        window.addEventListener('popstate', () => {\n            if (window.history.state) {\n                const state = new Objekt();\n                state.merge(window.history.state);\n                this._setCurrent(state);\n                this._triggerChange();\n            } else {\n                this._parseUrl();\n                this._triggerChange();\n            }\n        });\n    }\n\n    /**\n     * Triggers the initial state change after construction. Call this\n     * method to begin routing and notify listeners of the current state.\n     *\n     * @example\n     * const state = new State(routes);\n     * state.run(); // Fires eventChange with the initial route\n     */\n    run(): void {\n        this._triggerChange();\n    }\n\n    /**\n     * Parses the current browser URL to determine the active route. On\n     * success, replaces the current history state. If no route matches,\n     * logs a warning and navigates to the root route.\n     */\n    private _parseUrl(): void {\n        const path = window.location.hash\n            ? window.location.hash\n            : window.location.pathname.replace(this.basePath, '/') +\n              window.location.search;\n        this._parsePath(\n            path,\n            (state, path, params) => {\n                this._setHistory(state, path, params, true);\n            },\n            () => {\n                consoleWarn(\n                    'State._parseUrl()',\n                    path,\n                    'missing state from routes config',\n                );\n                this.goRoot(true);\n            },\n        );\n    }\n\n    /**\n     * Attempts to match a URL path against all registered routes. Iterates\n     * through routes using {@link Router} until a match is found, then\n     * invokes the success callback. If no route matches, invokes the\n     * error callback.\n     *\n     * @param urlPath URL path to match against routes.\n     * @param successCallback Called with the matched route, path, and\n     *     extracted parameters when a match is found.\n     * @param errorCallback Called when no route matches the given path.\n     */\n    private _parsePath(\n        urlPath: string,\n        successCallback: (state: Route, path: string, params: object) => void,\n        errorCallback: (state: Route, path: string, params: object) => void,\n    ): void {\n        const path = urlPath[0] === '#' ? urlPath.substring(1) : urlPath;\n        const states = this.routes.getItems();\n\n        let state: Route | null = null;\n        let params: object | null = null;\n        let matches: RegExpMatchArray | null = null;\n\n        let i = 0;\n        while (i < states.length && isNull(matches)) {\n            state = states[i];\n            const stateUrl = state.get<string>('url');\n            const router = new Router(stateUrl);\n            matches = router.getMatches(path);\n            params = router.parse(path);\n            i++;\n        }\n        if (state && params && matches) {\n            successCallback(state, path, params);\n        } else {\n            errorCallback(state!, path, params!);\n        }\n    }\n\n    /**\n     * Pushes or replaces a history entry for the given route and URL.\n     * Updates the template URL from route parameters, sets the current\n     * state, and optionally triggers a state change event.\n     *\n     * @param state The matched {@link Route} to record in history.\n     * @param url The URL path to push or replace in the browser history.\n     * @param opt_params Route parameters extracted from the URL.\n     * @param opt_overwrite When `true`, replaces the current history\n     *     entry instead of pushing a new one.\n     * @param opt_force When `true`, forces the state change event even\n     *     if the state has not changed.\n     */\n    private _setHistory(\n        state: Route,\n        url: string,\n        opt_params: object | undefined = {},\n        opt_overwrite: boolean | undefined = false,\n        opt_force: boolean | undefined = false,\n    ): void {\n        url = this.basePath === '#' ? this.basePath + url : url;\n        const template = state.get<string>('template');\n        const router = new Router(template);\n        state.set('templateUrl', router.stringify(opt_params));\n        state.set('params', opt_params);\n        if (opt_overwrite) {\n            window.history.replaceState(\n                state,\n                state.get<string>('title', ''),\n                url,\n            );\n        } else {\n            window.history.pushState(\n                state,\n                state.get<string>('title', ''),\n                url,\n            );\n        }\n        this._setCurrent(state);\n        if (!opt_overwrite) {\n            this._triggerChange(opt_force);\n        }\n    }\n\n    /**\n     * Invokes {@link eventChange} with the current and previous states.\n     *\n     * @param opt_force When `true`, forces the event even if the route\n     *     has not changed.\n     */\n    private _triggerChange(opt_force: boolean | undefined = false): void {\n        const currentState = this.getCurrent<Objekt>();\n        const previousState = this.getPrevious<Objekt>();\n        this.eventChange(currentState, previousState, opt_force);\n    }\n\n    /**\n     * Updates the internal current state reference and saves the\n     * outgoing state as the previous state.\n     *\n     * @param state The new current state object.\n     */\n    private _setCurrent(state: Objekt): void {\n        this._previous = this._current;\n        this._current = state;\n    }\n\n    /**\n     * Retrieves the current route state or a specific attribute from it.\n     * When called without arguments, returns the full current state as\n     * an {@link Objekt}. When called with an attribute path, returns that\n     * nested value.\n     *\n     * @param opt_attribute Dot-notation path to a specific attribute\n     *     within the current state (e.g., `'params.id'`).\n     * @param opt_defaultValue Default value returned when the attribute\n     *     does not exist.\n     * @returns The full current state or the requested attribute value.\n     * @example\n     * const currentRoute = state.getCurrent<Objekt>();\n     * const routeId = state.getCurrent<string>('id');\n     */\n    getCurrent<T>(opt_attribute?: string, opt_defaultValue?: T): T {\n        return this._current.get<T>(opt_attribute, opt_defaultValue);\n    }\n\n    /**\n     * Retrieves the previous route state or a specific attribute from it.\n     * Works identically to {@link getCurrent} but returns the state that\n     * was active before the last navigation.\n     *\n     * @param opt_attribute Dot-notation path to a specific attribute\n     *     within the previous state.\n     * @param opt_defaultValue Default value returned when the attribute\n     *     does not exist.\n     * @returns The full previous state or the requested attribute value.\n     * @example\n     * const previousRoute = state.getPrevious<Objekt>();\n     * const previousId = state.getPrevious<string>('id');\n     */\n    getPrevious<T>(opt_attribute?: string, opt_defaultValue?: T): T {\n        return this._previous.get<T>(opt_attribute, opt_defaultValue);\n    }\n\n    /**\n     * Navigates to a route by its ID or by a direct URL path. When given\n     * a route ID, resolves the URL from the registered routes and\n     * substitutes the provided parameters. When given a path starting\n     * with `#` or `/`, parses it directly against registered routes.\n     *\n     * Pushes a new browser history entry by default, or replaces the\n     * current entry when `opt_overwrite` is `true`.\n     *\n     * @param id Route identifier string, or a URL path starting with\n     *     `#` or `/`.\n     * @param opt_params Parameters to substitute into the route pattern.\n     * @param opt_overwrite When `true`, replaces the current history\n     *     entry instead of pushing a new one.\n     * @param opt_force When `true`, forces the state change event even\n     *     if navigating to the same route.\n     * @example\n     * // Navigate by route ID with parameters\n     * state.go('user', { id: 42 });\n     *\n     * // Navigate by URL path\n     * state.go('/users/42');\n     *\n     * // Replace current history entry\n     * state.go('home', {}, true);\n     */\n    go(\n        id: string,\n        opt_params?: object,\n        opt_overwrite: boolean | undefined = false,\n        opt_force: boolean | undefined = false,\n    ): void {\n        if (eq(id[0], '#') || eq(id[0], '/')) {\n            this._parsePath(\n                id,\n                (state, path, params) => {\n                    this._setHistory(\n                        state,\n                        path,\n                        params,\n                        opt_overwrite,\n                        opt_force,\n                    );\n                },\n                () => {\n                    // empty function\n                },\n            );\n        } else {\n            const [url, state] = this._resolveUrlWithState(id, opt_params);\n            if (url && state) {\n                this._setHistory(\n                    state,\n                    url,\n                    opt_params,\n                    opt_overwrite,\n                    opt_force,\n                );\n            }\n        }\n    }\n\n    /**\n     * Resolves a route ID and parameters to a URL string and the\n     * corresponding {@link Route} object.\n     *\n     * @param id Route identifier to look up.\n     * @param opt_params Parameters to substitute into the route URL.\n     * @returns A two-element array of `[url, route]`, or `['', undefined]`\n     *     if the route ID is not found.\n     */\n    private _resolveUrlWithState(id: string, opt_params?: object): Array<any> {\n        const route = this.routes.findById(id);\n        let url = '';\n        if (route) {\n            const stateUrl = route.get<string>('url');\n            const router = new Router(stateUrl);\n            url = router.stringify(opt_params);\n        }\n        return [url, route];\n    }\n\n    /**\n     * Builds a full navigable URL for a route ID and parameters, including\n     * the routing prefix (hash or path-based). Useful for generating\n     * `href` values for links.\n     *\n     * @param id Route identifier to resolve.\n     * @param opt_params Parameters to substitute into the route pattern.\n     * @returns The fully resolved URL string including the routing prefix.\n     * @example\n     * const href = state.resolveUrl('user', { id: 42 });\n     * // '/#/users/42' (hash mode) or '/users/42' (path mode)\n     */\n    resolveUrl(id: string, opt_params?: object): string {\n        const url = this._resolveUrlWithState(id, opt_params)[0];\n        return this._getRealUrl(url);\n    }\n\n    /**\n     * Navigates to a route using an existing {@link Route} object. Extracts\n     * the route's ID and parameters and delegates to {@link go}.\n     *\n     * @param state The {@link Route} object to navigate to.\n     * @param opt_overwrite When `true`, replaces the current history entry.\n     * @param opt_force When `true`, forces the state change event.\n     * @example\n     * const route = state.routes.findById('dashboard');\n     * state.goState(route);\n     */\n    goState(\n        state: Route,\n        opt_overwrite: boolean | undefined = false,\n        opt_force: boolean | undefined = false,\n    ): void {\n        this.go(state.get('id'), state.get('params'), opt_overwrite, opt_force);\n    }\n\n    /**\n     * Navigates to the configured root route. The root route ID and\n     * parameters are defined in the constructor options.\n     *\n     * @param opt_overwrite When `true`, replaces the current history entry.\n     * @param opt_force When `true`, forces the state change event.\n     * @example\n     * state.goRoot(); // Navigate to the root/home route\n     */\n    goRoot(\n        opt_overwrite: boolean | undefined = false,\n        opt_force: boolean | undefined = false,\n    ): void {\n        this.go(\n            this.options.get('root.id'),\n            this.options.get('root.params'),\n            opt_overwrite,\n            opt_force,\n        );\n    }\n\n    /**\n     * Navigates to a fallback route if browser history is empty, otherwise\n     * goes back one step in history. Useful for \"back\" buttons that need\n     * a guaranteed destination.\n     *\n     * @param id Fallback route ID to navigate to if history is empty.\n     * @param opt_params Parameters for the fallback route.\n     * @param opt_overwrite When `true`, replaces the current history entry\n     *     (only used for the fallback navigation).\n     * @param opt_force When `true`, forces the state change event\n     *     (only used for the fallback navigation).\n     * @example\n     * // Go back in history, or navigate to 'dashboard' if no history\n     * state.goBack('dashboard', { tab: 'overview' });\n     */\n    goBack(\n        id: string,\n        opt_params?: object,\n        opt_overwrite: boolean | undefined = false,\n        opt_force: boolean | undefined = false,\n    ): void {\n        if (eq(window.history.length, 0)) {\n            this.go(id, opt_params, opt_overwrite, opt_force);\n        } else {\n            this.back();\n        }\n    }\n\n    /**\n     * Navigates one step back in browser history.\n     *\n     * @example\n     * state.back();\n     */\n    back(): void {\n        window.history.go(-1);\n    }\n\n    /**\n     * Performs a full page navigation to the given URL. Unlike {@link go},\n     * this does not use the History API and causes a complete page load.\n     * Optionally opens the URL in a new browser tab.\n     *\n     * @param url The full URL to navigate to.\n     * @param opt_inTab When `true`, opens the URL in a new tab instead\n     *     of navigating the current window.\n     * @example\n     * state.redirect('https://example.com');\n     * state.redirect('https://docs.example.com', true); // New tab\n     */\n    redirect(url: string, opt_inTab: boolean | undefined = false): void {\n        if (opt_inTab) {\n            window.open(url, '_blank');\n        } else {\n            window.location.href = url;\n        }\n    }\n\n    /**\n     * Navigates one step forward in browser history.\n     *\n     * @example\n     * state.forward();\n     */\n    forward(): void {\n        window.history.forward();\n    }\n\n    /**\n     * Called when the application state changes due to navigation. This\n     * is a hook method intended to be overridden by subclasses (such as\n     * {@link Module}) to respond to route transitions. The default\n     * implementation logs the state change to the console.\n     *\n     * @param currentState The newly active route state as an {@link Objekt}.\n     * @param previousState The previously active route state as an\n     *     {@link Objekt}.\n     * @param opt_force Whether the change was forced (e.g., navigating\n     *     to the same route).\n     */\n    eventChange(\n        currentState: Objekt,\n        previousState: Objekt,\n        opt_force: boolean | undefined = false,\n    ): void {\n        consoleDebug(\n            'State.eventChange()',\n            currentState,\n            previousState,\n            opt_force,\n        );\n    }\n\n    /**\n     * Sets multiple URL parameters at once on the current route. Each\n     * key-value pair is applied individually via {@link setParam}.\n     *\n     * @param properties An object of parameter names and values to set.\n     * @example\n     * state.setParams({ page: 2, sort: 'name' });\n     */\n    setParams(properties: object): void {\n        eachObject(properties, (value, name) => {\n            this.setParam(name, value);\n        });\n    }\n\n    /**\n     * Sets a single URL parameter on the current route and re-navigates\n     * with the updated parameters (replacing the current history entry).\n     *\n     * @param name The parameter name to set.\n     * @param value The parameter value to assign.\n     * @example\n     * state.setParam('page', 3);\n     */\n    setParam(name: string, value: any): void {\n        const id = this.getCurrent<string>('id');\n        const params = this.getParams();\n        params.set(name, value);\n        this.go(id, params, true);\n    }\n\n    /**\n     * Returns all parameters of the current route as an {@link Objekt}.\n     *\n     * @returns The current route's parameters, or an empty {@link Objekt}\n     *     if no parameters are set.\n     * @example\n     * const params = state.getParams();\n     * console.log(params.get('id'));\n     */\n    getParams(): Objekt {\n        return this.getCurrent<Objekt>('params', new Objekt());\n    }\n\n    /**\n     * Retrieves a single parameter value from the current route by name.\n     * Returns the default value if the parameter does not exist.\n     *\n     * @param name The parameter name to retrieve.\n     * @param opt_defaultValue Value returned when the parameter is not set.\n     * @returns The parameter value, automatically type-cast.\n     * @example\n     * const userId = state.getParam<number>('id');\n     * const page = state.getParam<number>('page', 1);\n     */\n    getParam<T = string>(name: string, opt_defaultValue?: any): T {\n        const params = this.getParams();\n        return params.get<T>(name, opt_defaultValue);\n    }\n\n    /**\n     * Performs a full page reload, discarding all client-side state.\n     *\n     * @example\n     * state.reload();\n     */\n    reload(): void {\n        window.location.reload();\n    }\n\n    /**\n     * Re-triggers the {@link eventChange} callback for the current state\n     * without navigating. Useful for forcing a view re-render.\n     *\n     * @param opt_force When `true`, forces the event even if the state\n     *     has not changed.\n     * @example\n     * state.refresh();       // Re-trigger with default behavior\n     * state.refresh(true);   // Force re-trigger\n     */\n    refresh(opt_force: boolean | undefined = false): void {\n        this._triggerChange(opt_force);\n    }\n\n    /**\n     * Returns the configured root route ID and parameters as a\n     * two-element array.\n     *\n     * @returns An array of `[rootId, rootParams]` from the options.\n     * @example\n     * const [rootId, rootParams] = state.getRoot();\n     */\n    getRoot(): Array<any> {\n        return [this.options.root.id, this.options.root.params];\n    }\n}\n", "import { noop, each, isFunction } from '../utils/operation';\nimport { consoleDebug } from '../utils/log';\nimport { Async } from './async';\nimport { Deferred } from './deferred';\nimport { State } from './state';\nimport { Objekt } from './objekt';\nimport { Knot } from './knot';\nimport { Route } from '../component/route';\nimport { ClassRef, Dependency, Injection, Instance } from '../utils';\n\n/**\n * Base class for the application's revealing module pattern. Module manages\n * dependency injection, service lifecycle, and controller routing. It acts\n * as the central coordinator between {@link State} (routing), services\n * (long-lived modules), and controllers (per-route modules).\n *\n * Services are registered via `add()` and initialized in topological\n * dependency order by `handleServices()`. Routes are wired through\n * `handleRoutes()`, which creates a {@link State} instance and connects\n * state change events to the controller enter/exit lifecycle.\n *\n * Subclasses override the `event*` hook methods to integrate with the\n * application's UI layer (e.g., showing loaders, updating navigation,\n * rendering templates).\n *\n * @example\n * const module = new Module();\n *\n * // Register services with their dependency injections\n * module.add('userService', ['http', 'config'], UserService);\n * module.add('authService', ['http', 'userService'], AuthService);\n *\n * // Register a controller\n * module.add('dashboardCtrl', ['userService', 'dom'], DashboardController);\n *\n * // Wire routes and start\n * module.handleRoutes(routes, routeOptions);\n * module.load(instances, injections);\n * module.handleServices(['userService', 'authService']);\n *\n * @see {@link State}\n * @see {@link Async}\n * @see {@link Promize}\n * @category Core\n */\nexport class Module {\n    private _instances!: Instance;\n    private _injections!: Injection;\n\n    private _modules: {\n        [key: string]: Dependency;\n    };\n    private _controller: any;\n\n    /**\n     * Creates a new Module instance with an empty module registry and a\n     * default no-op controller.\n     */\n    constructor() {\n        this._modules = {};\n        this._controller = {\n            enter: noop(),\n            exit: noop(),\n        };\n    }\n\n    /**\n     * Receives the framework's shared instances map and injection name\n     * mappings. This must be called before `handleServices()` so that\n     * dependency resolution can look up framework-provided instances.\n     *\n     * @param instances The shared framework instances (services, config,\n     *     DOM references, etc.) keyed by their canonical names.\n     * @param injections Name mappings that allow modules to reference\n     *     framework instances by alternate keys.\n     *\n     * @example\n     * module.load(app.getInstances(), app.getInjections());\n     */\n    load(instances: Instance, injections: Injection): void {\n        this._instances = instances;\n        this._injections = injections;\n    }\n\n    /**\n     * Returns the current controller object. The controller is the module\n     * instance associated with the active route, exposing `enter()` and\n     * `exit()` lifecycle methods.\n     *\n     * @returns The current controller object with enter/exit methods.\n     *\n     * @example\n     * const controller = module.getController();\n     */\n    getController(): object {\n        return this._controller;\n    }\n\n    /**\n     * Registers a named module (service or controller) with its dependency\n     * injection list and constructor reference. The module is stored\n     * internally and later instantiated by `handleServices()` or during\n     * route-based controller initialization.\n     *\n     * @param name Unique name identifying this module. Used as the key\n     *     in the instances map after instantiation.\n     * @param moduleInjections Array of dependency names that will be\n     *     resolved from the instances map and passed to the constructor.\n     * @param moduleCallback The constructor function (class reference)\n     *     to instantiate when resolving this module.\n     * @returns The registered module name.\n     *\n     * @example\n     * module.add('dashboardCtrl', ['http', 'config', 'dom'], DashboardController);\n     */\n    add(\n        name: string,\n        moduleInjections: string[],\n        moduleCallback: ClassRef,\n    ): string {\n        this._modules[name] = {\n            moduleInjections,\n            moduleCallback,\n        };\n        return name;\n    }\n\n    /**\n     * Resolves a module's dependencies from the instances map and\n     * instantiates the module with the resolved arguments.\n     *\n     * @param dependency The dependency descriptor containing injection\n     *     names and the constructor reference.\n     * @returns A new instance of the module's class, constructed with\n     *     resolved dependencies.\n     */\n    private _resolveDependencies(dependency: Dependency): object {\n        const moduleArgs: any[] = [];\n        each(dependency.moduleInjections, (injection: any) => {\n            moduleArgs.push(\n                (this._instances as Record<string, any>)[injection] ||\n                    injection,\n            );\n        });\n\n        return new dependency.moduleCallback(...moduleArgs);\n    }\n\n    /**\n     * Sorts service names into topological order based on their declared\n     * dependency injections, ensuring that a service's dependencies are\n     * initialized before the service itself.\n     *\n     * @param services Array of service names to sort.\n     * @returns The service names in dependency-first order.\n     */\n    private _getSortedServices(services: string[]): string[] {\n        const edges = services\n            .map((service) => {\n                const moduleInjections = this._modules[\n                    service\n                ].moduleInjections.filter((moduleInjection) =>\n                    services.includes(moduleInjection),\n                );\n                if (moduleInjections.length === 0) {\n                    moduleInjections.push(null as unknown as string);\n                }\n                return moduleInjections.map((injection) => [\n                    injection,\n                    service,\n                ]);\n            })\n            .flat();\n\n        return this._topologicalSort(edges).slice(1);\n    }\n\n    /**\n     * Performs a topological sort on a directed acyclic graph represented\n     * as an edge list. Uses depth-first traversal to produce a linear\n     * ordering where each node appears before all nodes that depend on it.\n     *\n     * @param edges Array of [from, to] pairs representing dependency\n     *     edges (from must be initialized before to).\n     * @returns Array of node identifiers in topological order.\n     */\n    private _topologicalSort(edges: string[][]): string[] {\n        const nodes: {\n            [key: string]: {\n                id: string;\n                afters: string[];\n            };\n        } = {};\n        const sorted: string[] = [];\n        const visited: { [key: string]: boolean } = {};\n\n        edges.forEach((v) => {\n            const from = v[0];\n            const to = v[1];\n            if (!nodes[from]) nodes[from] = { id: from, afters: [] };\n            if (!nodes[to]) nodes[to] = { id: to, afters: [] };\n            nodes[from].afters.push(to);\n        });\n\n        const visit = (strId: string, ancestors?: string[]): void => {\n            const node = nodes[strId];\n            const id = node.id;\n\n            if (visited[strId]) {\n                // if already exists, do nothing\n                return;\n            }\n\n            if (!Array.isArray(ancestors)) {\n                ancestors = [];\n            }\n\n            ancestors.push(id);\n\n            visited[strId] = true;\n\n            node.afters.forEach((afterId) => {\n                /* if (ancestors.includes(afterId)) {\n                    // if already in ancestors, a closed chain exists.\n                    consoleError(\n                        'Modules._topologicalSort()',\n                        'Dependency injection circular loop',\n                        afterId,\n                        '<=>',\n                        id,\n                    );\n                } */\n\n                visit(afterId, ancestors);\n            });\n\n            sorted.unshift(id);\n        };\n\n        Object.keys(nodes).forEach((key) => visit(key));\n\n        return sorted;\n    }\n\n    /**\n     * Resolves and initializes services in topological order, respecting\n     * their declared dependency injections. Each service is instantiated\n     * and its `enter()` method (if present) is called via {@link Async}\n     * serial execution.\n     *\n     * After all services are initialized, `eventServiceLoaded()` is fired\n     * and `state.run()` is called to activate routing. If any service\n     * fails to initialize, `eventServiceFailed()` is fired instead.\n     *\n     * @param services Array of service names (as registered via `add()`)\n     *     to initialize.\n     *\n     * @example\n     * module.handleServices(['http', 'eventBus', 'userService']);\n     */\n    handleServices(services: string[]): void {\n        const sortedServices = this._getSortedServices(services);\n        const calls: Array<() => any> = [];\n        each(sortedServices, (serviceName: any) => {\n            const moduleCall = () => {\n                (this._instances as Record<string, any>)[serviceName] =\n                    this._resolveDependencies(this._modules[serviceName]);\n\n                if (\n                    isFunction(\n                        (this._instances as Record<string, any>)[serviceName]\n                            .enter,\n                    )\n                ) {\n                    return (this._instances as Record<string, any>)[\n                        serviceName\n                    ].enter();\n                }\n                return noop();\n            };\n            calls.push(moduleCall);\n        });\n\n        this.eventAfterInit();\n\n        const async = new Async();\n        async.serial(calls).then(\n            () => {\n                this.eventServiceLoaded();\n                this._instances.state.run();\n            },\n            () => {\n                this.eventServiceFailed();\n            },\n        );\n    }\n\n    /**\n     * Sets up the {@link State} instance with route definitions and wires\n     * state change events to the controller lifecycle. When the state\n     * changes, the previous controller's `exit()` method is called (if\n     * applicable) before the new controller is initialized.\n     *\n     * @param routes Array of {@link Route} definitions mapping URL\n     *     patterns to controllers and templates.\n     * @param options Configuration options passed to the {@link State}\n     *     constructor (e.g., base URL, default route).\n     *\n     * @example\n     * module.handleRoutes([\n     *     new Route('/dashboard', 'dashboardCtrl', 'dashboard.html'),\n     *     new Route('/settings', 'settingsCtrl', 'settings.html'),\n     * ], { basePath: '/app' });\n     */\n    handleRoutes(routes: Route[], options: object): void {\n        this._instances.state = new State(routes, options);\n        this._instances.state.eventChange = (\n            currentState,\n            previousState,\n            force,\n        ) => {\n            let exit = noop();\n            if (\n                !previousState.isEmpty() &&\n                this._controller &&\n                isFunction(this._controller.exit)\n            ) {\n                exit = this._controller.exit.bind(this._controller);\n            }\n\n            const async = new Async();\n            async.serial([exit]).then(() => {\n                this._handleStateChange(currentState, force);\n            });\n        };\n    }\n\n    /**\n     * Handles an individual state change by firing `eventStateChange()`,\n     * loading the template (if defined), and initializing the controller\n     * for the new state.\n     *\n     * @param currentState The {@link Objekt} representing the new\n     *     active state with route parameters, template info, and\n     *     controller name.\n     * @param opt_force Whether to force-reload the template even if it\n     *     is already cached.\n     */\n    private _handleStateChange(\n        currentState: Objekt,\n        opt_force: boolean | undefined = false,\n    ): void {\n        this.eventStateChange(currentState).then(\n            () => {\n                const template = currentState.get('template');\n                if (template) {\n                    const templateUrl = currentState.get<string>('templateUrl');\n                    this._instances.template.load(templateUrl, opt_force).then(\n                        (dom) => {\n                            this.eventModuleLoaded(currentState);\n                            this._initController(currentState, dom);\n                        },\n                        () => {\n                            this.eventModuleFailed(currentState);\n                        },\n                    );\n                } else {\n                    this.eventModuleLoaded(currentState);\n                    this._initController(\n                        currentState,\n                        (this._instances as Record<string, any>)[\n                            this._injections.template\n                        ].getViewKnot(),\n                    );\n                }\n            },\n            () => {\n                this.eventModuleFailed(currentState);\n            },\n        );\n    }\n\n    /**\n     * Initializes the controller for the current state by resolving its\n     * dependencies, calling its `enter()` method, and firing the\n     * appropriate lifecycle event hooks.\n     *\n     * @param state The {@link Objekt} representing the current state,\n     *     containing the controller name under the 'controller' key.\n     * @param dom The {@link Knot} DOM container where the controller\n     *     should render its content.\n     */\n    private _initController(state: Objekt, dom: Knot): void {\n        this._instances.dom = dom;\n        const controller = this._modules[state.get<string>('controller')];\n        if (controller) {\n            this.eventDomChange(state, dom).then(() => {\n                this._controller = this._resolveDependencies(controller);\n                if (this._controller && isFunction(this._controller.enter)) {\n                    const enter = this._controller.enter.bind(this._controller);\n                    const async = new Async();\n                    async.serial([enter]).then(() => {\n                        this.eventControllerLoaded(dom);\n                    });\n                } else {\n                    this.eventControllerLoaded(dom);\n                }\n            });\n        } else {\n            this.eventControllerFailed();\n        }\n    }\n\n    /**\n     * Overridable lifecycle hook called when a controller has been\n     * successfully loaded and its `enter()` method has completed.\n     * Logs by default; override to integrate with the application UI.\n     *\n     * @param dom The {@link Knot} DOM container rendered by the controller.\n     */\n    eventControllerLoaded(dom: Knot): void {\n        consoleDebug('Module.eventControllerLoaded()', dom);\n    }\n\n    /**\n     * Overridable lifecycle hook called when no controller is found for\n     * the current route. Logs by default; override to show error states.\n     */\n    eventControllerFailed(): void {\n        consoleDebug('Module.eventControllerFailed()');\n    }\n\n    /**\n     * Overridable lifecycle hook called when a module (template) fails\n     * to load for the given state. Logs by default; override to display\n     * error feedback to the user.\n     *\n     * @param state The {@link Objekt} representing the state whose\n     *     module failed to load.\n     */\n    eventModuleFailed(state: Objekt): void {\n        consoleDebug('Module.eventModuleFailed()', state);\n    }\n\n    /**\n     * Overridable lifecycle hook called when a module (template) has\n     * been successfully loaded for the given state. Logs by default;\n     * override to update navigation or page title.\n     *\n     * @param state The {@link Objekt} representing the state whose\n     *     module was loaded.\n     */\n    eventModuleLoaded(state: Objekt): void {\n        consoleDebug('Module.eventModuleLoaded()', state);\n    }\n\n    /**\n     * Overridable lifecycle hook called when the application state\n     * changes. Returns a {@link Promize} to allow asynchronous operations\n     * (such as transition animations or data prefetching) before the\n     * controller lifecycle continues.\n     *\n     * The default implementation resolves immediately. Override to\n     * insert async logic before controller initialization.\n     *\n     * @param state The {@link Objekt} representing the new active state.\n     * @returns A {@link Promize} that must be resolved to continue the\n     *     state change lifecycle.\n     */\n    eventStateChange(state: Objekt) {\n        const deferred = new Deferred();\n        consoleDebug('Module.eventStateChange()', state);\n        deferred.resolve();\n        return deferred.promise();\n    }\n\n    /**\n     * Overridable lifecycle hook called when the DOM container is ready\n     * for the new controller. Returns a {@link Promize} to allow\n     * asynchronous operations (such as DOM preparation or cleanup)\n     * before the controller is instantiated.\n     *\n     * The default implementation resolves immediately. Override to\n     * insert async logic before controller instantiation.\n     *\n     * @param state The {@link Objekt} representing the current state.\n     * @param dom The {@link Knot} DOM container for the controller.\n     * @returns A {@link Promize} that must be resolved to continue\n     *     controller initialization.\n     */\n    eventDomChange(state: Objekt, dom: Knot) {\n        const deferred = new Deferred();\n        consoleDebug('Module.eventDomChange()', state, dom);\n        deferred.resolve();\n        return deferred.promise();\n    }\n\n    /**\n     * Overridable lifecycle hook called after all service initialization\n     * calls have been queued but before they begin executing. Logs by\n     * default; override to perform early setup tasks.\n     */\n    eventAfterInit(): void {\n        consoleDebug('Module.eventAfterInit()');\n    }\n\n    /**\n     * Overridable lifecycle hook called when all registered services\n     * have been successfully initialized. Logs by default; override to\n     * signal application readiness.\n     */\n    eventServiceLoaded(): void {\n        consoleDebug('Module.eventServiceLoaded()');\n    }\n\n    /**\n     * Overridable lifecycle hook called when service initialization\n     * fails. Logs by default; override to handle initialization errors\n     * gracefully.\n     */\n    eventServiceFailed(): void {\n        consoleDebug('Module.eventServiceFailed()');\n    }\n}\n", "import { Knot } from '../core';\nimport { Query } from '../core/query';\nimport { Footer } from './footer';\n\n/**\n * Popup menu rendered inside the application {@link Footer}. Toggling\n * the menu also opens/closes the footer's expanded state.\n *\n * The open and close buttons are bound to `#open-bottom-menu` and\n * `#close-bottom-menu` elements within the footer, and the menu\n * container is `#bottom-menu`.\n *\n * @see {@link Footer}\n * @category Module\n *\n * @example\n * const bottomMenu = new BottomMenu(footer);\n * bottomMenu.open();\n * const container = bottomMenu.getContainer();\n */\nexport class BottomMenu {\n    footer: Footer;\n    bottomMenu!: Knot;\n\n    /**\n     * Creates a new BottomMenu instance and binds the toggle click events\n     * within the provided footer.\n     *\n     * @param {Footer} footer - The application footer instance that\n     *     contains the bottom menu DOM elements.\n     */\n    constructor(footer: Footer) {\n        this.footer = footer;\n        this._init();\n    }\n\n    /**\n     * Queries the bottom menu container and binds click handlers for the\n     * open and close buttons.\n     */\n    private _init(): void {\n        this.bottomMenu = new Query(\n            '#bottom-menu',\n            this.footer.footerKnot,\n        ).getKnot();\n\n        const openBottomMenu = new Query(\n            '#open-bottom-menu',\n            this.footer.footerKnot,\n        ).getKnot();\n        openBottomMenu.setAttribute('href', 'javascript:void(0)');\n        openBottomMenu.addEventListener('click', () => {\n            this.toggle();\n        });\n\n        const closeBottomMenu = new Query(\n            '#close-bottom-menu',\n            this.footer.footerKnot,\n        ).getKnot();\n        closeBottomMenu.setAttribute('href', 'javascript:void(0)');\n        closeBottomMenu.addEventListener('click', () => {\n            this.toggle();\n        });\n    }\n\n    /**\n     * Toggles the bottom menu between its open and closed states.\n     *\n     * @example\n     * bottomMenu.toggle();\n     */\n    toggle(): void {\n        if (this.isOpened()) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    /**\n     * Checks whether the bottom menu is currently visible.\n     *\n     * @returns {boolean} True if the menu is open, false otherwise.\n     */\n    isOpened(): boolean {\n        return this.bottomMenu.hasClass('visible-flex');\n    }\n\n    /**\n     * Opens the bottom menu by making it visible and expanding the footer.\n     *\n     * @example\n     * bottomMenu.open();\n     */\n    open(): void {\n        this.bottomMenu.addClass('visible-flex');\n        this.footer.open();\n    }\n\n    /**\n     * Closes the bottom menu by hiding it and collapsing the footer.\n     */\n    close(): void {\n        this.bottomMenu.removeClass('visible-flex');\n        this.footer.close();\n    }\n\n    /**\n     * Returns the menu container {@link Knot} where menu items should be\n     * appended.\n     *\n     * @returns {Knot} The bottom menu container element.\n     *\n     * @example\n     * const container = bottomMenu.getContainer();\n     * container.appendChild(menuItemKnot);\n     */\n    getContainer(): Knot {\n        return this.bottomMenu;\n    }\n}\n", "import { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * Document-level utilities for managing the page title, handling\n * document-wide click events, and triggering common browser actions\n * such as opening the email client.\n *\n * Page registers a document-level click listener that wraps the event\n * target in a {@link Knot} and dispatches to the overridable\n * {@link eventClick} method. This enables centralized click handling\n * for analytics, delegation, or global UI behaviors.\n *\n * @example\n * const page = new Page();\n *\n * page.setTitle('My Application');\n *\n * page.eventClick = (target, event) => {\n *     if (target.hasClass('track')) {\n *         analytics.trackClick(target);\n *     }\n * };\n *\n * page.mailTo('support@example.com', 'Help Request');\n *\n * @see {@link Knot}\n * @see {@link Objekt}\n * @category Module\n */\nexport class Page {\n    options!: Objekt;\n    document!: Document;\n\n    /**\n     * Creates a new Page instance and registers a document-level click\n     * event listener.\n     *\n     * @param opt_options Configuration options to merge with defaults.\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges the provided options with defaults.\n     *\n     * @param opt_options User-provided options to merge with defaults.\n     */\n    private _setOptions(opt_options: object | undefined): void {\n        this.options = new Objekt();\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Stores a reference to the document and registers the\n     * document-level click event listener.\n     */\n    private _init(): void {\n        this.document = document;\n        this.document.addEventListener('click', (event) => {\n            const target = new Knot(event.target as HTMLElement);\n            this.eventClick(target, event);\n        });\n    }\n\n    /**\n     * Sets the document title displayed in the browser tab.\n     *\n     * @param title The page title string to display.\n     *\n     * @example\n     * page.setTitle('Dashboard - My App');\n     */\n    setTitle(title: string): void {\n        this.document.title = title;\n    }\n\n    /**\n     * Called when any element in the document is clicked. Override this\n     * method to implement centralized click handling such as event\n     * delegation, analytics tracking, or global UI behaviors.\n     *\n     * @param target The clicked element wrapped in a {@link Knot}.\n     * @param event The native click event.\n     */\n    eventClick(target: Knot, event: Event): void {\n        consoleDebug('Document.eventClick()', target, event);\n    }\n\n    /**\n     * Opens the user's default email client with a new message\n     * pre-addressed to the given email and optionally pre-filled\n     * with a subject line.\n     *\n     * @param email The recipient email address.\n     * @param opt_subject The email subject line. Defaults to empty.\n     *\n     * @example\n     * page.mailTo('support@example.com', 'Bug Report');\n     */\n    mailTo(email: string, opt_subject: string | undefined = ''): void {\n        this.document.location.href =\n            'mailto:' + email + '?subject=' + opt_subject;\n    }\n}\n", "import { isEmpty, eq } from '../utils/operation';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * Detects the current browser type and operating system from the\n * user-agent string and platform properties. Browser also checks for\n * the availability of required browser features (geolocation, history,\n * storage, console) and fires the {@link Browser.eventMissingFeatures}\n * hook when any are absent.\n *\n * OS detection covers macOS, iOS, Windows, Android, and Linux.\n * Browser detection covers Chrome, Firefox, Safari, Edge (legacy and\n * Chromium-based), Opera, Internet Explorer (10/11), and the broader\n * Webkit and Chromium engine families.\n *\n * @example\n * const browser = new Browser();\n * browser.detect(); // triggers eventMissingFeatures if needed\n *\n * if (browser.isChrome()) {\n *     console.log('Running on Chrome');\n * }\n * if (browser.isMacOS()) {\n *     console.log('Running on macOS');\n * }\n *\n * @see {@link Application}\n * @category Module\n */\nexport class Browser {\n    features!: string[];\n    browsers!: {\n        [key: string]: boolean;\n    };\n    os!: string | null;\n\n    /**\n     * Creates a new Browser instance and immediately detects the OS,\n     * browser type, and missing features.\n     */\n    constructor() {\n        this._init();\n    }\n\n    /**\n     * Runs all detection routines: OS, browsers, and missing features.\n     */\n    private _init(): void {\n        this._detectOS();\n        this._detectBrowsers();\n        this._detectMissingFeatures();\n    }\n\n    /**\n     * Checks for the availability of required browser features and\n     * populates the `features` array with the names of any that are\n     * missing.\n     */\n    private _detectMissingFeatures(): void {\n        this.features = [];\n\n        this._setFeature(\n            'navigator.geolocation',\n            navigator && navigator.geolocation,\n        );\n        this._setFeature('window.history', window.history);\n        this._setFeature('window.localStorage', window.localStorage);\n        this._setFeature('window.sessionStorage', window.sessionStorage);\n        this._setFeature('console.log', console.log);\n        this._setFeature('console.info', console.info);\n        this._setFeature('console.warn', console.warn);\n        this._setFeature('console.error', console.error);\n    }\n\n    /**\n     * Triggers the {@link Browser.eventMissingFeatures} hook if one or\n     * more required browser features are unavailable. Call this method\n     * after construction to notify the application of missing capabilities.\n     *\n     * @example\n     * const browser = new Browser();\n     * browser.detect();\n     */\n    detect(): void {\n        if (!isEmpty(this.features)) {\n            this.eventMissingFeatures(this.features);\n        }\n    }\n\n    /**\n     * Records a feature as missing if its value is falsy.\n     *\n     * @param {string} name The feature identifier (e.g. 'window.history').\n     * @param {any} value The feature reference to test for truthiness.\n     */\n    private _setFeature(name: string, value: any): void {\n        if (eq(!!value, false)) {\n            this.features.push(name);\n        }\n    }\n\n    /**\n     * Called by {@link Browser.detect} when one or more required browser\n     * features are missing. Override this method to display a warning to\n     * the user or degrade functionality gracefully.\n     *\n     * @param {Array<any>} features List of missing feature identifiers.\n     */\n    eventMissingFeatures(features: Array<any>): void {\n        consoleDebug('Browser.eventMissingFeatures()', features);\n    }\n\n    /**\n     * Populates the `browsers` map by inspecting CSS property support,\n     * global objects, and the user-agent string.\n     */\n    private _detectBrowsers(): void {\n        this.browsers = {};\n\n        const userAgent = window.navigator.userAgent.toLowerCase();\n\n        this.browsers.webkit =\n            'WebkitAppearance' in document.documentElement.style;\n        this.browsers.chromium = !!(window as Record<string, any>)['chrome'];\n        this.browsers.chrome =\n            !!(window as Record<string, any>)['chrome'] &&\n            !!(window as Record<string, any>)['chrome']['webstore'];\n\n        this.browsers.opera =\n            !!(window as Record<string, any>)['opera'] ||\n            /opera|opr/i.test(navigator.userAgent);\n\n        this.browsers.firefox =\n            'MozAppearance' in document.documentElement.style;\n\n        this.browsers.safari = /constructor/i.test(window.HTMLElement.name);\n\n        this.browsers.IE10 =\n            'behavior' in document.documentElement.style &&\n            '-ms-user-select' in document.documentElement.style;\n        this.browsers.lteIE10 = /*@cc_on!@*/ false;\n        this.browsers.gteIE10 =\n            (document.body.style as unknown as Record<string, any>)[\n                'msTouchAction'\n            ] !== undefined;\n        this.browsers.IE11 =\n            '-ms-scroll-limit' in document.documentElement.style &&\n            '-ms-ime-align' in document.documentElement.style;\n        this.browsers.edge = userAgent.indexOf('edge') !== -1;\n        this.browsers.chromiumEdge =\n            userAgent.indexOf('edge') === -1 && userAgent.indexOf('edg') !== -1;\n    }\n\n    /**\n     * Detects the operating system from the navigator platform string and\n     * user-agent. Sets `this.os` to one of 'macOS', 'iOS', 'Windows',\n     * 'Android', 'Linux', or `null` if unrecognized.\n     */\n    private _detectOS(): void {\n        this.os = null;\n\n        const userAgent = window.navigator.userAgent;\n        const platform = window.navigator.platform;\n        const macosPlatforms = [\n            'Macintosh',\n            'MacIntel',\n            'MacPPC',\n            'Mac68K',\n            'darwin',\n        ];\n        const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n        const iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n\n        if (macosPlatforms.indexOf(platform) !== -1) {\n            this.os = 'macOS';\n        } else if (iosPlatforms.indexOf(platform) !== -1) {\n            this.os = 'iOS';\n        } else if (windowsPlatforms.indexOf(platform) !== -1) {\n            this.os = 'Windows';\n        } else if (/Android/.test(userAgent)) {\n            this.os = 'Android';\n        } else if (/Linux/.test(platform)) {\n            this.os = 'Linux';\n        }\n    }\n\n    /**\n     * Checks whether the detected operating system is macOS.\n     *\n     * @returns {boolean} True if the OS is macOS.\n     *\n     * @example\n     * if (browser.isMacOS()) {\n     *     // apply macOS-specific behavior\n     * }\n     */\n    isMacOS(): boolean {\n        return this.os === 'macOS';\n    }\n\n    /**\n     * Checks whether the detected operating system is iOS.\n     *\n     * @returns {boolean} True if the OS is iOS.\n     *\n     * @example\n     * if (browser.isIOS()) {\n     *     // apply iOS-specific behavior\n     * }\n     */\n    isIOS(): boolean {\n        return this.os === 'iOS';\n    }\n\n    /**\n     * Checks whether the detected operating system is Windows.\n     *\n     * @returns {boolean} True if the OS is Windows.\n     *\n     * @example\n     * if (browser.isWindows()) {\n     *     // apply Windows-specific behavior\n     * }\n     */\n    isWindows(): boolean {\n        return this.os === 'Windows';\n    }\n\n    /**\n     * Checks whether the detected operating system is Android.\n     *\n     * @returns {boolean} True if the OS is Android.\n     *\n     * @example\n     * if (browser.isAndroid()) {\n     *     // apply Android-specific behavior\n     * }\n     */\n    isAndroid(): boolean {\n        return this.os === 'Android';\n    }\n\n    /**\n     * Checks whether the detected operating system is Linux.\n     *\n     * @returns {boolean} True if the OS is Linux.\n     *\n     * @example\n     * if (browser.isLinux()) {\n     *     // apply Linux-specific behavior\n     * }\n     */\n    isLinux(): boolean {\n        return this.os === 'Linux';\n    }\n\n    /**\n     * Checks whether the browser is any version of Internet Explorer.\n     * When `opt_version` is provided, checks for that specific version\n     * only (10 or 11). Without the argument, returns true for IE 10 or\n     * earlier.\n     *\n     * @param {number} [opt_version] Specific IE version to check (10 or 11).\n     * @returns {boolean} True if the browser matches the requested IE\n     *     version or any IE version when unspecified.\n     *\n     * @example\n     * if (browser.isInternetExplorer()) {\n     *     console.log('Internet Explorer detected');\n     * }\n     * if (browser.isInternetExplorer(11)) {\n     *     console.log('IE 11 specifically');\n     * }\n     */\n    isInternetExplorer(opt_version: number | undefined): boolean {\n        let result = this.browsers.lteIE10 || this.browsers.gteIE10;\n        if (opt_version) {\n            switch (opt_version) {\n                case 11:\n                    result = this.browsers.IE11;\n                    break;\n                case 10:\n                    result = this.browsers.IE10;\n                    break;\n                default:\n                    result = this.browsers.lteIE10;\n                    break;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Checks whether the browser is legacy Microsoft Edge (EdgeHTML engine).\n     *\n     * @returns {boolean} True if the browser is legacy Edge.\n     *\n     * @example\n     * if (browser.isEdge()) {\n     *     // apply Edge-specific behavior\n     * }\n     */\n    isEdge(): boolean {\n        return this.browsers.edge;\n    }\n\n    /**\n     * Checks whether the browser is Chromium-based Microsoft Edge.\n     *\n     * @returns {boolean} True if the browser is Chromium Edge.\n     *\n     * @example\n     * if (browser.isChromiumEdge()) {\n     *     // apply Chromium Edge-specific behavior\n     * }\n     */\n    isChromiumEdge(): boolean {\n        return this.browsers.chromiumEdge;\n    }\n\n    /**\n     * Checks whether the browser is Mozilla Firefox.\n     *\n     * @returns {boolean} True if the browser is Firefox.\n     *\n     * @example\n     * if (browser.isFirefox()) {\n     *     // apply Firefox-specific behavior\n     * }\n     */\n    isFirefox(): boolean {\n        return this.browsers.firefox;\n    }\n\n    /**\n     * Checks whether the browser is Google Chrome (with Chrome Web Store\n     * support, distinguishing it from other Chromium-based browsers).\n     *\n     * @returns {boolean} True if the browser is Chrome.\n     *\n     * @example\n     * if (browser.isChrome()) {\n     *     // apply Chrome-specific behavior\n     * }\n     */\n    isChrome(): boolean {\n        return this.browsers.chrome;\n    }\n\n    /**\n     * Checks whether the browser is Opera.\n     *\n     * @returns {boolean} True if the browser is Opera.\n     *\n     * @example\n     * if (browser.isOpera()) {\n     *     // apply Opera-specific behavior\n     * }\n     */\n    isOpera(): boolean {\n        return this.browsers.opera;\n    }\n\n    /**\n     * Checks whether the browser is Apple Safari.\n     *\n     * @returns {boolean} True if the browser is Safari.\n     *\n     * @example\n     * if (browser.isSafari()) {\n     *     // apply Safari-specific behavior\n     * }\n     */\n    isSafari(): boolean {\n        return this.browsers.safari;\n    }\n\n    /**\n     * Checks whether the browser uses the WebKit rendering engine.\n     *\n     * @returns {boolean} True if the browser is WebKit-based.\n     *\n     * @example\n     * if (browser.isWebkit()) {\n     *     // apply WebKit-specific styles\n     * }\n     */\n    isWebkit(): boolean {\n        return this.browsers.webkit;\n    }\n\n    /**\n     * Checks whether the browser is built on the Chromium engine\n     * (includes Chrome, Chromium Edge, Opera, and other Chromium forks).\n     *\n     * @returns {boolean} True if the browser is Chromium-based.\n     *\n     * @example\n     * if (browser.isChromium()) {\n     *     // apply Chromium-specific behavior\n     * }\n     */\n    isChromium(): boolean {\n        return this.browsers.chromium;\n    }\n}\n", "import { isString, isNumber, noop, contain } from '../utils/operation';\nimport { Async } from '../core/async';\nimport { Query } from '../core/query';\nimport { Knot } from '../core';\n\n/**\n * Abstract base class for modal dialog windows. Provides shared\n * functionality for opening, closing, positioning, and managing modal\n * overlays with a blur effect on the main container.\n *\n * Subclasses (such as {@link Dialog}, {@link Confirm}, and {@link Viewer})\n * must call `_initBase()` after setting up their own DOM references\n * (`modal`, `modalWindow`, `modalHeader`, `modalTitle`, `modalBody`,\n * `modalFooter`, and `body`) to initialize button handlers and shared\n * state.\n *\n * The modal supports close, minimize, and maximize buttons, and\n * automatically centers itself within the viewport. Open/close actions\n * apply a blur overlay to `.main-container` and prevent body scrolling.\n *\n * @example\n * // BaseModal is not instantiated directly; extend it instead:\n * class CustomModal extends BaseModal {\n *     constructor() {\n *         super();\n *         this.body = new Query('body').getKnot();\n *         this.modal = new Query('#custom-modal').getKnot();\n *         // ... set up remaining DOM refs ...\n *         this._initBase();\n *     }\n * }\n *\n * @see {@link Dialog}\n * @see {@link Confirm}\n * @see {@link Viewer}\n * @category Module\n */\nexport class BaseModal {\n    windowWidth!: number;\n    windowHeight!: number;\n    mainContainerKnot!: Knot;\n    hasBlur!: boolean;\n    modal!: Knot;\n    btnMinimize!: Knot;\n    btnMaximize!: Knot;\n    btnClose!: Knot;\n    body!: Knot;\n    interval!: number;\n    modalTitle!: Knot;\n    modalBody!: Knot;\n    modalFooter!: Knot;\n    modalHeader!: Knot;\n    eventOK!: () => void;\n    eventCancel!: () => void;\n    modalWindow!: Knot;\n\n    /**\n     * Initializes shared base state including window dimensions, the main\n     * container reference for blur effects, and all modal control buttons.\n     * Must be called by subclasses after their own DOM references are set.\n     */\n    protected _initBase(): void {\n        this.windowWidth = 0;\n        this.windowHeight = 0;\n\n        this.mainContainerKnot = new Query('.main-container').getKnot();\n        this.hasBlur = false;\n\n        this._initButtons();\n    }\n\n    /**\n     * Initializes all modal control buttons (close, minimize, maximize).\n     */\n    private _initButtons(): void {\n        this._initCloseButton();\n        this._initMinimizeButton();\n        this._initMaximizeButton();\n    }\n\n    /**\n     * Initializes the minimize button if present in the modal DOM.\n     * Adds MDL button classes and binds the minimize action.\n     */\n    private _initMinimizeButton(): void {\n        const btnMinimize = new Query('.minimize', this.modal).getKnot();\n        if (!btnMinimize.isEmpty()) {\n            btnMinimize.addClass([\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-button--icon',\n            ]);\n            btnMinimize.addEventListener('click', () => {\n                this._actionMinimize();\n            });\n            this.btnMinimize = btnMinimize;\n        }\n    }\n\n    /**\n     * Initializes the maximize button if present in the modal DOM.\n     * Adds MDL button classes and binds the maximize action.\n     */\n    private _initMaximizeButton(): void {\n        const btnMaximize = new Query('.maximize', this.modal).getKnot();\n        if (!btnMaximize.isEmpty()) {\n            btnMaximize.addClass([\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-button--icon',\n            ]);\n            btnMaximize.addEventListener('click', () => {\n                this._actionMaximize();\n            });\n            this.btnMaximize = btnMaximize;\n        }\n    }\n\n    /**\n     * Initializes the close button if present in the modal DOM.\n     * Adds MDL button classes and binds the cancel action, which\n     * executes the cancel callback and then closes the modal.\n     */\n    private _initCloseButton(): void {\n        const btnClose = new Query('.close', this.modal).getKnot();\n        if (!btnClose.isEmpty()) {\n            btnClose.addClass([\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-button--icon',\n            ]);\n            btnClose.addEventListener('click', () => {\n                this._actionCancel();\n            });\n            this.btnClose = btnClose;\n        }\n    }\n\n    /**\n     * Checks whether the modal is currently visible.\n     *\n     * @returns True if the modal has the `visible-flex` CSS class, indicating\n     *     it is open and displayed.\n     *\n     * @example\n     * if (!dialog.isOpened()) {\n     *     dialog.open();\n     * }\n     */\n    isOpened(): boolean {\n        return this.modal.hasClass('visible-flex');\n    }\n\n    /**\n     * Shows or hides the close button based on the allowClose flag.\n     *\n     * @param opt_allowClose Whether the close button should be visible.\n     */\n    private _handleCloseButton(\n        opt_allowClose: boolean | undefined = true,\n    ): void {\n        if (this.btnClose) {\n            if (opt_allowClose) {\n                this.btnClose.removeClass('hidden');\n            } else {\n                this.btnClose.addClass('hidden');\n            }\n        }\n    }\n\n    /**\n     * Opens the modal dialog with a blur overlay on the main container.\n     * Applies the `blur` class to `.main-container`, shows the modal,\n     * and starts an interval to keep the modal centered as content\n     * changes size.\n     *\n     * If another modal is already applying blur, the existing blur state\n     * is preserved so that closing this modal does not remove the blur\n     * prematurely.\n     *\n     * @param opt_allowClose Whether to show the close button. Defaults to\n     *     true. Pass false to prevent the user from dismissing the modal\n     *     via the close button.\n     *\n     * @example\n     * confirm.load('Are you sure?', 'Yes', 'No');\n     * confirm.open();\n     *\n     * @example\n     * // Open without a close button (forced interaction)\n     * dialog.open(false);\n     */\n    open(opt_allowClose: boolean | undefined = true): void {\n        this.hasBlur = this.mainContainerKnot.hasClass('blur');\n        if (!this.hasBlur) {\n            this.mainContainerKnot.addClass('blur');\n            this.body.addClass('overflow-hidden');\n        }\n\n        this.modal.addClass('visible-flex');\n        this.modal.removeClass('hidden');\n\n        this._handleCloseButton(opt_allowClose);\n\n        this._handleCenterPosition();\n        this.interval = setInterval(() => {\n            this._handleCenterPosition();\n        }, 1000);\n    }\n\n    /**\n     * Closes the modal dialog and clears its content. Removes the blur\n     * overlay from `.main-container` (unless another modal applied it),\n     * hides the modal, and removes all children from the title, body,\n     * and footer sections.\n     *\n     * @example\n     * dialog.close();\n     */\n    close(): void {\n        clearInterval(this.interval);\n\n        if (!this.hasBlur) {\n            this.mainContainerKnot.removeClass('blur');\n            this.body.removeClass('overflow-hidden');\n        }\n\n        this.modal.addClass('hidden');\n        this.modal.removeClass('visible-flex');\n\n        this.modalTitle.removeChildren();\n        this.modalBody.removeChildren();\n        this.modalFooter.removeChildren();\n    }\n\n    /**\n     * Sets the modal header title text. Shows the header when the title\n     * is a non-empty string or a number; hides it otherwise.\n     *\n     * @param opt_title The title text to display in the modal header.\n     */\n    protected _setTitle(opt_title: string | undefined): void {\n        this.modalTitle.setHtml(opt_title ?? '');\n\n        if (\n            (isString(opt_title) && opt_title.length > 0) ||\n            isNumber(opt_title)\n        ) {\n            this.modalHeader.removeClass('hidden');\n        } else {\n            this.modalHeader.addClass('hidden');\n        }\n    }\n\n    /**\n     * Resets the OK and Cancel event callbacks to no-op functions.\n     * Called before loading new content to ensure stale callbacks from\n     * a previous modal session are not carried over.\n     */\n    protected _reset(): void {\n        this.eventOK = noop();\n        this.eventCancel = noop();\n    }\n\n    /**\n     * Executes the OK callback followed by closing the modal. Uses\n     * {@link Async} serial execution to ensure the callback completes\n     * before the modal is closed.\n     */\n    protected _actionOK(): void {\n        const async = new Async();\n        const calls = [this.eventOK.bind(this), this.close.bind(this)];\n        async.serial(calls);\n    }\n\n    /**\n     * Executes the Cancel callback followed by closing the modal. Uses\n     * {@link Async} serial execution to ensure the callback completes\n     * before the modal is closed.\n     */\n    protected _actionCancel(): void {\n        const async = new Async();\n        const calls = [this.eventCancel.bind(this), this.close.bind(this)];\n        async.serial(calls);\n    }\n\n    /**\n     * Handles the minimize button action. Currently a no-op placeholder\n     * for future implementation.\n     */\n    private _actionMinimize(): void {\n        // empty function\n    }\n\n    /**\n     * Handles the maximize button action. Currently a no-op placeholder\n     * for future implementation.\n     */\n    private _actionMaximize(): void {\n        // empty function\n    }\n\n    /**\n     * Updates the stored window dimensions and recalculates the modal\n     * center position. Typically called when the browser window is\n     * resized.\n     *\n     * @param width The current viewport width in pixels.\n     * @param height The current viewport height in pixels.\n     *\n     * @example\n     * window.addEventListener('resize', () => {\n     *     modal.setSize(window.innerWidth, window.innerHeight);\n     * });\n     */\n    setSize(width: number, height: number): void {\n        this.windowWidth = width;\n        this.windowHeight = height;\n        this._handleCenterPosition();\n    }\n\n    /**\n     * Checks the computed height of the modal window and toggles the\n     * `center` CSS class. When the modal is taller than the viewport,\n     * centering is removed to allow scrolling; otherwise the modal is\n     * vertically centered.\n     */\n    private _handleCenterPosition(): void {\n        const style = this.modalWindow.getComputedStyle()!;\n        const styleHeight = style.getPropertyValue('height');\n        if (contain(styleHeight, 'px')) {\n            const height = parseInt(styleHeight.slice(0, -2), 10);\n            if (height > this.windowHeight) {\n                this.modal.removeClass('center');\n            } else {\n                this.modal.addClass('center');\n            }\n        } else {\n            this.modal.addClass('center');\n        }\n    }\n}\n", "/**\n * @module render\n *\n * Material Design Lite rendering utilities.\n *\n * Provides a helper for triggering MDL component upgrades on DOM elements\n * so that dynamically inserted markup is properly enhanced.\n *\n * @category Utility\n */\n\nimport { Knot } from '../core';\n\nconst componentHandler = window['componentHandler'];\n\n/**\n * Triggers a Material Design Lite component upgrade on a DOM element.\n *\n * If `opt_forceDowngrade` is `true` (the default), any existing MDL\n * components on the element are downgraded first, allowing clean\n * re-initialization. When `node` is falsy the entire DOM is upgraded\n * via `componentHandler.upgradeDom()`.\n *\n * Accepts either a {@link Knot} wrapper or a raw `HTMLElement`.\n *\n * @param node - The element to upgrade. Pass a {@link Knot} instance or\n *   a raw `HTMLElement`. If falsy, the entire document is upgraded.\n * @param opt_forceDowngrade - When `true`, downgrades existing MDL\n *   components before upgrading. Defaults to `true`.\n * @category Utility\n *\n * @example\n * // Upgrade a Knot element with forced downgrade\n * mdl(myKnot);\n *\n * @example\n * // Upgrade without downgrading first\n * mdl(myKnot, false);\n *\n * @example\n * // Upgrade the entire DOM\n * mdl(null);\n */\nexport const mdl = (\n    node: Knot | HTMLElement,\n    opt_forceDowngrade = true,\n): void => {\n    const element = node instanceof Knot ? node.getNode() : node;\n\n    if (node) {\n        if (opt_forceDowngrade) {\n            componentHandler.downgradeElements(element);\n        }\n        componentHandler.upgradeElement(element);\n    } else {\n        componentHandler.upgradeDom();\n    }\n};\n", "import { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { BaseModal } from './baseModal';\nimport { mdl } from '../utils/render';\n\n/**\n * Confirmation dialog modal with customizable message, action buttons,\n * and type-based styling. Extends {@link BaseModal} to provide a simple\n * confirm/cancel interaction pattern.\n *\n * Supported type values control the visual style of the confirmation\n * window: `'normal'`, `'info'`, `'warning'`, `'error'`, `'success'`,\n * and `'choice'`. The `'choice'` type applies primary styling to the\n * cancel button as well, indicating both options are equally valid.\n *\n * After calling `load()`, set `eventOK` and optionally `eventCancel`\n * callbacks before calling `open()` to display the confirmation.\n *\n * @example\n * const confirm = new Confirm();\n * confirm.load(\n *     'Are you sure you want to delete this item?',\n *     'Delete',\n *     'Cancel',\n *     'Confirm Deletion',\n *     'warning',\n * );\n * confirm.eventOK = () => deleteItem(itemId);\n * confirm.open();\n *\n * @example\n * // Choice-type confirmation with two equally weighted options\n * confirm.load(\n *     'Save as draft or publish now?',\n *     'Publish',\n *     'Save Draft',\n *     'Save Options',\n *     'choice',\n * );\n * confirm.eventOK = () => publish();\n * confirm.eventCancel = () => saveDraft();\n * confirm.open();\n *\n * @see {@link BaseModal}\n * @see {@link Dialog}\n * @category Module\n */\nexport class Confirm extends BaseModal {\n    options!: Objekt;\n\n    /**\n     * Creates a new Confirm instance.\n     *\n     * @param opt_options Configuration options merged with defaults.\n     *     Supported keys: `id` (CSS selector for the confirm element,\n     *     defaults to `'#confirm'`).\n     */\n    constructor(opt_options: object | undefined = {}) {\n        super();\n        this._setOptions(opt_options);\n        this._init();\n        this._initBase();\n    }\n\n    /**\n     * Merges user-provided options with default values.\n     *\n     * @param opt_options Configuration options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            id: '#confirm',\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes DOM references for the confirm modal elements.\n     */\n    private _init(): void {\n        this.body = new Query('body').getKnot();\n        this.modal = new Query(this.options.id).getKnot();\n        this.modalWindow = new Query('#confirm-window', this.modal).getKnot();\n        this.modalHeader = new Query('.modal-header', this.modal).getKnot();\n        this.modalTitle = new Query('.modal-title', this.modalHeader).getKnot();\n        this.modalBody = new Query('.modal-body', this.modal).getKnot();\n        this.modalFooter = new Query('.modal-footer', this.modal).getKnot();\n    }\n\n    /**\n     * Sets up the confirmation dialog with a message, action buttons,\n     * and type-based styling. Resets any previous event callbacks,\n     * applies the type class to the modal window, renders the message\n     * in the body, and creates OK and optional Cancel buttons in the\n     * footer.\n     *\n     * The caller should set `eventOK` and `eventCancel` callbacks after\n     * calling this method, then call `open()` to display the dialog.\n     *\n     * @param message The HTML message content to display in the dialog\n     *     body.\n     * @param okText The label text for the OK/confirm button.\n     * @param opt_cancelText The label text for the Cancel button. When\n     *     empty or omitted, no cancel button is rendered.\n     * @param opt_title The title text for the dialog header. When empty\n     *     or omitted, the header is hidden.\n     * @param opt_type The visual style type for the confirmation window.\n     *     One of `'normal'`, `'info'`, `'warning'`, `'error'`,\n     *     `'success'`, or `'choice'`. Defaults to `'normal'`.\n     *\n     * @example\n     * confirm.load('Discard unsaved changes?', 'Discard', 'Keep Editing');\n     * confirm.eventOK = () => discardChanges();\n     * confirm.open();\n     */\n    load(\n        message: string,\n        okText: string,\n        opt_cancelText: string | undefined = '',\n        opt_title: string | undefined = '',\n        opt_type: string | undefined = 'normal',\n    ) {\n        this._reset();\n        this._setTitle(opt_title);\n\n        this.modalWindow.removeClass([\n            'normal',\n            'info',\n            'warning',\n            'error',\n            'success',\n            'choice',\n        ]);\n        this.modalWindow.addClass(opt_type);\n\n        this.modalBody.setHtml(message);\n\n        this.modalFooter.removeChildren();\n\n        if (opt_cancelText) {\n            const cancelCssClasses = [\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-js-ripple-effect',\n            ];\n            if (opt_type === 'choice') {\n                cancelCssClasses.push('mdl-button--primary');\n            }\n            const cancelButton = new Knot<HTMLButtonElement>('button');\n            cancelButton.setAttribute('type', 'button');\n            cancelButton.setHtml(opt_cancelText);\n            cancelButton.addClass(cancelCssClasses);\n            cancelButton.addEventListener(\n                'click',\n                this._actionCancel.bind(this),\n            );\n            this.modalFooter.appendChild(cancelButton);\n        }\n\n        const okCssClasses = [\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-js-ripple-effect',\n            'mdl-button--primary',\n        ];\n        const okButton = new Knot<HTMLButtonElement>('button');\n        okButton.setAttribute('type', 'button');\n        okButton.setHtml(okText);\n        okButton.addClass(okCssClasses);\n        okButton.addEventListener('click', this._actionOK.bind(this));\n        this.modalFooter.appendChild(okButton);\n\n        mdl(this.modalFooter);\n    }\n}\n", "/* eslint-disable no-useless-backreference */\n/* eslint-disable no-useless-escape */\nimport { typeCast, eachArray } from '../utils/operation';\nimport { Objekt } from '../core/objekt';\n\n/**\n * Browser cookie management with automatic key prefixing. Cookie provides\n * a structured API for reading, writing, and deleting browser cookies,\n * with all keys scoped under a configurable prefix to avoid collisions\n * with other applications on the same domain.\n *\n * Cookie values are automatically URI-encoded when stored and decoded\n * when retrieved. The {@link get} method applies type-casting via\n * `typeCast`, so stored numeric or boolean strings are returned as\n * their native types.\n *\n * @example\n * const cookie = new Cookie({ prefix: 'myApp', hours: 48 });\n *\n * cookie.set('token', 'abc123');\n * cookie.get('token'); // 'abc123'\n *\n * cookie.set('count', '5');\n * cookie.get('count'); // 5 (type-cast to number)\n *\n * cookie.hasKey('token'); // true\n * cookie.remove('token');\n * cookie.hasKey('token'); // false\n *\n * @see {@link Objekt}\n * @see {@link Depot}\n * @category Module\n */\nexport class Cookie {\n    options!: Objekt;\n\n    /**\n     * Creates a new Cookie instance with the given options. The default\n     * prefix is `'app'` and the default expiration is 24 hours.\n     *\n     * @param opt_options Configuration options. Supports `prefix` (string)\n     *     for cookie key namespace and `hours` (number) for default\n     *     expiration time in hours.\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n    }\n\n    /**\n     * Merges the provided options with defaults.\n     *\n     * @param opt_options User-provided options to merge with defaults.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            prefix: 'app',\n            hours: 24,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Converts a logical cookie name to a prefixed property name\n     * suitable for storage. Dots in the joined name are replaced\n     * with underscores.\n     *\n     * @param name The logical cookie name.\n     * @returns The prefixed and sanitized property name.\n     */\n    private _getPropertyName(name: string): string {\n        return [this.options.prefix, name].join('.').replace(/\\./g, '_');\n    }\n\n    /**\n     * Extracts the logical cookie name from a prefixed property name\n     * by removing the prefix segment and rejoining with dots.\n     *\n     * @param propertyName The prefixed property name from the cookie store.\n     * @returns The logical cookie name.\n     */\n    private _getName(propertyName: string): string {\n        const parts = propertyName.split('_');\n        parts.shift();\n        return parts.join('.');\n    }\n\n    /**\n     * Stores a cookie with the given name and value. The name is\n     * automatically prefixed. Expiration can be specified as a number\n     * of hours, a `Date` object, or omitted to use the default\n     * expiration from the constructor options.\n     *\n     * Reserved cookie attribute names (`expires`, `max-age`, `path`,\n     * `domain`, `secure`) are silently rejected as cookie names.\n     *\n     * @param name The logical cookie name to store.\n     * @param value The string value to store.\n     * @param opt_expires Expiration as hours (number), a `Date` object,\n     *     or `Infinity` for a permanent cookie. When omitted, defaults\n     *     to the configured `hours` option.\n     * @param opt_path The cookie path. Defaults to `'/'`.\n     * @param opt_domain The cookie domain. Defaults to empty (current domain).\n     * @param opt_secure Whether to set the `Secure` flag. Defaults to `false`.\n     *\n     * @example\n     * const cookie = new Cookie({ prefix: 'app' });\n     *\n     * // Default expiration from options\n     * cookie.set('user', 'john');\n     *\n     * // Expire in 2 hours\n     * cookie.set('session', 'xyz', 2);\n     *\n     * // Expire at a specific date\n     * cookie.set('promo', 'sale', new Date('2025-12-31'));\n     */\n    set(\n        name: string,\n        value: string,\n        opt_expires: any = '',\n        opt_path: string | undefined = '/',\n        opt_domain: string | undefined = '',\n        opt_secure: boolean | undefined = false,\n    ): void {\n        const propertyName = this._getPropertyName(name);\n        if (/^(?:expires|max\\-age|path|domain|secure)$/i.test(propertyName)) {\n            return;\n        }\n        if (opt_expires) {\n            switch (opt_expires.constructor) {\n                case Number:\n                    opt_expires =\n                        (opt_expires as any) === Infinity\n                            ? '; expires=Fri, 31 Dec 9999 23:59:59 GMT'\n                            : '; max-age=' + (opt_expires as any) * 60 * 60;\n                    break;\n                case Date:\n                    opt_expires =\n                        '; expires=' + (opt_expires as any).toUTCString();\n                    break;\n                default:\n                    break;\n            }\n        } else {\n            const date = new Date();\n            date.setTime(date.getTime() + this.options.hours * 60 * 60 * 1000);\n            opt_expires = '; expires=' + date.toUTCString();\n        }\n        document.cookie =\n            encodeURIComponent(propertyName) +\n            '=' +\n            encodeURIComponent(value) +\n            opt_expires +\n            (opt_domain ? '; domain=' + opt_domain : '') +\n            (opt_path ? '; path=' + opt_path : '') +\n            (opt_secure ? '; secure' : '');\n    }\n\n    /**\n     * Reads a cookie value by its logical name and returns it with\n     * automatic type-casting. Numeric strings are returned as numbers,\n     * `'true'`/`'false'` as booleans, and so on.\n     *\n     * @param name The logical cookie name to read.\n     * @returns The type-cast cookie value, or `null` if the cookie\n     *     does not exist.\n     *\n     * @example\n     * cookie.set('count', '42');\n     * cookie.get('count'); // 42 (number)\n     *\n     * cookie.set('active', 'true');\n     * cookie.get('active'); // true (boolean)\n     */\n    get(name: string): any {\n        const propertyName = this._getPropertyName(name);\n        const regex = new RegExp(\n            '(?:(?:^|.*;)\\\\s*' +\n                encodeURIComponent(propertyName).replace(\n                    /[\\-\\.\\+\\*]/g,\n                    '\\\\$&',\n                ) +\n                '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$',\n        );\n        return typeCast(\n            decodeURIComponent(document.cookie.replace(regex, '$1')) || null,\n        );\n    }\n\n    /**\n     * Deletes a cookie by setting its expiration to the Unix epoch.\n     * The cookie is only removed if it currently exists.\n     *\n     * @param name The logical cookie name to remove.\n     * @param opt_path The cookie path used when the cookie was set.\n     * @param opt_domain The cookie domain used when the cookie was set.\n     * @param opt_secure The secure flag used when the cookie was set.\n     *\n     * @example\n     * cookie.set('token', 'abc');\n     * cookie.remove('token');\n     * cookie.get('token'); // null\n     */\n    remove(\n        name: string,\n        opt_path: string | undefined = '',\n        opt_domain: string | undefined = '',\n        opt_secure: boolean | undefined = false,\n    ): void {\n        if (this.hasKey(name)) {\n            const expires = new Date(1970, 0, 1);\n            this.set(name, '', expires, opt_path, opt_domain, opt_secure);\n        }\n    }\n\n    /**\n     * Checks whether a cookie with the given logical name exists in\n     * the browser's cookie store.\n     *\n     * @param name The logical cookie name to check.\n     * @returns `true` if the cookie exists, `false` otherwise.\n     *\n     * @example\n     * cookie.set('lang', 'en');\n     * cookie.hasKey('lang'); // true\n     * cookie.hasKey('missing'); // false\n     */\n    hasKey(name: string): boolean {\n        const propertyName = this._getPropertyName(name);\n        const regex = new RegExp(\n            '(?:^|;\\\\s*)' +\n                encodeURIComponent(propertyName).replace(\n                    /[\\-\\.\\+\\*]/g,\n                    '\\\\$&',\n                ) +\n                '\\\\s*\\\\=',\n        );\n        return regex.test(document.cookie);\n    }\n\n    /**\n     * Returns an array of all logical cookie names currently stored\n     * under this instance's prefix. The prefix is stripped from each\n     * returned name.\n     *\n     * @returns An array of logical cookie names.\n     *\n     * @example\n     * cookie.set('a', '1');\n     * cookie.set('b', '2');\n     * cookie.getKeys(); // ['a', 'b']\n     */\n    getKeys(): Array<string> {\n        const keys = document.cookie\n            .replace(\n                /((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g,\n                '',\n            )\n            .split(/\\s*(?:\\=[^;]*)?;\\s*/);\n        for (let i = 0; i < keys.length; i++) {\n            keys[i] = this._getName(decodeURIComponent(keys[i]));\n        }\n        return keys;\n    }\n\n    /**\n     * Removes all cookies managed by this instance by iterating over\n     * all known keys and calling {@link remove} for each.\n     *\n     * @example\n     * cookie.set('a', '1');\n     * cookie.set('b', '2');\n     * cookie.clear();\n     * cookie.getKeys(); // []\n     */\n    clear(): void {\n        const keys = this.getKeys();\n        eachArray(keys, (key) => {\n            this.remove(key);\n        });\n    }\n}\n", "import { Deferred } from '../core/deferred';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { BaseModal } from './baseModal';\nimport { Http } from './http';\nimport { Knot } from '../core';\nimport { mdl } from '../utils/render';\n\n/**\n * Full dialog modal that loads its content from a server endpoint via\n * {@link Http}. Extends {@link BaseModal} to provide template-based\n * dialog rendering with automatic extraction of title, content, and\n * action buttons from the fetched HTML.\n *\n * The server response is expected to contain elements with specific IDs:\n * - `#title` -- the dialog title text\n * - `#content` -- the main dialog body content\n * - `#action` -- container with one or two `<button>` elements\n *     (one button maps to OK; two buttons map to Cancel + OK)\n *\n * On HTTP error, the dialog extracts and displays the `.message` element\n * from the error response and opens automatically.\n *\n * @example\n * const dialog = new Dialog(http);\n * dialog.loadTemplate('/api/edit-user/42').then(\n *     (contentKnot) => {\n *         dialog.eventOK = () => saveUser(contentKnot);\n *         dialog.open();\n *     },\n *     (errorKnot) => {\n *         console.error('Failed to load dialog');\n *     },\n * );\n *\n * @see {@link BaseModal}\n * @see {@link Http}\n * @see {@link Confirm}\n * @category Module\n */\nexport class Dialog extends BaseModal {\n    http: Http;\n    options!: Objekt;\n\n    /**\n     * Creates a new Dialog instance.\n     *\n     * @param http The HTTP client used to fetch dialog templates from\n     *     the server.\n     * @param opt_options Configuration options merged with defaults.\n     *     Supported keys: `id` (CSS selector for the dialog element,\n     *     defaults to `'#dialog'`).\n     */\n    constructor(http: Http, opt_options: object | undefined = {}) {\n        super();\n        this.http = http;\n        this._setOptions(opt_options);\n        this._init();\n        this._initBase();\n    }\n\n    /**\n     * Merges user-provided options with default values.\n     *\n     * @param opt_options Configuration options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            id: '#dialog',\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes DOM references for the dialog modal elements.\n     */\n    private _init(): void {\n        this.body = new Query('body').getKnot();\n        this.modal = new Query(this.options.id, this.body).getKnot();\n        this.modalWindow = new Query('#dialog-window', this.modal).getKnot();\n        this.modalHeader = new Query('.modal-header', this.modal).getKnot();\n        this.modalTitle = new Query('.modal-title', this.modalHeader).getKnot();\n        this.modalBody = new Query('.modal-body', this.modal).getKnot();\n        this.modalFooter = new Query('.modal-footer', this.modal).getKnot();\n    }\n\n    /**\n     * Fetches an HTML template from the given URL and populates the\n     * dialog with the extracted title, content, and action buttons.\n     *\n     * On success, the returned {@link Promize} resolves with the content\n     * {@link Knot} (the `#content` element from the response). The caller\n     * is responsible for calling `open()` after setting up event callbacks.\n     *\n     * On failure, the dialog automatically opens with the error message\n     * content, and the returned promise rejects with the message\n     * {@link Knot}.\n     *\n     * @param url The server endpoint URL to fetch the dialog template from.\n     * @returns A {@link Promize} that resolves with the content Knot on\n     *     success, or rejects with the message Knot on failure.\n     *\n     * @example\n     * dialog.loadTemplate('/api/confirm-delete').then(\n     *     (contentKnot) => {\n     *         dialog.eventOK = () => performDelete();\n     *         dialog.open();\n     *     },\n     *     (errorKnot) => {\n     *         // Dialog already opened with error message\n     *     },\n     * );\n     */\n    loadTemplate(url: string) {\n        this._reset();\n        const deferred = new Deferred<Knot, Knot>();\n        this.http.get(url).then(\n            (data) => {\n                const knot = this._handleDom(data.get('raw'));\n                deferred.resolve(knot);\n            },\n            (data) => {\n                const knot = this._handleMessage(data.get('raw'));\n                deferred.reject(knot);\n                this.open();\n            },\n        );\n        return deferred.promise();\n    }\n\n    /**\n     * Extracts and displays the error message from a failed HTTP response.\n     *\n     * @param dom The raw response DOM containing a `.message` element.\n     * @returns The message Knot inserted into the modal body.\n     */\n    private _handleMessage(dom: Knot): Knot {\n        const messageKnot = new Query('.message', dom).getKnot();\n        const title = new Query('title', dom).getKnot();\n        this._setTitle(title.getText());\n        this.modalBody.insert(messageKnot);\n        mdl(messageKnot);\n        return messageKnot;\n    }\n\n    /**\n     * Extracts title, content, and actions from a successful response\n     * DOM and populates the dialog.\n     *\n     * @param dom The raw response DOM containing `#title`, `#content`,\n     *     and optionally `#action` elements.\n     * @returns The content Knot inserted into the modal body.\n     */\n    private _handleDom(dom: Knot): Knot {\n        const titleKnot = new Query('#title', dom).getKnot();\n        if (!titleKnot.isEmpty()) {\n            this._setTitle(titleKnot.getText());\n        }\n\n        const contentKnot = new Query('#content', dom).getKnot();\n        this.modalBody.insert(contentKnot);\n        mdl(contentKnot);\n\n        this._handleActions(dom);\n\n        return contentKnot;\n    }\n\n    /**\n     * Extracts action buttons from the response DOM and sets up click\n     * handlers. With one button, it maps to the OK action with primary\n     * styling. With two buttons, the first maps to Cancel (accent) and\n     * the second to OK (primary). If no `#action` element is found, the\n     * footer is hidden.\n     *\n     * @param dom The raw response DOM containing an `#action` element\n     *     with `<button>` children.\n     */\n    private _handleActions(dom: Knot): void {\n        this.modalFooter.removeClass('hidden');\n\n        const actionKnot = new Query('#action', dom).getKnot();\n        if (!actionKnot.isEmpty()) {\n            const buttons = new Query('button', actionKnot);\n            const size = buttons.size();\n            let actions = [this._actionOK.bind(this)];\n            let cssClasses = ['mdl-button--primary'];\n            if (size === 2) {\n                actions = [\n                    this._actionCancel.bind(this),\n                    this._actionOK.bind(this),\n                ];\n                cssClasses = ['mdl-button--accent', 'mdl-button--primary'];\n            }\n            buttons.each((button, i) => {\n                const buttonClasses = [\n                    'mdl-button',\n                    'mdl-js-button',\n                    'mdl-js-ripple-effect',\n                ].concat([cssClasses[i]]);\n                button.addClass(buttonClasses);\n                button.addEventListener('click', actions[i]);\n            });\n\n            this.modalFooter.insert(actionKnot);\n            mdl(actionKnot);\n        } else {\n            this.modalFooter.removeChildren();\n            this.modalFooter.addClass('hidden');\n        }\n    }\n}\n", "import Base64 from 'crypto-js/enc-base64';\nimport Utf8 from 'crypto-js/enc-utf8';\nimport MD5 from 'crypto-js/md5';\nimport AES from 'crypto-js/aes';\n\n/**\n * Encodes a UTF-8 string to its Base64 representation using crypto-js.\n *\n * First parses the input string into a crypto-js word array using the UTF-8\n * encoder, then stringifies it with the Base64 encoder.\n *\n * @param {string} text - The plain text string to encode.\n * @returns {string} The Base64-encoded string.\n * @category Utility\n *\n * @example\n * encodeBase64('Hello, World!');\n * // 'SGVsbG8sIFdvcmxkIQ=='\n */\nexport const encodeBase64 = (text: string): string => {\n    const words = Utf8.parse(text);\n    return Base64.stringify(words);\n};\n\n/**\n * Decodes a Base64-encoded string back to its original UTF-8 text using\n * crypto-js.\n *\n * Parses the Base64 input into a crypto-js word array, then converts it\n * back to a UTF-8 string.\n *\n * @param {string} encodedText - The Base64-encoded string to decode.\n * @returns {string} The decoded UTF-8 string.\n * @category Utility\n *\n * @example\n * decodeBase64('SGVsbG8sIFdvcmxkIQ==');\n * // 'Hello, World!'\n */\nexport const decodeBase64 = (encodedText: string): string => {\n    const words = Base64.parse(encodedText);\n    return Utf8.stringify(words);\n};\n\n/**\n * Encrypts any JSON-serializable value using AES with the provided\n * passphrase via crypto-js.\n *\n * The value is first serialized to a JSON string with `JSON.stringify`,\n * then encrypted using AES. The result is returned as an opaque\n * ciphertext string suitable for storage or transmission.\n *\n * @param {any} value - The value to encrypt. Must be JSON-serializable.\n * @param {string} passPhrase - The passphrase used as the encryption key.\n * @returns {string} The AES-encrypted ciphertext string.\n * @category Utility\n *\n * @example\n * const encrypted = encrypt({ user: 'admin' }, 'secret-key');\n * // An opaque ciphertext string\n */\nexport const encrypt = (value: any, passPhrase: string): string => {\n    const item = JSON.stringify(value);\n    return AES.encrypt(item, passPhrase).toString();\n};\n\n/**\n * Decrypts an AES-encrypted ciphertext string and parses the result as\n * JSON using crypto-js.\n *\n * Decrypts the input with the provided passphrase and converts the result\n * to a UTF-8 string. If decryption yields an empty string, `null` is\n * returned instead (via `JSON.parse('null')`).\n *\n * @param {string} item - The AES-encrypted ciphertext string to decrypt.\n * @param {string} passPhrase - The passphrase used as the decryption key.\n *     Must match the passphrase used during encryption.\n * @returns {any} The decrypted and JSON-parsed value, or `null` if the\n *     decrypted string is empty.\n * @category Utility\n *\n * @example\n * const encrypted = encrypt({ user: 'admin' }, 'secret-key');\n * decrypt(encrypted, 'secret-key');\n * // { user: 'admin' }\n */\nexport const decrypt = (item: string, passPhrase: string): any => {\n    const value = AES.decrypt(item, passPhrase).toString(Utf8);\n    return JSON.parse(value || 'null');\n};\n\n/**\n * Computes the MD5 hash of a string using crypto-js.\n *\n * @param {string} str - The input string to hash.\n * @returns {string} The hexadecimal MD5 hash string.\n * @category Utility\n *\n * @example\n * md5('hello');\n * // '5d41402abc4b2a76b9719d911017c592'\n */\nexport const md5 = (str: string): string => MD5(str).toString();\n\n/**\n * Generates a random identifier string by concatenating two base-36\n * random substrings.\n *\n * Uses `Math.random().toString(36)` to produce alphanumeric characters.\n * This is NOT RFC-compliant and should not be used where true uniqueness\n * guarantees are required. For a UUID-like format, use {@link uuid}\n * instead.\n *\n * @returns {string} A random alphanumeric string (approximately 26\n *     characters).\n * @category Utility\n *\n * @example\n * guid();\n * // 'k7c3h8f2m9x1a4b6n0p5j3'\n */\nexport const guid = (): string =>\n    Math.random().toString(36).substring(2, 15) +\n    Math.random().toString(36).substring(2, 15);\n\n/**\n * Creates a prefixed identifier by joining the given name with a random\n * {@link guid} separated by a hyphen.\n *\n * @param {string} name - The prefix for the generated identifier.\n * @returns {string} A string in the format `'name-randomguid'`.\n * @category Utility\n *\n * @example\n * generateId('button');\n * // 'button-k7c3h8f2m9x1a4b6n0p5j3'\n */\nexport const generateId = (name: string): string => [name, guid()].join('-');\n\n/**\n * Generates a v4-like UUID string with proper version and variant bits.\n *\n * Produces a string in the standard UUID format\n * `xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx`, where `4` indicates version 4\n * and the variant bits of the `y` position are set to `8`, `9`, `a`, or\n * `b`. Uses `Math.random()` for entropy, so this is not\n * cryptographically secure.\n *\n * @returns {string} A UUID-formatted string\n *     (e.g., `'a1b2c3d4-e5f6-4a7b-8c9d-e0f1a2b3c4d5'`).\n * @category Utility\n *\n * @example\n * uuid();\n * // 'f47ac10b-58cc-4372-a567-0e02b2c3d479'\n */\nexport const uuid = (): string =>\n    [\n        Math.random().toString(16).slice(2, 10),\n        Math.random().toString(16).slice(2, 6),\n        (Math.random() * 0.0625 /* 0x.1 */ + 0.25) /* 0x.4 */\n            .toString(16)\n            .slice(2, 6),\n        (Math.random() * 0.25 /* 0x.4 */ + 0.5) /* 0x.8 */\n            .toString(16)\n            .slice(2, 6),\n        Math.random().toString(16).slice(2, 14),\n    ].join('-');\n", "import { eq, format, isFunction, isPureObject, noop } from '../utils/operation';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { generateId } from '../utils/coder';\nimport { Knot } from '../core';\nimport { mdl } from '../utils/render';\n\n/**\n * Flash message notification system for displaying temporary, styled\n * messages to the user. Supports multiple message types (`'success'`,\n * `'info'`, `'warning'`, `'error'`, `'default'`) with configurable\n * auto-dismiss duration and close behavior.\n *\n * Messages are categorized as either closable or non-closable based on\n * the `closableTypes` option (defaults to `['error']`). Closable messages\n * display an explicit close button and remain visible until the user\n * dismisses them. Non-closable messages auto-dismiss after the configured\n * duration and can be clicked anywhere to dismiss early.\n *\n * Setting `opt_duration` to `Infinity` prevents both auto-dismiss and\n * the close button from appearing, creating a persistent notification.\n *\n * Each flash message can be assigned a custom `opt_id` for later\n * programmatic removal via `removeById()`. When a new message is added\n * with an existing ID, the previous message with that ID is removed\n * first.\n *\n * @example\n * const flash = new Flash({ duration: 5000 });\n *\n * flash.addSuccess('Item saved successfully.');\n * flash.addError('Failed to save item.', 0, () => {\n *     retryOperation();\n * });\n *\n * @example\n * // Add a message from a server response object\n * flash.addMessage({ type: 'warning', content: 'Session expiring soon.' });\n *\n * @example\n * // Remove a specific flash by ID\n * flash.addInfo('Uploading...', Infinity, null, 'upload-progress');\n * // Later, when upload completes:\n * flash.removeById('upload-progress');\n *\n * @see {@link Knot}\n * @see {@link Objekt}\n * @category Module\n */\nexport class Flash {\n    container!: Knot;\n    options!: Objekt;\n\n    /**\n     * Creates a new Flash instance.\n     *\n     * @param opt_options Configuration options merged with defaults.\n     *     Supported keys: `id` (CSS selector for the flash container,\n     *     defaults to `'#flashes'`), `duration` (auto-dismiss time in\n     *     milliseconds for non-closable messages, defaults to `4000`),\n     *     `closableTypes` (array of message types that show a close\n     *     button, defaults to `['error']`).\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Initializes the flash container DOM reference.\n     */\n    private _init(): void {\n        this.container = new Query(this.options.id).getKnot();\n    }\n\n    /**\n     * Merges user-provided options with default values.\n     *\n     * @param opt_options Configuration options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            id: '#flashes',\n            duration: 4000,\n            closableTypes: ['error'],\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Creates a flash message DOM element with the given type, content,\n     * and optional close button.\n     *\n     * @param type The message type CSS class (e.g., 'success', 'error').\n     * @param message The HTML content of the flash message.\n     * @param opt_duration Auto-dismiss duration in milliseconds.\n     * @param opt_closeCallback Callback invoked when the flash is closed.\n     * @param opt_id Custom identifier for the flash element.\n     * @returns The created flash Knot element.\n     */\n    private _getFlashKnot(\n        type: string,\n        message: string,\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot {\n        const flashKnot = this.container.createElement('div');\n        flashKnot.setAttribute('data-id', opt_id || generateId('flash'));\n        flashKnot.addClass(['flash', type]);\n        flashKnot.setHtml(message);\n        if (\n            this._isClosable(type, opt_closeCallback) &&\n            !eq(opt_duration, Infinity)\n        ) {\n            const buttonKnot = this._getCloseButton(\n                flashKnot,\n                opt_closeCallback,\n            );\n            flashKnot.beforeChild(buttonKnot);\n        }\n        return flashKnot;\n    }\n\n    /**\n     * Creates an MDL-styled close button for a flash message.\n     *\n     * @param flashKnot The flash element that this button will close.\n     * @param opt_closeCallback Callback invoked when the button is clicked.\n     * @returns The close button Knot element.\n     */\n    private _getCloseButton(\n        flashKnot: Knot,\n        opt_closeCallback: (Function | null) | undefined = null,\n    ): Knot {\n        const buttonKnot = flashKnot.createElement('button');\n        buttonKnot.addClass([\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-button--icon',\n        ]);\n\n        const buttonIcon = buttonKnot.createElement('em');\n        buttonIcon.addClass('material-icons');\n        buttonIcon.setHtml('close');\n\n        buttonKnot.appendChild(buttonIcon);\n\n        buttonKnot.addEventListener('click', () => {\n            this.remove(flashKnot, opt_closeCallback);\n        });\n\n        mdl(buttonKnot);\n\n        return buttonKnot;\n    }\n\n    /**\n     * Creates and appends a flash message to the container. If an\n     * `opt_id` is provided, any existing flash with that ID is removed\n     * first. Non-closable messages get a click-to-dismiss handler and\n     * auto-dismiss after the configured duration.\n     *\n     * @param type The message type CSS class (e.g., 'success', 'error').\n     * @param message The HTML content of the flash message.\n     * @param opt_duration Auto-dismiss duration in milliseconds. When 0,\n     *     the default duration from options is used.\n     * @param opt_closeCallback Callback invoked when the flash is removed.\n     * @param opt_id Custom identifier for deduplication and programmatic\n     *     removal.\n     * @returns The created flash Knot element.\n     */\n    private _add(\n        type: string,\n        message: string,\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot {\n        this.removeById(opt_id);\n        const flashKnot = this._getFlashKnot(\n            type,\n            message,\n            opt_duration,\n            opt_closeCallback,\n            opt_id,\n        );\n        this.container.appendChild(flashKnot);\n        if (\n            !this._isClosable(type, opt_closeCallback) &&\n            !eq(opt_duration, Infinity)\n        ) {\n            flashKnot.addClass('closable');\n            flashKnot.addEventListener('click', () => {\n                this.remove(flashKnot, opt_closeCallback);\n            });\n            window.setTimeout(() => {\n                this.remove(flashKnot, opt_closeCallback);\n            }, opt_duration || this.options.duration);\n        }\n        return flashKnot;\n    }\n\n    /**\n     * Removes all flash messages with the given data-id attribute from\n     * the container.\n     *\n     * @param opt_id The data-id value of the flash messages to remove.\n     *     When empty, no action is taken.\n     *\n     * @example\n     * flash.removeById('upload-progress');\n     */\n    removeById(opt_id: string | undefined = '') {\n        if (opt_id) {\n            const selector = format('[data-id={0}]', [opt_id]);\n            const flashes = new Query(selector, this.container);\n            flashes.each((flash) => {\n                this.container.removeChild(flash);\n            });\n        }\n    }\n\n    /**\n     * Determines whether a flash message type should show a close button.\n     * A type is closable if it appears in the `closableTypes` option\n     * array or if a close callback function is provided.\n     *\n     * @param type The message type to check.\n     * @param opt_closeCallback The close callback, if any.\n     * @returns True if the flash should display a close button.\n     */\n    private _isClosable(\n        type: string,\n        opt_closeCallback: (Function | null) | undefined = null,\n    ): boolean {\n        return (\n            this.options.closableTypes.indexOf(type) !== -1 ||\n            isFunction(opt_closeCallback)\n        );\n    }\n\n    /**\n     * Removes a flash message from the container and invokes the\n     * optional close callback.\n     *\n     * @param flash The flash Knot element to remove.\n     * @param opt_closeCallback Optional callback to invoke before\n     *     removing the element.\n     *\n     * @example\n     * const flashKnot = flash.addInfo('Processing...');\n     * // Later, remove it programmatically:\n     * flash.remove(flashKnot);\n     */\n    remove(\n        flash: Knot,\n        opt_closeCallback: (Function | null) | undefined = null,\n    ): void {\n        if (isFunction(opt_closeCallback)) {\n            opt_closeCallback();\n        }\n        this.container.removeChild(flash);\n    }\n\n    /**\n     * Adds a success-type flash message.\n     *\n     * @param message The HTML content of the flash message.\n     * @param opt_duration Auto-dismiss duration in milliseconds. When 0,\n     *     the default duration from options is used.\n     * @param opt_closeCallback Callback invoked when the flash is closed.\n     * @param opt_id Custom identifier for deduplication and programmatic\n     *     removal.\n     * @returns The created flash Knot element.\n     *\n     * @example\n     * flash.addSuccess('Profile updated successfully.');\n     */\n    addSuccess(\n        message: string,\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot {\n        return this._add(\n            'success',\n            message,\n            opt_duration,\n            opt_closeCallback,\n            opt_id,\n        );\n    }\n\n    /**\n     * Adds an info-type flash message.\n     *\n     * @param message The HTML content of the flash message.\n     * @param opt_duration Auto-dismiss duration in milliseconds. When 0,\n     *     the default duration from options is used.\n     * @param opt_closeCallback Callback invoked when the flash is closed.\n     * @param opt_id Custom identifier for deduplication and programmatic\n     *     removal.\n     * @returns The created flash Knot element.\n     *\n     * @example\n     * flash.addInfo('New version available.');\n     */\n    addInfo(\n        message: string,\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot {\n        return this._add(\n            'info',\n            message,\n            opt_duration,\n            opt_closeCallback,\n            opt_id,\n        );\n    }\n\n    /**\n     * Adds a warning-type flash message.\n     *\n     * @param message The HTML content of the flash message.\n     * @param opt_duration Auto-dismiss duration in milliseconds. When 0,\n     *     the default duration from options is used.\n     * @param opt_closeCallback Callback invoked when the flash is closed.\n     * @param opt_id Custom identifier for deduplication and programmatic\n     *     removal.\n     * @returns The created flash Knot element.\n     *\n     * @example\n     * flash.addWarning('Disk space is running low.');\n     */\n    addWarning(\n        message: string,\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot {\n        return this._add(\n            'warning',\n            message,\n            opt_duration,\n            opt_closeCallback,\n            opt_id,\n        );\n    }\n\n    /**\n     * Adds an error-type flash message. Error messages are closable by\n     * default (they display a close button and do not auto-dismiss).\n     *\n     * @param message The HTML content of the flash message.\n     * @param opt_duration Auto-dismiss duration in milliseconds. When 0,\n     *     the default duration from options is used.\n     * @param opt_closeCallback Callback invoked when the flash is closed.\n     * @param opt_id Custom identifier for deduplication and programmatic\n     *     removal.\n     * @returns The created flash Knot element.\n     *\n     * @example\n     * flash.addError('Failed to save changes. Please try again.');\n     *\n     * @example\n     * // Error with a retry callback\n     * flash.addError('Connection lost.', 0, () => {\n     *     reconnect();\n     * });\n     */\n    addError(\n        message: string,\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot {\n        return this._add(\n            'error',\n            message,\n            opt_duration,\n            opt_closeCallback,\n            opt_id,\n        );\n    }\n\n    /**\n     * Adds a flash message from a structured message object. The object\n     * must contain `type` and `content` properties. When the `closable`\n     * property is true, the message uses a no-op close callback to\n     * force closable behavior regardless of its type.\n     *\n     * @param message The message object with `type` (flash type string),\n     *     `content` (HTML message text), and optional `closable` flag.\n     * @param opt_duration Auto-dismiss duration in milliseconds. When 0,\n     *     the default duration from options is used.\n     * @param opt_closeCallback Callback invoked when the flash is closed.\n     *     Overridden by a no-op when `message.closable` is true.\n     * @param opt_id Custom identifier for deduplication and programmatic\n     *     removal.\n     * @returns The created flash Knot element, or null if the message\n     *     parameter is not a valid plain object.\n     *\n     * @example\n     * // From a server response\n     * flash.addMessage({\n     *     type: 'success',\n     *     content: 'Operation completed.',\n     * });\n     *\n     * @example\n     * // Closable message regardless of type\n     * flash.addMessage({\n     *     type: 'info',\n     *     content: 'Please review the changes.',\n     *     closable: true,\n     * });\n     */\n    addMessage(\n        message: { type: string; content: string; closable?: boolean },\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot | null {\n        if (isPureObject(message)) {\n            const closeCallback = message.closable ? noop : opt_closeCallback;\n            return this._add(\n                message.type,\n                message.content,\n                opt_duration,\n                closeCallback,\n                opt_id,\n            );\n        }\n        return null;\n    }\n\n    /**\n     * Adds a default-type flash message with no special styling.\n     *\n     * @param message The HTML content of the flash message.\n     * @param opt_duration Auto-dismiss duration in milliseconds. When 0,\n     *     the default duration from options is used.\n     * @param opt_closeCallback Callback invoked when the flash is closed.\n     * @param opt_id Custom identifier for deduplication and programmatic\n     *     removal.\n     * @returns The created flash Knot element.\n     *\n     * @example\n     * flash.addDefault('Action completed.');\n     */\n    addDefault(\n        message: string,\n        opt_duration: number | undefined = 0,\n        opt_closeCallback: (Function | null) | undefined = null,\n        opt_id: string | undefined = '',\n    ): Knot {\n        return this._add(\n            'default',\n            message,\n            opt_duration,\n            opt_closeCallback,\n            opt_id,\n        );\n    }\n}\n", "import { Knot } from '../core';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\n\n/**\n * Application footer bar that manages visibility, content injection, locale\n * selector placement, and an expandable open/close state.\n *\n * The footer automatically applies dark or static styling based on whether\n * the current page content is a fullscreen light view.\n *\n * @see {@link BottomMenu}\n * @see {@link Header}\n * @category Module\n *\n * @example\n * const footer = new Footer();\n * footer.show();\n * footer.setContent(copyrightKnot);\n */\nexport class Footer {\n    options!: Objekt;\n    footerKnot!: Knot;\n    templateViewKnot!: Knot;\n    contentKnot!: Knot;\n    localesKnot!: Knot;\n\n    /**\n     * Creates a new Footer instance and queries the footer DOM elements.\n     *\n     * @param {object | undefined} opt_options - Optional configuration\n     *     merged into defaults.\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options into the default configuration.\n     *\n     * @param {object | undefined} opt_options - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt();\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Queries the `#footer` element and its child containers for content\n     * and locale areas.\n     */\n    private _init(): void {\n        this.footerKnot = new Query('#footer').getKnot();\n        this.templateViewKnot = new Query('.template-view').getKnot();\n        this.contentKnot = new Query('.content', this.footerKnot).getKnot();\n        this.localesKnot = new Query('.locales', this.footerKnot).getKnot();\n    }\n\n    /**\n     * Shows the footer and applies contextual styling. If the current page\n     * content is a fullscreen light view, the footer receives a dark\n     * background and static positioning; otherwise dark styling is removed.\n     *\n     * @example\n     * footer.show();\n     */\n    show(): void {\n        this.footerKnot.removeClass(['static', 'hidden', 'has-footer']);\n        const contentKnot = new Query(\n            '.page-content.fullscreen',\n            this.templateViewKnot,\n        ).getKnot();\n        if (contentKnot && !contentKnot.isEmpty()) {\n            const isLightContent = contentKnot.hasClass('light');\n            if (isLightContent) {\n                this.footerKnot.addClass('dark');\n            } else {\n                this.footerKnot.removeClass('dark');\n            }\n            this.footerKnot.addClass('static');\n            this.templateViewKnot.addClass('has-footer');\n        }\n    }\n\n    /**\n     * Hides the footer and removes static positioning from the template view.\n     *\n     * @example\n     * footer.hide();\n     */\n    hide(): void {\n        this.footerKnot.addClass('hidden');\n        this.footerKnot.removeClass('static');\n        this.templateViewKnot.removeClass('has-footer');\n    }\n\n    /**\n     * Appends a content element to the footer's content container.\n     *\n     * @param {Knot} contentKnot - The DOM element wrapper to append.\n     *\n     * @example\n     * const copyright = new Knot('span');\n     * copyright.setHtml('2024 My App');\n     * footer.setContent(copyright);\n     */\n    setContent(contentKnot: Knot): void {\n        this.contentKnot.appendChild(contentKnot);\n    }\n\n    /**\n     * Returns the container {@link Knot} designated for the locale selector\n     * UI within the footer.\n     *\n     * @returns {Knot} The locales container element.\n     *\n     * @example\n     * const localesContainer = footer.getLocalesContainer();\n     */\n    getLocalesContainer(): Knot {\n        return this.localesKnot;\n    }\n\n    /**\n     * Expands the footer to its open state.\n     */\n    open(): void {\n        this.footerKnot.addClass('open');\n    }\n\n    /**\n     * Collapses the footer from its open state.\n     */\n    close(): void {\n        this.footerKnot.removeClass('open');\n    }\n\n    /**\n     * Checks whether the footer is currently in its expanded (open) state.\n     *\n     * @returns {boolean} True if the footer is open, false otherwise.\n     */\n    isOpened(): boolean {\n        return this.footerKnot.hasClass('open');\n    }\n\n    /**\n     * Toggles the footer between its open and closed states.\n     *\n     * @example\n     * footer.toogle();\n     */\n    toogle(): void {\n        if (this.isOpened()) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n}\n", "import { Deferred } from '../core/deferred';\nimport { consoleDebug, consoleError } from '../utils/log';\n\n/**\n * Wrapper around the browser Geolocation API that provides both\n * one-shot position retrieval and continuous position watching. Uses\n * {@link Deferred} for promise-based single position requests and\n * dispatches position updates through overridable event methods.\n *\n * High accuracy is enabled by default, with a 5-second timeout and\n * infinite maximum cache age for position data.\n *\n * Override {@link eventChange} to handle successful position updates\n * and {@link eventError} to handle geolocation errors such as\n * permission denial, unavailable position, or timeouts.\n *\n * @example\n * const geo = new GeoLocation();\n *\n * // One-shot position request\n * geo.getPosition().then(\n *     ([lat, lng]) => console.log(`Position: ${lat}, ${lng}`),\n *     () => console.error('Failed to get position'),\n * );\n *\n * // Continuous watching\n * geo.eventChange = (lat, lng, message) => {\n *     console.log(`Moved to: ${lat}, ${lng}`);\n * };\n * geo.setWatcher();\n *\n * // Stop watching\n * geo.clearWatcher();\n *\n * @see {@link Deferred}\n * @see {@link Promize}\n * @category Module\n */\nexport class GeoLocation {\n    options!: {\n        enableHighAccuracy: boolean;\n        timeout: number;\n        maximumAge: number;\n    };\n    watcherId!: number;\n\n    /**\n     * Creates a new GeoLocation instance with default geolocation\n     * options (high accuracy, 5-second timeout, infinite cache age).\n     */\n    constructor() {\n        this._init();\n    }\n\n    /**\n     * Initializes the geolocation options with defaults.\n     */\n    private _init(): void {\n        this.options = {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: Infinity,\n        };\n    }\n\n    /**\n     * Starts continuous position watching using the browser's\n     * `watchPosition` API. Each successful position update triggers\n     * {@link eventChange}, and errors trigger {@link eventError}.\n     * The watcher ID is stored for later cancellation via\n     * {@link clearWatcher}.\n     *\n     * @example\n     * const geo = new GeoLocation();\n     * geo.eventChange = (lat, lng, message) => {\n     *     updateMap(lat, lng);\n     * };\n     * geo.setWatcher();\n     */\n    setWatcher(): void {\n        this.watcherId = navigator.geolocation.watchPosition(\n            (position) => {\n                this._handlePosition(position);\n            },\n            (error) => {\n                this._handleError(error);\n            },\n            this.options,\n        );\n    }\n\n    /**\n     * Requests the device's current position as a one-shot query.\n     * Returns a {@link Promize} that resolves with a `[latitude, longitude]`\n     * tuple on success, or rejects with `[null, null]` on failure.\n     *\n     * @returns A {@link Promize} resolving to a `[number, number]` tuple\n     *     of latitude and longitude coordinates.\n     *\n     * @example\n     * const geo = new GeoLocation();\n     * geo.getPosition().then(\n     *     ([lat, lng]) => console.log(`Latitude: ${lat}, Longitude: ${lng}`),\n     *     ([lat, lng]) => console.error('Position unavailable'),\n     * );\n     */\n    getPosition() {\n        const deferred = new Deferred<[number, number], [null, null]>();\n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                deferred.resolve([\n                    position.coords.latitude,\n                    position.coords.longitude,\n                ]);\n            },\n            (_error) => {\n                deferred.reject([null, null]);\n            },\n            this.options,\n        );\n        return deferred.promise();\n    }\n\n    /**\n     * Stops the continuous position watcher started by {@link setWatcher}.\n     *\n     * @example\n     * geo.setWatcher();\n     * // ... later\n     * geo.clearWatcher();\n     */\n    clearWatcher(): void {\n        navigator.geolocation.clearWatch(this.watcherId);\n    }\n\n    /**\n     * Called when a new position is successfully obtained, either from\n     * the watcher or the position handler. Override this method to\n     * implement custom position update behavior.\n     *\n     * @param latitude The latitude coordinate in decimal degrees.\n     * @param longitude The longitude coordinate in decimal degrees.\n     * @param message A descriptive message about the position event.\n     */\n    eventChange(latitude: number, longitude: number, message: string): void {\n        consoleDebug('GeoLocation.eventChange()', latitude, longitude, message);\n    }\n\n    /**\n     * Processes a successful geolocation position result and dispatches\n     * to {@link eventChange}.\n     *\n     * @param position The native GeolocationPosition from the browser.\n     */\n    private _handlePosition(position: GeolocationPosition): void {\n        const message = 'User allowed the request for GeoLocation.';\n        this.eventChange(\n            position.coords.latitude,\n            position.coords.longitude,\n            message,\n        );\n    }\n\n    /**\n     * Processes a geolocation error and dispatches a human-readable\n     * message and error code to {@link eventError}.\n     *\n     * @param error The native GeolocationPositionError from the browser.\n     */\n    private _handleError(error: GeolocationPositionError): void {\n        switch (error.code) {\n            case error.PERMISSION_DENIED:\n                this.eventError(\n                    'User denied the request for GeoLocation.',\n                    'permission_denied',\n                );\n                break;\n            case error.POSITION_UNAVAILABLE:\n                this.eventError(\n                    'Location information is unavailable.',\n                    'position_unavailable',\n                );\n                break;\n            case error.TIMEOUT:\n                this.eventError(\n                    'The request to get user location timed out.',\n                    'timeout',\n                );\n                break;\n            default:\n                this.eventError('An unknown error occurred.', 'unknown');\n                break;\n        }\n    }\n\n    /**\n     * Called when a geolocation error occurs. Override this method to\n     * implement custom error handling such as showing user notifications\n     * or falling back to IP-based geolocation.\n     *\n     * @param message A human-readable description of the error.\n     * @param code A machine-readable error code: `'permission_denied'`,\n     *     `'position_unavailable'`, `'timeout'`, or `'unknown'`.\n     */\n    eventError(message: string, code: string): void {\n        consoleError('GeoLocation.eventError()', message, code);\n    }\n}\n", "import { isNull, format } from '../utils/operation';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { generateId } from '../utils/coder';\nimport { mdl } from '../utils/render';\n\n/**\n * @description MDL tooltip wrapper with directional positioning (TOP, BOTTOM, LEFT, RIGHT).\n * Reads tooltip text from the element's title or desc attribute.\n *\n * @example\n * const tooltip = new Tooltip(buttonKnot, 'BOTTOM');\n * tooltip.render('Click to submit');\n *\n * @see {@link Table} for table cells that use tooltips for header descriptions\n *\n * @category Component\n */\nexport class Tooltip {\n    element: Knot;\n    valid: boolean;\n    positionCssClass!: string;\n    tooltip!: Knot;\n\n    /**\n     * @description Creates a new Tooltip for the given element with directional positioning.\n     * @param {Knot} element - The element to attach the tooltip to.\n     * @param {string} [opt_position] - Tooltip direction: 'TOP', 'BOTTOM', 'LEFT', or 'RIGHT'.\n     */\n    constructor(element: Knot, opt_position: string | undefined = 'TOP') {\n        this.element = element;\n        this.valid = false;\n        this._initPositions(opt_position);\n        this._init();\n    }\n\n    /**\n     * @description Maps the position string to the corresponding MDL CSS class.\n     * @param {string} [opt_position] - Direction string.\n     */\n    private _initPositions(opt_position: string | undefined = ''): void {\n        this.positionCssClass = 'mdl-tooltip--top';\n        switch (opt_position) {\n            case 'TOP':\n                this.positionCssClass = 'mdl-tooltip--top';\n                break;\n            case 'BOTTOM':\n                this.positionCssClass = 'mdl-tooltip--bottom';\n                break;\n            case 'LEFT':\n                this.positionCssClass = 'mdl-tooltip--left';\n                break;\n            case 'RIGHT':\n                this.positionCssClass = 'mdl-tooltip--right';\n                break;\n        }\n    }\n\n    /**\n     * @description Creates the tooltip DOM element.\n     */\n    private _init(): void {\n        this._createTooltip();\n    }\n\n    /**\n     * @description Resolves the tooltip message from the provided string or the element's desc/title attributes.\n     * @param {string} [opt_message] - Explicit message to use.\n     * @returns {string} The resolved tooltip message.\n     */\n    private _getMessage(opt_message: string | undefined = ''): string {\n        if (!opt_message) {\n            opt_message = this.element.getAttribute('desc') || '';\n            if (opt_message) {\n                this.tooltip.addClass('mdl-tooltip--large');\n            }\n            opt_message = this.element.getAttribute('title') || opt_message;\n        }\n        return opt_message ?? '';\n    }\n\n    /**\n     * @description Creates the tooltip span element, assigns an ID, and inserts it after the target element.\n     */\n    private _createTooltip(): void {\n        let id = this.element.getId();\n        if (isNull(id)) {\n            id = generateId('tooltip');\n            this.element.setId(id);\n            this.element.addClass('has-tooltip');\n        }\n        const oldElement = new Query(\n            format('[for=\"{0}\"]', [id]),\n            this.element,\n        ).getKnot();\n        oldElement.remove();\n\n        const cssClasses = ['mdl-tooltip', this.positionCssClass];\n        this.tooltip = new Knot('span');\n        this.tooltip.addClass(cssClasses);\n        this.tooltip.setFor(id);\n        this.valid = this.element.insertAfter(this.tooltip);\n    }\n\n    /**\n     * @description Renders the tooltip with the given or auto-detected message, and upgrades MDL components.\n     * @param {string} [opt_message] - Optional explicit tooltip message.\n     *\n     * @example\n     * tooltip.render('Helpful hint');\n     */\n    render(opt_message?: string | undefined): void {\n        const message = this._getMessage(opt_message);\n        this.setMessage(message);\n        this._handleAttributes();\n    }\n\n    /**\n     * @description Removes desc/title attributes from the element and upgrades the MDL tooltip.\n     */\n    private _handleAttributes(): void {\n        if (this.valid) {\n            this.element.removeAttribute('desc');\n            this.element.removeAttribute('title');\n            mdl(this.tooltip);\n        }\n    }\n\n    /**\n     * @description Sets the tooltip message content. Hides the tooltip when message is empty.\n     * @param {string} [opt_message] - The message text to display.\n     *\n     * @example\n     * tooltip.setMessage('Updated tooltip text');\n     */\n    setMessage(opt_message: string | undefined = ''): void {\n        if (opt_message) {\n            this.tooltip.removeStyle(['display']);\n            this.tooltip.setHtml(opt_message);\n        } else {\n            this.tooltip.setStyle({\n                display: 'none',\n            });\n            this.tooltip.setHtml('');\n        }\n    }\n\n    /**\n     * @description Programmatically opens the tooltip by adding the active CSS class.\n     *\n     * @example\n     * tooltip.open();\n     */\n    open(): void {\n        this.tooltip.addClass('is-active');\n    }\n\n    /**\n     * @description Programmatically closes the tooltip by removing the active CSS class.\n     *\n     * @example\n     * tooltip.close();\n     */\n    close(): void {\n        this.tooltip.removeClass('is-active');\n    }\n\n    /**\n     * @description Checks whether the tooltip is currently visible.\n     * @returns {boolean} True if the tooltip is active.\n     *\n     * @example\n     * if (tooltip.isOpen()) { tooltip.close(); }\n     */\n    isOpen(): boolean {\n        return this.tooltip.hasClass('is-active');\n    }\n\n    /**\n     * @description Toggles the tooltip between open and closed states.\n     *\n     * @example\n     * tooltip.toggle();\n     */\n    toggle(): void {\n        if (this.isOpen()) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n}\n", "import { format } from '../utils/operation';\nimport { Tooltip } from '../component/tooltip';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { generateId, md5 } from '../utils/coder';\nimport { mdl } from '../utils/render';\n\n/**\n * UI element factory for creating and enhancing styled links, buttons,\n * and icon buttons with Material Design Lite classes. Helper provides\n * a consistent API for building interactive UI elements with click\n * handlers, tooltips, and access control.\n *\n * Methods follow a triplet pattern for each element type:\n * - `create*()` -- Creates a new DOM element from scratch.\n * - `*()` -- Selects an existing element by CSS selector and enhances it.\n * - `multiple*()` -- Selects and enhances all matching elements.\n *\n * Each method supports an `opt_allowAccess` parameter that removes\n * the element from the DOM when set to `false`, and an\n * `opt_description` parameter for adding a {@link Tooltip}.\n *\n * @example\n * const helper = new Helper();\n *\n * // Create a new link element\n * const link = helper.createLink('Click me', (href, knot) => {\n *     console.log('Clicked:', href);\n * });\n *\n * // Enhance an existing button in the DOM\n * helper.button('.save-btn', containerKnot, (id, button) => {\n *     console.log('Saving...');\n * }, 'Save changes');\n *\n * // Create an icon button with a Material icon\n * const iconBtn = helper.createIconButton('delete', (id, button) => {\n *     console.log('Deleted');\n * }, 'Delete item');\n *\n * @see {@link Knot}\n * @see {@link Query}\n * @see {@link Tooltip}\n * @category Module\n */\nexport class Helper {\n    /**\n     * Creates a new anchor (`<a>`) element with the given display name\n     * and enhances it with click handling, tooltip, and CSS classes\n     * via {@link linkElement}.\n     *\n     * @param name The text content to display inside the link.\n     * @param opt_callback Called with the link's `href` and the\n     *     {@link Knot} when clicked.\n     * @param opt_href The URL for the `href` attribute. Defaults to\n     *     `'javascript:void(0)'`.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses CSS classes to add to the link element.\n     * @returns The created anchor {@link Knot}.\n     *\n     * @example\n     * const link = helper.createLink('Home', (href, knot) => {\n     *     console.log('Navigate to:', href);\n     * }, '/home', 'Go to homepage');\n     */\n    createLink(\n        name: string,\n        opt_callback: (href: string, linkKnot: Knot) => void | undefined,\n        opt_href: string | undefined = 'javascript:void(0)',\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = ['link'],\n    ): Knot {\n        const linkKnot = new Knot('a');\n        linkKnot.setHtml(name);\n        this.linkElement(\n            linkKnot,\n            opt_callback,\n            opt_href,\n            opt_description,\n            opt_allowAccess,\n            opt_cssClasses,\n        );\n        return linkKnot;\n    }\n\n    /**\n     * Selects all elements matching the CSS selector within the given\n     * DOM container and enhances each as a link via {@link linkElement}.\n     *\n     * @param selector CSS selector to match link elements.\n     * @param dom The parent {@link Knot} to search within.\n     * @param opt_callback Called with the link's `href` and the\n     *     {@link Knot} when any matched link is clicked.\n     * @param opt_cssClasses CSS classes to add to each matched element.\n     */\n    multipleLink(\n        selector: string,\n        dom: Knot,\n        opt_callback: (href: string, linkKnot: Knot) => void | undefined,\n        opt_cssClasses: string[] | undefined = [],\n    ): void {\n        const linkKnots = new Query(selector, dom);\n        linkKnots.each((linkKnot) => {\n            this.linkElement(\n                linkKnot,\n                opt_callback,\n                '',\n                '',\n                true,\n                opt_cssClasses,\n            );\n        });\n    }\n\n    /**\n     * Selects a single element matching the CSS selector within the\n     * given DOM container and enhances it as a link via\n     * {@link linkElement}.\n     *\n     * @param selector CSS selector to match the link element.\n     * @param dom The parent {@link Knot} to search within.\n     * @param opt_callback Called with the link's `href` and the\n     *     {@link Knot} when clicked.\n     * @param opt_href The URL for the `href` attribute.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses CSS classes to add to the link element.\n     * @returns The selected and enhanced anchor {@link Knot}.\n     *\n     * @example\n     * const link = helper.link('.nav-home', containerKnot, (href, knot) => {\n     *     router.navigate(href);\n     * }, '/home', 'Go to homepage');\n     */\n    link(\n        selector: string,\n        dom: Knot,\n        opt_callback: (href: string, linkKnot: Knot) => void | undefined,\n        opt_href: string | undefined = '',\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = [],\n    ): Knot {\n        const linkKnot = new Query(selector, dom).getKnot();\n        this.linkElement(\n            linkKnot,\n            opt_callback,\n            opt_href,\n            opt_description,\n            opt_allowAccess,\n            opt_cssClasses,\n        );\n        return linkKnot;\n    }\n\n    /**\n     * Enhances an existing anchor {@link Knot} with CSS classes, click\n     * handling, and a tooltip. Generates an ID if the element does not\n     * have one. If the element already has an ID, existing click\n     * listeners are removed before attaching the new handler.\n     *\n     * When `opt_allowAccess` is `false`, the element is removed from\n     * the DOM entirely.\n     *\n     * @param linkKnot The anchor {@link Knot} to enhance.\n     * @param opt_callback Called with the link's `href` and the\n     *     {@link Knot} when clicked.\n     * @param opt_href The URL for the `href` attribute.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses CSS classes to add to the link element.\n     */\n    linkElement(\n        linkKnot: Knot,\n        opt_callback: (href: string, linkKnot: Knot) => void | undefined,\n        opt_href: string | undefined = '',\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = [],\n    ): void {\n        if (!linkKnot.isEmpty()) {\n            if (opt_allowAccess) {\n                linkKnot.addClass(opt_cssClasses);\n\n                if (!linkKnot.getId()) {\n                    linkKnot.setId(generateId('link'));\n                } else {\n                    linkKnot.removeEventListeners('click');\n                }\n                if (opt_href) {\n                    linkKnot.setAttribute('href', opt_href);\n                }\n                if (opt_callback) {\n                    const href = linkKnot.getAttribute('href');\n                    linkKnot.addEventListener('click', () => {\n                        opt_callback(href, linkKnot);\n                    });\n                }\n\n                this._setTooltip(linkKnot, opt_description);\n            } else {\n                linkKnot.remove();\n            }\n        }\n    }\n\n    /**\n     * Creates a new `<button>` element with the given display name\n     * and enhances it with Material Design Lite classes, click handling,\n     * and a tooltip via {@link buttonElement}.\n     *\n     * @param name The text content to display inside the button.\n     * @param callback Called with the button's ID and the {@link Knot}\n     *     when clicked.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses Additional MDL CSS classes to add.\n     * @returns The created button {@link Knot}.\n     *\n     * @example\n     * const btn = helper.createButton('Save', (id, button) => {\n     *     console.log('Button clicked:', id);\n     * }, 'Save the form');\n     */\n    createButton(\n        name: string,\n        callback: (id: string, button: Knot) => void,\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = ['mdl-button--primary'],\n    ): Knot {\n        const buttonKnot = new Knot<HTMLButtonElement>('button');\n        buttonKnot.setHtml(name);\n        this.buttonElement(\n            buttonKnot,\n            callback,\n            opt_description,\n            opt_allowAccess,\n            opt_cssClasses,\n        );\n        return buttonKnot;\n    }\n\n    /**\n     * Selects all elements matching the CSS selector within the given\n     * DOM container and enhances each as a button via\n     * {@link buttonElement}.\n     *\n     * @param selector CSS selector to match button elements.\n     * @param dom The parent {@link Knot} to search within.\n     * @param opt_callback Called with the button's ID and the\n     *     {@link Knot} when any matched button is clicked.\n     * @param opt_cssClasses Additional MDL CSS classes to add.\n     */\n    multipleButton(\n        selector: string,\n        dom: Knot,\n        opt_callback?: (id: string, button: Knot) => void,\n        opt_cssClasses: string[] | undefined = ['mdl-button--primary'],\n    ): void {\n        const buttonKnots = new Query(selector, dom);\n        buttonKnots.each((buttonKnot) => {\n            this.buttonElement(\n                buttonKnot,\n                opt_callback,\n                '',\n                true,\n                opt_cssClasses,\n            );\n        });\n    }\n\n    /**\n     * Selects a single element matching the CSS selector within the\n     * given DOM container and enhances it as a button via\n     * {@link buttonElement}.\n     *\n     * @param selector CSS selector to match the button element.\n     * @param dom The parent {@link Knot} to search within.\n     * @param callback Called with the button's ID and the {@link Knot}\n     *     when clicked.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses Additional MDL CSS classes to add.\n     * @returns The selected and enhanced button {@link Knot}.\n     *\n     * @example\n     * const btn = helper.button('.submit-btn', formKnot, (id, button) => {\n     *     console.log('Submitting form...');\n     * }, 'Submit form');\n     */\n    button(\n        selector: string,\n        dom: Knot,\n        callback: (id: string, button: Knot) => void,\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = ['mdl-button--primary'],\n    ): Knot {\n        const buttonKnot = new Query(selector, dom).getKnot();\n        this.buttonElement(\n            buttonKnot,\n            callback,\n            opt_description,\n            opt_allowAccess,\n            opt_cssClasses,\n        );\n        return buttonKnot;\n    }\n\n    /**\n     * Enhances an existing button {@link Knot} with Material Design Lite\n     * classes, click handling, and a tooltip. Applies base MDL button\n     * classes (`mdl-button`, `mdl-js-button`, `mdl-js-ripple-effect`,\n     * `mdl-button--raised`) plus any additional classes provided.\n     *\n     * When the element already has an ID, existing CSS classes and click\n     * listeners are removed before re-applying. When `opt_allowAccess`\n     * is `false`, the element is removed from the DOM entirely.\n     *\n     * @param buttonKnot The button {@link Knot} to enhance.\n     * @param opt_callback Called with the button's ID and the\n     *     {@link Knot} when clicked.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses Additional MDL CSS classes to add.\n     */\n    buttonElement(\n        buttonKnot: Knot,\n        opt_callback?: (id: string, button: Knot) => void,\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = ['mdl-button--primary'],\n    ): void {\n        if (!buttonKnot.isEmpty()) {\n            if (opt_allowAccess) {\n                if (!buttonKnot.getId()) {\n                    buttonKnot.setId(generateId('button'));\n                } else {\n                    const oldCssClasses = buttonKnot.getData('cssClasses');\n                    buttonKnot.removeClass(oldCssClasses);\n                    buttonKnot.removeEventListeners('click');\n                }\n                const cssClasses = [\n                    'mdl-button',\n                    'mdl-js-button',\n                    'mdl-js-ripple-effect',\n                    'mdl-button--raised',\n                ].concat(opt_cssClasses);\n                buttonKnot.setData('cssClasses', cssClasses);\n                buttonKnot.addClass(cssClasses);\n                if (opt_callback) {\n                    buttonKnot.addEventListener('click', () => {\n                        opt_callback(buttonKnot.getId()!, buttonKnot);\n                    });\n                }\n\n                this._setTooltip(buttonKnot, opt_description);\n            } else {\n                buttonKnot.remove();\n            }\n        }\n    }\n\n    /**\n     * Creates a new `<button>` element with a Material icon and enhances\n     * it with icon button styling, click handling, and a tooltip via\n     * {@link iconButtonElement}.\n     *\n     * @param iconName The Material icon name (e.g., `'delete'`, `'edit'`).\n     * @param callback Called with the button's ID and the {@link Knot}\n     *     when clicked.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses Additional MDL CSS classes for icon button\n     *     styling.\n     * @returns The created icon button {@link Knot}.\n     *\n     * @example\n     * const deleteBtn = helper.createIconButton('delete', (id, button) => {\n     *     console.log('Delete clicked');\n     * }, 'Delete this item');\n     */\n    createIconButton(\n        iconName: string,\n        callback: (id: string, button: Knot) => void,\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = [\n            'mdl-button--accent',\n            'mdl-button--fab',\n            'mdl-button--mini-fab',\n        ],\n    ): Knot {\n        const buttonKnot = new Knot<HTMLButtonElement>('button');\n        this._createIconKnot(iconName, buttonKnot);\n        this.iconButtonElement(\n            buttonKnot,\n            callback,\n            opt_description,\n            opt_allowAccess,\n            opt_cssClasses,\n        );\n        return buttonKnot;\n    }\n\n    /**\n     * Selects all elements matching the CSS selector within the given\n     * DOM container and enhances each as an icon button via\n     * {@link iconButtonElement}.\n     *\n     * @param selector CSS selector to match icon button elements.\n     * @param dom The parent {@link Knot} to search within.\n     * @param opt_cssClasses Additional MDL CSS classes for icon button\n     *     styling.\n     */\n    multipleIconButton(\n        selector: string,\n        dom: Knot,\n        opt_cssClasses: string[] | undefined = [\n            'mdl-button--accent',\n            'mdl-button--fab',\n            'mdl-button--mini-fab',\n        ],\n    ): void {\n        const buttonKnots = new Query(selector, dom);\n        buttonKnots.each((buttonKnot) => {\n            this.iconButtonElement(\n                buttonKnot,\n                undefined,\n                undefined,\n                true,\n                opt_cssClasses,\n            );\n        });\n    }\n\n    /**\n     * Selects a single element matching the CSS selector within the\n     * given DOM container and enhances it as an icon button via\n     * {@link iconButtonElement}.\n     *\n     * @param selector CSS selector to match the icon button element.\n     * @param dom The parent {@link Knot} to search within.\n     * @param callback Called with the button's ID and the {@link Knot}\n     *     when clicked.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses Additional MDL CSS classes for icon button\n     *     styling.\n     * @returns The selected and enhanced icon button {@link Knot}.\n     *\n     * @example\n     * const editBtn = helper.iconButton('.edit-btn', containerKnot,\n     *     (id, button) => {\n     *         console.log('Editing...');\n     *     },\n     *     'Edit item',\n     * );\n     */\n    iconButton(\n        selector: string,\n        dom: Knot,\n        callback: (id: string, button: Knot) => void,\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = [\n            'mdl-button--accent',\n            'mdl-button--fab',\n            'mdl-button--mini-fab',\n        ],\n    ): Knot {\n        const buttonKnot = new Query(selector, dom).getKnot();\n        this.iconButtonElement(\n            buttonKnot,\n            callback,\n            opt_description,\n            opt_allowAccess,\n            opt_cssClasses,\n        );\n        return buttonKnot;\n    }\n\n    /**\n     * Enhances an existing button {@link Knot} with icon button styling.\n     * Applies base MDL classes (`mdl-button`, `mdl-js-button`,\n     * `mdl-js-ripple-effect`, `mdl-button--icon`) plus any additional\n     * classes provided.\n     *\n     * When the element already has an ID, existing CSS classes and click\n     * listeners are removed before re-applying. When `opt_allowAccess`\n     * is `false`, the element is removed from the DOM entirely.\n     *\n     * @param buttonKnot The button {@link Knot} to enhance.\n     * @param opt_callback Called with the button's ID and the\n     *     {@link Knot} when clicked.\n     * @param opt_description Tooltip text shown on hover.\n     * @param opt_allowAccess When `false`, the element is removed\n     *     from the DOM instead of being enhanced.\n     * @param opt_cssClasses Additional MDL CSS classes for icon button\n     *     styling.\n     */\n    iconButtonElement(\n        buttonKnot: Knot,\n        opt_callback?: (id: string, button: Knot) => void,\n        opt_description: string | undefined = '',\n        opt_allowAccess: boolean | undefined = true,\n        opt_cssClasses: string[] | undefined = [\n            'mdl-button--accent',\n            'mdl-button--fab',\n            'mdl-button--mini-fab',\n        ],\n    ): void {\n        if (!buttonKnot.isEmpty()) {\n            if (opt_allowAccess) {\n                if (!buttonKnot.getId()) {\n                    buttonKnot.setId(generateId('button'));\n                } else {\n                    const oldCssClasses = buttonKnot.getData('cssClasses');\n                    buttonKnot.removeClass(oldCssClasses);\n                    buttonKnot.removeEventListeners('click');\n                }\n                const cssClasses = [\n                    'mdl-button',\n                    'mdl-js-button',\n                    'mdl-js-ripple-effect',\n                    'mdl-button--icon',\n                ].concat(opt_cssClasses);\n                buttonKnot.setData('cssClasses', cssClasses);\n                buttonKnot.addClass(cssClasses);\n                if (opt_callback) {\n                    buttonKnot.addEventListener('click', () => {\n                        opt_callback(buttonKnot.getId()!, buttonKnot);\n                    });\n                }\n\n                this._setTooltip(buttonKnot, opt_description);\n            } else {\n                buttonKnot.remove();\n            }\n        }\n    }\n\n    /**\n     * Creates a Material icon `<em>` element with the given icon name\n     * and appends it to the parent element.\n     *\n     * @param iconName The Material icon name to display.\n     * @param parentKnot The parent {@link Knot} to append the icon to.\n     */\n    private _createIconKnot(iconName: string, parentKnot: Knot): void {\n        const iconKnot = new Knot('em');\n        iconKnot.addClass('material-icons');\n        iconKnot.setHtml(iconName);\n        parentKnot.appendChild(iconKnot);\n    }\n\n    /**\n     * Sets a tooltip on the given element. If a description string is\n     * provided, it is also set as the `title` attribute. Initializes\n     * a {@link Tooltip} component and upgrades the element via MDL.\n     *\n     * @param knot The {@link Knot} to attach the tooltip to.\n     * @param opt_description The tooltip text to display.\n     */\n    private _setTooltip(\n        knot: Knot,\n        opt_description: string | undefined = '',\n    ): void {\n        if (opt_description) {\n            knot.setAttribute('title', opt_description);\n        }\n        const tooltip = new Tooltip(knot);\n        tooltip.render(opt_description);\n        mdl(knot);\n    }\n\n    /**\n     * Sets a Gravatar image on the given image {@link Knot} based on\n     * the provided email address. Uses MD5 hashing of the email for\n     * the Gravatar URL. Falls back to the provided default image URL\n     * if the Gravatar request returns a 404.\n     *\n     * @param imageKnot The image {@link Knot} to set the `src` on.\n     * @param defaultImageUrl Fallback image URL used when no Gravatar\n     *     exists for the email.\n     * @param email The email address to generate the Gravatar from.\n     * @param opt_size The requested image size in pixels. Defaults to 500.\n     * @param opt_rating The content rating filter. Defaults to `'g'`.\n     *\n     * @example\n     * const img = new Knot('img');\n     * helper.setGravatar(img, '/default-avatar.png', 'user@example.com');\n     */\n    setGravatar(\n        imageKnot: Knot,\n        defaultImageUrl: string,\n        email: string,\n        opt_size: number | undefined = 500,\n        opt_rating: string | undefined = 'g',\n    ): void {\n        const src = format(\n            'https://www.gravatar.com/avatar/{0}?s={1}&r={2}&d=404',\n            [md5(email), opt_size, opt_rating],\n        );\n        imageKnot.setAttribute('src', src);\n        imageKnot.setAttribute(\n            'onError',\n            format(\"this.onerror=null;this.src='{0}';\", [defaultImageUrl]),\n        );\n    }\n}\n", "import {\n    eq,\n    getExtensionName,\n    instanceOf,\n    isString,\n    eachObject,\n    isUndefined,\n    urlWithQueryString,\n} from '../utils/operation';\nimport { Deferred } from '../core/deferred';\nimport { Objekt } from '../core/objekt';\nimport { consoleError, consoleWarn } from '../utils/log';\nimport { encodeBase64 } from '../utils/coder';\n\n/**\n * Tuple describing a content type configuration for a given URL extension.\n * Elements are: [Content-Type header, XMLHttpRequest responseType, Accept header].\n */\ntype XhrType = [string, XMLHttpRequestResponseType, string];\n\n/**\n * Low-level XMLHttpRequest wrapper that manages content-type detection,\n * request headers, authentication, and response parsing. Each instance\n * handles exactly one HTTP request; create a new Xhr for each call.\n *\n * Content types are auto-detected from the URL file extension. Built-in\n * types include `json`, `form`, `html`, `svg`, and `xml`. Unknown\n * extensions default to plain text with a wildcard Accept header.\n *\n * The response is always parsed into an {@link Objekt}. JSON responses\n * are merged directly; all other content types (HTML, SVG, XML, Blob)\n * are stored under the `raw` key via `setRaw()`.\n *\n * Authentication is set via {@link Xhr.setBasicAuthorization} (HTTP Basic)\n * or {@link Xhr.setBearerAuthorization} (Bearer token). These must be\n * called before one of the request methods.\n *\n * @example\n * const xhr = new Xhr({ backend: 'https://api.example.com', locale: 'en' });\n * xhr.setBearerAuthorization('my-jwt-token');\n *\n * xhr.get('/users.json', { page: 1 }).then(\n *     (httpRequest, response, filename) => console.log(response),\n *     (httpRequest, error, filename) => console.error(error),\n * );\n *\n * @see {@link Http}\n * @see {@link Objekt}\n * @category Module\n */\nexport class Xhr {\n    options!: Objekt<{ backend: string; locale: string }>;\n    requestHeaders!: {\n        [key: string]: string;\n    };\n    authorization!: string | null;\n    types!: {\n        [key: string]: XhrType;\n    };\n    httpRequest!: XMLHttpRequest;\n    deferred!: Deferred<\n        [XMLHttpRequest, Objekt, string],\n        [XMLHttpRequest, Objekt, string]\n    >;\n\n    /**\n     * Creates a new Xhr instance configured with the given options.\n     *\n     * @param {object} [opt_options] Configuration merged with defaults.\n     * @param {string} [opt_options.backend=''] Base URL prepended to\n     *     root-relative request paths (paths starting with `/`).\n     * @param {string} [opt_options.locale=''] Value for the\n     *     Accept-Language request header.\n     *\n     * @example\n     * const xhr = new Xhr({ backend: '/api', locale: 'hu' });\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges caller-provided options with defaults.\n     *\n     * @param {object} [opt_options] Raw options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            backend: '',\n            locale: '',\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes internal state: request headers, content types,\n     * the XMLHttpRequest instance, and the deferred promise.\n     */\n    private _init(): void {\n        this.requestHeaders = {};\n        this.authorization = null;\n        this.types = {};\n\n        this._setTypes();\n\n        this.httpRequest = new XMLHttpRequest();\n        this.httpRequest.onreadystatechange =\n            this._onReadyStateChange() as any as (\n                this: XMLHttpRequest,\n                ev: Event,\n            ) => any;\n\n        this.deferred = new Deferred();\n    }\n\n    /**\n     * Registers the built-in content type mappings for json, form, html,\n     * svg, and xml.\n     */\n    private _setTypes(): void {\n        this._setType('json', ['application/json', 'json', 'application/json']);\n        this._setType('form', [\n            'application/x-www-form-urlencoded',\n            'json',\n            'application/json',\n        ]);\n\n        this._setType('html', ['', 'document', 'text/html']);\n        this._setType('svg', ['', 'document', 'image/svg-xml']);\n        this._setType('xml', ['', 'document', 'application/xml']);\n    }\n\n    /**\n     * Stores a content type tuple under the given name.\n     *\n     * @param {string} name The type identifier (e.g. 'json', 'html').\n     * @param {XhrType} value The content type configuration tuple.\n     */\n    private _setType(name: string, value: XhrType): void {\n        this.types[name] = value;\n    }\n\n    /**\n     * Returns the content type tuple for the given name, falling back to\n     * a plain-text wildcard configuration if the name is unrecognized.\n     *\n     * @param {string} name The type identifier.\n     * @returns {XhrType} The content type tuple.\n     */\n    private _getType(name: string): XhrType {\n        return this.types[name] || ['', 'text', '*/*'];\n    }\n\n    /**\n     * Returns the Content-Type header value for the given type name.\n     *\n     * @param {string} name The type identifier.\n     * @returns {string} The Content-Type header value.\n     */\n    private _getContentType(name: string): string {\n        return this._getType(name)[0];\n    }\n\n    /**\n     * Returns the XMLHttpRequest responseType for the given type name.\n     *\n     * @param {string} name The type identifier.\n     * @returns {XMLHttpRequestResponseType} The response type value.\n     */\n    private _getResponseType(name: string): XMLHttpRequestResponseType {\n        return this._getType(name)[1];\n    }\n\n    /**\n     * Returns the Accept header value for the given type name.\n     *\n     * @param {string} name The type identifier.\n     * @returns {string} The Accept header value.\n     */\n    private _getAccept(name: string): string {\n        return this._getType(name)[2];\n    }\n\n    /**\n     * Creates the `onreadystatechange` handler for the XMLHttpRequest.\n     * When `readyState` reaches 4 (DONE), the response is parsed via\n     * {@link Xhr._handleResponseData} and the deferred is resolved or\n     * rejected based on the HTTP status code.\n     *\n     * @returns {Function} The event handler function.\n     */\n    private _onReadyStateChange(): (_this: XMLHttpRequest, ev: Event) => any {\n        return (_this: XMLHttpRequest, ev: Event): any => {\n            switch (this.httpRequest.readyState) {\n                case 0:\n                    // request not initialized\n                    break;\n                case 1:\n                    // server connection established\n                    break;\n                case 2:\n                    // request received\n                    break;\n                case 3:\n                    // processing request\n                    break;\n                case 4:\n                    // Request finished and response is ready\n                    this._handleResponseData(this.httpRequest.response).then(\n                        (response) => {\n                            if (eq(this.httpRequest.status, 200)) {\n                                this.deferred.resolve([\n                                    this.httpRequest,\n                                    ...response,\n                                ]);\n                            } else {\n                                this.deferred.reject([\n                                    this.httpRequest,\n                                    ...response,\n                                ]);\n                            }\n                        },\n                    );\n                    break;\n                default:\n                    consoleWarn(\n                        'Xhr._onReadyStateChange()',\n                        this.httpRequest.readyState,\n                    );\n                    break;\n            }\n        };\n    }\n\n    /**\n     * Sends an HTTP GET request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[XMLHttpRequest, Objekt, string], [XMLHttpRequest, Objekt, string]>}\n     *     Resolves with the raw request, parsed response, and filename;\n     *     rejects on non-200 status.\n     *\n     * @example\n     * xhr.get('/users.json', { page: 2 }).then(\n     *     (httpRequest, response, filename) => console.log(response),\n     * );\n     */\n    get(\n        url: string,\n        opt_params: object | undefined,\n        opt_headers: object | undefined = {},\n    ) {\n        return this._createRequest('GET', url, {}, opt_params, opt_headers);\n    }\n\n    /**\n     * Sends an HTTP POST request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload.\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[XMLHttpRequest, Objekt, string], [XMLHttpRequest, Objekt, string]>}\n     *     Resolves with the raw request, parsed response, and filename;\n     *     rejects on non-200 status.\n     *\n     * @example\n     * xhr.post('/users.json', { name: 'Alice' }).then(\n     *     (httpRequest, response, filename) => console.log(response),\n     * );\n     */\n    post(\n        url: string,\n        opt_data: object | undefined,\n        opt_params: object | undefined,\n        opt_headers: object | undefined = {},\n    ) {\n        return this._createRequest(\n            'POST',\n            url,\n            opt_data,\n            opt_params,\n            opt_headers,\n        );\n    }\n\n    /**\n     * Sends an HTTP PUT request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload.\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[XMLHttpRequest, Objekt, string], [XMLHttpRequest, Objekt, string]>}\n     *     Resolves with the raw request, parsed response, and filename;\n     *     rejects on non-200 status.\n     *\n     * @example\n     * xhr.put('/users/1.json', { name: 'Alice Updated' }).then(\n     *     (httpRequest, response, filename) => console.log(response),\n     * );\n     */\n    put(\n        url: string,\n        opt_data: object | undefined,\n        opt_params: object | undefined,\n        opt_headers: object | undefined = {},\n    ) {\n        return this._createRequest(\n            'PUT',\n            url,\n            opt_data,\n            opt_params,\n            opt_headers,\n        );\n    }\n\n    /**\n     * Sends an HTTP PATCH request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload (partial update).\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[XMLHttpRequest, Objekt, string], [XMLHttpRequest, Objekt, string]>}\n     *     Resolves with the raw request, parsed response, and filename;\n     *     rejects on non-200 status.\n     *\n     * @example\n     * xhr.patch('/users/1.json', { email: 'new@example.com' }).then(\n     *     (httpRequest, response, filename) => console.log(response),\n     * );\n     */\n    patch(\n        url: string,\n        opt_data: object | undefined,\n        opt_params: object | undefined,\n        opt_headers: object | undefined = {},\n    ) {\n        return this._createRequest(\n            'PATCH',\n            url,\n            opt_data,\n            opt_params,\n            opt_headers,\n        );\n    }\n\n    /**\n     * Sends an HTTP DELETE request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload.\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[XMLHttpRequest, Objekt, string], [XMLHttpRequest, Objekt, string]>}\n     *     Resolves with the raw request, parsed response, and filename;\n     *     rejects on non-200 status.\n     *\n     * @example\n     * xhr.delete('/users/1.json').then(\n     *     (httpRequest, response, filename) => console.log(response),\n     * );\n     */\n    delete(\n        url: string,\n        opt_data: object | undefined,\n        opt_params: object | undefined,\n        opt_headers: object | undefined = {},\n    ) {\n        return this._createRequest(\n            'DELETE',\n            url,\n            opt_data,\n            opt_params,\n            opt_headers,\n        );\n    }\n\n    /**\n     * Builds the full request URL by appending query-string parameters and\n     * prepending the backend base URL for root-relative paths.\n     *\n     * @param {string} url The raw request URL.\n     * @param {object} [opt_params] Query-string parameters.\n     * @returns {string} The fully qualified URL.\n     */\n    private _getUrl(url: string, opt_params: object | undefined): string {\n        const uri = urlWithQueryString(url, opt_params);\n        return url[0] === '/' ? this.options.backend + uri : uri;\n    }\n\n    /**\n     * Opens the XMLHttpRequest, sets response type and request headers,\n     * serializes the body, and sends the request.\n     *\n     * @param {string} type The HTTP method (GET, POST, PUT, PATCH, DELETE).\n     * @param {string} url The request URL.\n     * @param {object} [opt_data] Request body payload.\n     * @param {object} [opt_params] Query-string parameters.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize} The deferred promise for this request.\n     */\n    private _createRequest(\n        type: string,\n        url: string,\n        opt_data: object | undefined,\n        opt_params: object | undefined,\n        opt_headers: object | undefined = {},\n    ) {\n        this.httpRequest.open(type, this._getUrl(url, opt_params), true);\n\n        const urlType = getExtensionName(url);\n        this._setResponseType(urlType);\n        this._setRequestHeaders(urlType, opt_headers);\n\n        this.httpRequest.send(this._createRequestBody(opt_data));\n\n        return this.deferred.promise();\n    }\n\n    /**\n     * Serializes the request body based on the current Content-Type header.\n     * JSON content types produce `JSON.stringify()` output; form content\n     * types produce URL-encoded key=value pairs.\n     *\n     * @param {object} [opt_data] The data to serialize.\n     * @returns {string} The serialized request body, or an empty string\n     *     if no data was provided.\n     */\n    private _createRequestBody(opt_data?: object): string {\n        let result = '';\n        if (opt_data) {\n            switch (this._getHeader('Content-Type')) {\n                case this._getContentType('json'):\n                    result = JSON.stringify(opt_data);\n                    break;\n                case this._getContentType('form'):\n                    result = this._stringifyobject(opt_data);\n                    break;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Recursively flattens a nested object property into URL-encoded\n     * key=value pairs with bracket notation for nested keys and arrays.\n     *\n     * @param {any} obj The value to parse (object, array, or primitive).\n     * @param {string} key The current property key.\n     * @param {string} stringKey The accumulated bracket-notation key path.\n     * @returns {Array<string>} Flat array of 'key=value' strings.\n     */\n    private _parseobject(\n        obj: any,\n        key: string,\n        stringKey: string,\n    ): Array<string> {\n        stringKey += stringKey ? '[' + key + ']' : key;\n        let results: string[] = [];\n        if (obj instanceof Array) {\n            stringKey += '[]';\n            for (let i = 0; i < obj.length; i++) {\n                results.push([stringKey, obj[i]].join('='));\n            }\n        } else if (typeof obj === 'object') {\n            for (const j in obj) {\n                if (obj.hasOwnProperty(j)) {\n                    const pairs = this._parseobject(obj[j], j, stringKey);\n                    results = results.concat(pairs);\n                }\n            }\n        } else {\n            results.push([stringKey, obj].join('='));\n        }\n        return results;\n    }\n\n    /**\n     * Serializes a flat or nested object into a URL-encoded query string\n     * (without the leading `?`).\n     *\n     * @param {object} obj The object to serialize.\n     * @returns {string} URL-encoded string of key=value pairs joined by `&`.\n     */\n    private _stringifyobject(obj: object): string {\n        let results: string[] = [];\n        for (const key in obj) {\n            if ((obj as Record<string, any>).hasOwnProperty(key)) {\n                const pair = this._parseobject(\n                    (obj as Record<string, any>)[key],\n                    key,\n                    '',\n                );\n                results = results.concat(pair);\n            }\n        }\n        return results.join('&');\n    }\n\n    /**\n     * Extracts the filename from the `Content-Disposition` response header.\n     * Returns an empty string if the header is absent, unparseable, or the\n     * response URL does not belong to the configured backend.\n     *\n     * @returns {string} The extracted filename, or an empty string.\n     */\n    private _getFilenameFromHeader(): string {\n        let filename = '';\n\n        try {\n            if (\n                !this.httpRequest.responseURL.startsWith(this.options.backend)\n            ) {\n                return '';\n            }\n            const contentDisposition = this.httpRequest.getResponseHeader(\n                'Content-Disposition',\n            );\n            if (contentDisposition) {\n                filename = contentDisposition.match(/filename=\"(.+)\"/)![1];\n            }\n        } catch (error) {\n            consoleError('Xhr._getFilenameFromHeader', error);\n        }\n        return filename;\n    }\n\n    /**\n     * Parses the raw response into an {@link Objekt} based on the\n     * Content-Type response header. JSON responses are merged directly\n     * into the Objekt; Blob JSON responses are read via FileReader;\n     * all other content types are stored under the `raw` key.\n     *\n     * @param {any} response The raw XMLHttpRequest response.\n     * @returns {Promize} Resolves with a tuple of [Objekt, filename].\n     */\n    private _handleResponseData(response: any) {\n        const deferred = new Deferred<[[Objekt, string]], undefined>();\n        const filename = this._getFilenameFromHeader();\n\n        const contentType = this.httpRequest.getResponseHeader('Content-Type');\n        if (contentType) {\n            switch (contentType.split(';')[0]) {\n                case 'application/json':\n                    if (instanceOf(response, Blob)) {\n                        const reader = new FileReader();\n                        reader.addEventListener('loadend', (e) => {\n                            const data = JSON.parse(\n                                (e.target!.result as string) || 'null',\n                            );\n                            const objekt = new Objekt();\n                            objekt.setRaw('raw', data);\n                            deferred.resolve([[objekt, filename]]);\n                        });\n                        reader.readAsText(response);\n                    } else {\n                        const data = isString(response)\n                            ? JSON.parse(response || 'null')\n                            : response;\n                        const objekt = new Objekt();\n                        objekt.merge(data);\n                        deferred.resolve([[objekt, filename]]);\n                    }\n                    break;\n                default:\n                    const objekt = new Objekt();\n                    objekt.setRaw('raw', response);\n                    deferred.resolve([[objekt, filename]]);\n                    break;\n            }\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Applies default and caller-provided request headers to the\n     * XMLHttpRequest. Sets Accept, Accept-Language, Content-Type,\n     * Authorization, and X-Requested-With headers when not already\n     * provided by the caller.\n     *\n     * @param {string} urlType The URL extension type used to look up\n     *     default Accept and Content-Type values.\n     * @param {object} [opt_headers] Caller-provided headers to apply first.\n     */\n    private _setRequestHeaders(\n        urlType: string,\n        opt_headers: object | undefined = {},\n    ): void {\n        eachObject(opt_headers, (value, key) => {\n            if (eq(key, 'responseType')) {\n                this.httpRequest.responseType = value;\n            } else {\n                this._setHeader(key, value);\n            }\n        });\n\n        if (isUndefined(this._getHeader('Accept'))) {\n            this._setHeader('Accept', this._getAccept(urlType));\n        }\n        if (isUndefined(this._getHeader('Accept-Language'))) {\n            this._setHeader('Accept-Language', this.options.locale);\n        }\n        if (isUndefined(this._getHeader('Content-Type'))) {\n            this._setHeader('Content-Type', this._getContentType(urlType));\n        }\n        if (\n            isUndefined(this._getHeader('Authorization')) &&\n            this.authorization\n        ) {\n            this._setHeader('Authorization', this.authorization);\n            this.httpRequest.withCredentials = true;\n        }\n        if (isUndefined(this._getHeader('X-Requested-With'))) {\n            this._setHeader('X-Requested-With', 'XMLHttpRequest');\n        }\n    }\n\n    /**\n     * Sets the XMLHttpRequest responseType based on the URL extension type.\n     *\n     * @param {string} urlType The URL extension type.\n     */\n    private _setResponseType(urlType: string): void {\n        this.httpRequest.responseType = this._getResponseType(urlType);\n    }\n\n    /**\n     * Sets a request header on the XMLHttpRequest and records it in the\n     * internal headers map. Skips the actual `setRequestHeader` call if\n     * either the name or value is falsy.\n     *\n     * @param {string} name The header name.\n     * @param {string} value The header value.\n     */\n    private _setHeader(name: string, value: string): void {\n        if (name && value) {\n            this.httpRequest.setRequestHeader(name, value);\n        }\n        this.requestHeaders[name] = value;\n    }\n\n    /**\n     * Retrieves a previously set request header value from the internal\n     * headers map.\n     *\n     * @param {string} name The header name.\n     * @returns {string | null} The header value, or `null` if not set.\n     */\n    private _getHeader(name: string): string | null {\n        return this.requestHeaders[name];\n    }\n\n    /**\n     * Sets HTTP Basic authentication credentials. The username and password\n     * are Base64-encoded into an `Authorization: Basic <hash>` header value\n     * applied when the request headers are set. Both values must be\n     * non-null for the authorization to take effect.\n     *\n     * @param {string | null} username The Basic-auth username.\n     * @param {string | null} password The Basic-auth password.\n     *\n     * @example\n     * xhr.setBasicAuthorization('admin', 's3cret');\n     */\n    setBasicAuthorization(\n        username: string | null,\n        password: string | null,\n    ): void {\n        if (username && password) {\n            const hash = [username, password].join(':');\n            this.authorization = 'Basic ' + encodeBase64(hash);\n        }\n    }\n\n    /**\n     * Sets a Bearer token for authentication. The token is stored as an\n     * `Authorization: Bearer <token>` header value applied when the\n     * request headers are set. The token must be non-null for the\n     * authorization to take effect.\n     *\n     * @param {string | null} token The bearer token (e.g. a JWT).\n     *\n     * @example\n     * xhr.setBearerAuthorization('eyJhbGciOiJIUzI1NiIs...');\n     */\n    setBearerAuthorization(token: string | null): void {\n        if (token) {\n            this.authorization = 'Bearer ' + token;\n        }\n    }\n}\n", "import { Promize } from '../core';\nimport { Deferred } from '../core/deferred';\nimport { Objekt } from '../core/objekt';\nimport { consoleDebug } from '../utils/log';\nimport { Xhr } from './xhr';\n\n/**\n * High-level HTTP client that wraps {@link Xhr} to provide a simplified\n * request API with built-in authentication management. Http adds an\n * authentication layer (Basic or Bearer) and event hooks on top of the\n * low-level {@link Xhr} transport, stripping the raw `XMLHttpRequest`\n * object from resolved/rejected values so consumers receive only the\n * parsed {@link Objekt} response and an optional filename.\n *\n * Each request method (`get`, `post`, `put`, `patch`, `delete`) creates a\n * fresh {@link Xhr} instance, applies the stored credentials, fires the\n * {@link Http.eventBeforeRequest} hook, and returns a\n * {@link Promize}<[{@link Objekt}, string], [{@link Objekt}, string]>.\n *\n * Override {@link Http.eventBeforeRequest} and\n * {@link Http.eventAfterRequest} to add cross-cutting concerns such as\n * loading indicators, error toasts, or request logging.\n *\n * @example\n * const http = new Http({ backend: 'https://api.example.com', locale: 'en' });\n * http.setBearerAuthorization('my-jwt-token');\n *\n * http.get('/users').then(\n *     (response, filename) => console.log(response),\n *     (error, filename) => console.error(error),\n * );\n *\n * @see {@link Xhr}\n * @see {@link Promize}\n * @category Module\n */\nexport class Http {\n    options!: Objekt;\n    username!: string | null;\n    password!: string | null;\n    token!: string | null;\n\n    /**\n     * Creates a new Http client instance.\n     *\n     * @param {object} [opt_options] Configuration merged with defaults.\n     * @param {string} [opt_options.backend=''] Base URL prepended to\n     *     root-relative request paths.\n     * @param {string} [opt_options.locale=''] Accept-Language header value.\n     *\n     * @example\n     * const http = new Http({ backend: '/api/v1', locale: 'hu' });\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges caller-provided options with sensible defaults into an\n     * {@link Objekt} instance stored on `this.options`.\n     *\n     * @param {object} [opt_options] Raw options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            backend: '',\n            locale: '',\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Resets authentication state. Called once during construction.\n     */\n    private _init(): void {\n        this.username = null;\n        this.password = null;\n        this.token = null;\n    }\n\n    /**\n     * Stores HTTP Basic authentication credentials. On each subsequent\n     * request the credentials are forwarded to the underlying {@link Xhr}\n     * instance, which encodes them as a Base64 `Authorization` header.\n     *\n     * @param {string} username The Basic-auth username.\n     * @param {string} password The Basic-auth password.\n     *\n     * @example\n     * http.setBasicAuthorization('admin', 's3cret');\n     */\n    setBasicAuthorization(username: string, password: string): void {\n        this.username = username;\n        this.password = password;\n    }\n\n    /**\n     * Stores a Bearer token for authentication. On each subsequent request\n     * the token is forwarded to the underlying {@link Xhr} instance, which\n     * sets the `Authorization: Bearer <token>` header.\n     *\n     * @param {string} token The bearer token (e.g. a JWT).\n     *\n     * @example\n     * http.setBearerAuthorization('eyJhbGciOiJIUzI1NiIs...');\n     */\n    setBearerAuthorization(token: string) {\n        this.token = token;\n    }\n\n    /**\n     * Sends an HTTP GET request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[Objekt, string], [Objekt, string]>} Resolves with\n     *     the parsed response body and filename; rejects on non-200 status.\n     *\n     * @example\n     * http.get('/users', { page: 1 }).then(\n     *     (response, filename) => console.log(response),\n     * );\n     */\n    get(url: string, opt_params?: object, opt_headers?: object) {\n        const xhr = this._createXhrRequest();\n        return this._getPromise(xhr.get(url, opt_params, opt_headers));\n    }\n\n    /**\n     * Sends an HTTP POST request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload.\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[Objekt, string], [Objekt, string]>} Resolves with\n     *     the parsed response body and filename; rejects on non-200 status.\n     *\n     * @example\n     * http.post('/users', { name: 'Alice' }).then(\n     *     (response, filename) => console.log(response),\n     * );\n     */\n    post(\n        url: string,\n        opt_data?: object,\n        opt_params?: object,\n        opt_headers?: object,\n    ) {\n        const xhr = this._createXhrRequest();\n        return this._getPromise(\n            xhr.post(url, opt_data, opt_params, opt_headers),\n        );\n    }\n\n    /**\n     * Sends an HTTP PUT request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload.\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[Objekt, string], [Objekt, string]>} Resolves with\n     *     the parsed response body and filename; rejects on non-200 status.\n     *\n     * @example\n     * http.put('/users/1', { name: 'Alice Updated' }).then(\n     *     (response, filename) => console.log(response),\n     * );\n     */\n    put(\n        url: string,\n        opt_data?: object,\n        opt_params?: object,\n        opt_headers?: object,\n    ) {\n        const xhr = this._createXhrRequest();\n        return this._getPromise(\n            xhr.put(url, opt_data, opt_params, opt_headers),\n        );\n    }\n\n    /**\n     * Sends an HTTP PATCH request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload (partial update).\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[Objekt, string], [Objekt, string]>} Resolves with\n     *     the parsed response body and filename; rejects on non-200 status.\n     *\n     * @example\n     * http.patch('/users/1', { email: 'new@example.com' }).then(\n     *     (response, filename) => console.log(response),\n     * );\n     */\n    patch(\n        url: string,\n        opt_data?: object,\n        opt_params?: object,\n        opt_headers?: object,\n    ) {\n        const xhr = this._createXhrRequest();\n        return this._getPromise(\n            xhr.patch(url, opt_data, opt_params, opt_headers),\n        );\n    }\n\n    /**\n     * Sends an HTTP DELETE request to the specified URL.\n     *\n     * @param {string} url Request URL (absolute or root-relative).\n     * @param {object} [opt_data] Request body payload.\n     * @param {object} [opt_params] Query-string parameters appended to\n     *     the URL.\n     * @param {object} [opt_headers] Additional request headers.\n     * @returns {Promize<[Objekt, string], [Objekt, string]>} Resolves with\n     *     the parsed response body and filename; rejects on non-200 status.\n     *\n     * @example\n     * http.delete('/users/1').then(\n     *     (response, filename) => console.log(response),\n     * );\n     */\n    delete(\n        url: string,\n        opt_data?: object,\n        opt_params?: object,\n        opt_headers?: object,\n    ) {\n        const xhr = this._createXhrRequest();\n        return this._getPromise(\n            xhr.delete(url, opt_data, opt_params, opt_headers),\n        );\n    }\n\n    /**\n     * Creates a configured {@link Xhr} instance with the current options\n     * and authentication credentials applied.\n     *\n     * @returns {Xhr} A new Xhr instance ready to execute a request.\n     */\n    private _createXhrRequest(): Xhr {\n        const xhr = new Xhr(this.options);\n        this.eventBeforeRequest(xhr);\n        xhr.setBasicAuthorization(this.username, this.password);\n        xhr.setBearerAuthorization(this.token);\n\n        return xhr;\n    }\n\n    /**\n     * Wraps the raw {@link Xhr} promise to strip the `XMLHttpRequest`\n     * object and fire the {@link Http.eventAfterRequest} hook on both\n     * resolution and rejection.\n     *\n     * @param {Promize} promise The promise returned by an Xhr request method.\n     * @returns {Promize<[Objekt, string], [Objekt, string]>} A promise\n     *     that resolves or rejects with only the response body and filename.\n     */\n    private _getPromise(\n        promise: Promize<\n            [XMLHttpRequest, Objekt, string],\n            [XMLHttpRequest, Objekt, string]\n        >,\n    ) {\n        const deferred = new Deferred<[Objekt, string], [Objekt, string]>();\n        promise.then(\n            (...params) => {\n                this.eventAfterRequest(...params);\n                const [, ...rest] = params;\n                deferred.resolve(rest as [Objekt, string]);\n            },\n            (...params) => {\n                this.eventAfterRequest(...params);\n                const [, ...rest] = params;\n                deferred.reject(rest as [Objekt, string]);\n            },\n        );\n        return deferred.promise();\n    }\n\n    /**\n     * Called before each request is sent. Override this method to inspect or\n     * modify the {@link Xhr} instance (e.g. add custom headers or logging).\n     *\n     * @param {Xhr} xhr The Xhr instance that will execute the request.\n     */\n    eventBeforeRequest(xhr: Xhr): void {\n        consoleDebug('Http.eventBeforeRequest', xhr);\n    }\n\n    /**\n     * Called after each request completes (on both success and failure).\n     * Override this method to implement cross-cutting post-request logic\n     * such as hiding loading indicators or displaying error notifications.\n     *\n     * @param {XMLHttpRequest} http The raw XMLHttpRequest object.\n     * @param {Objekt} response The parsed response body.\n     * @param {string} filename The filename extracted from the\n     *     Content-Disposition header, or an empty string.\n     */\n    eventAfterRequest(\n        http: XMLHttpRequest,\n        response: Objekt,\n        filename: string,\n    ): void {\n        consoleDebug('Http.eventAfterRequest', http, response, filename);\n    }\n}\n", "import { noop } from '../utils/operation';\nimport { Query } from '../core/query';\nimport { Knot } from '../core';\n\n/**\n * Slide-out left sidebar navigation with a main menu panel and a\n * secondary sub-menu panel. Opening the menu applies a blur overlay\n * to the main content and prevents body scrolling.\n *\n * The main menu and sub-menu each have their own title and scrollable\n * container. Use {@link openSubMenu} to switch from the main panel to\n * the sub-menu panel, and {@link closeSubMenu} to return.\n *\n * @see {@link Header}\n * @see {@link TopMenu}\n * @category Module\n *\n * @example\n * const leftMenu = new LeftMenu();\n * leftMenu.open('Navigation');\n * const container = leftMenu.getMainContainer();\n */\nexport class LeftMenu {\n    body!: Knot;\n    mainContainerKnot!: Knot;\n    leftMenu!: Knot;\n    mainMenu!: Knot;\n    subMenu!: Knot;\n    mainMenuContainer!: Knot;\n    subMenuContainer!: Knot;\n    mainMenuTitle!: Knot;\n    subMenuTitle!: Knot;\n\n    /**\n     * Creates a new LeftMenu instance, queries the menu DOM elements,\n     * and binds open/close event handlers.\n     */\n    constructor() {\n        this._init();\n    }\n\n    /**\n     * Queries all left menu DOM elements including main and sub-menu\n     * panels, containers, and titles.\n     */\n    private _init(): void {\n        this.body = new Query('body').getKnot();\n        this.mainContainerKnot = new Query('.main-container').getKnot();\n        this.leftMenu = new Query('#left-menu').getKnot();\n\n        this.mainMenu = new Query('.main-menu', this.leftMenu).getKnot();\n        this.subMenu = new Query('.sub-menu', this.leftMenu).getKnot();\n        this.subMenu.addClass('hidden');\n\n        this.mainMenuContainer = new Query(\n            '.menu-container',\n            this.mainMenu,\n        ).getKnot();\n        this.subMenuContainer = new Query(\n            '.menu-container',\n            this.subMenu,\n        ).getKnot();\n\n        this.mainMenuTitle = new Query('h3', this.mainMenu).getKnot();\n        this.subMenuTitle = new Query('h3', this.subMenu).getKnot();\n\n        this._initEvents();\n    }\n\n    /**\n     * Binds click handlers for opening, closing, and navigating between\n     * the main menu and sub-menu panels.\n     */\n    private _initEvents() {\n        this.leftMenu.addEventListener('click', () => {\n            this.close();\n        });\n\n        this.mainMenuContainer.addEventListener('click', () => {\n            noop();\n            return true;\n        });\n        this.subMenuContainer.addEventListener('click', () => {\n            noop();\n            return true;\n        });\n\n        const openLeftMenu = new Query('#open-left-menu').getKnot();\n        openLeftMenu.setAttribute('href', 'javascript:void(0)');\n        openLeftMenu.addEventListener('click', () => {\n            this.open();\n        });\n\n        const closeLeftMenu = new Query(\n            '#close-left-menu',\n            this.mainMenu,\n        ).getKnot();\n        closeLeftMenu.setAttribute('href', 'javascript:void(0)');\n        closeLeftMenu.addEventListener('click', () => {\n            this.close();\n        });\n\n        const closeSubMenu = new Query(\n            '#close-sub-menu',\n            this.subMenu,\n        ).getKnot();\n        closeSubMenu.setAttribute('href', 'javascript:void(0)');\n        closeSubMenu.addEventListener('click', () => {\n            this.closeSubMenu();\n        });\n    }\n\n    /**\n     * Opens the left menu sidebar with a blur overlay on the main content.\n     * Prevents body scrolling while the menu is visible.\n     *\n     * @param {string | undefined} opt_title - Optional title displayed at\n     *     the top of the main menu panel.\n     *\n     * @example\n     * leftMenu.open('Main Navigation');\n     */\n    open(opt_title: string | undefined = ''): void {\n        this.body.addClass('overflow-hidden');\n        this.mainContainerKnot.addClass('blur');\n\n        this.leftMenu.addClass('visible-block');\n\n        this.mainMenuTitle.setHtml(opt_title);\n    }\n\n    /**\n     * Closes the left menu sidebar, removes the blur overlay, and\n     * restores body scrolling.\n     */\n    close(): void {\n        this.body.removeClass('overflow-hidden');\n        this.mainContainerKnot.removeClass('blur');\n        this.leftMenu.removeClass('visible-block');\n    }\n\n    /**\n     * Switches the left menu view from the main menu panel to the\n     * sub-menu panel.\n     *\n     * @param {string | undefined} opt_title - Optional title displayed at\n     *     the top of the sub-menu panel.\n     *\n     * @example\n     * leftMenu.openSubMenu('Settings');\n     */\n    openSubMenu(opt_title: string | undefined = ''): void {\n        this.mainMenu.addClass('hidden');\n        this.subMenu.removeClass('hidden');\n        this.subMenuTitle.setHtml(opt_title);\n    }\n\n    /**\n     * Returns the left menu view from the sub-menu panel back to the\n     * main menu panel.\n     */\n    closeSubMenu(): void {\n        this.mainMenu.removeClass('hidden');\n        this.subMenu.addClass('hidden');\n    }\n\n    /**\n     * Returns the main menu container {@link Knot} where primary menu\n     * items should be appended.\n     *\n     * @returns {Knot} The main menu container element.\n     *\n     * @example\n     * const mainContainer = leftMenu.getMainContainer();\n     */\n    getMainContainer(): Knot {\n        return this.mainMenuContainer;\n    }\n\n    /**\n     * Returns the sub-menu container {@link Knot} where secondary menu\n     * items should be appended.\n     *\n     * @returns {Knot} The sub-menu container element.\n     *\n     * @example\n     * const subContainer = leftMenu.getSubContainer();\n     */\n    getSubContainer(): Knot {\n        return this.subMenuContainer;\n    }\n}\n", "import { eq } from '../utils/operation';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { Knot } from '../core';\n\n/**\n * Full-screen loading spinner overlay using a Material Design Lite spinner\n * component.\n *\n * Display is reference-counted: each {@link show} call increments an internal\n * counter, and each {@link hide} call decrements it. The spinner is only\n * hidden when the counter reaches zero, ensuring that overlapping async\n * operations keep the loader visible until all of them complete.\n *\n * @see {@link ProgressBar}\n * @category Module\n *\n * @example\n * const loader = new Loader();\n * loader.show();\n * // ... perform async work ...\n * loader.hide();\n */\nexport class Loader {\n    options!: Objekt;\n    loader!: Knot;\n    spinner!: Knot;\n\n    /**\n     * Creates a new Loader instance, initializes the spinner element, and\n     * appends it to the loader container in the DOM.\n     *\n     * @param {object | undefined} opt_options - Optional configuration\n     *     merged into defaults ({counter: 0}).\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options into the default configuration.\n     *\n     * @param {object | undefined} opt_options - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            counter: 0,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Creates the MDL spinner element and appends it to the `#loader`\n     * container in the DOM.\n     */\n    private _init(): void {\n        this.loader = new Query('#loader').getKnot();\n\n        this.spinner = this.loader.createElement('div');\n        this.spinner.addClass([\n            'mdl-spinner',\n            'mdl-spinner--single-color',\n            'mdl-js-spinner',\n        ]);\n\n        this.loader.appendChild(this.spinner);\n    }\n\n    /**\n     * Displays the full-screen loader and activates the spinner animation.\n     * Increments the internal reference counter.\n     *\n     * @example\n     * loader.show();\n     */\n    show(): void {\n        this.options.counter++;\n        this.loader.removeClass('hidden');\n        this.spinner.addClass('is-active');\n    }\n\n    /**\n     * Decrements the reference counter and hides the loader when it reaches\n     * zero. If `opt_force` is true, the counter is reset to zero and the\n     * loader is hidden immediately.\n     *\n     * @param {boolean | undefined} opt_force - When true, force-hides the\n     *     loader regardless of the current counter value.\n     *\n     * @example\n     * loader.hide();        // decrements counter\n     * loader.hide(true);    // force-hides immediately\n     */\n    hide(opt_force?: boolean | undefined): void {\n        this.options.counter--;\n        if (opt_force || eq(this.options.counter, 0)) {\n            this.options.counter = 0;\n            this.loader.addClass('hidden');\n            this.spinner.removeClass('is-active');\n        }\n    }\n}\n", "import { Knot } from '../core';\nimport { Query } from '../core/query';\n\n/**\n * Navigation bar component for secondary navigation such as breadcrumbs\n * or contextual links. Supports toggling between expanded and collapsed\n * states, visibility control, shadow styling, and provides access to its\n * container for appending navigation items.\n *\n * The component binds to the `.nav-bar-header` DOM element and the\n * `#nav-bar` container within it. A toggle button (`#toggle-nav-bar`)\n * switches between expand (menu icon) and collapse (close icon) states.\n *\n * @see {@link Header}\n * @category Module\n *\n * @example\n * const navBar = new NavBar();\n * navBar.show();\n * navBar.open();\n * const container = navBar.getContainer();\n */\nexport class NavBar {\n    navBarHeader!: Knot;\n    navBar!: Knot;\n    toggleNavBarIcon!: Knot;\n\n    /**\n     * Creates a new NavBar instance, queries the navigation bar DOM\n     * elements, and binds the toggle click event.\n     */\n    constructor() {\n        this._init();\n    }\n\n    /**\n     * Queries the nav bar header, nav bar container, and toggle button,\n     * then binds the toggle click handler.\n     */\n    private _init(): void {\n        this.navBarHeader = new Query('.nav-bar-header').getKnot();\n        this.navBar = new Query('#nav-bar', this.navBarHeader).getKnot();\n\n        const toggleNavBar = new Query(\n            '#toggle-nav-bar',\n            this.navBarHeader,\n        ).getKnot();\n        toggleNavBar.setAttribute('href', 'javascript:void(0)');\n        toggleNavBar.addEventListener('click', () => {\n            this.toggle();\n        });\n        this.toggleNavBarIcon = new Query('em', toggleNavBar).getKnot();\n    }\n\n    /**\n     * Toggles the navigation bar between its expanded and collapsed states.\n     *\n     * @example\n     * navBar.toggle();\n     */\n    toggle(): void {\n        if (this.isOpened()) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    /**\n     * Checks whether the navigation bar is currently in its expanded state.\n     *\n     * @returns {boolean} True if the nav bar is open, false otherwise.\n     */\n    isOpened(): boolean {\n        return this.navBar.hasClass('open');\n    }\n\n    /**\n     * Expands the navigation bar and changes the toggle icon to 'close'.\n     *\n     * @example\n     * navBar.open();\n     */\n    open(): void {\n        this.navBar.addClass('open');\n        this.toggleNavBarIcon.setHtml('close');\n    }\n\n    /**\n     * Collapses the navigation bar and changes the toggle icon to 'menu'.\n     */\n    close(): void {\n        this.navBar.removeClass('open');\n        this.toggleNavBarIcon.setHtml('menu');\n    }\n\n    /**\n     * Shows the navigation bar header by removing the 'hidden' class.\n     *\n     * @example\n     * navBar.show();\n     */\n    show(): void {\n        this.navBarHeader.removeClass('hidden');\n    }\n\n    /**\n     * Hides the navigation bar header by adding the 'hidden' class.\n     */\n    hide(): void {\n        this.navBarHeader.addClass('hidden');\n    }\n\n    /**\n     * Adds a drop shadow beneath the navigation bar.\n     */\n    showShadow(): void {\n        this.navBar.addClass('shadow');\n    }\n\n    /**\n     * Removes the drop shadow from the navigation bar.\n     */\n    hideShadow(): void {\n        this.navBar.removeClass('shadow');\n    }\n\n    /**\n     * Returns the navigation bar container {@link Knot} where navigation\n     * items should be appended.\n     *\n     * @returns {Knot} The nav bar container element.\n     *\n     * @example\n     * const container = navBar.getContainer();\n     * container.appendChild(breadcrumbKnot);\n     */\n    getContainer(): Knot {\n        return this.navBar;\n    }\n}\n", "import { eq } from '../utils/operation';\nimport { Async } from '../core/async';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { Dialog } from './dialog';\nimport { Confirm } from './confirm';\nimport { Knot } from '../core';\n\n/**\n * Internal interface representing an MDL progress bar instance with\n * methods to set determinate progress and buffer values.\n */\ntype ProcessBar = {\n    setProgress: (value: number) => void;\n    setBuffer: (value: number) => void;\n};\n\n/**\n * Manages Material Design Lite progress bars across multiple application\n * containers: main content, header, dialog, and confirm window.\n *\n * The ProgressBar determines which container's bar to activate based on\n * the current state of {@link Dialog} and {@link Confirm} -- when a dialog\n * is open the dialog bar is shown, when a confirm is open the confirm bar\n * is shown, otherwise the main and header bars are shown.\n *\n * Display uses reference counting: each {@link show} call increments a\n * counter, and {@link hide} decrements it. The bars are only removed when\n * the counter reaches zero (or when forced). A {@link lock}/{@link unlock}\n * mechanism can suppress progress display entirely.\n *\n * @see {@link Dialog}\n * @see {@link Confirm}\n * @category Module\n *\n * @example\n * const progressBar = new ProgressBar(dialog, confirm);\n * progressBar.show();\n * // ... perform async work ...\n * progressBar.hide();\n *\n * @example\n * progressBar.setProgress(75);\n * progressBar.setBuffer(90);\n */\nexport class ProgressBar {\n    dialog: Dialog;\n    confirm: Confirm;\n    options!: Objekt;\n    progressBarContainer!: Knot;\n    progressBarHeader!: Knot;\n    progressBarDialog!: Knot;\n    progressBarConfirm!: Knot;\n    async!: Async;\n    processContainer!: ProcessBar;\n    processHeader!: ProcessBar;\n    processDialog!: ProcessBar;\n    processConfirm!: ProcessBar;\n    progressValue!: number;\n    bufferValue!: number;\n\n    /**\n     * Creates a new ProgressBar instance and initializes MDL progress bar\n     * elements in all four containers.\n     *\n     * @param {Dialog} dialog - The application dialog instance used to\n     *     determine which progress bar to display.\n     * @param {Confirm} confirm - The application confirm instance used to\n     *     determine which progress bar to display.\n     * @param {object | undefined} opt_options - Optional configuration\n     *     merged into defaults ({lock: false, counter: 0}).\n     */\n    constructor(\n        dialog: Dialog,\n        confirm: Confirm,\n        opt_options: object | undefined = {},\n    ) {\n        this.dialog = dialog;\n        this.confirm = confirm;\n\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options into the default configuration.\n     *\n     * @param {object | undefined} opt_options - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            lock: false,\n            counter: 0,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Queries all four progress bar DOM elements and sets up the async\n     * upgrade listener for MDL MaterialProgress components.\n     */\n    private _init(): void {\n        this.progressBarContainer = new Query(\n            '.main-container > .progress-bar',\n        ).getKnot();\n        this.progressBarHeader = new Query('#header > .progress-bar').getKnot();\n        this.progressBarDialog = new Query(\n            '#dialog-window > .progress-bar',\n        ).getKnot();\n        this.progressBarConfirm = new Query(\n            '#confirm-window > .progress-bar',\n        ).getKnot();\n\n        this.async = new Async(4);\n        this.async.eventComplete = (_isError, nodes) => {\n            if (nodes[0]['MaterialProgress']) {\n                this.processContainer = nodes[0]['MaterialProgress'];\n            }\n            if (nodes[1]['MaterialProgress']) {\n                this.processHeader = nodes[1]['MaterialProgress'];\n            }\n            if (nodes[2]['MaterialProgress']) {\n                this.processDialog = nodes[2]['MaterialProgress'];\n            }\n            if (nodes[3]['MaterialProgress']) {\n                this.processConfirm = nodes[3]['MaterialProgress'];\n            }\n\n            if (this.progressValue) {\n                this.setProgress(this.progressValue);\n            }\n            this.progressValue = 0;\n\n            if (this.bufferValue) {\n                this.setBuffer(this.bufferValue);\n            }\n            this.bufferValue = 0;\n        };\n\n        this.progressValue = 0;\n        this.bufferValue = 0;\n\n        this.processContainer = this._createProgressBar(\n            this.progressBarContainer,\n        );\n        this.processHeader = this._createProgressBar(this.progressBarHeader);\n        this.processDialog = this._createProgressBar(this.progressBarDialog);\n        this.processConfirm = this._createProgressBar(this.progressBarConfirm);\n    }\n\n    /**\n     * Initializes a single progress bar element by adding the MDL class\n     * and registering an upgrade listener to capture the MaterialProgress\n     * instance.\n     *\n     * @param {Knot} knot - The DOM wrapper for the progress bar element.\n     * @returns {ProcessBar} A temporary ProcessBar that buffers values\n     *     until the MDL component upgrades.\n     */\n    private _createProgressBar(knot: Knot): ProcessBar {\n        knot.addClass('mdl-js-progress');\n\n        knot.addEventListener('mdl-componentupgraded', (knot) => {\n            this.async.parallelFunction(() => {\n                return knot;\n            });\n        });\n\n        return {\n            setProgress: (value) => {\n                this.progressValue = value;\n            },\n            setBuffer: (value) => {\n                this.bufferValue = value;\n            },\n        };\n    }\n\n    /**\n     * Routes a set of callbacks to the appropriate progress bar based on\n     * the current dialog/confirm open state.\n     *\n     * @param {Function} containerCallback - Callback for the main container bar.\n     * @param {Function} headerCallback - Callback for the header bar.\n     * @param {Function} dialogCallback - Callback for the dialog bar.\n     * @param {Function} confirmCallback - Callback for the confirm bar.\n     */\n    private _separateProgressBars(\n        containerCallback: (condition: boolean) => void,\n        headerCallback: (condition: boolean) => void,\n        dialogCallback: (condition: boolean) => void,\n        confirmCallback: (condition: boolean) => void,\n    ): void {\n        containerCallback(!this.dialog.isOpened() && !this.confirm.isOpened());\n        headerCallback(!this.dialog.isOpened() && !this.confirm.isOpened());\n        dialogCallback(this.dialog.isOpened() && !this.confirm.isOpened());\n        confirmCallback(this.confirm.isOpened());\n    }\n\n    /**\n     * Activates the MDL progress class on the appropriate bar(s) unless\n     * the progress display is locked.\n     */\n    private _progress(): void {\n        if (!this.options.get('lock')) {\n            this._separateProgressBars(\n                (condition: boolean) => {\n                    if (condition) {\n                        this.progressBarContainer.addClass('mdl-progress');\n                    } else {\n                        this.progressBarContainer.removeClass('mdl-progress');\n                    }\n                },\n                (condition: boolean) => {\n                    if (condition) {\n                        this.progressBarHeader.addClass('mdl-progress');\n                    } else {\n                        this.progressBarHeader.removeClass('mdl-progress');\n                    }\n                },\n                (condition: boolean) => {\n                    if (condition) {\n                        this.progressBarDialog.addClass('mdl-progress');\n                    } else {\n                        this.progressBarDialog.removeClass('mdl-progress');\n                    }\n                },\n                (condition: boolean) => {\n                    if (condition) {\n                        this.progressBarConfirm.addClass('mdl-progress');\n                    } else {\n                        this.progressBarConfirm.removeClass('mdl-progress');\n                    }\n                },\n            );\n        }\n    }\n\n    /**\n     * Activates the indeterminate progress animation on the appropriate bar(s)\n     * and increments the reference counter.\n     *\n     * Each call to `show()` must be balanced by a call to {@link hide} to\n     * ensure the progress bar is eventually hidden.\n     *\n     * @example\n     * progressBar.show();\n     * // ... perform async operation ...\n     * progressBar.hide();\n     */\n    show(): void {\n        this._progress();\n        this.options.counter++;\n        this._separateProgressBars(\n            (condition: boolean) => {\n                if (condition) {\n                    this.progressBarContainer.addClass(\n                        'mdl-progress__indeterminate',\n                    );\n                } else {\n                    this.progressBarContainer.removeClass(\n                        'mdl-progress__indeterminate',\n                    );\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.progressBarHeader.addClass(\n                        'mdl-progress__indeterminate',\n                    );\n                } else {\n                    this.progressBarHeader.removeClass(\n                        'mdl-progress__indeterminate',\n                    );\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.progressBarDialog.addClass(\n                        'mdl-progress__indeterminate',\n                    );\n                } else {\n                    this.progressBarDialog.removeClass(\n                        'mdl-progress__indeterminate',\n                    );\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.progressBarConfirm.addClass(\n                        'mdl-progress__indeterminate',\n                    );\n                } else {\n                    this.progressBarConfirm.removeClass(\n                        'mdl-progress__indeterminate',\n                    );\n                }\n            },\n        );\n    }\n\n    /**\n     * Sets a determinate progress value on the appropriate bar(s).\n     *\n     * @param {number} value - The progress percentage (0--100).\n     *\n     * @example\n     * progressBar.setProgress(50); // 50% complete\n     */\n    setProgress(value: number): void {\n        this._progress();\n        this._separateProgressBars(\n            (condition: boolean) => {\n                if (condition) {\n                    this.processContainer.setProgress(value);\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.processHeader.setProgress(value);\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.processDialog.setProgress(value);\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.processConfirm.setProgress(value);\n                }\n            },\n        );\n    }\n\n    /**\n     * Sets the buffer value on the appropriate progress bar(s). The buffer\n     * represents how much data has been loaded ahead of the current progress.\n     *\n     * @param {number} value - The buffer percentage (0--100).\n     *\n     * @example\n     * progressBar.setBuffer(80);\n     */\n    setBuffer(value: number): void {\n        this._progress();\n        this._separateProgressBars(\n            (condition: boolean) => {\n                if (condition) {\n                    this.processContainer.setBuffer(value);\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.processHeader.setBuffer(value);\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.processDialog.setBuffer(value);\n                }\n            },\n            (condition: boolean) => {\n                if (condition) {\n                    this.processConfirm.setBuffer(value);\n                }\n            },\n        );\n    }\n\n    /**\n     * Decrements the reference counter and hides all progress bars when the\n     * counter reaches zero. If `opt_force` is true, the counter is reset to\n     * zero and bars are hidden immediately.\n     *\n     * @param {boolean | undefined} opt_force - When true, force-hides all\n     *     bars regardless of the current counter value.\n     *\n     * @example\n     * progressBar.hide();       // decrements counter\n     * progressBar.hide(true);   // force-hides immediately\n     */\n    hide(opt_force?: boolean): void {\n        this.options.counter--;\n        if (opt_force || eq(this.options.counter, 0)) {\n            this.options.counter = 0;\n            this.progressBarContainer.removeClass([\n                'mdl-progress',\n                'mdl-progress__indeterminate',\n            ]);\n            this.progressBarHeader.removeClass([\n                'mdl-progress',\n                'mdl-progress__indeterminate',\n            ]);\n            this.progressBarDialog.removeClass([\n                'mdl-progress',\n                'mdl-progress__indeterminate',\n            ]);\n            this.progressBarConfirm.removeClass([\n                'mdl-progress',\n                'mdl-progress__indeterminate',\n            ]);\n        }\n    }\n\n    /**\n     * Locks the progress bar, preventing any further progress display until\n     * {@link unlock} is called. Existing indeterminate animations remain\n     * visible but new activations are suppressed.\n     *\n     * @example\n     * progressBar.lock();\n     * progressBar.show(); // no visible effect\n     */\n    lock(): void {\n        this.options.set('lock', true);\n    }\n\n    /**\n     * Unlocks the progress bar, allowing progress display to resume.\n     *\n     * @example\n     * progressBar.unlock();\n     * progressBar.show(); // progress is visible again\n     */\n    unlock(): void {\n        this.options.set('lock', false);\n    }\n}\n", "import { urlWithQueryString } from '../utils/operation';\nimport { Deferred } from '../core/deferred';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { ProgressBar } from './progressBar';\n\n/**\n * Dynamic script loader that appends `<script>` tags to the document\n * `<head>`. Each script is identified by a unique ID; loading a script\n * that already exists (by ID) resolves immediately without duplicating\n * the tag.\n *\n * The loader integrates with {@link ProgressBar} to show and hide\n * progress during script loading.\n *\n * @see {@link ProgressBar}\n * @see {@link Style}\n * @category Module\n *\n * @example\n * const script = new Script(progressBar);\n * script.load('google-maps', 'https://maps.googleapis.com/maps/api/js', {\n *     key: 'API_KEY',\n * }).then(() => {\n *     // Google Maps API is ready\n * });\n */\nexport class Script {\n    progressBar: ProgressBar;\n    options!: Objekt;\n    head!: Knot;\n\n    /**\n     * Creates a new Script loader instance.\n     *\n     * @param {ProgressBar} progressBar - The progress bar instance used to\n     *     indicate loading activity.\n     * @param {object | undefined} opt_options - Optional configuration\n     *     merged into defaults.\n     */\n    constructor(\n        progressBar: ProgressBar,\n        opt_options: object | undefined = {},\n    ) {\n        this.progressBar = progressBar;\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options into the default configuration.\n     *\n     * @param {object | undefined} opt_options - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt();\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Queries the `<head>` element where script tags will be appended.\n     */\n    private _init(): void {\n        this.head = new Query('head').getKnot();\n    }\n\n    /**\n     * Loads a JavaScript file by appending a `<script>` tag to the document\n     * head. If a script with the given ID already exists in the DOM, the\n     * returned promise resolves immediately without creating a duplicate.\n     *\n     * @param {string} id - A unique identifier for the script element. Used\n     *     both as the element ID and to check for existing scripts.\n     * @param {string} url - The URL of the JavaScript file to load.\n     * @param {object | undefined} opt_params - Optional query string\n     *     parameters appended to the URL.\n     * @param {boolean | undefined} opt_async - When true, sets the `async`\n     *     attribute on the script tag.\n     * @param {boolean | undefined} opt_defer - When true, sets the `defer`\n     *     attribute on the script tag.\n     * @returns {Promize} A promise that resolves when the script loads\n     *     successfully, or rejects on error.\n     *\n     * @example\n     * script.load('analytics', '/js/analytics.js', { v: '2' }, true);\n     */\n    load(\n        id: string,\n        url: string,\n        opt_params?: object,\n        opt_async: boolean | undefined = false,\n        opt_defer: boolean | undefined = false,\n    ) {\n        this.progressBar.show();\n        const deferred = new Deferred();\n        const script = new Query('#' + id);\n        if (script.size() > 0) {\n            this.progressBar.hide();\n            deferred.resolve();\n        } else {\n            const scriptKnot = new Knot<HTMLScriptElement>('script');\n            scriptKnot.setId(id);\n            scriptKnot.setAttribute('src', urlWithQueryString(url, opt_params));\n            // TODO: check there is a good performance solution for script load\n            if (opt_async) {\n                scriptKnot.setAttribute('async');\n            }\n            if (opt_defer) {\n                scriptKnot.setAttribute('defer');\n            }\n\n            scriptKnot.setAttribute('onload', () => {\n                this.progressBar.hide();\n                deferred.resolve();\n            });\n\n            scriptKnot.setAttribute('onerror', () => {\n                this.progressBar.hide();\n                deferred.reject();\n            });\n\n            this.head.appendChild(scriptKnot);\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Removes a previously loaded script element from the DOM by its ID.\n     * If no element with the given ID exists or the element is empty,\n     * this method does nothing.\n     *\n     * @param {string} id - The ID of the script element to remove.\n     *\n     * @example\n     * script.remove('analytics');\n     */\n    remove(id: string): void {\n        const script = new Query('#' + id).getKnot();\n        if (!script.isEmpty()) {\n            script.remove();\n        }\n    }\n}\n", "import { urlWithQueryString } from '../utils/operation';\nimport { Deferred } from '../core/deferred';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { ProgressBar } from './progressBar';\n\n/**\n * Dynamic stylesheet loader that appends `<link>` tags to the document\n * `<head>`. Each stylesheet is identified by a unique ID; loading a\n * stylesheet that already exists (by ID) resolves immediately without\n * duplicating the tag.\n *\n * The loader integrates with {@link ProgressBar} to show and hide\n * progress during stylesheet loading.\n *\n * @see {@link ProgressBar}\n * @see {@link Script}\n * @category Module\n *\n * @example\n * const style = new Style(progressBar);\n * style.load('theme-dark', '/css/dark-theme.css').then(() => {\n *     // Dark theme stylesheet is applied\n * });\n */\nexport class Style {\n    progressBar: ProgressBar;\n    options!: Objekt;\n    head!: Knot;\n\n    /**\n     * Creates a new Style loader instance.\n     *\n     * @param {ProgressBar} progressBar - The progress bar instance used to\n     *     indicate loading activity.\n     * @param {object | undefined} opt_options - Optional configuration\n     *     merged into defaults.\n     */\n    constructor(\n        progressBar: ProgressBar,\n        opt_options: object | undefined = {},\n    ) {\n        this.progressBar = progressBar;\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options into the default configuration.\n     *\n     * @param {object | undefined} opt_options - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt();\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Queries the `<head>` element where link tags will be appended.\n     */\n    private _init(): void {\n        this.head = new Query('head').getKnot();\n    }\n\n    /**\n     * Loads a CSS stylesheet by appending a `<link>` tag to the document\n     * head. If a link with the given ID already exists in the DOM, the\n     * returned promise resolves immediately without creating a duplicate.\n     *\n     * @param {string} id - A unique identifier for the link element. Used\n     *     both as the element ID and to check for existing stylesheets.\n     * @param {string} url - The URL of the CSS file to load.\n     * @param {object | undefined} opt_params - Optional query string\n     *     parameters appended to the URL.\n     * @param {string | undefined} opt_rel - The `rel` attribute value\n     *     for the link tag. Defaults to 'stylesheet'.\n     * @param {string | undefined} opt_media - The `media` attribute value\n     *     for the link tag. Defaults to 'all'.\n     * @returns {Promize} A promise that resolves with `true` when the\n     *     stylesheet loads successfully, or rejects with `false` on error.\n     *\n     * @example\n     * style.load('print-css', '/css/print.css', {}, 'stylesheet', 'print');\n     */\n    load(\n        id: string,\n        url: string,\n        opt_params?: object,\n        opt_rel: string | undefined = 'stylesheet',\n        opt_media: string | undefined = 'all',\n    ) {\n        this.progressBar.show();\n        const deferred = new Deferred<boolean, boolean>();\n        const style = new Query('#' + id);\n        if (style.size() > 0) {\n            this.progressBar.hide();\n            deferred.resolve(true);\n        } else {\n            const linkKnot = new Knot<HTMLLinkElement>('link');\n            linkKnot.setId(id);\n            linkKnot.setAttribute('href', urlWithQueryString(url, opt_params));\n            linkKnot.setAttribute('rel', opt_rel);\n            linkKnot.setAttribute('media', opt_media);\n\n            linkKnot.setAttribute('onload', () => {\n                this.progressBar.hide();\n                deferred.resolve(true);\n            });\n\n            linkKnot.setAttribute('onerror', () => {\n                this.progressBar.hide();\n                deferred.reject(false);\n            });\n\n            this.head.appendChild(linkKnot);\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Removes a previously loaded stylesheet element from the DOM by its\n     * ID. If no element with the given ID exists or the element is empty,\n     * this method does nothing.\n     *\n     * @param {string} id - The ID of the link element to remove.\n     *\n     * @example\n     * style.remove('theme-dark');\n     */\n    remove(id: string): void {\n        const style = new Query('#' + id).getKnot();\n        if (!style.isEmpty()) {\n            style.remove();\n        }\n    }\n}\n", "import { contain } from '../utils/operation';\nimport { Deferred } from '../core/deferred';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { Http } from './http';\nimport { consoleError } from '../utils/log';\nimport { Knot } from '../core';\n\n/**\n * SPA template loader that fetches page content from the server via\n * {@link Http} and inserts it into the view container. Supports\n * client-side caching based on `data-template-url` and `data-locale`\n * attributes to avoid redundant fetches during SPA navigation.\n *\n * When `load()` is called, the template checks whether the requested\n * URL and locale match the currently loaded content. If they match\n * (and `opt_force` is false), the existing `.page-content` element is\n * returned immediately without an HTTP request. Otherwise, the content\n * is fetched from the server and inserted into the view container.\n *\n * On error responses, the `.message` element is extracted from the\n * response and passed to the overridable `eventError()` hook.\n *\n * @example\n * const template = new Template(http, {\n *     selector: '.template-view',\n *     locale: 'en-US',\n * });\n *\n * template.load('/pages/dashboard').then(\n *     (pageKnot) => {\n *         initDashboard(pageKnot);\n *     },\n *     (errorKnot) => {\n *         console.error('Page load failed');\n *     },\n * );\n *\n * @see {@link Http}\n * @see {@link Knot}\n * @category Module\n */\nexport class Template {\n    http: Http;\n    options!: Objekt<{ selector: string; locale: string }>;\n    viewKnot!: Knot;\n\n    /**\n     * Creates a new Template instance.\n     *\n     * @param http The HTTP client used to fetch page templates from\n     *     the server.\n     * @param opt_options Configuration options merged with defaults.\n     *     Supported keys: `selector` (CSS selector for the view\n     *     container, defaults to `'.template-view'`), `locale`\n     *     (current locale string, defaults to `navigator.language`).\n     */\n    constructor(http: Http, opt_options: object | undefined = {}) {\n        this.http = http;\n\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options with default values.\n     *\n     * @param opt_options Configuration options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            selector: '.template-view',\n            locale: navigator.language,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes the view container DOM reference from the configured\n     * selector.\n     */\n    private _init(): void {\n        this.viewKnot = new Query(this.options.selector).getKnot();\n    }\n\n    /**\n     * Returns the main view container {@link Knot} where page content\n     * is rendered.\n     *\n     * @returns The view container Knot element.\n     *\n     * @example\n     * const viewContainer = template.getViewKnot();\n     * viewContainer.addClass('loading');\n     */\n    getViewKnot(): Knot {\n        return this.viewKnot;\n    }\n\n    /**\n     * Loads page content from the given URL into the view container.\n     *\n     * When `opt_force` is false (the default), the method first checks\n     * the `data-template-url` and `data-locale` attributes on the view\n     * container. If both match the requested URL and current locale, the\n     * existing `.page-content` element is returned without making an\n     * HTTP request.\n     *\n     * Otherwise, an HTTP GET request is made to fetch the content. On\n     * success, the response's `.page-content` element is extracted and\n     * inserted into the view container. On failure, the error content is\n     * passed to `eventError()`.\n     *\n     * @param url The server endpoint URL to fetch the page template from.\n     * @param opt_force When true, bypasses the cache check and always\n     *     fetches from the server. Defaults to false.\n     * @returns A {@link Promize} that resolves with the page content\n     *     {@link Knot} on success, or rejects with the error content\n     *     Knot on failure.\n     *\n     * @example\n     * template.load('/pages/settings').then((pageKnot) => {\n     *     initSettingsPage(pageKnot);\n     * });\n     *\n     * @example\n     * // Force reload, bypassing the cache\n     * template.load('/pages/settings', true).then((pageKnot) => {\n     *     initSettingsPage(pageKnot);\n     * });\n     */\n    load(url: string, opt_force: boolean | undefined = false) {\n        const deferred = new Deferred<Knot, Knot>();\n        const templateUrl = this.viewKnot.getAttribute('data-template-url');\n        const locale = this.viewKnot.getAttribute('data-locale');\n        if (\n            !opt_force &&\n            contain(this.options.locale, locale) &&\n            contain(url, templateUrl)\n        ) {\n            this.viewKnot.removeAttribute('data-locale');\n            const knot = new Query('.page-content', this.viewKnot).getKnot();\n            deferred.resolve(knot);\n        } else {\n            this.viewKnot.setAttribute('data-template-url', url);\n            this.http.get(url).then(\n                (data) => {\n                    deferred.resolve(this._spaNavigate(data.get('raw'), false));\n                },\n                (data) => {\n                    deferred.reject(this._spaNavigate(data.get('raw'), true));\n                },\n            );\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * Extracts the `.page-content` element from the response DOM and\n     * delegates to `_updateDOM()` for insertion or error handling.\n     *\n     * @param data The raw response DOM from the HTTP request.\n     * @param isError Whether the response represents an error.\n     * @returns The extracted page content Knot.\n     */\n    _spaNavigate(data: Knot, isError: boolean): Knot {\n        const knot = new Query('.page-content', data).getKnot();\n        this._updateDOM(knot, isError);\n\n        return knot;\n\n        // FIXME: ViewTransition not working properly\n        /*\n        knot.setParentKnot(this.viewKnot);\n        if (!document.startViewTransition) {\n            this._updateDOM(knot, isError);\n\n            return knot;\n        }\n\n        document.startViewTransition(() => this._updateDOM(knot, isError));\n\n        return knot;\n        */\n    }\n\n    /**\n     * Inserts the page content into the view container, or extracts\n     * and dispatches the error message via `eventError()`.\n     *\n     * @param knot The page content Knot to insert.\n     * @param isError Whether to treat the content as an error response.\n     */\n    private _updateDOM(knot: Knot, isError: boolean): void {\n        if (isError) {\n            const messageKnot = new Query('.message', knot).getKnot();\n            const message = {\n                content: messageKnot.getText(),\n                type: messageKnot.getAttribute('class').split(' ')[1],\n            };\n            this.eventError(message);\n        } else {\n            this.viewKnot.insert(knot);\n        }\n    }\n\n    /**\n     * Overridable hook called when a template load results in an error.\n     * The default implementation logs the error to the console. Override\n     * this method to display error messages in the UI (e.g., via\n     * {@link Flash}).\n     *\n     * @param message An object containing the error `type` (CSS class)\n     *     and `content` (error text) extracted from the response.\n     *\n     * @example\n     * template.eventError = (message) => {\n     *     flash.addError(message.content);\n     * };\n     */\n    eventError(message: { type: string; content: string }): void {\n        consoleError('Template.eventError()', message);\n    }\n}\n", "import { Knot } from '../core';\nimport { Query } from '../core/query';\nimport { Header } from './header';\n\n/**\n * Dropdown menu rendered inside the application {@link Header}. Toggling\n * the menu also opens/closes the header's expanded state and manages\n * shadow styling.\n *\n * The toggle button is bound to the `#toggle-top-menu` element within the\n * header, and the menu container is `#top-menu`.\n *\n * @see {@link Header}\n * @category Module\n *\n * @example\n * const topMenu = new TopMenu(header);\n * topMenu.open();\n * const container = topMenu.getContainer();\n */\nexport class TopMenu {\n    header: Header;\n    topMenu!: Knot;\n    toggleTopMenu!: Knot;\n\n    /**\n     * Creates a new TopMenu instance and binds the toggle click event\n     * within the provided header.\n     *\n     * @param {Header} header - The application header instance that\n     *     contains the top menu DOM elements.\n     */\n    constructor(header: Header) {\n        this.header = header;\n        this._init();\n    }\n\n    /**\n     * Queries the top menu and toggle button elements and binds the\n     * click handler.\n     */\n    private _init(): void {\n        this.topMenu = new Query('#top-menu', this.header.headerKnot).getKnot();\n\n        this.toggleTopMenu = new Query(\n            '#toggle-top-menu',\n            this.header.headerKnot,\n        ).getKnot();\n        this.toggleTopMenu.setAttribute('href', 'javascript:void(0)');\n        this.toggleTopMenu.addEventListener('click', () => {\n            this.toggle();\n        });\n    }\n\n    /**\n     * Toggles the top menu between its open and closed states.\n     *\n     * @example\n     * topMenu.toggle();\n     */\n    toggle(): void {\n        if (this.isOpened()) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    /**\n     * Checks whether the top menu is currently visible.\n     *\n     * @returns {boolean} True if the menu is open, false otherwise.\n     */\n    isOpened(): boolean {\n        return this.topMenu.hasClass('visible-flex');\n    }\n\n    /**\n     * Opens the top menu by expanding the header, showing the menu\n     * container, activating the toggle button, and displaying the\n     * header shadow.\n     *\n     * @example\n     * topMenu.open();\n     */\n    open(): void {\n        this.header.open();\n        this.topMenu.addClass('visible-flex');\n        this.toggleTopMenu.addClass('active');\n        this.header.showShadow();\n    }\n\n    /**\n     * Closes the top menu by collapsing the header, hiding the menu\n     * container, deactivating the toggle button, and removing the\n     * header shadow.\n     */\n    close(): void {\n        this.header.close();\n        this.topMenu.removeClass('visible-flex');\n        this.toggleTopMenu.removeClass('active');\n        this.header.hideShadow();\n    }\n\n    /**\n     * Returns the menu container {@link Knot} where menu items should be\n     * appended.\n     *\n     * @returns {Knot} The top menu container element.\n     *\n     * @example\n     * const container = topMenu.getContainer();\n     * container.appendChild(menuItemKnot);\n     */\n    getContainer(): Knot {\n        return this.topMenu;\n    }\n}\n", "import { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { BaseModal } from './baseModal';\n\n/**\n * Image viewer modal that displays a single image in a full-screen\n * overlay. Extends {@link BaseModal} to provide a lightweight image\n * preview experience with an optional title.\n *\n * The viewer automatically opens when `loadImage()` is called, showing\n * the image in the modal body with the blur overlay applied to the\n * main container.\n *\n * @example\n * const viewer = new Viewer();\n * viewer.loadImage('/uploads/photo.jpg', 'Vacation Photo');\n *\n * @example\n * // Open without a title\n * viewer.loadImage('/uploads/chart.png');\n *\n * @see {@link BaseModal}\n * @see {@link Dialog}\n * @category Module\n */\nexport class Viewer extends BaseModal {\n    options!: Objekt;\n\n    /**\n     * Creates a new Viewer instance.\n     *\n     * @param opt_options Configuration options merged with defaults.\n     *     Supported keys: `id` (CSS selector for the viewer element,\n     *     defaults to `'#viewer'`).\n     */\n    constructor(opt_options: object | undefined = {}) {\n        super();\n        this._setOptions(opt_options);\n        this._init();\n        this._initBase();\n    }\n\n    /**\n     * Merges user-provided options with default values.\n     *\n     * @param opt_options Configuration options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            id: '#viewer',\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes DOM references for the viewer modal elements.\n     */\n    private _init(): void {\n        this.body = new Query('body').getKnot();\n        this.modal = new Query(this.options.id, this.body).getKnot();\n        this.modalWindow = new Query('#viewer-window', this.modal).getKnot();\n        this.modalHeader = new Query('.modal-header', this.modal).getKnot();\n        this.modalTitle = new Query('.modal-title', this.modalHeader).getKnot();\n        this.modalBody = new Query('.modal-body', this.modal).getKnot();\n        this.modalFooter = new Query('.modal-footer', this.modal).getKnot();\n    }\n\n    /**\n     * Loads and displays an image in the viewer modal. Resets any\n     * previous callbacks, creates an `<img>` element with the given\n     * URL, sets the optional title, and opens the modal.\n     *\n     * @param imageUrl The URL of the image to display.\n     * @param opt_title Optional title text shown in the modal header.\n     *     When empty or omitted, the header is hidden.\n     *\n     * @example\n     * viewer.loadImage('/api/images/12345.jpg', 'Product Preview');\n     *\n     * @example\n     * // View an image without a title\n     * viewer.loadImage('https://cdn.example.com/hero.png');\n     */\n    loadImage(imageUrl: string, opt_title: string | undefined = ''): void {\n        this._reset();\n\n        this._setImage(imageUrl);\n        this._setTitle(opt_title);\n\n        this.open();\n    }\n\n    /**\n     * Creates an `<img>` element and appends it to the modal body.\n     *\n     * @param imageUrl The URL to set as the image source.\n     */\n    private _setImage(imageUrl: string): void {\n        const imageKnot = new Knot<HTMLImageElement>('img');\n        imageKnot.setAttribute('src', imageUrl);\n\n        this.modalBody.appendChild(imageKnot);\n    }\n}\n", "import { eachArray, typeCast } from '../utils/operation';\nimport { Objekt } from '../core/objekt';\nimport { encrypt, decrypt } from '../utils/coder';\n\n/**\n * Encrypted browser storage wrapper for localStorage and sessionStorage.\n * Depot stores values with AES encryption using a configurable secret,\n * and automatically manages entry expiration via periodic checks.\n *\n * Each stored entry is serialized as `\"<expires_utc>;<encrypted_value>\"`,\n * where the expiration timestamp is stored in UTC string format and the\n * value is encrypted using the configured secret. On retrieval, entries\n * are decrypted and type-cast via `typeCast`.\n *\n * A periodic interval (configurable via `interval` option) runs\n * {@link _checkExpires} to automatically remove entries that have passed\n * their expiration time.\n *\n * @example\n * const localDepot = new Depot('LOCAL', {\n *     prefix: 'myApp',\n *     secret: 'my-secret-key',\n *     hours: 48,\n * });\n *\n * localDepot.set('user', 'john');\n * localDepot.get('user'); // 'john'\n *\n * localDepot.set('session', 'xyz', 2); // expires in 2 hours\n * localDepot.remove('session');\n *\n * const sessionDepot = new Depot('SESSION', { prefix: 'myApp' });\n * sessionDepot.set('temp', 'data');\n *\n * @see {@link Cookie}\n * @see {@link Objekt}\n * @category Module\n */\nexport class Depot {\n    type: 'LOCAL' | 'SESSION';\n    options!: Objekt;\n    storage!: Storage;\n\n    /**\n     * Creates a new Depot instance backed by either localStorage or\n     * sessionStorage. Initializes the storage backend and starts the\n     * periodic expiration checker.\n     *\n     * @param type The storage backend to use: `'LOCAL'` for\n     *     `window.localStorage` or `'SESSION'` for `window.sessionStorage`.\n     * @param opt_options Configuration options. Supports `prefix` (string)\n     *     for key namespace, `secret` (string) for AES encryption key,\n     *     `hours` (number) for default expiration in hours, and\n     *     `interval` (number) for expiration check frequency in\n     *     milliseconds.\n     */\n    constructor(\n        type: 'LOCAL' | 'SESSION',\n        opt_options: object | undefined = {},\n    ) {\n        this.type = type;\n\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges the provided options with defaults.\n     *\n     * @param opt_options User-provided options to merge with defaults.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            prefix: 'app',\n            secret: 'secret',\n            hours: 24 * 7,\n            interval: 60 * 1000,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Selects the appropriate Storage backend based on the type and\n     * starts the periodic expiration checker interval.\n     */\n    private _init(): void {\n        this.storage =\n            this.type === 'LOCAL' ? window.localStorage : window.sessionStorage;\n\n        setInterval(() => {\n            this._checkExpires();\n        }, this.options.interval);\n    }\n\n    /**\n     * Converts a logical name to a prefixed property name for storage.\n     *\n     * @param name The logical storage key name.\n     * @returns The dot-prefixed property name.\n     */\n    private _getPropertyName(name: string): string {\n        return [this.options.prefix, name].join('.');\n    }\n\n    /**\n     * Extracts the logical name from a prefixed property name by\n     * removing the prefix segment.\n     *\n     * @param propertyName The prefixed property name from storage.\n     * @returns The logical storage key name.\n     */\n    private _getName(propertyName: string): string {\n        const parts = propertyName.split('.');\n        parts.shift();\n        return parts.join('.');\n    }\n\n    /**\n     * Stores a value in the selected storage backend. The value is\n     * AES-encrypted with the configured secret and stored alongside\n     * an expiration timestamp.\n     *\n     * @param name The logical key name to store under.\n     * @param value The value to encrypt and store. Any type is accepted.\n     * @param opt_expires Expiration as hours (number), a `Date` object,\n     *     or `Infinity` for permanent storage. When omitted, defaults\n     *     to the configured `hours` option.\n     *\n     * @example\n     * const depot = new Depot('LOCAL', { secret: 'key123' });\n     *\n     * depot.set('token', 'abc');\n     * depot.set('session', 'xyz', 2); // expires in 2 hours\n     * depot.set('permanent', 'data', Infinity);\n     */\n    set(\n        name: string,\n        value: any,\n        opt_expires?: string | number | boolean | Date,\n    ): void {\n        const expires = this._getExpires(opt_expires);\n        const encrypted = expires + ';' + encrypt(value, this.options.secret);\n        const propertyName = this._getPropertyName(name);\n        this.storage.setItem(propertyName, encrypted);\n    }\n\n    /**\n     * Retrieves and decrypts a value from storage by its logical name.\n     * The decrypted value is automatically type-cast, so stored numeric\n     * or boolean strings are returned as their native types.\n     *\n     * @param name The logical key name to retrieve.\n     * @returns The decrypted and type-cast value, or `null` if the\n     *     key does not exist or the stored format is invalid.\n     *\n     * @example\n     * depot.set('count', '42');\n     * depot.get('count'); // 42 (number)\n     *\n     * depot.get('nonexistent'); // null\n     */\n    get(name: string): any {\n        const propertyName = this._getPropertyName(name);\n        const item = this.storage.getItem(propertyName);\n        let result = null;\n        if (item && item.indexOf(';') !== -1) {\n            const encrypted =\n                item.split(';', 2)[1] || encrypt(null, this.options.secret);\n            const decrypted = decrypt(encrypted, this.options.secret);\n            result = typeCast(decrypted);\n        }\n        return result;\n    }\n\n    /**\n     * Removes a single entry from storage by its logical name.\n     *\n     * @param name The logical key name to remove.\n     *\n     * @example\n     * depot.set('token', 'abc');\n     * depot.remove('token');\n     * depot.get('token'); // null\n     */\n    remove(name: string): void {\n        const propertyName = this._getPropertyName(name);\n        this.storage.removeItem(propertyName);\n    }\n\n    /**\n     * Clears all entries from the underlying storage backend. This\n     * removes all keys, not just those managed by this Depot instance.\n     *\n     * @example\n     * depot.set('a', '1');\n     * depot.set('b', '2');\n     * depot.clear();\n     */\n    clear(): void {\n        this.storage.clear();\n    }\n\n    /**\n     * Iterates over all storage keys and removes entries that have\n     * passed their expiration time. Called periodically by the\n     * internal interval timer.\n     */\n    private _checkExpires(): void {\n        const properyNames = Object.keys(this.storage);\n        eachArray(properyNames, (properyName) => {\n            const name = this._getName(properyName);\n            const isExpired = this._isExpired(name);\n            if (isExpired) {\n                this.remove(name);\n            }\n        });\n    }\n\n    /**\n     * Checks whether a stored entry has expired by comparing the\n     * current time against the entry's expiration date.\n     *\n     * @param name The logical key name to check.\n     * @returns `true` if the entry exists and has expired, `false` otherwise.\n     */\n    private _isExpired(name: string): boolean {\n        const date = new Date();\n        const expireDate = this._getExpiresDate(name);\n        return !!expireDate && date.getTime() >= expireDate.getTime();\n    }\n\n    /**\n     * Extracts the expiration date from a stored entry by parsing the\n     * UTC string stored before the semicolon delimiter.\n     *\n     * @param name The logical key name to read.\n     * @returns The expiration `Date`, or `null` if the entry does not exist.\n     */\n    private _getExpiresDate(name: string): Date | null {\n        const propertyName = this._getPropertyName(name);\n        const item = this.storage.getItem(propertyName);\n        if (item) {\n            const utcString = item.split(';', 2)[0];\n            return new Date(utcString);\n        }\n        return null;\n    }\n\n    /**\n     * Computes an expiration UTC string from the given parameter. Supports\n     * hours as a number, a `Date` object, or `Infinity` for no expiration.\n     * When omitted, uses the configured `hours` default.\n     *\n     * @param opt_expires The expiration specification.\n     * @returns A UTC date string representing the expiration time.\n     */\n    private _getExpires(\n        opt_expires?: string | number | boolean | Date,\n    ): string {\n        const date = new Date();\n        if (opt_expires) {\n            switch (opt_expires.constructor) {\n                case Number:\n                    date.setTime(\n                        date.getTime() +\n                            (opt_expires as number) * 60 * 60 * 1000,\n                    );\n                    opt_expires =\n                        opt_expires === Infinity\n                            ? 'Fri, 31 Dec 9999 23:59:59 GMT'\n                            : date.toUTCString();\n                    break;\n                case Date:\n                    opt_expires = (opt_expires as Date).toUTCString();\n                    break;\n                default:\n                    break;\n            }\n        } else {\n            date.setTime(date.getTime() + this.options.hours * 60 * 60 * 1000);\n            opt_expires = date.toUTCString();\n        }\n        return opt_expires as string;\n    }\n}\n", "import { Knot } from '../core';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * Application header bar that manages branding (logo image, title, URL),\n * visibility, shadow styling, and navigation button toggles for the\n * left menu and top menu.\n *\n * The header is bound to the `#header` DOM element and adjusts padding\n * on the main container and template view when shown or hidden.\n *\n * @see {@link TopMenu}\n * @see {@link LeftMenu}\n * @category Module\n *\n * @example\n * const header = new Header();\n * header.setTitle('My Application');\n * header.setImage('/assets/logo.png');\n * header.show();\n */\nexport class Header {\n    options!: Objekt;\n    headerKnot!: Knot;\n    leftMenuButton!: Knot;\n    topMenuButton!: Knot;\n    brandKnot!: Knot;\n    brandKnotImage!: Knot;\n    brandKnotTitle!: Knot;\n    mainContainerKnot!: Knot;\n    templateViewKnot!: Knot;\n\n    /**\n     * Creates a new Header instance, queries the header DOM elements,\n     * and binds the logo click event.\n     *\n     * @param {object | undefined} opt_options - Optional configuration\n     *     merged into defaults.\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options into the default configuration.\n     *\n     * @param {object | undefined} opt_options - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt();\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Queries all header-related DOM elements and binds the logo click\n     * event handler.\n     */\n    private _init(): void {\n        this.headerKnot = new Query('#header').getKnot();\n\n        this.leftMenuButton = new Query(\n            '#open-left-menu',\n            this.headerKnot,\n        ).getKnot();\n        this.topMenuButton = new Query(\n            '#toggle-top-menu',\n            this.headerKnot,\n        ).getKnot();\n\n        this.brandKnot = new Query('.brand', this.headerKnot).getKnot();\n        this.brandKnot.setAttribute('href', 'javascript:void(0)');\n        this.brandKnot.addEventListener('click', () => {\n            this.eventLogoClick();\n        });\n\n        this.brandKnotImage = new Query('.brand img', this.brandKnot).getKnot();\n        this.brandKnotTitle = new Query(\n            '.brand .app-title',\n            this.brandKnot,\n        ).getKnot();\n\n        this.mainContainerKnot = new Query('.main-container').getKnot();\n        this.templateViewKnot = new Query('.template-view').getKnot();\n    }\n\n    /**\n     * Overridable hook called when the logo/brand element is clicked.\n     * The default implementation logs a debug message; override this\n     * method to implement custom navigation behavior.\n     *\n     * @example\n     * header.eventLogoClick = () => {\n     *     router.navigate('/home');\n     * };\n     */\n    eventLogoClick(): void {\n        consoleDebug('Header.eventLogoClick()');\n    }\n\n    /**\n     * Sets the application title text displayed in the header brand area.\n     *\n     * @param {string} title - The title HTML or text to display.\n     *\n     * @example\n     * header.setTitle('Dashboard');\n     */\n    setTitle(title: string): void {\n        this.brandKnotTitle.setHtml(title);\n    }\n\n    /**\n     * Sets the URL that the brand/logo element links to.\n     *\n     * @param {string} url - The target URL for the brand link.\n     *\n     * @example\n     * header.setUrl('/home');\n     */\n    setUrl(url: string): void {\n        this.brandKnot.setAttribute('href', url);\n    }\n\n    /**\n     * Sets the logo image source displayed in the header brand area.\n     *\n     * @param {string} imagePath - The path or URL to the logo image.\n     *\n     * @example\n     * header.setImage('/assets/logo.svg');\n     */\n    setImage(imagePath: string): void {\n        this.brandKnotImage.setAttribute('src', imagePath);\n    }\n\n    /**\n     * Expands the header to its open/extended state by adding the\n     * 'open' CSS class.\n     */\n    open(): void {\n        this.headerKnot.addClass('open');\n    }\n\n    /**\n     * Collapses the header from its open/extended state by removing the\n     * 'open' CSS class.\n     */\n    close(): void {\n        this.headerKnot.removeClass('open');\n    }\n\n    /**\n     * Shows the header and applies appropriate padding to the main\n     * container and template view so content does not overlap.\n     *\n     * @example\n     * header.show();\n     */\n    show(): void {\n        this.headerKnot.removeClass('hidden');\n        this.mainContainerKnot.addClass('header-padding');\n        this.templateViewKnot.addClass('has-header');\n    }\n\n    /**\n     * Hides the header and removes padding adjustments from the main\n     * container and template view.\n     *\n     * @example\n     * header.hide();\n     */\n    hide(): void {\n        this.headerKnot.addClass('hidden');\n        this.mainContainerKnot.removeClass('header-padding');\n        this.templateViewKnot.removeClass('has-header');\n    }\n\n    /**\n     * Adds a drop shadow beneath the header.\n     */\n    showShadow(): void {\n        this.headerKnot.addClass('shadow');\n    }\n\n    /**\n     * Removes the drop shadow from the header.\n     */\n    hideShadow(): void {\n        this.headerKnot.removeClass('shadow');\n    }\n\n    /**\n     * Shows the left menu navigation button (hamburger icon) in the header.\n     */\n    showLeftMenuButton(): void {\n        this.leftMenuButton.removeClass('hidden');\n    }\n\n    /**\n     * Hides the left menu navigation button from the header.\n     */\n    hideLeftMenuButton(): void {\n        this.leftMenuButton.addClass('hidden');\n    }\n\n    /**\n     * Shows the top menu toggle button in the header.\n     */\n    showTopMenuButton(): void {\n        this.topMenuButton.removeClass('hidden');\n    }\n\n    /**\n     * Hides the top menu toggle button from the header.\n     */\n    hideTopMenuButton(): void {\n        this.topMenuButton.addClass('hidden');\n    }\n}\n", "import { isFunction, noop } from '../utils/operation';\nimport { Async } from '../core/async';\nimport { Objekt } from '../core/objekt';\n\n/**\n * Publish/subscribe event system that uses an {@link Objekt} as the\n * internal event store. Each named event can have multiple callback\n * functions registered against it. Callbacks are invoked serially via\n * {@link Async} when the event is triggered, and the result is returned\n * as a {@link Promize}.\n *\n * EventBus supports four operations on callbacks: register\n * ({@link EventBus.set}), remove by reference ({@link EventBus.remove}),\n * remove the most recently registered ({@link EventBus.pop}), and invoke\n * all registered callbacks ({@link EventBus.call}). The\n * {@link EventBus.override} method provides a fallback pattern where a\n * default callback is used when no listeners have been registered.\n *\n * @example\n * const eventBus = new EventBus();\n *\n * const onUserLogin = eventBus.set('user.login', (user) => {\n *     console.log('User logged in:', user.get('name'));\n * });\n *\n * eventBus.call('user.login', [currentUser]);\n *\n * // Later, remove the specific callback\n * eventBus.remove('user.login', onUserLogin);\n *\n * @see {@link Async}\n * @see {@link Objekt}\n * @category Module\n */\nexport class EventBus {\n    eventStore: Objekt;\n\n    /**\n     * Creates a new EventBus with an empty event store.\n     */\n    constructor() {\n        this.eventStore = new Objekt();\n    }\n\n    /**\n     * Registers a callback function for the named event. If the callback\n     * is a valid function, it is appended to the event's callback list.\n     * The callback reference is returned so it can be passed to\n     * {@link EventBus.remove} later.\n     *\n     * @param {string} name The event name (dot-notation supported via\n     *     {@link Objekt}).\n     * @param {Function} callback The function to invoke when the event\n     *     fires.\n     * @returns {Function} The registered callback (same reference as the\n     *     input), useful for later removal.\n     *\n     * @example\n     * const handler = eventBus.set('data.loaded', (items) => {\n     *     console.log('Loaded', items.length, 'items');\n     * });\n     */\n    set(name: string, callback: Function): Function {\n        if (isFunction(callback)) {\n            const events = this.eventStore.get<Function[]>(name, []);\n            events.push(callback);\n            this.eventStore.set(name, events);\n        }\n        return callback;\n    }\n\n    /**\n     * Removes a specific callback from the named event's callback list.\n     * Uses reference equality, so the exact function reference originally\n     * passed to {@link EventBus.set} must be provided.\n     *\n     * @param {string} name The event name.\n     * @param {Function} callback The callback reference to remove.\n     *\n     * @example\n     * eventBus.remove('data.loaded', handler);\n     */\n    remove(name: string, callback: Function) {\n        const events = this.eventStore.get<Function[]>(name, []);\n        const index = events.indexOf(callback);\n        if (index > -1) {\n            events.splice(index, 1);\n        }\n    }\n\n    /**\n     * Removes the most recently registered callback for the named event.\n     * This is a convenience method when the caller does not hold a\n     * reference to the callback function.\n     *\n     * @param {string} name The event name.\n     *\n     * @example\n     * eventBus.pop('data.loaded');\n     */\n    pop(name: string) {\n        const events = this.eventStore.get<string[]>(name, []);\n        events.pop();\n        this.eventStore.set(name, events);\n    }\n\n    /**\n     * Invokes all callbacks registered for the named event in serial\n     * order via {@link Async}. If no callbacks are registered, a single\n     * no-op callback is executed. Returns a {@link Promize} that resolves\n     * when all callbacks have completed.\n     *\n     * @param {string} name The event name to trigger.\n     * @param {Array<any>} [opt_args] Arguments passed to each callback.\n     * @returns {Promize} Resolves when all callbacks have been executed.\n     *\n     * @example\n     * eventBus.call('app.ready', [config]).then(() => {\n     *     console.log('All ready handlers complete');\n     * });\n     */\n    call(name: string, opt_args: Array<any> | undefined = []) {\n        const calls = this.eventStore.get<Function[]>(name, [noop()]);\n        const async = new Async();\n        return async.serial(calls, opt_args);\n    }\n\n    /**\n     * Invokes the registered callbacks for the named event, or falls back\n     * to the provided callback if no listeners have been registered. This\n     * enables a pattern where the caller supplies default behavior that\n     * can be overridden by event subscribers.\n     *\n     * @param {string} name The event name to trigger.\n     * @param {Array<any>} args Arguments passed to each callback.\n     * @param {Function} callback The fallback callback used when no\n     *     listeners are registered for the event.\n     * @returns {Promize} Resolves when all callbacks have been executed.\n     *\n     * @example\n     * eventBus.override('confirm.action', [message], (msg) => {\n     *     return window.confirm(msg);\n     * });\n     */\n    override(name: string, args: Array<any>, callback: Function) {\n        const calls = this.eventStore.get<Function[]>(name, [callback]);\n        const async = new Async();\n        return async.serial(calls, args);\n    }\n}\n", "import { isFunction } from '../utils/operation';\nimport { Objekt } from '../core/objekt';\n\n/**\n * Simple daily task scheduler that registers callbacks to run at\n * specific times of day. Callbacks are stored in an {@link Objekt}\n * keyed by time string, allowing multiple callbacks to be registered\n * for the same time slot.\n *\n * @example\n * const scheduler = new Scheduler();\n *\n * scheduler.everyDay('08:00', () => {\n *     console.log('Good morning!');\n * });\n *\n * scheduler.everyDay('17:30', () => {\n *     console.log('End of work day');\n * });\n *\n * @see {@link Objekt}\n * @category Module\n */\nexport class Scheduler {\n    schedulerStore: Objekt;\n\n    /**\n     * Creates a new Scheduler instance with an empty callback store\n     * and initializes the internal runner.\n     */\n    constructor() {\n        this.schedulerStore = new Objekt();\n\n        this._callRunner();\n    }\n\n    /**\n     * Initializes the scheduler's internal execution loop.\n     * Currently a placeholder for future implementation.\n     */\n    private _callRunner(): void {\n        /* setTimeout(() => {\n      eachObject(this.schedulerStore, (schedulerCallbacks, timeKey) => {\n\n      });\n    }, 1000);*/\n    }\n\n    /**\n     * Registers a callback to be executed every day at the specified time.\n     * Multiple callbacks can be registered for the same time slot; they\n     * are accumulated in an array within the scheduler store.\n     *\n     * @param time The time of day to execute the callback, as a string\n     *     (e.g., `'08:00'`, `'17:30'`).\n     * @param callback The function to invoke at the specified time.\n     * @returns The registered callback function.\n     *\n     * @example\n     * const scheduler = new Scheduler();\n     *\n     * const cb = scheduler.everyDay('09:00', () => {\n     *     console.log('Daily report');\n     * });\n     */\n    everyDay(time: string, callback: Function): Function {\n        const name = time;\n        if (isFunction(callback)) {\n            const schedulers = this.schedulerStore.get<Function[]>(name, []);\n            schedulers.push(callback);\n            this.schedulerStore.set(name, schedulers);\n        }\n        return callback;\n    }\n}\n", "import { debounce, neq, gte } from '../utils/operation';\nimport { Objekt } from '../core/objekt';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * Window event manager that listens for and dispatches browser-level\n * events including resize, scroll, online/offline connectivity, and\n * color scheme changes. All resize and scroll events are debounced\n * with a configurable delay to prevent excessive handler invocations.\n *\n * Screen detects orientation changes by comparing window width and\n * height after each resize, and fires a separate\n * {@link eventOrientationChange} when the orientation shifts between\n * `'landscape'` and `'portrait'`.\n *\n * Event handler methods ({@link eventResize}, {@link eventScroll},\n * {@link eventOnline}, {@link eventOffline},\n * {@link eventColorSchemeChange}) are designed to be overridden by\n * subclasses or instances to implement custom behavior.\n *\n * @example\n * const screen = new Screen({ delay: 300 });\n *\n * screen.eventResize = (width, height, event) => {\n *     console.log(`Resized to ${width}x${height}`);\n * };\n *\n * screen.eventScroll = (scrollTop, event) => {\n *     console.log('Scrolled to:', scrollTop);\n * };\n *\n * screen.getWidth();       // current window width\n * screen.getOrientation(); // 'landscape' or 'portrait'\n *\n * @see {@link Objekt}\n * @category Module\n */\nexport class Screen {\n    options!: Objekt;\n    window!: Window;\n    document!: Document;\n    orientation!: string;\n\n    /**\n     * Creates a new Screen instance, initializes window and document\n     * references, and sets up event listeners for resize, scroll,\n     * connectivity, and color scheme changes.\n     *\n     * @param opt_options Configuration options. Supports `delay` (number)\n     *     for the debounce interval in milliseconds. Defaults to 250.\n     */\n    constructor(opt_options: object | undefined = {}) {\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges the provided options with defaults.\n     *\n     * @param opt_options User-provided options to merge with defaults.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            delay: 250,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes window and document references, computes the initial\n     * orientation, and registers all event listeners.\n     */\n    private _init(): void {\n        this.window = window;\n        this.document = document;\n\n        this.orientation = this.getOrientation();\n\n        this._initResizeEvent();\n        this._initScrollEvent();\n        this._initConnectionEvent();\n        this._initColorSchemeEvent();\n    }\n\n    /**\n     * Registers a debounced resize event listener on the window.\n     */\n    private _initResizeEvent(): void {\n        this.window.addEventListener(\n            'resize',\n            debounce((event) => {\n                this._resize(event);\n            }, this.options.delay),\n            false,\n        );\n    }\n\n    /**\n     * Registers a debounced scroll event listener on the window.\n     */\n    private _initScrollEvent(): void {\n        this.window.addEventListener(\n            'scroll',\n            debounce((event) => {\n                this._scroll(event);\n            }, this.options.delay),\n            false,\n        );\n    }\n\n    /**\n     * Registers online and offline event listeners on the window.\n     */\n    private _initConnectionEvent(): void {\n        this.window.addEventListener(\n            'online',\n            (event) => {\n                this.eventOnline(event);\n            },\n            false,\n        );\n\n        this.window.addEventListener(\n            'offline',\n            (event) => {\n                this.eventOffline(event);\n            },\n            false,\n        );\n    }\n\n    /**\n     * Called when the browser goes offline. Override this method to\n     * implement custom offline behavior such as showing a notification\n     * or disabling network-dependent features.\n     *\n     * @param event The native offline event.\n     */\n    eventOffline(event: Event): void {\n        consoleDebug('Window.eventOffline()', event);\n    }\n\n    /**\n     * Called when the browser comes back online. Override this method\n     * to implement custom online behavior such as re-syncing data or\n     * hiding offline notifications.\n     *\n     * @param event The native online event.\n     */\n    eventOnline(event: Event): void {\n        consoleDebug('Window.eventOffline()', event);\n    }\n\n    /**\n     * Called when the window is resized. Override this method to\n     * implement custom resize behavior such as adjusting layouts or\n     * recalculating dimensions.\n     *\n     * @param width The new window inner width in pixels.\n     * @param height The new window inner height in pixels.\n     * @param event The native resize event.\n     */\n    eventResize(width: number, height: number, event: Event): void {\n        consoleDebug('Window.eventResize()', width, height, event);\n    }\n\n    /**\n     * Called when the device orientation changes between landscape and\n     * portrait. Override this method to implement custom\n     * orientation-change behavior.\n     *\n     * @param orientation The new orientation: `'landscape'` or `'portrait'`.\n     * @param width The new window inner width in pixels.\n     * @param height The new window inner height in pixels.\n     * @param event The native resize event that triggered the orientation change.\n     */\n    eventOrientationChange(\n        orientation: string,\n        width: number,\n        height: number,\n        event: Event,\n    ): void {\n        consoleDebug(\n            'Window.eventOrientationChange()',\n            orientation,\n            width,\n            height,\n            event,\n        );\n    }\n\n    /**\n     * Called when the window is scrolled. Override this method to\n     * implement custom scroll behavior such as infinite scrolling\n     * or sticky headers.\n     *\n     * @param scrollTop The current vertical scroll position in pixels.\n     * @param event The native scroll event.\n     */\n    eventScroll(scrollTop: number, event: Event): void {\n        consoleDebug('Window.eventScroll()', scrollTop, event);\n    }\n\n    /**\n     * Handles the debounced resize event by dispatching to\n     * {@link eventResize} and checking for orientation changes.\n     *\n     * @param event The native resize event.\n     */\n    private _resize(event: Event): void {\n        this.eventResize(this.getWidth(), this.getHeight(), event);\n\n        const orientation = this.getOrientation();\n        if (neq(this.orientation, orientation)) {\n            this.orientation = orientation;\n            this.eventOrientationChange(\n                this.orientation,\n                this.getWidth(),\n                this.getHeight(),\n                event,\n            );\n        }\n    }\n\n    /**\n     * Handles the debounced scroll event by dispatching to\n     * {@link eventScroll}.\n     *\n     * @param event The native scroll event.\n     */\n    private _scroll(event: Event): void {\n        this.eventScroll(this.getScrollTop(), event);\n    }\n\n    /**\n     * Returns the current vertical scroll position of the document.\n     *\n     * @returns The scroll offset from the top in pixels.\n     *\n     * @example\n     * const scrollY = screen.getScrollTop();\n     */\n    getScrollTop(): number {\n        return (\n            this.document.documentElement.scrollTop ||\n            this.document.body.scrollTop\n        );\n    }\n\n    /**\n     * Returns the current inner width of the browser window.\n     *\n     * @returns The window width in pixels.\n     *\n     * @example\n     * const width = screen.getWidth();\n     */\n    getWidth(): number {\n        return this.window.innerWidth;\n    }\n\n    /**\n     * Returns the current inner height of the browser window.\n     *\n     * @returns The window height in pixels.\n     *\n     * @example\n     * const height = screen.getHeight();\n     */\n    getHeight(): number {\n        return this.window.innerHeight;\n    }\n\n    /**\n     * Determines the current screen orientation based on the aspect\n     * ratio of the window dimensions.\n     *\n     * @returns `'landscape'` if the width is greater than or equal to\n     *     the height, `'portrait'` otherwise.\n     *\n     * @example\n     * const orientation = screen.getOrientation(); // 'landscape'\n     */\n    getOrientation(): string {\n        return gte(this.getWidth(), this.getHeight())\n            ? 'landscape'\n            : 'portrait';\n    }\n\n    /**\n     * Registers a listener for the `prefers-color-scheme` media query\n     * change event to detect system-level light/dark mode switches.\n     */\n    private _initColorSchemeEvent(): void {\n        if (window.matchMedia) {\n            window\n                .matchMedia('(prefers-color-scheme: dark)')\n                .addEventListener('change', (event) => {\n                    if (event.matches) {\n                        this.eventColorSchemeChange('dark', event);\n                    } else {\n                        this.eventColorSchemeChange('light', event);\n                    }\n                });\n        }\n    }\n\n    /**\n     * Called when the system color scheme preference changes between\n     * light and dark mode. Override this method to implement custom\n     * theme-switching behavior.\n     *\n     * @param colorScheme The new color scheme: `'dark'` or `'light'`.\n     * @param event The native media query change event.\n     */\n    eventColorSchemeChange(colorScheme: string, event: Event): void {\n        consoleDebug('Window.eventColorSchemeChange()', colorScheme, event);\n    }\n\n    /**\n     * Checks whether the system currently uses the specified color\n     * scheme preference.\n     *\n     * @param type The color scheme to check, either `'dark'` or `'light'`.\n     * @returns `true` if the system preference matches the given type,\n     *     `false` otherwise.\n     *\n     * @example\n     * if (screen.isColorScheme('dark')) {\n     *     applyDarkTheme();\n     * }\n     */\n    isColorScheme(type: string): boolean {\n        return (\n            window.matchMedia?.(`(prefers-color-scheme: ${type})`)?.matches ??\n            false\n        );\n    }\n}\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n", "import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n", "import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMilliseconds} function options.\n */\n\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of milliseconds to be added.\n * @param options - The options object\n *\n * @returns The new date with the milliseconds added\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport function addMilliseconds(date, amount, options) {\n  return constructFrom(options?.in || date, +toDate(date) + amount);\n}\n\n// Fallback for modularized imports:\nexport default addMilliseconds;\n", "import { addMilliseconds } from \"./addMilliseconds.js\";\nimport { millisecondsInHour } from \"./constants.js\";\n\n/**\n * The {@link addHours} function options.\n */\n\n/**\n * @name addHours\n * @category Hour Helpers\n * @summary Add the specified number of hours to the given date.\n *\n * @description\n * Add the specified number of hours to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of hours to be added\n * @param options - An object with options\n *\n * @returns The new date with the hours added\n *\n * @example\n * // Add 2 hours to 10 July 2014 23:00:00:\n * const result = addHours(new Date(2014, 6, 10, 23, 0), 2)\n * //=> Fri Jul 11 2014 01:00:00\n */\nexport function addHours(date, amount, options) {\n  return addMilliseconds(date, amount * millisecondsInHour, options);\n}\n\n// Fallback for modularized imports:\nexport default addHours;\n", "let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n", "import { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfISOWeek} function options.\n */\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeekYear} function options.\n */\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n", "import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n", "import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n", "import { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInDay } from \"./constants.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link differenceInCalendarDays} function options.\n */\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - The options object\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n\n  const laterTimestamp =\n    +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp =\n    +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\n\n/**\n * The {@link startOfISOWeekYear} function options.\n */\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n", "import { millisecondsInMinute } from \"./constants.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMinutes} function options.\n */\n\n/**\n * @name addMinutes\n * @category Minute Helpers\n * @summary Add the specified number of minutes to the given date.\n *\n * @description\n * Add the specified number of minutes to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of minutes to be added.\n * @param options - An object with options\n *\n * @returns The new date with the minutes added\n *\n * @example\n * // Add 30 minutes to 10 July 2014 12:00:00:\n * const result = addMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 12:30:00\n */\nexport function addMinutes(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  _date.setTime(_date.getTime() + amount * millisecondsInMinute);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addMinutes;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The {@link addYears} function options.\n */\n\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be added.\n * @param options - The options\n *\n * @returns The new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport function addYears(date, amount, options) {\n  return addMonths(date, amount * 12, options);\n}\n\n// Fallback for modularized imports:\nexport default addYears;\n", "/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n", "import { isDate } from \"./isDate.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertible into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  return !((!isDate(date) && typeof date !== \"number\") || isNaN(+toDate(date)));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfYear} function options.\n */\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n", "const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n", "export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n", "/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n", "export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n", "export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\nimport { startOfYear } from \"./startOfYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDayOfYear} function options.\n */\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeek} function options.\n */\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getWeekYear } from \"./getWeekYear.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(options?.in || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n", "import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\nexport function getWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n", "export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n", "import { addLeadingZeros } from \"../addLeadingZeros.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n", "import { getDayOfYear } from \"../../getDayOfYear.js\";\nimport { getISOWeek } from \"../../getISOWeek.js\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.js\";\nimport { getWeek } from \"../../getWeek.js\";\nimport { getWeekYear } from \"../../getWeekYear.js\";\n\nimport { addLeadingZeros } from \"../addLeadingZeros.js\";\nimport { lightFormatters } from \"./lightFormatters.js\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n", "const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n", "const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n", "import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { formatters } from \"./_lib/format/formatters.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { isValid } from \"./isValid.js\";\nimport { toDate } from \"./toDate.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date, options?.in);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n", "import { addLeadingZeros } from \"./_lib/addLeadingZeros.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link formatISO} function options.\n */\n\n/**\n * @name formatISO\n * @category Common Helpers\n * @summary Format the date according to the ISO 8601 standard (https://support.sas.com/documentation/cdl/en/lrdict/64316/HTML/default/viewer.htm#a003169814.htm).\n *\n * @description\n * Return the formatted date string in ISO 8601 format. Options may be passed to control the parts and notations of the date.\n *\n * @param date - The original date\n * @param options - An object with options.\n *\n * @returns The formatted date string (in local time zone)\n *\n * @throws `date` must not be Invalid Date\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format (local time zone is UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52))\n * //=> '2019-09-18T19:00:52Z'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601, short format (local time zone is UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { format: 'basic' })\n * //=> '20190918T190052'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format, date only:\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { representation: 'date' })\n * //=> '2019-09-18'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format, time only (local time zone is UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { representation: 'time' })\n * //=> '19:00:52Z'\n */\nexport function formatISO(date, options) {\n  const date_ = toDate(date, options?.in);\n\n  if (isNaN(+date_)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  const format = options?.format ?? \"extended\";\n  const representation = options?.representation ?? \"complete\";\n\n  let result = \"\";\n  let tzOffset = \"\";\n\n  const dateDelimiter = format === \"extended\" ? \"-\" : \"\";\n  const timeDelimiter = format === \"extended\" ? \":\" : \"\";\n\n  // Representation is either 'date' or 'complete'\n  if (representation !== \"time\") {\n    const day = addLeadingZeros(date_.getDate(), 2);\n    const month = addLeadingZeros(date_.getMonth() + 1, 2);\n    const year = addLeadingZeros(date_.getFullYear(), 4);\n\n    // yyyyMMdd or yyyy-MM-dd.\n    result = `${year}${dateDelimiter}${month}${dateDelimiter}${day}`;\n  }\n\n  // Representation is either 'time' or 'complete'\n  if (representation !== \"date\") {\n    // Add the timezone.\n    const offset = date_.getTimezoneOffset();\n\n    if (offset !== 0) {\n      const absoluteOffset = Math.abs(offset);\n      const hourOffset = addLeadingZeros(Math.trunc(absoluteOffset / 60), 2);\n      const minuteOffset = addLeadingZeros(absoluteOffset % 60, 2);\n      // If less than 0, the sign is +, because it is ahead of time.\n      const sign = offset < 0 ? \"+\" : \"-\";\n\n      tzOffset = `${sign}${hourOffset}:${minuteOffset}`;\n    } else {\n      tzOffset = \"Z\";\n    }\n\n    const hour = addLeadingZeros(date_.getHours(), 2);\n    const minute = addLeadingZeros(date_.getMinutes(), 2);\n    const second = addLeadingZeros(date_.getSeconds(), 2);\n\n    // If there's also date, separate it with time with 'T'\n    const separator = result === \"\" ? \"\" : \"T\";\n\n    // Creates a time string consisting of hour, minute, and second, separated by delimiters, if defined.\n    const time = [hour, minute, second].join(timeDelimiter);\n\n    // HHmmss or HH:mm:ss.\n    result = `${result}${separator}${time}${tzOffset}`;\n  }\n\n  return result;\n}\n\n// Fallback for modularized imports:\nexport default formatISO;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDate} function options.\n */\n\n/**\n * @name getDate\n * @category Day Helpers\n * @summary Get the day of the month of the given date.\n *\n * @description\n * Get the day of the month of the given date.\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The day of month\n *\n * @example\n * // Which day of the month is 29 February 2012?\n * const result = getDate(new Date(2012, 1, 29))\n * //=> 29\n */\nexport function getDate(date, options) {\n  return toDate(date, options?.in).getDate();\n}\n\n// Fallback for modularized imports:\nexport default getDate;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDay} function options.\n */\n\n/**\n * @name getDay\n * @category Weekday Helpers\n * @summary Get the day of the week of the given date.\n *\n * @description\n * Get the day of the week of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of week, 0 represents Sunday\n *\n * @example\n * // Which day of the week is 29 February 2012?\n * const result = getDay(new Date(2012, 1, 29))\n * //=> 3\n */\nexport function getDay(date, options) {\n  return toDate(date, options?.in).getDay();\n}\n\n// Fallback for modularized imports:\nexport default getDay;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDaysInMonth} function options.\n */\n\n/**\n * @name getDaysInMonth\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date, considering the context if provided.\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * const result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nexport function getDaysInMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n  const monthIndex = _date.getMonth();\n  const lastDayOfMonth = constructFrom(_date, 0);\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0);\n  lastDayOfMonth.setHours(0, 0, 0, 0);\n  return lastDayOfMonth.getDate();\n}\n\n// Fallback for modularized imports:\nexport default getDaysInMonth;\n", "import { getDefaultOptions as getInternalDefaultOptions } from \"./_lib/defaultOptions.js\";\n\n/**\n * @name getDefaultOptions\n * @category Common Helpers\n * @summary Get default options.\n * @pure false\n *\n * @description\n * Returns an object that contains defaults for\n * `options.locale`, `options.weekStartsOn` and `options.firstWeekContainsDate`\n * arguments for all functions.\n *\n * You can change these with [setDefaultOptions](https://date-fns.org/docs/setDefaultOptions).\n *\n * @returns The default options\n *\n * @example\n * const result = getDefaultOptions()\n * //=> {}\n *\n * @example\n * setDefaultOptions({ weekStarsOn: 1, firstWeekContainsDate: 4 })\n * const result = getDefaultOptions()\n * //=> { weekStarsOn: 1, firstWeekContainsDate: 4 }\n */\nexport function getDefaultOptions() {\n  return Object.assign({}, getInternalDefaultOptions());\n}\n\n// Fallback for modularized imports:\nexport default getDefaultOptions;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getHours} function options.\n */\n\n/**\n * @name getHours\n * @category Hour Helpers\n * @summary Get the hours of the given date.\n *\n * @description\n * Get the hours of the given date.\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The hours\n *\n * @example\n * // Get the hours of 29 February 2012 11:45:00:\n * const result = getHours(new Date(2012, 1, 29, 11, 45))\n * //=> 11\n */\nexport function getHours(date, options) {\n  return toDate(date, options?.in).getHours();\n}\n\n// Fallback for modularized imports:\nexport default getHours;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISODay} function options.\n */\n\n/**\n * @name getISODay\n * @category Weekday Helpers\n * @summary Get the day of the ISO week of the given date.\n *\n * @description\n * Get the day of the ISO week of the given date,\n * which is 7 for Sunday, 1 for Monday etc.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The day of ISO week\n *\n * @example\n * // Which day of the ISO week is 26 February 2012?\n * const result = getISODay(new Date(2012, 1, 26))\n * //=> 7\n */\nexport function getISODay(date, options) {\n  const day = toDate(date, options?.in).getDay();\n  return day === 0 ? 7 : day;\n}\n\n// Fallback for modularized imports:\nexport default getISODay;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getMinutes} function options.\n */\n\n/**\n * @name getMinutes\n * @category Minute Helpers\n * @summary Get the minutes of the given date.\n *\n * @description\n * Get the minutes of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The minutes\n *\n * @example\n * // Get the minutes of 29 February 2012 11:45:05:\n * const result = getMinutes(new Date(2012, 1, 29, 11, 45, 5))\n * //=> 45\n */\nexport function getMinutes(date, options) {\n  return toDate(date, options?.in).getMinutes();\n}\n\n// Fallback for modularized imports:\nexport default getMinutes;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getMonth} function options.\n */\n\n/**\n * @name getMonth\n * @category Month Helpers\n * @summary Get the month of the given date.\n *\n * @description\n * Get the month of the given date.\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The month index (0-11)\n *\n * @example\n * // Which month is 29 February 2012?\n * const result = getMonth(new Date(2012, 1, 29))\n * //=> 1\n */\nexport function getMonth(date, options) {\n  return toDate(date, options?.in).getMonth();\n}\n\n// Fallback for modularized imports:\nexport default getMonth;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getYear} function options.\n */\n\n/**\n * @name getYear\n * @category Year Helpers\n * @summary Get the year of the given date.\n *\n * @description\n * Get the year of the given date.\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The year\n *\n * @example\n * // Which year is 2 July 2014?\n * const result = getYear(new Date(2014, 6, 2))\n * //=> 2014\n */\nexport function getYear(date, options) {\n  return toDate(date, options?.in).getFullYear();\n}\n\n// Fallback for modularized imports:\nexport default getYear;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * @name isAfter\n * @category Common Helpers\n * @summary Is the first date after the second one?\n *\n * @description\n * Is the first date after the second one?\n *\n * @param date - The date that should be after the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is after the second date\n *\n * @example\n * // Is 10 July 1989 after 11 February 1987?\n * const result = isAfter(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> true\n */\nexport function isAfter(date, dateToCompare) {\n  return +toDate(date) > +toDate(dateToCompare);\n}\n\n// Fallback for modularized imports:\nexport default isAfter;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * @name isBefore\n * @category Common Helpers\n * @summary Is the first date before the second one?\n *\n * @description\n * Is the first date before the second one?\n *\n * @param date - The date that should be before the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is before the second date\n *\n * @example\n * // Is 10 July 1989 before 11 February 1987?\n * const result = isBefore(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> false\n */\nexport function isBefore(date, dateToCompare) {\n  return +toDate(date) < +toDate(dateToCompare);\n}\n\n// Fallback for modularized imports:\nexport default isBefore;\n", "import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name transpose\n * @category Generic Helpers\n * @summary Transpose the date to the given constructor.\n *\n * @description\n * The function transposes the date to the given constructor. It helps you\n * to transpose the date in the system time zone to say `UTCDate` or any other\n * date extension.\n *\n * @typeParam InputDate - The input `Date` type derived from the passed argument.\n * @typeParam ResultDate - The result `Date` type derived from the passed constructor.\n *\n * @param date - The date to use values from\n * @param constructor - The date constructor to use\n *\n * @returns Date transposed to the given constructor\n *\n * @example\n * // Create July 10, 2022 00:00 in locale time zone\n * const date = new Date(2022, 6, 10)\n * //=> 'Sun Jul 10 2022 00:00:00 GMT+0800 (Singapore Standard Time)'\n *\n * @example\n * // Transpose the date to July 10, 2022 00:00 in UTC\n * transpose(date, UTCDate)\n * //=> 'Sun Jul 10 2022 00:00:00 GMT+0000 (Coordinated Universal Time)'\n */\nexport function transpose(date, constructor) {\n  const date_ = isConstructor(constructor)\n    ? new constructor(0)\n    : constructFrom(constructor, 0);\n  date_.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n  date_.setHours(\n    date.getHours(),\n    date.getMinutes(),\n    date.getSeconds(),\n    date.getMilliseconds(),\n  );\n  return date_;\n}\n\nfunction isConstructor(constructor) {\n  return (\n    typeof constructor === \"function\" &&\n    constructor.prototype?.constructor === constructor\n  );\n}\n\n// Fallback for modularized imports:\nexport default transpose;\n", "import { constructFrom } from \"../../constructFrom.js\";\nimport { transpose } from \"../../transpose.js\";\n\nconst TIMEZONE_UNIT_PRIORITY = 10;\n\nexport class Setter {\n  subPriority = 0;\n\n  validate(_utcDate, _options) {\n    return true;\n  }\n}\n\nexport class ValueSetter extends Setter {\n  constructor(\n    value,\n\n    validateValue,\n\n    setValue,\n\n    priority,\n    subPriority,\n  ) {\n    super();\n    this.value = value;\n    this.validateValue = validateValue;\n    this.setValue = setValue;\n    this.priority = priority;\n    if (subPriority) {\n      this.subPriority = subPriority;\n    }\n  }\n\n  validate(date, options) {\n    return this.validateValue(date, this.value, options);\n  }\n\n  set(date, flags, options) {\n    return this.setValue(date, flags, this.value, options);\n  }\n}\n\nexport class DateTimezoneSetter extends Setter {\n  priority = TIMEZONE_UNIT_PRIORITY;\n  subPriority = -1;\n\n  constructor(context, reference) {\n    super();\n    this.context = context || ((date) => constructFrom(reference, date));\n  }\n\n  set(date, flags) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(date, transpose(date, this.context));\n  }\n}\n", "import { ValueSetter } from \"./Setter.js\";\n\nexport class Parser {\n  run(dateString, token, match, options) {\n    const result = this.parse(dateString, token, match, options);\n    if (!result) {\n      return null;\n    }\n\n    return {\n      setter: new ValueSetter(\n        result.value,\n        this.validate,\n        this.set,\n        this.priority,\n        this.subPriority,\n      ),\n      rest: result.rest,\n    };\n  }\n\n  validate(_utcDate, _value, _options) {\n    return true;\n  }\n}\n", "import { Parser } from \"../Parser.js\";\n\nexport class EraParser extends Parser {\n  priority = 140;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return (\n          match.era(dateString, { width: \"abbreviated\" }) ||\n          match.era(dateString, { width: \"narrow\" })\n        );\n\n      // A, B\n      case \"GGGGG\":\n        return match.era(dateString, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return (\n          match.era(dateString, { width: \"wide\" }) ||\n          match.era(dateString, { width: \"abbreviated\" }) ||\n          match.era(dateString, { width: \"narrow\" })\n        );\n    }\n  }\n\n  set(date, flags, value) {\n    flags.era = value;\n    date.setFullYear(value, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"R\", \"u\", \"t\", \"T\"];\n}\n", "export const numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/, // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/, // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/, // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/, // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/, // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/, // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/, // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/, // 0 to 12\n  minute: /^[0-5]?\\d/, // 0 to 59\n  second: /^[0-5]?\\d/, // 0 to 59\n\n  singleDigit: /^\\d/, // 0 to 9\n  twoDigits: /^\\d{1,2}/, // 0 to 99\n  threeDigits: /^\\d{1,3}/, // 0 to 999\n  fourDigits: /^\\d{1,4}/, // 0 to 9999\n\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/, // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/, // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/, // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/, // 0 to 9999, -0 to -9999\n};\n\nexport const timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/,\n};\n", "import {\n  millisecondsInHour,\n  millisecondsInMinute,\n  millisecondsInSecond,\n} from \"../../constants.js\";\n\nimport { numericPatterns } from \"./constants.js\";\n\nexport function mapValue(parseFnResult, mapFn) {\n  if (!parseFnResult) {\n    return parseFnResult;\n  }\n\n  return {\n    value: mapFn(parseFnResult.value),\n    rest: parseFnResult.rest,\n  };\n}\n\nexport function parseNumericPattern(pattern, dateString) {\n  const matchResult = dateString.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  return {\n    value: parseInt(matchResult[0], 10),\n    rest: dateString.slice(matchResult[0].length),\n  };\n}\n\nexport function parseTimezonePattern(pattern, dateString) {\n  const matchResult = dateString.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  // Input is 'Z'\n  if (matchResult[0] === \"Z\") {\n    return {\n      value: 0,\n      rest: dateString.slice(1),\n    };\n  }\n\n  const sign = matchResult[1] === \"+\" ? 1 : -1;\n  const hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  const minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  const seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n\n  return {\n    value:\n      sign *\n      (hours * millisecondsInHour +\n        minutes * millisecondsInMinute +\n        seconds * millisecondsInSecond),\n    rest: dateString.slice(matchResult[0].length),\n  };\n}\n\nexport function parseAnyDigitsSigned(dateString) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\n}\n\nexport function parseNDigits(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\n    default:\n      return parseNumericPattern(new RegExp(\"^\\\\d{1,\" + n + \"}\"), dateString);\n  }\n}\n\nexport function parseNDigitsSigned(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\n    default:\n      return parseNumericPattern(new RegExp(\"^-?\\\\d{1,\" + n + \"}\"), dateString);\n  }\n}\n\nexport function dayPeriodEnumToHours(dayPeriod) {\n  switch (dayPeriod) {\n    case \"morning\":\n      return 4;\n    case \"evening\":\n      return 17;\n    case \"pm\":\n    case \"noon\":\n    case \"afternoon\":\n      return 12;\n    case \"am\":\n    case \"midnight\":\n    case \"night\":\n    default:\n      return 0;\n  }\n}\n\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  const isCommonEra = currentYear > 0;\n  // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n  const absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n\n  let result;\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    const rangeEnd = absCurrentYear + 50;\n    const rangeEndCentury = Math.trunc(rangeEnd / 100) * 100;\n    const isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n\n  return isCommonEra ? result : 1 - result;\n}\n\nexport function isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\n\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n// |----------|-------|----|-------|-------|-------|\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\nexport class YearParser extends Parser {\n  priority = 130;\n  incompatibleTokens = [\"Y\", \"R\", \"u\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n\n  parse(dateString, token, match) {\n    const valueCallback = (year) => ({\n      year,\n      isTwoDigitYear: token === \"yy\",\n    });\n\n    switch (token) {\n      case \"y\":\n        return mapValue(parseNDigits(4, dateString), valueCallback);\n      case \"yo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"year\",\n          }),\n          valueCallback,\n        );\n      default:\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }\n\n  validate(_date, value) {\n    return value.isTwoDigitYear || value.year > 0;\n  }\n\n  set(date, flags, value) {\n    const currentYear = date.getFullYear();\n\n    if (value.isTwoDigitYear) {\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\n        value.year,\n        currentYear,\n      );\n      date.setFullYear(normalizedTwoDigitYear, 0, 1);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    }\n\n    const year =\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\n    date.setFullYear(year, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n}\n", "import { getWeekYear } from \"../../../getWeekYear.js\";\n\nimport { startOfWeek } from \"../../../startOfWeek.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\n\n// Local week-numbering year\nexport class LocalWeekYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token, match) {\n    const valueCallback = (year) => ({\n      year,\n      isTwoDigitYear: token === \"YY\",\n    });\n\n    switch (token) {\n      case \"Y\":\n        return mapValue(parseNDigits(4, dateString), valueCallback);\n      case \"Yo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"year\",\n          }),\n          valueCallback,\n        );\n      default:\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }\n\n  validate(_date, value) {\n    return value.isTwoDigitYear || value.year > 0;\n  }\n\n  set(date, flags, value, options) {\n    const currentYear = getWeekYear(date, options);\n\n    if (value.isTwoDigitYear) {\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\n        value.year,\n        currentYear,\n      );\n      date.setFullYear(\n        normalizedTwoDigitYear,\n        0,\n        options.firstWeekContainsDate,\n      );\n      date.setHours(0, 0, 0, 0);\n      return startOfWeek(date, options);\n    }\n\n    const year =\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\n    date.setFullYear(year, 0, options.firstWeekContainsDate);\n    date.setHours(0, 0, 0, 0);\n    return startOfWeek(date, options);\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"Q\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { startOfISOWeek } from \"../../../startOfISOWeek.js\";\nimport { constructFrom } from \"../../../constructFrom.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigitsSigned } from \"../utils.js\";\n\n// ISO week-numbering year\nexport class ISOWeekYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token) {\n    if (token === \"R\") {\n      return parseNDigitsSigned(4, dateString);\n    }\n\n    return parseNDigitsSigned(token.length, dateString);\n  }\n\n  set(date, _flags, value) {\n    const firstWeekOfYear = constructFrom(date, 0);\n    firstWeekOfYear.setFullYear(value, 0, 4);\n    firstWeekOfYear.setHours(0, 0, 0, 0);\n    return startOfISOWeek(firstWeekOfYear);\n  }\n\n  incompatibleTokens = [\n    \"G\",\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"Q\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { parseNDigitsSigned } from \"../utils.js\";\n\nexport class ExtendedYearParser extends Parser {\n  priority = 130;\n\n  parse(dateString, token) {\n    if (token === \"u\") {\n      return parseNDigitsSigned(4, dateString);\n    }\n\n    return parseNDigitsSigned(token.length, dateString);\n  }\n\n  set(date, _flags, value) {\n    date.setFullYear(value, 0, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"G\", \"y\", \"Y\", \"R\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { parseNDigits } from \"../utils.js\";\n\nexport class QuarterParser extends Parser {\n  priority = 120;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n      case \"QQ\": // 01, 02, 03, 04\n        return parseNDigits(token.length, dateString);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return (\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return match.quarter(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return (\n          match.quarter(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 4;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth((value - 1) * 3, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { parseNDigits } from \"../utils.js\";\n\nexport class StandAloneQuarterParser extends Parser {\n  priority = 120;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n      case \"qq\": // 01, 02, 03, 04\n        return parseNDigits(token.length, dateString);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return (\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"standalone\",\n          })\n        );\n\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return match.quarter(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return (\n          match.quarter(dateString, {\n            width: \"wide\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.quarter(dateString, {\n            width: \"narrow\",\n            context: \"standalone\",\n          })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 4;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth((value - 1) * 3, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class MonthParser extends Parser {\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n\n  priority = 110;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => value - 1;\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"M\":\n        return mapValue(\n          parseNumericPattern(numericPatterns.month, dateString),\n          valueCallback,\n        );\n      // 01, 02, ..., 12\n      case \"MM\":\n        return mapValue(parseNDigits(2, dateString), valueCallback);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"month\",\n          }),\n          valueCallback,\n        );\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return (\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // J, F, ..., D\n      case \"MMMMM\":\n        return match.month(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return (\n          match.month(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(value, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class StandAloneMonthParser extends Parser {\n  priority = 110;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => value - 1;\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return mapValue(\n          parseNumericPattern(numericPatterns.month, dateString),\n          valueCallback,\n        );\n      // 01, 02, ..., 12\n      case \"LL\":\n        return mapValue(parseNDigits(2, dateString), valueCallback);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"month\",\n          }),\n          valueCallback,\n        );\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return (\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // J, F, ..., D\n      case \"LLLLL\":\n        return match.month(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return (\n          match.month(dateString, { width: \"wide\", context: \"standalone\" }) ||\n          match.month(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(value, 1);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { getWeek } from \"./getWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setWeek} function options.\n */\n\n/**\n * @name setWeek\n * @category Week Helpers\n * @summary Set the local week to the given date.\n *\n * @description\n * Set the local week to the given date, saving the weekday number.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param week - The week of the new date\n * @param options - An object with options\n *\n * @returns The new date with the local week set\n *\n * @example\n * // Set the 1st week to 2 January 2005 with default options:\n * const result = setWeek(new Date(2005, 0, 2), 1)\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // Set the 1st week to 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January:\n * const result = setWeek(new Date(2005, 0, 2), 1, {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Sun Jan 4 2004 00:00:00\n */\nexport function setWeek(date, week, options) {\n  const date_ = toDate(date, options?.in);\n  const diff = getWeek(date_, options) - week;\n  date_.setDate(date_.getDate() - diff * 7);\n  return toDate(date_, options?.in);\n}\n\n// Fallback for modularized imports:\nexport default setWeek;\n", "import { setWeek } from \"../../../setWeek.js\";\nimport { startOfWeek } from \"../../../startOfWeek.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\n// Local week of year\nexport class LocalWeekParser extends Parser {\n  priority = 100;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"w\":\n        return parseNumericPattern(numericPatterns.week, dateString);\n      case \"wo\":\n        return match.ordinalNumber(dateString, { unit: \"week\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 53;\n  }\n\n  set(date, _flags, value, options) {\n    return startOfWeek(setWeek(date, value, options), options);\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"i\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { getISOWeek } from \"./getISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setISOWeek} function options.\n */\n\n/**\n * @name setISOWeek\n * @category ISO Week Helpers\n * @summary Set the ISO week to the given date.\n *\n * @description\n * Set the ISO week to the given date, saving the weekday number.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The `Date` type of the context function.\n *\n * @param date - The date to be changed\n * @param week - The ISO week of the new date\n * @param options - An object with options\n *\n * @returns The new date with the ISO week set\n *\n * @example\n * // Set the 53rd ISO week to 7 August 2004:\n * const result = setISOWeek(new Date(2004, 7, 7), 53)\n * //=> Sat Jan 01 2005 00:00:00\n */\nexport function setISOWeek(date, week, options) {\n  const _date = toDate(date, options?.in);\n  const diff = getISOWeek(_date, options) - week;\n  _date.setDate(_date.getDate() - diff * 7);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setISOWeek;\n", "import { setISOWeek } from \"../../../setISOWeek.js\";\nimport { startOfISOWeek } from \"../../../startOfISOWeek.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\n// ISO week of year\nexport class ISOWeekParser extends Parser {\n  priority = 100;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"I\":\n        return parseNumericPattern(numericPatterns.week, dateString);\n      case \"Io\":\n        return match.ordinalNumber(dateString, { unit: \"week\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 53;\n  }\n\n  set(date, _flags, value) {\n    return startOfISOWeek(setISOWeek(date, value));\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport {\n  isLeapYearIndex,\n  parseNDigits,\n  parseNumericPattern,\n} from \"../utils.js\";\n\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst DAYS_IN_MONTH_LEAP_YEAR = [\n  31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31,\n];\n\n// Day of the month\nexport class DateParser extends Parser {\n  priority = 90;\n  subPriority = 1;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"d\":\n        return parseNumericPattern(numericPatterns.date, dateString);\n      case \"do\":\n        return match.ordinalNumber(dateString, { unit: \"date\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(date, value) {\n    const year = date.getFullYear();\n    const isLeapYear = isLeapYearIndex(year);\n    const month = date.getMonth();\n    if (isLeapYear) {\n      return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n    } else {\n      return value >= 1 && value <= DAYS_IN_MONTH[month];\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setDate(value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"w\",\n    \"I\",\n    \"D\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport {\n  isLeapYearIndex,\n  parseNDigits,\n  parseNumericPattern,\n} from \"../utils.js\";\n\nexport class DayOfYearParser extends Parser {\n  priority = 90;\n\n  subpriority = 1;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"D\":\n      case \"DD\":\n        return parseNumericPattern(numericPatterns.dayOfYear, dateString);\n      case \"Do\":\n        return match.ordinalNumber(dateString, { unit: \"date\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(date, value) {\n    const year = date.getFullYear();\n    const isLeapYear = isLeapYearIndex(year);\n    if (isLeapYear) {\n      return value >= 1 && value <= 366;\n    } else {\n      return value >= 1 && value <= 365;\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setMonth(0, value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"Y\",\n    \"R\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"I\",\n    \"d\",\n    \"E\",\n    \"i\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { addDays } from \"./addDays.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setDay} function options.\n */\n\n/**\n * @name setDay\n * @category Weekday Helpers\n * @summary Set the day of the week to the given date.\n *\n * @description\n * Set the day of the week to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param day - The day of the week of the new date\n * @param options - An object with options.\n *\n * @returns The new date with the day of the week set\n *\n * @example\n * // Set week day to Sunday, with the default weekStartsOn of Sunday:\n * const result = setDay(new Date(2014, 8, 1), 0)\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // Set week day to Sunday, with a weekStartsOn of Monday:\n * const result = setDay(new Date(2014, 8, 1), 0, { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 00:00:00\n */\nexport function setDay(date, day, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const date_ = toDate(date, options?.in);\n  const currentDay = date_.getDay();\n\n  const remainder = day % 7;\n  const dayIndex = (remainder + 7) % 7;\n\n  const delta = 7 - weekStartsOn;\n  const diff =\n    day < 0 || day > 6\n      ? day - ((currentDay + delta) % 7)\n      : ((dayIndex + delta) % 7) - ((currentDay + delta) % 7);\n  return addDays(date_, diff, options);\n}\n\n// Fallback for modularized imports:\nexport default setDay;\n", "import { setDay } from \"../../../setDay.js\";\nimport { Parser } from \"../Parser.js\";\n\n// Day of week\nexport class DayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // T\n      case \"EEEEE\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"D\", \"i\", \"e\", \"c\", \"t\", \"T\"];\n}\n", "import { setDay } from \"../../../setDay.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\n// Local day of week\nexport class LocalDayParser extends Parser {\n  priority = 90;\n  parse(dateString, token, match, options) {\n    const valueCallback = (value) => {\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\n    };\n\n    switch (token) {\n      // 3\n      case \"e\":\n      case \"ee\": // 03\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      // 3rd\n      case \"eo\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"day\",\n          }),\n          valueCallback,\n        );\n      // Tue\n      case \"eee\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // T\n      case \"eeeee\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n\n      // Tuesday\n      case \"eeee\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"i\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { setDay } from \"../../../setDay.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\n// Stand-alone local day of week\nexport class StandAloneLocalDayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match, options) {\n    const valueCallback = (value) => {\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\n    };\n\n    switch (token) {\n      // 3\n      case \"c\":\n      case \"cc\": // 03\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      // 3rd\n      case \"co\":\n        return mapValue(\n          match.ordinalNumber(dateString, {\n            unit: \"day\",\n          }),\n          valueCallback,\n        );\n      // Tue\n      case \"ccc\":\n        return (\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // T\n      case \"ccccc\":\n        return match.day(dateString, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return (\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n\n      // Tuesday\n      case \"cccc\":\n      default:\n        return (\n          match.day(dateString, { width: \"wide\", context: \"standalone\" }) ||\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"standalone\",\n          }) ||\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 6;\n  }\n\n  set(date, _flags, value, options) {\n    date = setDay(date, value, options);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"R\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"I\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"i\",\n    \"e\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { addDays } from \"./addDays.js\";\nimport { getISODay } from \"./getISODay.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setISODay} function options.\n */\n\n/**\n * @name setISODay\n * @category Weekday Helpers\n * @summary Set the day of the ISO week to the given date.\n *\n * @description\n * Set the day of the ISO week to the given date.\n * ISO week starts with Monday.\n * 7 is the index of Sunday, 1 is the index of Monday, etc.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param day - The day of the ISO week of the new date\n * @param options - An object with options\n *\n * @returns The new date with the day of the ISO week set\n *\n * @example\n * // Set Sunday to 1 September 2014:\n * const result = setISODay(new Date(2014, 8, 1), 7)\n * //=> Sun Sep 07 2014 00:00:00\n */\nexport function setISODay(date, day, options) {\n  const date_ = toDate(date, options?.in);\n  const currentDay = getISODay(date_, options);\n  const diff = day - currentDay;\n  return addDays(date_, diff, options);\n}\n\n// Fallback for modularized imports:\nexport default setISODay;\n", "import { setISODay } from \"../../../setISODay.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\n// ISO day of week\nexport class ISODayParser extends Parser {\n  priority = 90;\n\n  parse(dateString, token, match) {\n    const valueCallback = (value) => {\n      if (value === 0) {\n        return 7;\n      }\n      return value;\n    };\n\n    switch (token) {\n      // 2\n      case \"i\":\n      case \"ii\": // 02\n        return parseNDigits(token.length, dateString);\n      // 2nd\n      case \"io\":\n        return match.ordinalNumber(dateString, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"short\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n      // T\n      case \"iiiii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          }),\n          valueCallback,\n        );\n      // Tu\n      case \"iiiiii\":\n        return mapValue(\n          match.day(dateString, {\n            width: \"short\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n      // Tuesday\n      case \"iiii\":\n      default:\n        return mapValue(\n          match.day(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n            match.day(dateString, {\n              width: \"abbreviated\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"short\",\n              context: \"formatting\",\n            }) ||\n            match.day(dateString, {\n              width: \"narrow\",\n              context: \"formatting\",\n            }),\n          valueCallback,\n        );\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 7;\n  }\n\n  set(date, _flags, value) {\n    date = setISODay(date, value);\n    date.setHours(0, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\n    \"y\",\n    \"Y\",\n    \"u\",\n    \"q\",\n    \"Q\",\n    \"M\",\n    \"L\",\n    \"w\",\n    \"d\",\n    \"D\",\n    \"E\",\n    \"e\",\n    \"c\",\n    \"t\",\n    \"T\",\n  ];\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { dayPeriodEnumToHours } from \"../utils.js\";\n\nexport class AMPMParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n      case \"aaa\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"aaaaa\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"b\", \"B\", \"H\", \"k\", \"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { dayPeriodEnumToHours } from \"../utils.js\";\n\nexport class AMPMMidnightParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n      case \"bbb\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"bbbbb\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"B\", \"H\", \"k\", \"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { dayPeriodEnumToHours } from \"../utils.js\";\n\n// in the morning, in the afternoon, in the evening, at night\nexport class DayPeriodParser extends Parser {\n  priority = 80;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return (\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n\n      case \"BBBBB\":\n        return match.dayPeriod(dateString, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return (\n          match.dayPeriod(dateString, {\n            width: \"wide\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          }) ||\n          match.dayPeriod(dateString, {\n            width: \"narrow\",\n            context: \"formatting\",\n          })\n        );\n    }\n  }\n\n  set(date, _flags, value) {\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour1to12Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"h\":\n        return parseNumericPattern(numericPatterns.hour12h, dateString);\n      case \"ho\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 12;\n  }\n\n  set(date, _flags, value) {\n    const isPM = date.getHours() >= 12;\n    if (isPM && value < 12) {\n      date.setHours(value + 12, 0, 0, 0);\n    } else if (!isPM && value === 12) {\n      date.setHours(0, 0, 0, 0);\n    } else {\n      date.setHours(value, 0, 0, 0);\n    }\n    return date;\n  }\n\n  incompatibleTokens = [\"H\", \"K\", \"k\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour0to23Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"H\":\n        return parseNumericPattern(numericPatterns.hour23h, dateString);\n      case \"Ho\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 23;\n  }\n\n  set(date, _flags, value) {\n    date.setHours(value, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"K\", \"k\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour0To11Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"K\":\n        return parseNumericPattern(numericPatterns.hour11h, dateString);\n      case \"Ko\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 11;\n  }\n\n  set(date, _flags, value) {\n    const isPM = date.getHours() >= 12;\n    if (isPM && value < 12) {\n      date.setHours(value + 12, 0, 0, 0);\n    } else {\n      date.setHours(value, 0, 0, 0);\n    }\n    return date;\n  }\n\n  incompatibleTokens = [\"h\", \"H\", \"k\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class Hour1To24Parser extends Parser {\n  priority = 70;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"k\":\n        return parseNumericPattern(numericPatterns.hour24h, dateString);\n      case \"ko\":\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 1 && value <= 24;\n  }\n\n  set(date, _flags, value) {\n    const hours = value <= 24 ? value % 24 : value;\n    date.setHours(hours, 0, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"H\", \"K\", \"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class MinuteParser extends Parser {\n  priority = 60;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"m\":\n        return parseNumericPattern(numericPatterns.minute, dateString);\n      case \"mo\":\n        return match.ordinalNumber(dateString, { unit: \"minute\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 59;\n  }\n\n  set(date, _flags, value) {\n    date.setMinutes(value, 0, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n", "import { numericPatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\n\nexport class SecondParser extends Parser {\n  priority = 50;\n\n  parse(dateString, token, match) {\n    switch (token) {\n      case \"s\":\n        return parseNumericPattern(numericPatterns.second, dateString);\n      case \"so\":\n        return match.ordinalNumber(dateString, { unit: \"second\" });\n      default:\n        return parseNDigits(token.length, dateString);\n    }\n  }\n\n  validate(_date, value) {\n    return value >= 0 && value <= 59;\n  }\n\n  set(date, _flags, value) {\n    date.setSeconds(value, 0);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n", "import { Parser } from \"../Parser.js\";\n\nimport { mapValue, parseNDigits } from \"../utils.js\";\n\nexport class FractionOfSecondParser extends Parser {\n  priority = 30;\n\n  parse(dateString, token) {\n    const valueCallback = (value) =>\n      Math.trunc(value * Math.pow(10, -token.length + 3));\n    return mapValue(parseNDigits(token.length, dateString), valueCallback);\n  }\n\n  set(date, _flags, value) {\n    date.setMilliseconds(value);\n    return date;\n  }\n\n  incompatibleTokens = [\"t\", \"T\"];\n}\n", "import { constructFrom } from \"../../../constructFrom.js\";\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseTimezonePattern } from \"../utils.js\";\n\n// Timezone (ISO-8601. +00:00 is `'Z'`)\nexport class ISOTimezoneWithZParser extends Parser {\n  priority = 10;\n\n  parse(dateString, token) {\n    switch (token) {\n      case \"X\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalMinutes,\n          dateString,\n        );\n      case \"XX\":\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\n      case \"XXXX\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalSeconds,\n          dateString,\n        );\n      case \"XXXXX\":\n        return parseTimezonePattern(\n          timezonePatterns.extendedOptionalSeconds,\n          dateString,\n        );\n      case \"XXX\":\n      default:\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\n    }\n  }\n\n  set(date, flags, value) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(\n      date,\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\n    );\n  }\n\n  incompatibleTokens = [\"t\", \"T\", \"x\"];\n}\n", "import { constructFrom } from \"../../../constructFrom.js\";\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseTimezonePattern } from \"../utils.js\";\n\n// Timezone (ISO-8601)\nexport class ISOTimezoneParser extends Parser {\n  priority = 10;\n\n  parse(dateString, token) {\n    switch (token) {\n      case \"x\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalMinutes,\n          dateString,\n        );\n      case \"xx\":\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\n      case \"xxxx\":\n        return parseTimezonePattern(\n          timezonePatterns.basicOptionalSeconds,\n          dateString,\n        );\n      case \"xxxxx\":\n        return parseTimezonePattern(\n          timezonePatterns.extendedOptionalSeconds,\n          dateString,\n        );\n      case \"xxx\":\n      default:\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\n    }\n  }\n\n  set(date, flags, value) {\n    if (flags.timestampIsSet) return date;\n    return constructFrom(\n      date,\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\n    );\n  }\n\n  incompatibleTokens = [\"t\", \"T\", \"X\"];\n}\n", "import { constructFrom } from \"../../../constructFrom.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseAnyDigitsSigned } from \"../utils.js\";\n\nexport class TimestampSecondsParser extends Parser {\n  priority = 40;\n\n  parse(dateString) {\n    return parseAnyDigitsSigned(dateString);\n  }\n\n  set(date, _flags, value) {\n    return [constructFrom(date, value * 1000), { timestampIsSet: true }];\n  }\n\n  incompatibleTokens = \"*\";\n}\n", "import { constructFrom } from \"../../../constructFrom.js\";\nimport { Parser } from \"../Parser.js\";\n\nimport { parseAnyDigitsSigned } from \"../utils.js\";\n\nexport class TimestampMillisecondsParser extends Parser {\n  priority = 20;\n\n  parse(dateString) {\n    return parseAnyDigitsSigned(dateString);\n  }\n\n  set(date, _flags, value) {\n    return [constructFrom(date, value), { timestampIsSet: true }];\n  }\n\n  incompatibleTokens = \"*\";\n}\n", "import { EraParser } from \"./parsers/EraParser.js\";\nimport { YearParser } from \"./parsers/YearParser.js\";\nimport { LocalWeekYearParser } from \"./parsers/LocalWeekYearParser.js\";\nimport { ISOWeekYearParser } from \"./parsers/ISOWeekYearParser.js\";\nimport { ExtendedYearParser } from \"./parsers/ExtendedYearParser.js\";\nimport { QuarterParser } from \"./parsers/QuarterParser.js\";\nimport { StandAloneQuarterParser } from \"./parsers/StandAloneQuarterParser.js\";\nimport { MonthParser } from \"./parsers/MonthParser.js\";\nimport { StandAloneMonthParser } from \"./parsers/StandAloneMonthParser.js\";\nimport { LocalWeekParser } from \"./parsers/LocalWeekParser.js\";\nimport { ISOWeekParser } from \"./parsers/ISOWeekParser.js\";\nimport { DateParser } from \"./parsers/DateParser.js\";\nimport { DayOfYearParser } from \"./parsers/DayOfYearParser.js\";\nimport { DayParser } from \"./parsers/DayParser.js\";\nimport { LocalDayParser } from \"./parsers/LocalDayParser.js\";\nimport { StandAloneLocalDayParser } from \"./parsers/StandAloneLocalDayParser.js\";\nimport { ISODayParser } from \"./parsers/ISODayParser.js\";\nimport { AMPMParser } from \"./parsers/AMPMParser.js\";\nimport { AMPMMidnightParser } from \"./parsers/AMPMMidnightParser.js\";\nimport { DayPeriodParser } from \"./parsers/DayPeriodParser.js\";\nimport { Hour1to12Parser } from \"./parsers/Hour1to12Parser.js\";\nimport { Hour0to23Parser } from \"./parsers/Hour0to23Parser.js\";\nimport { Hour0To11Parser } from \"./parsers/Hour0To11Parser.js\";\nimport { Hour1To24Parser } from \"./parsers/Hour1To24Parser.js\";\nimport { MinuteParser } from \"./parsers/MinuteParser.js\";\nimport { SecondParser } from \"./parsers/SecondParser.js\";\nimport { FractionOfSecondParser } from \"./parsers/FractionOfSecondParser.js\";\nimport { ISOTimezoneWithZParser } from \"./parsers/ISOTimezoneWithZParser.js\";\nimport { ISOTimezoneParser } from \"./parsers/ISOTimezoneParser.js\";\nimport { TimestampSecondsParser } from \"./parsers/TimestampSecondsParser.js\";\nimport { TimestampMillisecondsParser } from \"./parsers/TimestampMillisecondsParser.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\nexport const parsers = {\n  G: new EraParser(),\n  y: new YearParser(),\n  Y: new LocalWeekYearParser(),\n  R: new ISOWeekYearParser(),\n  u: new ExtendedYearParser(),\n  Q: new QuarterParser(),\n  q: new StandAloneQuarterParser(),\n  M: new MonthParser(),\n  L: new StandAloneMonthParser(),\n  w: new LocalWeekParser(),\n  I: new ISOWeekParser(),\n  d: new DateParser(),\n  D: new DayOfYearParser(),\n  E: new DayParser(),\n  e: new LocalDayParser(),\n  c: new StandAloneLocalDayParser(),\n  i: new ISODayParser(),\n  a: new AMPMParser(),\n  b: new AMPMMidnightParser(),\n  B: new DayPeriodParser(),\n  h: new Hour1to12Parser(),\n  H: new Hour0to23Parser(),\n  K: new Hour0To11Parser(),\n  k: new Hour1To24Parser(),\n  m: new MinuteParser(),\n  s: new SecondParser(),\n  S: new FractionOfSecondParser(),\n  X: new ISOTimezoneWithZParser(),\n  x: new ISOTimezoneParser(),\n  t: new TimestampSecondsParser(),\n  T: new TimestampMillisecondsParser(),\n};\n", "import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getDefaultOptions } from \"./getDefaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\nimport { DateTimezoneSetter } from \"./parse/_lib/Setter.js\";\nimport { parsers } from \"./parse/_lib/parsers.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { longFormatters, parsers };\n\n/**\n * The {@link parse} function options.\n */\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\n\nconst notWhitespaceRegExp = /\\S/;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name parse\n * @category Common Helpers\n * @summary Parse the date.\n *\n * @description\n * Return the date parsed from string using the given format string.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters in the format string wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n *\n * Format of the format string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 5 below the table).\n *\n * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited\n * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:\n *\n * ```javascript\n * parse('23 AM', 'HH a', new Date())\n * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time\n * ```\n *\n * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true\n *\n * Accepted format string patterns:\n * | Unit                            |Prior| Pattern | Result examples                   | Notes |\n * |---------------------------------|-----|---------|-----------------------------------|-------|\n * | Era                             | 140 | G..GGG  | AD, BC                            |       |\n * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 |     | GGGGG   | A, B                              |       |\n * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |\n * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |\n * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |\n * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |\n * |                                 |     | yyyyy   | ...                               | 2,4   |\n * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |\n * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |\n * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |\n * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |\n * |                                 |     | YYYYY   | ...                               | 2,4   |\n * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |\n * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |\n * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |\n * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |\n * |                                 |     | RRRRR   | ...                               | 2,4,5 |\n * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |\n * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |\n * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |\n * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |\n * |                                 |     | uuuuu   | ...                               | 2,4   |\n * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |\n * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | QQ      | 01, 02, 03, 04                    |       |\n * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |\n * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | qq      | 01, 02, 03, 04                    |       |\n * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |\n * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |\n * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | MM      | 01, 02, ..., 12                   |       |\n * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | MMMM    | January, February, ..., December  | 2     |\n * |                                 |     | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |\n * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | LL      | 01, 02, ..., 12                   |       |\n * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | LLLL    | January, February, ..., December  | 2     |\n * |                                 |     | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |\n * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |\n * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | II      | 01, 02, ..., 53                   | 5     |\n * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |\n * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |\n * |                                 |     | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |\n * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |\n * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |\n * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 |     | DDDD    | ...                               | 2     |\n * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |\n * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |\n * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |\n * |                                 |     | iii     | Mon, Tue, Wed, ..., Sun           | 5     |\n * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |\n * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |\n * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 5     |\n * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | ee      | 02, 03, ..., 01                   |       |\n * |                                 |     | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | cc      | 02, 03, ..., 01                   |       |\n * |                                 |     | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |\n * |                                 |     | aaaa    | a.m., p.m.                        | 2     |\n * |                                 |     | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 |     | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |\n * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 |     | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |\n * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |\n * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |\n * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |\n * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |\n * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | mm      | 00, 01, ..., 59                   |       |\n * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |\n * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | ss      | 00, 01, ..., 59                   |       |\n * | Seconds timestamp               |  40 | t       | 512969520                         |       |\n * |                                 |     | tt      | ...                               | 2     |\n * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |\n * |                                 |     | SS      | 00, 01, ..., 99                   |       |\n * |                                 |     | SSS     | 000, 001, ..., 999                |       |\n * |                                 |     | SSSS    | ...                               | 2     |\n * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |\n * |                                 |     | TT      | ...                               | 2     |\n * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |\n * |                                 |     | XX      | -0800, +0530, Z                   |       |\n * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |\n * |                                 |     | xx      | -0800, +0530, +0000               |       |\n * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |\n * |                                 |     | PP      | May 29, 1453                      |       |\n * |                                 |     | PPP     | May 29th, 1453                    |       |\n * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |\n * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |\n * |                                 |     | pp      | 12:00:00 AM                       |       |\n * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |\n * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |\n * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |\n * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular.\n *    In `format` function, they will produce different result:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n *    `parse` will try to match both formatting and stand-alone units interchangeably.\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table:\n *    - for numerical units (`yyyyyyyy`) `parse` will try to match a number\n *      as wide as the sequence\n *    - for text units (`MMMMMMMM`) `parse` will try to match the widest variation of the unit.\n *      These variations are marked with \"2\" in the last column of the table.\n *\n * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 4. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:\n *\n *    `parse('50', 'yy', new Date(2018, 0, 1)) //=> Sat Jan 01 2050 00:00:00`\n *\n *    `parse('75', 'yy', new Date(2018, 0, 1)) //=> Wed Jan 01 1975 00:00:00`\n *\n *    while `uu` will just assign the year as is:\n *\n *    `parse('50', 'uu', new Date(2018, 0, 1)) //=> Sat Jan 01 0050 00:00:00`\n *\n *    `parse('75', 'uu', new Date(2018, 0, 1)) //=> Tue Jan 01 0075 00:00:00`\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [setISOWeekYear](https://date-fns.org/docs/setISOWeekYear)\n *    and [setWeekYear](https://date-fns.org/docs/setWeekYear)).\n *\n * 5. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 7. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based\n *    on the given locale.\n *\n *    using `en-US` locale: `P` => `MM/dd/yyyy`\n *    using `en-US` locale: `p` => `hh:mm a`\n *    using `pt-BR` locale: `P` => `dd/MM/yyyy`\n *    using `pt-BR` locale: `p` => `HH:mm`\n *\n * Values will be assigned to the date in the descending order of its unit's priority.\n * Units of an equal priority overwrite each other in the order of appearance.\n *\n * If no values of higher priority are parsed (e.g. when parsing string 'January 1st' without a year),\n * the values will be taken from 3rd argument `referenceDate` which works as a context of parsing.\n *\n * `referenceDate` must be passed for correct work of the function.\n * If you're not sure which `referenceDate` to supply, create a new instance of Date:\n * `parse('02/11/2014', 'MM/dd/yyyy', new Date())`\n * In this case parsing will be done in the context of the current date.\n * If `referenceDate` is `Invalid Date` or a value not convertible to valid `Date`,\n * then `Invalid Date` will be returned.\n *\n * The result may vary by locale.\n *\n * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.\n *\n * If parsing failed, `Invalid Date` will be returned.\n * Invalid Date is a Date, whose time value is NaN.\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param dateStr - The string to parse\n * @param formatStr - The string of tokens\n * @param referenceDate - defines values missing from the parsed dateString\n * @param options - An object with options.\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @returns The parsed date\n *\n * @throws `options.locale` must contain `match` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Parse 11 February 2014 from middle-endian format:\n * var result = parse('02/11/2014', 'MM/dd/yyyy', new Date())\n * //=> Tue Feb 11 2014 00:00:00\n *\n * @example\n * // Parse 28th of February in Esperanto locale in the context of 2010 year:\n * import eo from 'date-fns/locale/eo'\n * var result = parse('28-a de februaro', \"do 'de' MMMM\", new Date(2010, 0, 1), {\n *   locale: eo\n * })\n * //=> Sun Feb 28 2010 00:00:00\n */\nexport function parse(dateStr, formatStr, referenceDate, options) {\n  const invalidDate = () => constructFrom(options?.in || referenceDate, NaN);\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  if (!formatStr)\n    return dateStr ? invalidDate() : toDate(referenceDate, options?.in);\n\n  const subFnOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  // If timezone isn't specified, it will try to use the context or\n  // the reference date and fallback to the system time zone.\n  const setters = [new DateTimezoneSetter(options?.in, referenceDate)];\n\n  const tokens = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter in longFormatters) {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp);\n\n  const usedTokens = [];\n\n  for (let token of tokens) {\n    if (\n      !options?.useAdditionalWeekYearTokens &&\n      isProtectedWeekYearToken(token)\n    ) {\n      warnOrThrowProtectedError(token, formatStr, dateStr);\n    }\n    if (\n      !options?.useAdditionalDayOfYearTokens &&\n      isProtectedDayOfYearToken(token)\n    ) {\n      warnOrThrowProtectedError(token, formatStr, dateStr);\n    }\n\n    const firstCharacter = token[0];\n    const parser = parsers[firstCharacter];\n    if (parser) {\n      const { incompatibleTokens } = parser;\n      if (Array.isArray(incompatibleTokens)) {\n        const incompatibleToken = usedTokens.find(\n          (usedToken) =>\n            incompatibleTokens.includes(usedToken.token) ||\n            usedToken.token === firstCharacter,\n        );\n        if (incompatibleToken) {\n          throw new RangeError(\n            `The format string mustn't contain \\`${incompatibleToken.fullToken}\\` and \\`${token}\\` at the same time`,\n          );\n        }\n      } else if (parser.incompatibleTokens === \"*\" && usedTokens.length > 0) {\n        throw new RangeError(\n          `The format string mustn't contain \\`${token}\\` and any other token at the same time`,\n        );\n      }\n\n      usedTokens.push({ token: firstCharacter, fullToken: token });\n\n      const parseResult = parser.run(\n        dateStr,\n        token,\n        locale.match,\n        subFnOptions,\n      );\n\n      if (!parseResult) {\n        return invalidDate();\n      }\n\n      setters.push(parseResult.setter);\n\n      dateStr = parseResult.rest;\n    } else {\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      // Replace two single quote characters with one single quote character\n      if (token === \"''\") {\n        token = \"'\";\n      } else if (firstCharacter === \"'\") {\n        token = cleanEscapedString(token);\n      }\n\n      // Cut token from string, or, if string doesn't match the token, return Invalid Date\n      if (dateStr.indexOf(token) === 0) {\n        dateStr = dateStr.slice(token.length);\n      } else {\n        return invalidDate();\n      }\n    }\n  }\n\n  // Check if the remaining input contains something other than whitespace\n  if (dateStr.length > 0 && notWhitespaceRegExp.test(dateStr)) {\n    return invalidDate();\n  }\n\n  const uniquePrioritySetters = setters\n    .map((setter) => setter.priority)\n    .sort((a, b) => b - a)\n    .filter((priority, index, array) => array.indexOf(priority) === index)\n    .map((priority) =>\n      setters\n        .filter((setter) => setter.priority === priority)\n        .sort((a, b) => b.subPriority - a.subPriority),\n    )\n    .map((setterArray) => setterArray[0]);\n\n  let date = toDate(referenceDate, options?.in);\n\n  if (isNaN(+date)) return invalidDate();\n\n  const flags = {};\n  for (const setter of uniquePrioritySetters) {\n    if (!setter.validate(date, subFnOptions)) {\n      return invalidDate();\n    }\n\n    const result = setter.set(date, flags, subFnOptions);\n    // Result is tuple (date, flags)\n    if (Array.isArray(result)) {\n      date = result[0];\n      Object.assign(flags, result[1]);\n      // Result is date\n    } else {\n      date = result;\n    }\n  }\n\n  return date;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default parse;\n", "import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link subDays} function options.\n */\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount, options) {\n  return addDays(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n", "import {\n  millisecondsInHour,\n  millisecondsInMinute,\n} from \"./constants.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const invalidDate = () => constructFrom(options?.in, NaN);\n\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(+date)) return invalidDate();\n\n  const timestamp = +date;\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) return invalidDate();\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) return invalidDate();\n  } else {\n    const tmpDate = new Date(timestamp + time);\n    const result = toDate(0, options?.in);\n    result.setFullYear(\n      tmpDate.getUTCFullYear(),\n      tmpDate.getUTCMonth(),\n      tmpDate.getUTCDate(),\n    );\n    result.setHours(\n      tmpDate.getUTCHours(),\n      tmpDate.getUTCMinutes(),\n      tmpDate.getUTCSeconds(),\n      tmpDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return toDate(timestamp + time + offset, options?.in);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { getDaysInMonth } from \"./getDaysInMonth.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setMonth} function options.\n */\n\n/**\n * @name setMonth\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param month - The month index to set (0-11)\n * @param options - The options\n *\n * @returns The new date with the month set\n *\n * @example\n * // Set February to 1 September 2014:\n * const result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nexport function setMonth(date, month, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n  const day = _date.getDate();\n\n  const midMonth = constructFrom(options?.in || date, 0);\n  midMonth.setFullYear(year, month, 15);\n  midMonth.setHours(0, 0, 0, 0);\n  const daysInMonth = getDaysInMonth(midMonth);\n\n  // Set the earlier date, allows to wrap Jan 31 to Feb 28\n  _date.setMonth(month, Math.min(day, daysInMonth));\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setMonth;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setDate} function options.\n */\n\n/**\n * @name setDate\n * @category Day Helpers\n * @summary Set the day of the month to the given date.\n *\n * @description\n * Set the day of the month to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows using extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param dayOfMonth - The day of the month of the new date\n * @param options - The options\n *\n * @returns The new date with the day of the month set\n *\n * @example\n * // Set the 30th day of the month to 1 September 2014:\n * const result = setDate(new Date(2014, 8, 1), 30)\n * //=> Tue Sep 30 2014 00:00:00\n */\nexport function setDate(date, dayOfMonth, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(dayOfMonth);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setDate;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setHours} function options.\n */\n\n/**\n * @name setHours\n * @category Hour Helpers\n * @summary Set the hours to the given date.\n *\n * @description\n * Set the hours to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param hours - The hours of the new date\n * @param options - An object with options\n *\n * @returns The new date with the hours set\n *\n * @example\n * // Set 4 hours to 1 September 2014 11:30:00:\n * const result = setHours(new Date(2014, 8, 1, 11, 30), 4)\n * //=> Mon Sep 01 2014 04:30:00\n */\nexport function setHours(date, hours, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(hours);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default setHours;\n", "import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setMinutes} function options.\n */\n\n/**\n * @name setMinutes\n * @category Minute Helpers\n * @summary Set the minutes to the given date.\n *\n * @description\n * Set the minutes to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows using extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, returned from the context function, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param minutes - The minutes of the new date\n * @param options - An object with options\n *\n * @returns The new date with the minutes set\n *\n * @example\n * // Set 45 minutes to 1 September 2014 11:30:40:\n * const result = setMinutes(new Date(2014, 8, 1, 11, 30, 40), 45)\n * //=> Mon Sep 01 2014 11:45:40\n */\nexport function setMinutes(date, minutes, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setMinutes(minutes);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default setMinutes;\n", "import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link setYear} function options.\n */\n\n/**\n * @name setYear\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param year - The year of the new date\n * @param options - An object with options.\n *\n * @returns The new date with the year set\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * const result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nexport function setYear(date, year, options) {\n  const date_ = toDate(date, options?.in);\n\n  // Check if date is Invalid Date because Date.prototype.setFullYear ignores the value of Invalid Date\n  if (isNaN(+date_)) return constructFrom(options?.in || date, NaN);\n\n  date_.setFullYear(year);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default setYear;\n", "import { addMonths } from \"./addMonths.js\";\n\n/**\n * The subMonths function options.\n */\n\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function subMonths(date, amount, options) {\n  return addMonths(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subMonths;\n", "import { addHours } from \"./addHours.js\";\n\n/**\n * The {@link subHours} function options.\n */\n\n/**\n * @name subHours\n * @category Hour Helpers\n * @summary Subtract the specified number of hours from the given date.\n *\n * @description\n * Subtract the specified number of hours from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of hours to be subtracted.\n * @param options - The options\n *\n * @returns The new date with the hours subtracted\n *\n * @example\n * // Subtract 2 hours from 11 July 2014 01:00:00:\n * const result = subHours(new Date(2014, 6, 11, 1, 0), 2)\n * //=> Thu Jul 10 2014 23:00:00\n */\nexport function subHours(date, amount, options) {\n  return addHours(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subHours;\n", "import { addMinutes } from \"./addMinutes.js\";\n\n/**\n * The {@link subMinutes} function options.\n */\n\n/**\n * @name subMinutes\n * @category Minute Helpers\n * @summary Subtract the specified number of minutes from the given date.\n *\n * @description\n * Subtract the specified number of minutes from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of minutes to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the minutes subtracted\n *\n * @example\n * // Subtract 30 minutes from 10 July 2014 12:00:00:\n * const result = subMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 11:30:00\n */\nexport function subMinutes(date, amount, options) {\n  return addMinutes(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subMinutes;\n", "import { addYears } from \"./addYears.js\";\n\n/**\n * The {@link subYears} function options.\n */\n\n/**\n * @name subYears\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of years to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the years subtracted\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * const result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\nexport function subYears(date, amount, options) {\n  return addYears(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subYears;\n", "const translations = {\n  about: \"k\u00F6r\u00FClbel\u00FCl\",\n  over: \"t\u00F6bb mint\",\n  almost: \"majdnem\",\n  lessthan: \"kevesebb mint\",\n};\n\nconst withoutSuffixes = {\n  xseconds: \" m\u00E1sodperc\",\n  halfaminute: \"f\u00E9l perc\",\n  xminutes: \" perc\",\n  xhours: \" \u00F3ra\",\n  xdays: \" nap\",\n  xweeks: \" h\u00E9t\",\n  xmonths: \" h\u00F3nap\",\n  xyears: \" \u00E9v\",\n};\n\nconst withSuffixes = {\n  xseconds: {\n    \"-1\": \" m\u00E1sodperccel ezel\u0151tt\",\n    1: \" m\u00E1sodperc m\u00FAlva\",\n    0: \" m\u00E1sodperce\",\n  },\n  halfaminute: {\n    \"-1\": \"f\u00E9l perccel ezel\u0151tt\",\n    1: \"f\u00E9l perc m\u00FAlva\",\n    0: \"f\u00E9l perce\",\n  },\n  xminutes: {\n    \"-1\": \" perccel ezel\u0151tt\",\n    1: \" perc m\u00FAlva\",\n    0: \" perce\",\n  },\n  xhours: {\n    \"-1\": \" \u00F3r\u00E1val ezel\u0151tt\",\n    1: \" \u00F3ra m\u00FAlva\",\n    0: \" \u00F3r\u00E1ja\",\n  },\n  xdays: {\n    \"-1\": \" nappal ezel\u0151tt\",\n    1: \" nap m\u00FAlva\",\n    0: \" napja\",\n  },\n  xweeks: {\n    \"-1\": \" h\u00E9ttel ezel\u0151tt\",\n    1: \" h\u00E9t m\u00FAlva\",\n    0: \" hete\",\n  },\n  xmonths: {\n    \"-1\": \" h\u00F3nappal ezel\u0151tt\",\n    1: \" h\u00F3nap m\u00FAlva\",\n    0: \" h\u00F3napja\",\n  },\n  xyears: {\n    \"-1\": \" \u00E9vvel ezel\u0151tt\",\n    1: \" \u00E9v m\u00FAlva\",\n    0: \" \u00E9ve\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  const adverb = token.match(/about|over|almost|lessthan/i);\n  const unit = adverb ? token.replace(adverb[0], \"\") : token;\n\n  const addSuffix = options?.addSuffix === true;\n  const key = unit.toLowerCase();\n  const comparison = options?.comparison || 0;\n\n  const translated = addSuffix\n    ? withSuffixes[key][comparison]\n    : withoutSuffixes[key];\n\n  let result = key === \"halfaminute\" ? translated : count + translated;\n\n  if (adverb) {\n    const adv = adverb[0].toLowerCase();\n    result = translations[adv] + \" \" + result;\n  }\n\n  return result;\n};\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"y. MMMM d., EEEE\",\n  long: \"y. MMMM d.\",\n  medium: \"y. MMM d.\",\n  short: \"y. MM. dd.\",\n};\n\nconst timeFormats = {\n  full: \"H:mm:ss zzzz\",\n  long: \"H:mm:ss z\",\n  medium: \"H:mm:ss\",\n  short: \"H:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} {{time}}\",\n  long: \"{{date}} {{time}}\",\n  medium: \"{{date}} {{time}}\",\n  short: \"{{date}} {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const accusativeWeekdays = [\n  \"vas\u00E1rnap\",\n  \"h\u00E9tf\u0151n\",\n  \"kedden\",\n  \"szerd\u00E1n\",\n  \"cs\u00FCt\u00F6rt\u00F6k\u00F6n\",\n  \"p\u00E9nteken\",\n  \"szombaton\",\n];\n\nfunction week(isFuture) {\n  return (date) => {\n    const weekday = accusativeWeekdays[date.getDay()];\n    const prefix = isFuture ? \"\" : \"'m\u00FAlt' \";\n    return `${prefix}'${weekday}' p'-kor'`;\n  };\n}\nconst formatRelativeLocale = {\n  lastWeek: week(false),\n  yesterday: \"'tegnap' p'-kor'\",\n  today: \"'ma' p'-kor'\",\n  tomorrow: \"'holnap' p'-kor'\",\n  nextWeek: week(true),\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date) => {\n  const format = formatRelativeLocale[token];\n\n  if (typeof format === \"function\") {\n    return format(date);\n  }\n\n  return format;\n};\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"ie.\", \"isz.\"],\n  abbreviated: [\"i. e.\", \"i. sz.\"],\n  wide: [\"Krisztus el\u0151tt\", \"id\u0151sz\u00E1m\u00EDt\u00E1sunk szerint\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1.\", \"2.\", \"3.\", \"4.\"],\n  abbreviated: [\"1. n.\u00E9v\", \"2. n.\u00E9v\", \"3. n.\u00E9v\", \"4. n.\u00E9v\"],\n  wide: [\"1. negyed\u00E9v\", \"2. negyed\u00E9v\", \"3. negyed\u00E9v\", \"4. negyed\u00E9v\"],\n};\n\nconst formattingQuarterValues = {\n  narrow: [\"I.\", \"II.\", \"III.\", \"IV.\"],\n  abbreviated: [\"I. n.\u00E9v\", \"II. n.\u00E9v\", \"III. n.\u00E9v\", \"IV. n.\u00E9v\"],\n  wide: [\"I. negyed\u00E9v\", \"II. negyed\u00E9v\", \"III. negyed\u00E9v\", \"IV. negyed\u00E9v\"],\n};\n\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"\u00C1\", \"M\", \"J\", \"J\", \"A\", \"Sz\", \"O\", \"N\", \"D\"],\n\n  abbreviated: [\n    \"jan.\",\n    \"febr.\",\n    \"m\u00E1rc.\",\n    \"\u00E1pr.\",\n    \"m\u00E1j.\",\n    \"j\u00FAn.\",\n    \"j\u00FAl.\",\n    \"aug.\",\n    \"szept.\",\n    \"okt.\",\n    \"nov.\",\n    \"dec.\",\n  ],\n\n  wide: [\n    \"janu\u00E1r\",\n    \"febru\u00E1r\",\n    \"m\u00E1rcius\",\n    \"\u00E1prilis\",\n    \"m\u00E1jus\",\n    \"j\u00FAnius\",\n    \"j\u00FAlius\",\n    \"augusztus\",\n    \"szeptember\",\n    \"okt\u00F3ber\",\n    \"november\",\n    \"december\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"V\", \"H\", \"K\", \"Sz\", \"Cs\", \"P\", \"Sz\"],\n  short: [\"V\", \"H\", \"K\", \"Sze\", \"Cs\", \"P\", \"Szo\"],\n  abbreviated: [\"V\", \"H\", \"K\", \"Sze\", \"Cs\", \"P\", \"Szo\"],\n  wide: [\n    \"vas\u00E1rnap\",\n    \"h\u00E9tf\u0151\",\n    \"kedd\",\n    \"szerda\",\n    \"cs\u00FCt\u00F6rt\u00F6k\",\n    \"p\u00E9ntek\",\n    \"szombat\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"de.\",\n    pm: \"du.\",\n    midnight: \"\u00E9jf\u00E9l\",\n    noon: \"d\u00E9l\",\n    morning: \"reggel\",\n    afternoon: \"du.\",\n    evening: \"este\",\n    night: \"\u00E9jjel\",\n  },\n  abbreviated: {\n    am: \"de.\",\n    pm: \"du.\",\n    midnight: \"\u00E9jf\u00E9l\",\n    noon: \"d\u00E9l\",\n    morning: \"reggel\",\n    afternoon: \"du.\",\n    evening: \"este\",\n    night: \"\u00E9jjel\",\n  },\n  wide: {\n    am: \"de.\",\n    pm: \"du.\",\n    midnight: \"\u00E9jf\u00E9l\",\n    noon: \"d\u00E9l\",\n    morning: \"reggel\",\n    afternoon: \"d\u00E9lut\u00E1n\",\n    evening: \"este\",\n    night: \"\u00E9jjel\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n  return number + \".\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n    formattingValues: formattingQuarterValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n  }),\n};\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)\\.?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(ie\\.|isz\\.)/i,\n  abbreviated: /^(i\\.\\s?e\\.?|b?\\s?c\\s?e|i\\.\\s?sz\\.?)/i,\n  wide: /^(Krisztus el\u0151tt|id\u0151sz\u00E1m\u00EDt\u00E1sunk el\u0151tt|id\u0151sz\u00E1m\u00EDt\u00E1sunk szerint|i\\. sz\\.)/i,\n};\nconst parseEraPatterns = {\n  narrow: [/ie/i, /isz/i],\n  abbreviated: [/^(i\\.?\\s?e\\.?|b\\s?ce)/i, /^(i\\.?\\s?sz\\.?|c\\s?e)/i],\n  any: [/el\u0151tt/i, /(szerint|i. sz.)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]\\.?/i,\n  abbreviated: /^[1234]?\\.?\\s?n\\.\u00E9v/i,\n  wide: /^([1234]|I|II|III|IV)?\\.?\\s?negyed\u00E9v/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1|I$/i, /2|II$/i, /3|III/i, /4|IV/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfma\u00E1sond]|sz/i,\n  abbreviated:\n    /^(jan\\.?|febr\\.?|m\u00E1rc\\.?|\u00E1pr\\.?|m\u00E1j\\.?|j\u00FAn\\.?|j\u00FAl\\.?|aug\\.?|szept\\.?|okt\\.?|nov\\.?|dec\\.?)/i,\n  wide: /^(janu\u00E1r|febru\u00E1r|m\u00E1rcius|\u00E1prilis|m\u00E1jus|j\u00FAnius|j\u00FAlius|augusztus|szeptember|okt\u00F3ber|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a|\u00E1/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s|sz/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^m\u00E1r/i,\n    /^\u00E1p/i,\n    /^m\u00E1j/i,\n    /^j\u00FAn/i,\n    /^j\u00FAl/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^([vhkpc]|sz|cs|sz)/i,\n  short: /^([vhkp]|sze|cs|szo)/i,\n  abbreviated: /^([vhkp]|sze|cs|szo)/i,\n  wide: /^(vas\u00E1rnap|h\u00E9tf\u0151|kedd|szerda|cs\u00FCt\u00F6rt\u00F6k|p\u00E9ntek|szombat)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^v/i, /^h/i, /^k/i, /^sz/i, /^c/i, /^p/i, /^sz/i],\n  any: [/^v/i, /^h/i, /^k/i, /^sze/i, /^c/i, /^p/i, /^szo/i],\n};\n\nconst matchDayPeriodPatterns = {\n  any: /^((de|du)\\.?|\u00E9jf\u00E9l|d\u00E9lut\u00E1n|d\u00E9l|reggel|este|\u00E9jjel)/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^de\\.?/i,\n    pm: /^du\\.?/i,\n    midnight: /^\u00E9jf/i,\n    noon: /^d\u00E9/i,\n    morning: /reg/i,\n    afternoon: /^d\u00E9lu\\.?/i,\n    evening: /es/i,\n    night: /\u00E9jj/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./hu/_lib/formatDistance.js\";\nimport { formatLong } from \"./hu/_lib/formatLong.js\";\nimport { formatRelative } from \"./hu/_lib/formatRelative.js\";\nimport { localize } from \"./hu/_lib/localize.js\";\nimport { match } from \"./hu/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary Hungarian locale.\n * @language Hungarian\n * @iso-639-2 hun\n * @author Pavlo Shpak [@pshpak](https://github.com/pshpak)\n * @author Eduardo Pardo [@eduardopsll](https://github.com/eduardopsll)\n * @author Zoltan Szepesi [@twodcube](https://github.com/twodcube)\n */\nexport const hu = {\n  code: \"hu\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1 /* Monday */,\n    firstWeekContainsDate: 4,\n  },\n};\n\n// Fallback for modularized imports:\nexport default hu;\n", "/**\n * @module dateio\n *\n * Locale-aware date utility module built on top of date-fns.\n *\n * Provides a unified {@link DateIO} namespace for parsing, formatting,\n * comparing, and manipulating dates while respecting a globally configured\n * locale. Legacy format tokens (e.g. `YYYY`, `D`) are automatically\n * converted to date-fns-compatible equivalents.\n *\n * @category Utility\n */\n\nimport {\n    parseISO,\n    parse,\n    format,\n    isAfter,\n    Locale,\n    addMinutes,\n    addHours,\n    subHours,\n    subMinutes,\n    setMinutes,\n    setHours,\n    addDays,\n    subDays,\n    setMonth,\n    addMonths,\n    subMonths,\n    setYear,\n    addYears,\n    subYears,\n    startOfWeek,\n    getYear,\n    getMonth,\n    getHours,\n    getMinutes,\n    getDaysInMonth,\n    endOfMonth,\n    formatISO,\n    setDate,\n    getDate,\n    getDay,\n    isBefore,\n    getISOWeek,\n    getWeek,\n} from 'date-fns';\nimport { hu, enUS } from 'date-fns/locale';\n\n/**\n * Maps a locale string to its corresponding date-fns {@link Locale} object.\n * Falls back to `enUS` for unrecognized locale strings.\n *\n * @param newLocale - BCP 47 locale identifier (e.g. `'hu-HU'`, `'en-US'`).\n * @returns The matching date-fns Locale object, or `enUS` as the default.\n */\nconst getLocaleFrom = (newLocale: string): Locale => {\n    switch (newLocale) {\n        case 'hu-HU':\n            return hu;\n        case 'en-US':\n            return enUS;\n        default:\n            return enUS;\n    }\n};\n\nlet locale: Locale = getLocaleFrom('en-US');\n\n/**\n * Sets the global locale used by all {@link DateIO} formatting and\n * parsing methods.\n *\n * Call this once during application bootstrap to ensure dates are\n * rendered in the correct language and regional format.\n *\n * @param newLocale - BCP 47 locale identifier (e.g. `'hu-HU'`, `'en-US'`).\n * @category Utility\n *\n * @example\n * setDateIOLocale('hu-HU');\n */\nexport const setDateIOLocale = (newLocale: string): void => {\n    locale = getLocaleFrom(newLocale);\n};\n\n/**\n * Converts legacy date format tokens to date-fns-compatible format strings.\n *\n * Replaces `YYYY` with `yyyy` and every `D` with `d` so that format strings\n * authored for Moment.js or similar libraries work with date-fns.\n *\n * @param formatString - A date format string that may contain legacy tokens.\n * @returns The format string with legacy tokens replaced.\n * @category Utility\n *\n * @example\n * convertToISOFormat('YYYY-MM-DD'); // 'yyyy-MM-dd'\n */\nexport const convertToISOFormat = (formatString: string): string => {\n    return formatString.replace('YYYY', 'yyyy').replace(/D/g, 'd');\n};\n\n/**\n * Locale-aware date utility namespace wrapping date-fns functions.\n *\n * All formatting operations respect the locale set via\n * {@link setDateIOLocale}. Legacy format tokens are automatically\n * converted through {@link convertToISOFormat}.\n *\n * @category Utility\n */\nexport const DateIO = {\n    /**\n     * Parses a date string into a `Date` object.\n     *\n     * When `formatString` is provided, the string is parsed according to\n     * that format (with legacy token conversion). Otherwise, the string is\n     * parsed as an ISO 8601 date. Returns the current date if parsing fails.\n     *\n     * @param dateString - The date value to parse. Defaults to the current\n     *   ISO timestamp.\n     * @param formatString - Optional format pattern (e.g. `'yyyy-MM-dd'`).\n     * @returns The parsed Date, or the current date on error.\n     *\n     * @example\n     * DateIO.parse('2024-06-15');\n     * DateIO.parse('15/06/2024', 'dd/MM/yyyy');\n     */\n    parse: (\n        dateString: number | string = new Date().toISOString(),\n        formatString?: string,\n    ): Date => {\n        if (formatString) {\n            try {\n                return parse(\n                    dateString.toString(),\n                    convertToISOFormat(formatString),\n                    new Date(),\n                );\n            } catch (error) {\n                console.error('parse', {\n                    error,\n                    dateString,\n                    formatString,\n                });\n                return new Date();\n            }\n        }\n        try {\n            return parseISO(dateString.toString());\n        } catch (error) {\n            console.error('parseISO', {\n                error,\n                dateString,\n                formatString,\n            });\n            return new Date();\n        }\n    },\n    /**\n     * Formats a `Date` object into a string.\n     *\n     * When `formatString` is provided, the date is formatted using the\n     * current locale and that pattern. Otherwise, returns an ISO 8601 string.\n     *\n     * @param date - The date to format.\n     * @param formatString - Optional format pattern (e.g. `'yyyy-MM-dd'`).\n     * @returns The formatted date string.\n     *\n     * @example\n     * DateIO.format(new Date(), 'yyyy-MM-dd'); // '2024-06-15'\n     * DateIO.format(new Date()); // '2024-06-15T12:00:00+02:00'\n     */\n    format: (date: Date, formatString?: string): string => {\n        if (formatString) {\n            return format(date, convertToISOFormat(formatString), {\n                locale,\n            });\n        }\n        return formatISO(date);\n    },\n    /**\n     * Tests whether `date` is before `dateToCompare`.\n     *\n     * @param date - The date to check.\n     * @param dateToCompare - The date to compare against.\n     * @returns `true` if `date` is before `dateToCompare`.\n     */\n    isBefore: (date: Date, dateToCompare: Date): boolean => {\n        return isBefore(date, dateToCompare);\n    },\n    /**\n     * Tests whether `date` is after `dateToCompare`.\n     *\n     * @param date - The date to check.\n     * @param dateToCompare - The date to compare against.\n     * @returns `true` if `date` is after `dateToCompare`.\n     */\n    isAfter: (date: Date, dateToCompare: Date): boolean => {\n        return isAfter(date, dateToCompare);\n    },\n    /** Returns the minutes of the given date.\n     * @param date - The date to extract minutes from.\n     * @returns The minutes component (0-59).\n     */\n    getMinutes: (date: Date): number => {\n        return getMinutes(date);\n    },\n    /** Sets the minutes on the given date, returning a new Date.\n     * @param date - The original date.\n     * @param minutes - The minutes value to set (0-59).\n     * @returns A new Date with the updated minutes.\n     */\n    setMinutes: (date: Date, minutes: number): Date => {\n        return setMinutes(date, minutes);\n    },\n    /** Adds the specified number of minutes to the given date.\n     * @param date - The original date.\n     * @param amount - The number of minutes to add.\n     * @returns A new Date with the minutes added.\n     */\n    addMinutes: (date: Date, amount: number): Date => {\n        return addMinutes(date, amount);\n    },\n    /** Subtracts the specified number of minutes from the given date.\n     * @param date - The original date.\n     * @param amount - The number of minutes to subtract.\n     * @returns A new Date with the minutes subtracted.\n     */\n    subMinutes: (date: Date, amount: number): Date => {\n        return subMinutes(date, amount);\n    },\n    /** Returns the hours of the given date.\n     * @param date - The date to extract hours from.\n     * @returns The hours component (0-23).\n     */\n    getHours: (date: Date): number => {\n        return getHours(date);\n    },\n    /** Sets the hours on the given date, returning a new Date.\n     * @param date - The original date.\n     * @param hours - The hours value to set (0-23).\n     * @returns A new Date with the updated hours.\n     */\n    setHours: (date: Date, hours: number): Date => {\n        return setHours(date, hours);\n    },\n    /** Adds the specified number of hours to the given date.\n     * @param date - The original date.\n     * @param amount - The number of hours to add.\n     * @returns A new Date with the hours added.\n     */\n    addHours: (date: Date, amount: number): Date => {\n        return addHours(date, amount);\n    },\n    /** Subtracts the specified number of hours from the given date.\n     * @param date - The original date.\n     * @param amount - The number of hours to subtract.\n     * @returns A new Date with the hours subtracted.\n     */\n    subHours: (date: Date, amount: number): Date => {\n        return subHours(date, amount);\n    },\n    /** Returns the day-of-month of the given date.\n     * @param date - The date to extract the day from.\n     * @returns The day of the month (1-31).\n     */\n    getDate: (date: Date): number => {\n        return getDate(date);\n    },\n    /** Sets the day-of-month on the given date, returning a new Date.\n     * @param date - The original date.\n     * @param day - The day-of-month value to set (1-31).\n     * @returns A new Date with the updated day.\n     */\n    setDate: (date: Date, day: number): Date => {\n        return setDate(date, day);\n    },\n    /** Returns the day of the week for the given date.\n     * @param date - The date to extract the weekday from.\n     * @returns The day of the week (0 = Sunday, 6 = Saturday).\n     */\n    getDay: (date: Date): number => {\n        return getDay(date);\n    },\n    /** Adds the specified number of days to the given date.\n     * @param date - The original date.\n     * @param amount - The number of days to add.\n     * @returns A new Date with the days added.\n     */\n    addDays: (date: Date, amount: number): Date => {\n        return addDays(date, amount);\n    },\n    /** Subtracts the specified number of days from the given date.\n     * @param date - The original date.\n     * @param amount - The number of days to subtract.\n     * @returns A new Date with the days subtracted.\n     */\n    subDays: (date: Date, amount: number): Date => {\n        return subDays(date, amount);\n    },\n    /** Returns the month of the given date (0-indexed).\n     * @param date - The date to extract the month from.\n     * @returns The month (0 = January, 11 = December).\n     */\n    getMonth: (date: Date): number => {\n        return getMonth(date);\n    },\n    /** Sets the month on the given date, returning a new Date.\n     * @param date - The original date.\n     * @param month - The month value to set (0 = January, 11 = December).\n     * @returns A new Date with the updated month.\n     */\n    setMonth: (date: Date, month: number): Date => {\n        return setMonth(date, month);\n    },\n    /** Adds the specified number of months to the given date.\n     * @param date - The original date.\n     * @param amount - The number of months to add.\n     * @returns A new Date with the months added.\n     */\n    addMonths: (date: Date, amount: number): Date => {\n        return addMonths(date, amount);\n    },\n    /** Subtracts the specified number of months from the given date.\n     * @param date - The original date.\n     * @param amount - The number of months to subtract.\n     * @returns A new Date with the months subtracted.\n     */\n    subMonths: (date: Date, amount: number): Date => {\n        return subMonths(date, amount);\n    },\n    /** Returns the full year of the given date.\n     * @param date - The date to extract the year from.\n     * @returns The four-digit year.\n     */\n    getYear: (date: Date): number => {\n        return getYear(date);\n    },\n    /** Sets the year on the given date, returning a new Date.\n     * @param date - The original date.\n     * @param years - The year value to set.\n     * @returns A new Date with the updated year.\n     */\n    setYear: (date: Date, years: number): Date => {\n        return setYear(date, years);\n    },\n    /** Adds the specified number of years to the given date.\n     * @param date - The original date.\n     * @param amount - The number of years to add.\n     * @returns A new Date with the years added.\n     */\n    addYears: (date: Date, amount: number): Date => {\n        return addYears(date, amount);\n    },\n    /** Subtracts the specified number of years from the given date.\n     * @param date - The original date.\n     * @param amount - The number of years to subtract.\n     * @returns A new Date with the years subtracted.\n     */\n    subYears: (date: Date, amount: number): Date => {\n        return subYears(date, amount);\n    },\n    /** Returns the start of the week for the given date.\n     * @param date - The reference date.\n     * @returns A new Date set to the start of the week.\n     */\n    startOfWeek: (date: Date): Date => {\n        return startOfWeek(date);\n    },\n    /** Returns the end of the month for the given date.\n     * @param date - The reference date.\n     * @returns A new Date set to the last moment of the month.\n     */\n    endOfMonth: (date: Date): Date => {\n        return endOfMonth(date);\n    },\n    /** Returns the number of days in the month of the given date.\n     * @param date - The reference date.\n     * @returns The total number of days in that month.\n     */\n    getDaysInMonth: (date: Date): number => {\n        return getDaysInMonth(date);\n    },\n    /** Returns the ISO week number for the given date.\n     * @param date - The reference date.\n     * @returns The ISO 8601 week number (1-53).\n     */\n    getISOWeek: (date: Date): number => {\n        return getISOWeek(date);\n    },\n    /** Returns the locale-aware week number for the given date.\n     * @param date - The reference date.\n     * @returns The week number according to locale rules.\n     */\n    getWeek: (date: Date): number => {\n        return getWeek(date);\n    },\n};\n", "import { PopupContainer } from './popupContainer';\nimport { Module } from '../core/module';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { BottomMenu } from '../module/bottomMenu';\nimport { Page } from '../module/page';\nimport { Browser } from '../module/browser';\nimport { Confirm } from '../module/confirm';\nimport { Cookie } from '../module/cookie';\nimport { Dialog } from '../module/dialog';\nimport { Flash } from '../module/flash';\nimport { Footer } from '../module/footer';\nimport { GeoLocation } from '../module/geoLocation';\nimport { Helper } from '../module/helper';\nimport { Http } from '../module/http';\nimport { LeftMenu } from '../module/leftMenu';\nimport { Loader } from '../module/loader';\nimport { NavBar } from '../module/navBar';\nimport { ProgressBar } from '../module/progressBar';\nimport { Script } from '../module/script';\nimport { Style } from '../module/style';\nimport { Template } from '../module/template';\nimport { TopMenu } from '../module/topMenu';\nimport { Viewer } from '../module/viewer';\nimport { Depot } from '../module/depot';\nimport { Header } from '../module/header';\nimport { EventBus } from '../module/eventBus';\nimport { Scheduler } from '../module/scheduler';\nimport { Screen } from '../module/screen';\nimport { Route } from './route';\nimport { ClassRef, Injection, Instance, InstanceKey } from '../utils';\nimport { setDateIOLocale } from '../utils/dateio';\n\n/**\n * @description Main entry point for the SUI-JS framework. Manages the dependency injection\n * container and initializes all framework modules and services.\n *\n * @example\n * const app = new Application(\n *     { app_id: 'my-app', locale: 'en-US', backend: '/api', production: true },\n *     { flash: 'flash' },\n * );\n * app.run(routes, ['authService']);\n *\n * @see {@link Module} for the underlying module system\n * @see {@link Route} for route configuration\n * @see {@link Instance} for the full DI container interface\n *\n * @category Component\n */\nexport class Application {\n    public options!: Objekt;\n    private _injections: Injection = {};\n    private _instances = {} as Instance;\n    private _module!: Module;\n    private _routeOptions!: Objekt;\n\n    /**\n     * @description Creates a new Application instance, merges options with defaults, and\n     * initializes all framework modules.\n     *\n     * @param {object} options - Configuration options merged with defaults (app_id, locale, backend, production, secret, theme_color).\n     * @param {Injection} resources - Dependency injection map that binds token names to service identifiers.\n     */\n    constructor(options: object, resources: Injection) {\n        this._setOptions(options);\n        this._init(resources);\n    }\n\n    /**\n     * @description Merges user-provided options with framework defaults.\n     * @param {object} options - User configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt({\n            app_id: 'sui-app',\n            locale: navigator.language,\n            backend: '',\n            production: false,\n            secret: 'f74pej3qpb9qmpvregu7ef33m5w6f6qz',\n            theme_color: '#000',\n        });\n        this.options.merge(options);\n    }\n\n    /**\n     * @description Initializes all framework subsystems and loads registered modules.\n     * @param {Injection} resources - Dependency injection resource map.\n     */\n    private _init(resources: Injection): void {\n        this._injections = resources;\n\n        this._initApp();\n        this._initCertificate();\n        this._initRoutes();\n        this._initDepots();\n        this._initLocale();\n        this._initModule();\n        this._initEventBus();\n        this._initScheduler();\n        this._initLoader();\n        this._initHttp();\n        this._initDialog();\n        this._initConfirm();\n        this._initViewer();\n        this._initProgressBar();\n        this._initCookie();\n        this._initFlash();\n        this._initTemplate();\n        this._initPage();\n        this._initScreen();\n        this._initHelper();\n        this._initHeader();\n        this._initTopMenu();\n        this._initLeftMenu();\n        this._initNavBar();\n        this._initFooter();\n        this._initBottomMenu();\n        this._initBrowser();\n        this._initGeoLocation();\n        this._initScript();\n        this._initStyle();\n        this._initConfig();\n\n        this._loadModules();\n    }\n\n    /**\n     * @description Returns the language code extracted from the current locale (e.g., \"en\" from \"en-US\").\n     *\n     * @returns {string} The ISO 639-1 language code.\n     *\n     * @example\n     * const lang = app.getLanguage(); // 'en'\n     */\n    getLanguage(): string {\n        const locale = this.getLocale();\n        return locale.split('-', 2)[0];\n    }\n\n    /**\n     * @description Returns the current locale, falling back to the configured default if none\n     * is stored in local storage.\n     *\n     * @returns {string} The BCP 47 locale string (e.g., \"en-US\").\n     *\n     * @example\n     * const locale = app.getLocale(); // 'en-US'\n     */\n    getLocale(): string {\n        let locale = this._instances.localDepot.get('app.locale');\n        if (!locale) {\n            locale = this.options.locale;\n        }\n        return locale;\n    }\n\n    /**\n     * @description Sets the application locale and persists it to local storage.\n     *\n     * @param {string} locale - The BCP 47 locale string to set (e.g., \"hu-HU\").\n     *\n     * @example\n     * app.setLocale('hu-HU');\n     */\n    setLocale(locale: string): void {\n        this._instances.localDepot.set('app.locale', locale);\n        this.options.locale = locale;\n    }\n\n    /**\n     * @description Sets the application locale and reloads the current state to apply it.\n     *\n     * @param {string} locale - The BCP 47 locale string to set.\n     *\n     * @example\n     * app.setLocaleWithReload('de-DE');\n     */\n    setLocaleWithReload(locale: string): void {\n        this.setLocale(locale);\n        this._instances.state.reload();\n    }\n\n    /**\n     * @description Reads the persisted locale and configures the date I/O library.\n     */\n    private _initLocale(): void {\n        const locale = this.getLocale();\n        setDateIOLocale(locale);\n        this.setLocale(locale);\n    }\n\n    /**\n     * @description Adds the `sui-js` CSS class to the root HTML element.\n     */\n    private _initCertificate(): void {\n        const rootKnot = new Query('html').getKnot();\n        rootKnot.addClass('sui-js');\n    }\n\n    /**\n     * @description Initializes the {@link Module} system and wires up lifecycle event callbacks.\n     */\n    private _initModule(): void {\n        this._module = new Module();\n\n        this._module.eventAfterInit = () => {\n            this._instances.progressBar.lock();\n            this._instances.loader.show();\n            this._instances.eventBus.call('module.afterInit');\n        };\n\n        this._module.eventStateChange = (currentState) => {\n            this._instances.progressBar.lock();\n            this._instances.loader.show();\n            this._instances.dialog.close();\n            this._instances.confirm.close();\n            return this._instances.eventBus.call('state.change', [\n                currentState,\n            ]);\n        };\n\n        this._module.eventDomChange = (state, dom) => {\n            return this._instances.eventBus.call('dom.change', [state, dom]);\n        };\n\n        this._module.eventServiceLoaded = () => {\n            this._instances.browser.detect();\n            this._instances.eventBus.call('module.serviceLoaded');\n        };\n\n        this._module.eventServiceFailed = () => {\n            this._instances.eventBus.call('module.serviceFailed');\n        };\n\n        this._module.eventModuleLoaded = (state): void => {\n            this._instances.progressBar.unlock();\n            this._instances.loader.hide(true);\n            this._instances.eventBus.call('module.loaded', [state]);\n        };\n\n        this._module.eventModuleFailed = (state): void => {\n            this._instances.progressBar.unlock();\n            this._instances.loader.hide(true);\n            this._instances.eventBus.call('module.failed', [state]);\n        };\n\n        this._module.eventControllerLoaded = (dom): void => {\n            this._instances.eventBus.call('controller.loaded', [dom]);\n        };\n\n        this._module.eventControllerFailed = (): void => {\n            this._instances.eventBus.call('controller.failed', []);\n        };\n    }\n\n    /**\n     * @description Passes all resolved instances and injections to the module loader.\n     */\n    private _loadModules(): void {\n        this._instances.instances = this._instances;\n\n        this._module.load(this._instances, this._injections);\n    }\n\n    /**\n     * @description Initializes the {@link Script} loader for dynamic script injection.\n     */\n    private _initScript(): void {\n        this._instances.script = new Script(this._instances.progressBar);\n    }\n\n    /**\n     * @description Initializes the {@link Style} loader for dynamic stylesheet injection.\n     */\n    private _initStyle(): void {\n        this._instances.style = new Style(this._instances.progressBar);\n    }\n\n    /**\n     * @description Exposes the application options as the `config` instance.\n     */\n    private _initConfig(): void {\n        this._instances.config = this.options;\n    }\n\n    /**\n     * @description Registers this Application instance in the DI container.\n     */\n    private _initApp(): void {\n        this._instances.app = this;\n    }\n\n    /**\n     * @description Initializes the {@link GeoLocation} module and wires change/error events.\n     */\n    private _initGeoLocation(): void {\n        this._instances.geoLocation = new GeoLocation();\n\n        this._instances.geoLocation.eventChange = (\n            latitude,\n            longitude,\n            message,\n        ) => {\n            this._instances.eventBus.override(\n                'geoLocation.success',\n                [message],\n                (message: string) => {\n                    this._instances.flash.addInfo(message);\n                },\n            );\n            this._instances.eventBus.call('geoLocation.change', [\n                latitude,\n                longitude,\n            ]);\n        };\n\n        this._instances.geoLocation.eventError = (message, code) => {\n            this._instances.eventBus.override(\n                'geoLocation.error',\n                [message, code],\n                (message: string) => {\n                    this._instances.flash.addError(message);\n                },\n            );\n        };\n    }\n\n    /**\n     * @description Initializes the {@link Cookie} module with the application prefix.\n     */\n    private _initCookie(): void {\n        this._instances.cookie = new Cookie({\n            prefix: this.options.app_id,\n        });\n    }\n\n    /**\n     * @description Initializes the {@link Loader} module for loading indicators.\n     */\n    private _initLoader(): void {\n        this._instances.loader = new Loader();\n    }\n\n    /**\n     * @description Initializes the {@link ProgressBar} module with dialog and confirm references.\n     */\n    private _initProgressBar(): void {\n        this._instances.progressBar = new ProgressBar(\n            this._instances.dialog,\n            this._instances.confirm,\n        );\n    }\n\n    /**\n     * @description Initializes local and session {@link Depot} instances for persistent storage.\n     */\n    private _initDepots(): void {\n        this._instances.localDepot = new Depot('LOCAL', {\n            prefix: this.options.app_id,\n            secret: this.options.secret,\n        });\n        this._instances.sessionDepot = new Depot('SESSION', {\n            prefix: this.options.app_id,\n            secret: this.options.secret,\n        });\n    }\n\n    /**\n     * @description Initializes the {@link Helper} module for miscellaneous DOM utilities.\n     */\n    private _initHelper(): void {\n        this._instances.helper = new Helper();\n    }\n\n    /**\n     * @description Initializes the {@link Page} module and connects document click events.\n     */\n    private _initPage(): void {\n        const popupContainer = new PopupContainer();\n        this._instances.page = new Page();\n        this._instances.page.eventClick = (target, event) => {\n            popupContainer.closeAll();\n            this._instances.eventBus.call('document.click', [target, event]);\n        };\n    }\n\n    /**\n     * @description Initializes the {@link Screen} module and wires resize, orientation, scroll, and connectivity events.\n     */\n    private _initScreen(): void {\n        this._instances.screen = new Screen();\n        const width = this._instances.screen.getWidth();\n        const height = this._instances.screen.getHeight();\n        this._instances.dialog.setSize(width, height);\n        this._instances.confirm.setSize(width, height);\n        this._instances.viewer.setSize(width, height);\n\n        this._instances.screen.eventResize = (width, height, event) => {\n            this._instances.dialog.setSize(width, height);\n            this._instances.confirm.setSize(width, height);\n            this._instances.viewer.setSize(width, height);\n            this._instances.eventBus.call('window.resize', [\n                width,\n                height,\n                event,\n            ]);\n        };\n\n        this._instances.screen.eventOrientationChange = (\n            orientation,\n            width,\n            height,\n            event,\n        ) => {\n            this._instances.dialog.setSize(width, height);\n            this._instances.confirm.setSize(width, height);\n            this._instances.viewer.setSize(width, height);\n            this._instances.eventBus.call('window.orientationChange', [\n                orientation,\n                width,\n                height,\n                event,\n            ]);\n        };\n\n        this._instances.screen.eventScroll = (scrollTop, event) => {\n            this._instances.eventBus.call('window.scroll', [scrollTop, event]);\n        };\n\n        this._instances.screen.eventColorSchemeChange = (\n            colorScheme,\n            event,\n        ) => {\n            this._instances.eventBus.call('window.colorSchemeChange', [\n                colorScheme,\n                event,\n            ]);\n        };\n\n        const flash: { node: any; message: string; duration: number } = {\n            node: null,\n            message: 'Unable to connect to the Internet',\n            duration: Infinity,\n        };\n        this._instances.screen.eventOnline = () => {\n            if (flash.node) {\n                this._instances.flash.remove(flash.node);\n            }\n        };\n\n        this._instances.screen.eventOffline = (event) => {\n            this._instances.eventBus.override(\n                'window.offline',\n                [flash, event],\n                (flash: any) => {\n                    flash.node = (this._instances as Record<string, any>)[\n                        this._injections.flash\n                    ].addWarning(flash.message, flash.duration);\n                },\n            );\n        };\n    }\n\n    /**\n     * @description Initializes the {@link EventBus} for publish/subscribe communication.\n     */\n    private _initEventBus(): void {\n        this._instances.eventBus = new EventBus();\n    }\n\n    /**\n     * @description Initializes the {@link Scheduler} for deferred and periodic tasks.\n     */\n    private _initScheduler(): void {\n        this._instances.scheduler = new Scheduler();\n    }\n\n    /**\n     * @description Initializes the {@link Http} client and wires before/after request events.\n     */\n    private _initHttp(): void {\n        this._instances.http = new Http(this.options);\n        this._instances.http.eventBeforeRequest = (...params) => {\n            this._instances.progressBar.show();\n            this._instances.eventBus.call('http.beforeRequest', params);\n        };\n        this._instances.http.eventAfterRequest = (...params) => {\n            this._instances.eventBus.call('http.afterRequest', params);\n            this._instances.progressBar.hide();\n        };\n    }\n\n    /**\n     * @description Initializes the {@link Template} engine with HTTP client and locale.\n     */\n    private _initTemplate(): void {\n        this._instances.template = new Template(this._instances.http, {\n            locale: this.getLocale(),\n        });\n        this._instances.template.eventError = (message) => {\n            this._instances.state.back();\n            this._instances.loader.hide();\n            this._instances.flash.addMessage(message);\n        };\n    }\n\n    /**\n     * @description Initializes the {@link Flash} module for transient notifications.\n     */\n    private _initFlash(): void {\n        this._instances.flash = new Flash();\n    }\n\n    /**\n     * @description Initializes the {@link Dialog} module for modal windows.\n     */\n    private _initDialog(): void {\n        this._instances.dialog = new Dialog(this._instances.http);\n    }\n\n    /**\n     * @description Initializes the {@link Confirm} module for confirmation dialogs.\n     */\n    private _initConfirm(): void {\n        this._instances.confirm = new Confirm();\n    }\n\n    /**\n     * @description Initializes the {@link Viewer} module for image/content previews.\n     */\n    private _initViewer(): void {\n        this._instances.viewer = new Viewer();\n    }\n\n    /**\n     * @description Initializes the {@link Header} component.\n     */\n    private _initHeader(): void {\n        this._instances.header = new Header();\n    }\n\n    /**\n     * @description Initializes the {@link TopMenu} navigation component.\n     */\n    private _initTopMenu(): void {\n        this._instances.topMenu = new TopMenu(this._instances.header);\n    }\n\n    /**\n     * @description Initializes the {@link NavBar} breadcrumb/tab navigation component.\n     */\n    private _initNavBar(): void {\n        this._instances.navBar = new NavBar();\n    }\n\n    /**\n     * @description Initializes the {@link BottomMenu} navigation component.\n     */\n    private _initBottomMenu(): void {\n        this._instances.bottomMenu = new BottomMenu(this._instances.footer);\n    }\n\n    /**\n     * @description Initializes the {@link LeftMenu} drawer navigation component.\n     */\n    private _initLeftMenu(): void {\n        this._instances.leftMenu = new LeftMenu();\n    }\n\n    /**\n     * @description Initializes the {@link Footer} component.\n     */\n    private _initFooter(): void {\n        this._instances.footer = new Footer();\n    }\n\n    /**\n     * @description Initializes the {@link Browser} module and wires the missing features event.\n     */\n    private _initBrowser(): void {\n        this._instances.browser = new Browser();\n        this._instances.browser.eventMissingFeatures = (features) => {\n            this._instances.flash.addError(features.join(', '));\n        };\n    }\n\n    /**\n     * @description Initializes the route options container.\n     */\n    private _initRoutes(): void {\n        this._routeOptions = new Objekt();\n    }\n\n    /**\n     * @description Sets the root (default) state that the router navigates to initially.\n     *\n     * @param {string} id - The route identifier to use as the root state.\n     * @param {object} [opt_params] - Optional route parameters.\n     *\n     * @example\n     * app.setRootState('dashboard', { tab: 'overview' });\n     */\n    setRootState(id: string, opt_params?: object): void {\n        this._routeOptions.set('root.id', id);\n        this._routeOptions.set('root.params', opt_params);\n    }\n\n    /**\n     * @description Retrieves a service instance from the DI container by name.\n     *\n     * @param {InstanceKey} name - The key identifying the service instance.\n     * @returns {object | null} The resolved service instance, or null if not found.\n     *\n     * @example\n     * const http = app.getInstance('http');\n     */\n    getInstance(name: InstanceKey): object | null {\n        return this._instances[name] ?? null;\n    }\n\n    /**\n     * @description Returns the currently active controller instance.\n     *\n     * @returns {object | null} The active controller, or null if none is loaded.\n     *\n     * @example\n     * const ctrl = app.getController();\n     */\n    getController(): object | null {\n        return this._module.getController();\n    }\n\n    /**\n     * @description Starts the application by registering routes and loading services.\n     *\n     * @param {Route[]} routes - Array of {@link Route} definitions for the router.\n     * @param {string[]} services - Array of service names to initialize at startup.\n     *\n     * @example\n     * app.run(\n     *     [new Route('home', 'Home', '/', 'homeCtrl', '/templates/home.html')],\n     *     ['authService', 'analyticsService'],\n     * );\n     */\n    run(routes: Route[], services: string[]): void {\n        if (this.options.production) {\n            console.info(\n                '%cApplication run in production environment...',\n                `font-weight:bold;color:${this.options.theme_color};`,\n            );\n        } else {\n            console.info(\n                '%cApplication run in development environment...',\n                `font-weight:bold;color:${this.options.theme_color};`,\n            );\n        }\n        this._module.handleRoutes(routes, this._routeOptions);\n        this._module.handleServices(services);\n    }\n\n    /**\n     * @description Registers a controller module with the given name, dependencies, and constructor.\n     *\n     * @param {string} name - Unique name for the controller.\n     * @param {string[]} moduleInjections - Array of dependency injection token names.\n     * @param {ClassRef} moduleCallback - The controller class constructor.\n     * @returns {string} The registered module name.\n     *\n     * @example\n     * app.controller('homeCtrl', ['http', 'template'], HomeController);\n     */\n    controller(\n        name: string,\n        moduleInjections: string[],\n        moduleCallback: ClassRef,\n    ): string {\n        return this._module.add(name, moduleInjections, moduleCallback);\n    }\n\n    /**\n     * @description Registers a service module with the given name, dependencies, and constructor.\n     *\n     * @param {string} name - Unique name for the service.\n     * @param {string[]} moduleInjections - Array of dependency injection token names.\n     * @param {ClassRef} moduleCallback - The service class constructor.\n     * @returns {string} The registered module name.\n     *\n     * @example\n     * app.service('authService', ['http', 'localDepot'], AuthService);\n     */\n    service(\n        name: string,\n        moduleInjections: string[],\n        moduleCallback: ClassRef,\n    ): string {\n        return this._module.add(name, moduleInjections, moduleCallback);\n    }\n}\n", "/**\n * Formats a number as a human-readable currency string with configurable\n * thousands delimiter, decimal separator, and decimal precision.\n *\n * Splits the integer portion into groups of three digits separated by the\n * delimiter, and appends the decimal portion (if any) after the separator.\n * Falsy price values are treated as zero.\n *\n * @param {number} price - The numeric value to format.\n * @param {string | undefined} opt_delimiter - Character inserted between\n *     every three digits of the integer part. Defaults to a space `' '`.\n * @param {string | undefined} opt_separator - Character placed between the\n *     integer and decimal parts. Defaults to `','`.\n * @param {number | undefined} opt_precision - Number of decimal places to\n *     include in the output. Defaults to `0` (no decimals).\n * @returns {string} The formatted currency string.\n * @category Utility\n *\n * @example\n * readableCurrency(1234567, ' ', ',', 2);\n * // '1 234 567,00'\n *\n * @example\n * readableCurrency(9999.995, '.', ',', 2);\n * // '10.000,00'\n */\nexport const readableCurrency = (\n    price: number,\n    opt_delimiter: string | undefined = ' ',\n    opt_separator: string | undefined = ',',\n    opt_precision: number | undefined = 0,\n): string => {\n    if (!price) {\n        price = 0;\n    }\n    price = round(price, opt_precision * -1);\n    const parts = price.toFixed(opt_precision).toString().split('.');\n    const decimal = parts[1];\n    let currency = parts[0]\n        .split('')\n        .reverse()\n        .map((char, index) => {\n            return !(index % 3) && index ? char + opt_delimiter : char;\n        })\n        .reverse()\n        .join('');\n    if (decimal) {\n        currency += opt_separator + decimal;\n    }\n    return currency;\n};\n\n/**\n * Converts a large number into a compact, human-readable string using\n * SI suffixes (K, M, G, T, P, E, Z, Y).\n *\n * Iterates through SI magnitude thresholds to find the best fit and\n * divides the number accordingly. Trailing zeros after the decimal point\n * are stripped. When `opt_around` is true, rounding is applied at the\n * magnitude level, and a `'+'` is appended if the rounded value is less\n * than the original.\n *\n * @param {number} num - The number to convert.\n * @param {boolean | undefined} opt_around - When `true`, rounds the number\n *     to its order of magnitude and appends `'+'` if truncated.\n *     Defaults to `false`.\n * @returns {string} The SI-suffixed string representation (e.g., `'1.5K'`,\n *     `'3M+'`).\n * @category Utility\n *\n * @example\n * readableNumber(1500);\n * // '1.5K'\n *\n * @example\n * readableNumber(1500000, true);\n * // '1M+'\n */\nexport const readableNumber = (\n    num: number,\n    opt_around: boolean | undefined = false,\n): string => {\n    const siValues = [\n        { value: 1e24, symbol: 'Y' },\n        { value: 1e21, symbol: 'Z' },\n        { value: 1e18, symbol: 'E' },\n        { value: 1e15, symbol: 'P' },\n        { value: 1e12, symbol: 'T' },\n        { value: 1e9, symbol: 'G' },\n        { value: 1e6, symbol: 'M' },\n        { value: 1e3, symbol: 'K' },\n        { value: 1, symbol: '' },\n    ];\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    let result = '';\n    let i = 0;\n    while (i < siValues.length - 1 && num < siValues[i].value) {\n        const siValue = siValues[i + 1];\n        const exp = num.toString().length - 1;\n        const roundedValue = floor(num, opt_around ? exp : 0);\n        const plus = roundedValue < num ? '+' : '';\n        result =\n            (roundedValue / siValue.value).toString().replace(rx, '$1') +\n            siValue.symbol +\n            plus;\n        i++;\n    }\n    return result;\n};\n\n/**\n * Performs precision-safe decimal adjustment using the shift-round-shift-back\n * technique. Converts the value to exponential notation, applies the\n * specified {@link Math} method, then shifts back to avoid floating-point\n * rounding errors.\n *\n * @param {string} type - The {@link Math} method name to use: `'round'`,\n *     `'floor'`, or `'ceil'`.\n * @param {number} value - The number to adjust.\n * @param {number} exp - The exponent (power of 10) indicating the decimal\n *     place to adjust to. Use negative values for decimal places\n *     (e.g., `-2` for hundredths).\n * @returns {number} The adjusted number, or `NaN` if the inputs are invalid.\n */\nconst decimalAdjust = (type: string, value: number, exp: number): number => {\n    // If the exp is undefined or zero...\n    if (typeof exp === 'undefined' || +exp === 0) {\n        return (Math as Record<string, any>)[type](value);\n    }\n    value = +value;\n    exp = +exp;\n    // If the value is not a number or the exp is not an integer...\n    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n        return NaN;\n    }\n    // Shift\n    let parts = value.toString().split('e');\n    value = (Math as Record<string, any>)[type](\n        +(parts[0] + 'e' + (parts[1] ? +parts[1] - exp : -exp)),\n    );\n    // Shift back\n    parts = value.toString().split('e');\n    return +(parts[0] + 'e' + (parts[1] ? +parts[1] + exp : exp));\n};\n\n/**\n * Precision-safe rounding to a given decimal place using the\n * shift-round-shift-back technique via {@link decimalAdjust}.\n *\n * @param {number} value - The number to round.\n * @param {number} exp - The exponent (power of 10) for the decimal place.\n *     Use negative values for decimal places (e.g., `-2` rounds to\n *     hundredths).\n * @returns {number} The rounded number.\n * @category Utility\n *\n * @example\n * round(1.005, -2);\n * // 1.01\n *\n * @example\n * round(1234, 2);\n * // 1200\n */\nexport const round = (value: number, exp: number): number =>\n    decimalAdjust('round', value, exp);\n\n/**\n * Precision-safe floor operation to a given decimal place using the\n * shift-round-shift-back technique via {@link decimalAdjust}.\n *\n * @param {number} value - The number to floor.\n * @param {number} exp - The exponent (power of 10) for the decimal place.\n *     Use negative values for decimal places (e.g., `-1` floors to tenths).\n * @returns {number} The floored number.\n * @category Utility\n *\n * @example\n * floor(1.89, -1);\n * // 1.8\n *\n * @example\n * floor(1567, 2);\n * // 1500\n */\nexport const floor = (value: number, exp: number): number =>\n    decimalAdjust('floor', value, exp);\n\n/**\n * Precision-safe ceil operation to a given decimal place using the\n * shift-round-shift-back technique via {@link decimalAdjust}.\n *\n * @param {number} value - The number to ceil.\n * @param {number} exp - The exponent (power of 10) for the decimal place.\n *     Use negative values for decimal places (e.g., `-1` ceils to tenths).\n * @returns {number} The ceiled number.\n * @category Utility\n *\n * @example\n * ceil(1.21, -1);\n * // 1.3\n *\n * @example\n * ceil(1234, 2);\n * // 1300\n */\nexport const ceil = (value: number, exp: number): number =>\n    decimalAdjust('ceil', value, exp);\n\n/**\n * Generates a random number between `min` and `max`.\n *\n * When `opt_onlyFloat` is `false` (default), produces a random integer in\n * the inclusive range `[min, max]`. When `true`, produces a continuous\n * floating-point value in the range `[min, max)`.\n *\n * @param {number} min - The lower bound of the range (inclusive).\n * @param {number} max - The upper bound of the range (inclusive for integers,\n *     exclusive for floats).\n * @param {boolean | undefined} opt_onlyFloat - When `true`, returns a\n *     floating-point number instead of an integer. Defaults to `false`.\n * @returns {number} A random number within the specified range.\n * @category Utility\n *\n * @example\n * random(1, 10);\n * // An integer between 1 and 10 (inclusive)\n *\n * @example\n * random(0, 1, true);\n * // A float between 0 (inclusive) and 1 (exclusive)\n */\nexport const random = (\n    min: number,\n    max: number,\n    opt_onlyFloat: boolean | undefined = false,\n): number => {\n    let result;\n    if (opt_onlyFloat) {\n        result = Math.random() * (max - min) + min;\n    } else {\n        result = Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n    return result;\n};\n", "import { round } from './math';\n\n/**\n * Converts an RGB color to HSV (Hue, Saturation, Value) representation.\n *\n * Normalizes the RGB channels to the 0-1 range, computes the chroma\n * (difference between max and min channels), then derives hue, saturation,\n * and value. The returned hue is in degrees (0-360), while saturation and\n * value are in the 0-1 range rounded to two decimal places via\n * {@link round}.\n *\n * @param {number} red - The red channel value (0-255).\n * @param {number} green - The green channel value (0-255).\n * @param {number} blue - The blue channel value (0-255).\n * @returns {[number, number, number]} A tuple of `[h, s, v]` where `h` is\n *     0-360, and `s` and `v` are 0-1.\n * @category Utility\n *\n * @example\n * convertRGBToHSV(255, 0, 0);\n * // [0, 1, 1]\n *\n * @example\n * convertRGBToHSV(0, 128, 255);\n * // [210, 1, 1]\n */\nexport const convertRGBToHSV = (\n    red: number,\n    green: number,\n    blue: number,\n): [number, number, number] => {\n    const rabs = red / 255;\n    const gabs = green / 255;\n    const babs = blue / 255;\n    const v = Math.max(rabs, gabs, babs);\n    const diff = v - Math.min(rabs, gabs, babs);\n    const diffc = (c: number) => (v - c) / 6 / diff + 1 / 2;\n    let h = 0;\n    let s = 0;\n    if (diff !== 0) {\n        s = diff / v;\n        const rr = diffc(rabs);\n        const gg = diffc(gabs);\n        const bb = diffc(babs);\n\n        if (rabs === v) {\n            h = bb - gg;\n        } else if (gabs === v) {\n            h = 1 / 3 + rr - bb;\n        } else if (babs === v) {\n            h = 2 / 3 + gg - rr;\n        }\n        if (h < 0) {\n            h += 1;\n        } else if (h > 1) {\n            h -= 1;\n        }\n    }\n    return [Math.round(h * 360), round(s, -2), round(v, -2)];\n};\n\n/**\n * Converts an RGB color to an uppercase hexadecimal color string.\n *\n * Each channel is converted to a two-character hex value, zero-padded\n * for values at or below 16, and joined with a leading `'#'`.\n *\n * @param {number} red - The red channel value (0-255).\n * @param {number} green - The green channel value (0-255).\n * @param {number} blue - The blue channel value (0-255).\n * @returns {string} The uppercase hex color string (e.g., `'#FF0000'`).\n * @category Utility\n *\n * @example\n * convertRGBToHEX(255, 0, 0);\n * // '#FF0000'\n *\n * @example\n * convertRGBToHEX(0, 128, 255);\n * // '#0080FF'\n */\nexport const convertRGBToHEX = (\n    red: number,\n    green: number,\n    blue: number,\n): string => {\n    const colors: number[] = [red, green, blue];\n    const results: string[] = [];\n    for (let i = 0; i < colors.length; i++) {\n        if (colors[i] <= 16) {\n            results[i] = '0' + colors[i].toString(16).toUpperCase();\n        } else {\n            results[i] = '' + colors[i].toString(16).toUpperCase();\n        }\n    }\n    return '#' + results.join('');\n};\n\n/**\n * Converts a hexadecimal color string to HSV representation.\n *\n * This is a convenience function that chains {@link convertHEXToRGB} and\n * {@link convertRGBToHSV}.\n *\n * @param {string} hexColor - The hex color string (e.g., `'#FF0000'`).\n * @returns {[h: number, s: number, v: number]} A tuple of `[h, s, v]` where\n *     `h` is 0-360, and `s` and `v` are 0-1.\n * @category Utility\n *\n * @example\n * convertHEXToHSV('#00FF00');\n * // [120, 1, 1]\n */\nexport const convertHEXToHSV = (\n    hexColor: string,\n): [h: number, s: number, v: number] => {\n    const [red, green, blue] = convertHEXToRGB(hexColor);\n    return convertRGBToHSV(red, green, blue);\n};\n\n/**\n * Converts a hexadecimal color string to an RGB tuple.\n *\n * Parses the hex string by extracting two-character substrings for each\n * channel (positions 1-2, 3-4, 5-6) and converting them from base-16.\n * An empty or falsy input is treated as an empty string, which will\n * produce `NaN` values.\n *\n * @param {string} hexColor - The hex color string (e.g., `'#FF0000'`).\n * @returns {[r: number, g: number, b: number]} A tuple of `[r, g, b]`\n *     with each channel in the range 0-255.\n * @category Utility\n *\n * @example\n * convertHEXToRGB('#FF8000');\n * // [255, 128, 0]\n */\nexport const convertHEXToRGB = (\n    hexColor: string,\n): [r: number, g: number, b: number] => {\n    const hex = hexColor || '';\n    const red = parseInt(hex.substring(1, 3), 16);\n    const green = parseInt(hex.substring(3, 5), 16);\n    const blue = parseInt(hex.substring(5, 7), 16);\n    return [red, green, blue];\n};\n\n/**\n * Converts an HSV color to an RGB tuple.\n *\n * Uses the standard HSV-to-RGB sector-based algorithm. The hue is divided\n * into six 60-degree sectors, and intermediate values are computed to\n * determine the final red, green, and blue channels, each rounded to the\n * nearest integer in the range 0-255.\n *\n * @param {number} h - The hue in degrees (0-360).\n * @param {number} s - The saturation (0-1).\n * @param {number} v - The value/brightness (0-1).\n * @returns {[r: number, g: number, b: number]} A tuple of `[r, g, b]`\n *     with each channel in the range 0-255.\n * @category Utility\n *\n * @example\n * convertHSVToRGB(0, 1, 1);\n * // [255, 0, 0]\n *\n * @example\n * convertHSVToRGB(120, 1, 0.5);\n * // [0, 128, 0]\n */\nexport const convertHSVToRGB = (\n    h: number,\n    s: number,\n    v: number,\n): [r: number, g: number, b: number] => {\n    const i = Math.floor((h / 60) % 6);\n    const f = h / 60 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n\n    let blue: number;\n    let green: number;\n    let red: number;\n\n    switch (i) {\n        case 0:\n            red = v;\n            green = t;\n            blue = p;\n            break;\n        case 1:\n            red = q;\n            green = v;\n            blue = p;\n            break;\n        case 2:\n            red = p;\n            green = v;\n            blue = t;\n            break;\n        case 3:\n            red = p;\n            green = q;\n            blue = v;\n            break;\n        case 4:\n            red = t;\n            green = p;\n            blue = v;\n            break;\n        default:\n            red = v;\n            green = p;\n            blue = q;\n            break;\n    }\n    return [\n        Math.round(red * 255),\n        Math.round(green * 255),\n        Math.round(blue * 255),\n    ];\n};\n\n/**\n * Converts an HSV color to an uppercase hexadecimal color string.\n *\n * This is a convenience function that chains {@link convertHSVToRGB} and\n * {@link convertRGBToHEX}.\n *\n * @param {number} h - The hue in degrees (0-360).\n * @param {number} s - The saturation (0-1).\n * @param {number} v - The value/brightness (0-1).\n * @returns {string} The uppercase hex color string (e.g., `'#FF0000'`).\n * @category Utility\n *\n * @example\n * convertHSVToHEX(0, 1, 1);\n * // '#FF0000'\n */\nexport const convertHSVToHEX = (h: number, s: number, v: number): string => {\n    const [red, green, blue] = convertHSVToRGB(h, s, v);\n    return convertRGBToHEX(red, green, blue);\n};\n\n/**\n * Returns a contrasting text color (light or dark) for a given background\n * color, determined by the YIQ luminance formula.\n *\n * Computes the YIQ brightness value from the RGB channels of the input\n * hex color. If the brightness is at or above 128 (a relatively light\n * background), the dark color is returned; otherwise the light color is\n * returned. This ensures readable text contrast on any background.\n *\n * @param {string} hexColor - The background hex color string\n *     (e.g., `'#FF0000'`).\n * @param {string | undefined} opt_lightColor - The color to use on dark\n *     backgrounds. Defaults to `'#FEFEFE'`.\n * @param {string | undefined} opt_darkColor - The color to use on light\n *     backgrounds. Defaults to `'#252525'`.\n * @returns {string} Either `opt_lightColor` or `opt_darkColor`, whichever\n *     provides better contrast against the given background.\n * @category Utility\n *\n * @example\n * colorContrastYIQ('#000000');\n * // '#FEFEFE'\n *\n * @example\n * colorContrastYIQ('#FFFFFF');\n * // '#252525'\n *\n * @example\n * colorContrastYIQ('#336699', '#FFFFFF', '#000000');\n * // '#FFFFFF'\n */\nexport const colorContrastYIQ = (\n    hexColor: string,\n    opt_lightColor: string | undefined = '#FEFEFE',\n    opt_darkColor: string | undefined = '#252525',\n): string => {\n    const colors = convertHEXToRGB(hexColor);\n    const yiq = (colors[0] * 299 + colors[1] * 587 + colors[2] * 114) / 1000;\n    return yiq >= 128 ? opt_darkColor : opt_lightColor;\n};\n\n/**\n * Adjusts the brightness of a hex color by a relative difference factor.\n *\n * Converts the hex color to RGB via {@link convertHEXToRGB}, multiplies\n * each channel by `opt_diff`, adds the result back to the channel, and\n * clamps the values to the 0-255 range. Positive `opt_diff` values\n * lighten the color; negative values darken it.\n *\n * @param {string} hexColor - The hex color string to adjust\n *     (e.g., `'#FF0000'`).\n * @param {number | undefined} opt_diff - The brightness adjustment factor,\n *     typically between `-1` (fully darken) and `1` (fully lighten).\n *     Defaults to `0.5`.\n * @returns {string} The adjusted uppercase hex color string.\n * @category Utility\n *\n * @example\n * colorContrast('#808080', 0.5);\n * // A lighter shade of gray\n *\n * @example\n * colorContrast('#808080', -0.5);\n * // A darker shade of gray\n */\nexport const colorContrast = (\n    hexColor: string,\n    opt_diff: number | undefined = 0.5,\n): string => {\n    const colors = convertHEXToRGB(hexColor);\n    for (let i = 0; i < colors.length; i++) {\n        colors[i] += Math.round(colors[i] * opt_diff);\n        if (colors[i] < 0) {\n            colors[i] = 0;\n        } else if (colors[i] > 255) {\n            colors[i] = 255;\n        }\n    }\n    return convertRGBToHEX(...colors);\n};\n", "import { Objekt } from '../core';\nimport { Knot } from '../core/knot';\nimport { DateIO } from '../utils';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * @description Represents a single day cell in the {@link Calendar} grid, with CSS classes for current, now, and month context.\n * @example\n * const day = new Day(new Date(), selectedDate, { css_class: 'current-month' });\n * const knot = day.getKnot();\n * @see {@link Calendar}\n * @see {@link DateIO}\n * @category Component\n */\nexport class Day {\n    date: Date;\n    currentDate: Date;\n    options!: Objekt;\n    cssClasses!: string[];\n\n    /**\n     * @description Creates a new Day instance.\n     * @param {Date} date - The date this cell represents.\n     * @param {Date} currentDate - The currently selected date, used for highlight comparison.\n     * @param {object} options - Configuration options including `css_class`.\n     * @example\n     * const day = new Day(new Date(2024, 0, 15), selectedDate, { css_class: 'current-month' });\n     */\n    constructor(date: Date, currentDate: Date, options: object) {\n        this.date = date;\n        this.currentDate = currentDate;\n        this._setOptions(options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options into an {@link Objekt} instance.\n     * @param {object} options - Raw configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt(options);\n    }\n\n    /**\n     * @description Computes CSS classes for 'current' and 'now' states based on date comparisons.\n     */\n    private _init(): void {\n        const current =\n            DateIO.format(this.date, 'YYYY-MM-DD') ===\n            DateIO.format(this.currentDate, 'YYYY-MM-DD')\n                ? 'current'\n                : null;\n        const now =\n            DateIO.format(this.date, 'YYYY-MM-DD') ===\n            DateIO.format(new Date(), 'YYYY-MM-DD')\n                ? 'now'\n                : null;\n        this.cssClasses = ['day', this.options.css_class, now, current];\n    }\n\n    /**\n     * @description Creates and returns a styled {@link Knot} element representing this day cell with a click handler.\n     * @returns {Knot} The day cell DOM element wrapper.\n     * @example\n     * const dayKnot = day.getKnot();\n     * container.appendChild(dayKnot);\n     */\n    getKnot(): Knot {\n        const knot = new Knot('span');\n        knot.addClass(this.cssClasses);\n        const text = DateIO.format(this.date, 'DD');\n        knot.setHtml(text);\n        knot.addEventListener('click', () => {\n            this.eventClick(this.date);\n        });\n\n        return knot;\n    }\n\n    /**\n     * @description Overridable callback fired when this day cell is clicked. Defaults to a debug log.\n     * @param {Date} date - The date of the clicked day.\n     * @example\n     * day.eventClick = (date) => { console.log('Clicked:', date); };\n     */\n    eventClick(date: Date) {\n        consoleDebug('Day.eventClick()', date);\n    }\n}\n", "import { Objekt } from '../core';\nimport { Knot } from '../core/knot';\nimport { DateIO } from '../utils';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * @description Represents a single month cell in the {@link Calendar}'s month-selection mode, with CSS classes for current and now states.\n * @example\n * const month = new Month(new Date(), selectedDate, {});\n * const knot = month.getKnot();\n * @see {@link Calendar}\n * @see {@link DateIO}\n * @category Component\n */\nexport class Month {\n    date: Date;\n    currentDate: Date;\n    options!: Objekt;\n    cssClasses!: string[];\n\n    /**\n     * @description Creates a new Month instance.\n     * @param {Date} date - The date representing this month.\n     * @param {Date} currentDate - The currently selected date, used for highlight comparison.\n     * @param {object} options - Configuration options including optional `css_class`.\n     * @example\n     * const month = new Month(new Date(2024, 5, 1), selectedDate, {});\n     */\n    constructor(date: Date, currentDate: Date, options: object) {\n        this.date = date;\n        this.currentDate = currentDate;\n        this._setOptions(options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options into an {@link Objekt} instance.\n     * @param {object} options - Raw configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt(options);\n    }\n\n    /**\n     * @description Computes CSS classes for 'current' and 'now' states based on year-month comparison.\n     */\n    private _init(): void {\n        const current =\n            DateIO.format(this.date, 'YYYY-MM') ===\n            DateIO.format(this.currentDate, 'YYYY-MM')\n                ? 'current'\n                : null;\n        const now =\n            DateIO.format(this.date, 'YYYY-MM') ===\n            DateIO.format(new Date(), 'YYYY-MM')\n                ? 'now'\n                : null;\n        this.cssClasses = ['month', this.options.css_class, now, current];\n    }\n\n    /**\n     * @description Creates and returns a styled {@link Knot} element representing this month cell with a click handler.\n     * @returns {Knot} The month cell DOM element wrapper.\n     * @example\n     * const monthKnot = month.getKnot();\n     * container.appendChild(monthKnot);\n     */\n    getKnot(): Knot {\n        const knot = new Knot('span');\n        knot.addClass(this.cssClasses);\n        const text = DateIO.format(this.date, 'MMM');\n        knot.setHtml(text);\n        knot.addEventListener('click', () => {\n            this.eventClick(this.date);\n        });\n        return knot;\n    }\n\n    /**\n     * @description Overridable callback fired when this month cell is clicked. Defaults to a debug log.\n     * @param {Date} date - The date of the clicked month.\n     * @example\n     * month.eventClick = (date) => { console.log('Clicked:', date); };\n     */\n    eventClick(date: Date) {\n        consoleDebug('Month.eventClick()', date);\n    }\n}\n", "import { Objekt } from '../core';\nimport { Knot } from '../core/knot';\nimport { DateIO } from '../utils';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * @description Represents a single year cell in the {@link Calendar}'s year-selection mode, with CSS classes for current and now states.\n * @example\n * const year = new Year(new Date(), selectedDate, {});\n * const knot = year.getKnot();\n * @see {@link Calendar}\n * @see {@link DateIO}\n * @category Component\n */\nexport class Year {\n    date: Date;\n    currentDate: Date;\n    options!: Objekt;\n    cssClasses!: string[];\n\n    /**\n     * @description Creates a new Year instance.\n     * @param {Date} date - The date representing this year.\n     * @param {Date} currentDate - The currently selected date, used for highlight comparison.\n     * @param {object} options - Configuration options including optional `css_class`.\n     * @example\n     * const year = new Year(new Date(2024, 0, 1), selectedDate, {});\n     */\n    constructor(date: Date, currentDate: Date, options: object) {\n        this.date = date;\n        this.currentDate = currentDate;\n        this._setOptions(options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options into an {@link Objekt} instance.\n     * @param {object} options - Raw configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt(options);\n    }\n\n    /**\n     * @description Computes CSS classes for 'current' and 'now' states based on year comparison.\n     */\n    private _init(): void {\n        const current =\n            DateIO.format(this.date, 'YYYY') ===\n            DateIO.format(this.currentDate, 'YYYY')\n                ? 'current'\n                : null;\n        const now =\n            DateIO.format(this.date, 'YYYY') ===\n            DateIO.format(new Date(), 'YYYY')\n                ? 'now'\n                : null;\n        this.cssClasses = ['year', this.options.css_class, now, current];\n    }\n\n    /**\n     * @description Creates and returns a styled {@link Knot} element representing this year cell with a click handler.\n     * @returns {Knot} The year cell DOM element wrapper.\n     * @example\n     * const yearKnot = year.getKnot();\n     * container.appendChild(yearKnot);\n     */\n    getKnot(): Knot {\n        const knot = new Knot('span');\n        knot.addClass(this.cssClasses);\n        const text = DateIO.format(this.date, 'YYYY');\n        knot.setHtml(text);\n        knot.addEventListener('click', () => {\n            this.eventClick(this.date);\n        });\n\n        return knot;\n    }\n\n    /**\n     * @description Overridable callback fired when this year cell is clicked. Defaults to a debug log.\n     * @param {Date} date - The date of the clicked year.\n     * @example\n     * year.eventClick = (date) => { console.log('Clicked:', date); };\n     */\n    eventClick(date: Date) {\n        consoleDebug('Year.eventClick()', date);\n    }\n}\n", "import { Objekt } from '../core';\nimport { Knot } from '../core/knot';\nimport { DateIO } from '../utils';\nimport { consoleDebug } from '../utils/log';\nimport { Day } from './day';\nimport { Month } from './month';\nimport { Year } from './year';\n\n/**\n * @description Date picker calendar with day, month, and year selection modes, navigation, and date selection.\n * @example\n * const calendarKnot = new Knot('div');\n * const calendar = new Calendar(calendarKnot, { date: new Date(), type: 'date' });\n * calendar.eventClick = (date) => { console.log(date); };\n * calendar.draw();\n * @see {@link Day}\n * @see {@link Month}\n * @see {@link Year}\n * @see {@link DateIO}\n * @category Component\n */\nexport class Calendar {\n    calendarKnot: Knot;\n    options!: Objekt;\n    maxDays!: number;\n    maxMonths!: number;\n    maxYears!: number;\n    modes!: string[];\n    activeMode!: string;\n    types!: {\n        date: string;\n        month: string;\n        year: string;\n        week: string;\n        range: string;\n    };\n    headerKnot!: Knot;\n    currentModeKnot!: Knot;\n    contentKnot!: Knot;\n    yearsKnot!: Knot;\n    monthsKnot!: Knot;\n    weekDaysKnot!: Knot;\n    daysKnot!: Knot;\n    previous!: { day: Date; month: Date; year: Date };\n    current!: { day: Date };\n    next!: { day: Date; month: Date; year: Date };\n    days!: Day[];\n    selectedDate!: Date;\n\n    /**\n     * @description Creates a new Calendar instance.\n     * @param {Knot} knot - The container DOM element wrapper.\n     * @param {object} options - Configuration options including `date` and `type` ('date', 'month', 'year', 'week', 'range').\n     * @example\n     * const calendar = new Calendar(new Knot('div'), { date: new Date(), type: 'date' });\n     */\n    constructor(knot: Knot, options: object) {\n        this.calendarKnot = knot;\n        this._setOptions(options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options into an {@link Objekt} instance.\n     * @param {object} options - Raw configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt(options);\n    }\n\n    /**\n     * @description Initializes calendar constants, mode definitions, and DOM structure.\n     */\n    private _init(): void {\n        this.maxDays = 7 * 6;\n        this.maxMonths = 12;\n        this.maxYears = 16;\n\n        this.modes = ['YEAR', 'MONTH', 'DAY'];\n        this.types = {\n            date: this.modes[2],\n            month: this.modes[1],\n            year: this.modes[0],\n            week: this.modes[2],\n            range: this.modes[2],\n        };\n\n        this._initStructure();\n    }\n\n    /**\n     * @description Builds the full calendar DOM structure including header, content, and initial mode.\n     */\n    private _initStructure(): void {\n        this._initHeaderKnot();\n        this._initContentKnot();\n        this._initMode(\n            this.types[this.options.type as keyof typeof this.types],\n        );\n\n        const date: Date = this.options.date;\n        this._setSelectedDate(date);\n        this._setDate(date);\n    }\n\n    /**\n     * @description Creates the header knot with previous/next navigation buttons and the current mode label.\n     */\n    private _initHeaderKnot(): void {\n        this.headerKnot = new Knot('div');\n        this.headerKnot.addClass('header');\n        this.calendarKnot.appendChild(this.headerKnot);\n\n        const previousButton = new Knot('a');\n        previousButton.setAttribute('href', 'javascript:void(0)');\n        previousButton.addClass([\n            'previous',\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-button--icon',\n        ]);\n        const prevIconKnot = new Knot('em');\n        prevIconKnot.addClass('material-icons');\n        prevIconKnot.setHtml('chevron_left');\n        previousButton.appendChild(prevIconKnot);\n        previousButton.addEventListener('click', this._previous.bind(this));\n        this.headerKnot.appendChild(previousButton);\n\n        this.currentModeKnot = new Knot('span');\n        this.currentModeKnot.addClass('current-mode');\n        this.currentModeKnot.addEventListener('click', () => {\n            this._changeMode(-1);\n            this.draw();\n        });\n        this.headerKnot.appendChild(this.currentModeKnot);\n\n        const nextButton = new Knot('a');\n        nextButton.setAttribute('href', 'javascript:void(0)');\n        nextButton.addClass([\n            'previous',\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-button--icon',\n        ]);\n        const nextIconKnot = new Knot('em');\n        nextIconKnot.addClass('material-icons');\n        nextIconKnot.setHtml('chevron_right');\n        nextButton.appendChild(nextIconKnot);\n        nextButton.addEventListener('click', this._next.bind(this));\n        this.headerKnot.appendChild(nextButton);\n    }\n\n    /**\n     * @description Creates the main content container knot for calendar cells.\n     */\n    private _initContentKnot(): void {\n        this.contentKnot = new Knot('div');\n        this.contentKnot.addClass('content');\n        this.calendarKnot.appendChild(this.contentKnot);\n    }\n\n    /**\n     * @description Changes the active mode by the given direction offset.\n     * @param {number} direction - Offset to move in the modes array (-1 for broader, +1 for narrower).\n     */\n    private _changeMode(direction: number): void {\n        const mode = this._getMode(direction);\n        this._initMode(mode);\n    }\n\n    /**\n     * @description Resolves the target mode name by applying the direction offset to the current mode index.\n     * @param {number} direction - Offset to move in the modes array.\n     * @returns {string} The resolved mode name, falling back to the option type's default mode.\n     */\n    private _getMode(direction: number): string {\n        let position = this.modes.indexOf(this.activeMode);\n        if (position !== -1) {\n            position += direction;\n        }\n        const mode = this.modes[position];\n        return mode\n            ? mode\n            : this.types[this.options.type as keyof typeof this.types];\n    }\n\n    /**\n     * @description Dispatches to the appropriate callback based on the active mode (DAY, MONTH, or YEAR).\n     * @param {Function} dayFun - Callback for DAY mode.\n     * @param {Function} monthFun - Callback for MONTH mode.\n     * @param {Function} yearFun - Callback for YEAR mode.\n     * @returns {Date} The result of the invoked callback.\n     */\n    private _switchMode(\n        dayFun: Function,\n        monthFun: Function,\n        yearFun: Function,\n    ): Date {\n        let result = null;\n        switch (this.activeMode) {\n            case 'DAY':\n                result = dayFun();\n                break;\n            case 'MONTH':\n                result = monthFun();\n                break;\n            case 'YEAR':\n                result = yearFun();\n                break;\n            default:\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * @description Clears the content area and initializes the DOM structure for the given mode.\n     * @param {string} mode - The mode to activate ('DAY', 'MONTH', or 'YEAR').\n     */\n    private _initMode(mode: string): void {\n        this.contentKnot.removeChildren();\n        this.activeMode = mode;\n        this._switchMode(\n            this._initDaysMode.bind(this),\n            this._initMonthsMode.bind(this),\n            this._initYearsMode.bind(this),\n        );\n    }\n\n    /**\n     * @description Creates the years container knot for YEAR mode.\n     */\n    private _initYearsMode(): void {\n        this.yearsKnot = new Knot('div');\n        this.yearsKnot.addClass('years');\n        this.contentKnot.appendChild(this.yearsKnot);\n    }\n\n    /**\n     * @description Creates the months container knot for MONTH mode.\n     */\n    private _initMonthsMode(): void {\n        this.monthsKnot = new Knot('div');\n        this.monthsKnot.addClass('months');\n        this.contentKnot.appendChild(this.monthsKnot);\n    }\n\n    /**\n     * @description Creates the week-days header and days container knots for DAY mode.\n     */\n    private _initDaysMode(): void {\n        this.weekDaysKnot = new Knot('div');\n        this.weekDaysKnot.addClass('week-days');\n        this.contentKnot.appendChild(this.weekDaysKnot);\n\n        this.daysKnot = new Knot('div');\n        this.daysKnot.addClass('days');\n        this.contentKnot.appendChild(this.daysKnot);\n    }\n\n    /**\n     * @description Navigates the calendar to the previous period based on the active mode.\n     */\n    private _previous(): void {\n        const date = this._switchMode(\n            () => {\n                return this.previous.month;\n            },\n            () => {\n                return this.previous.year;\n            },\n            () => {\n                let date = DateIO.subYears(this.current.day, this.maxYears);\n                if (DateIO.getYear(date) < 0) {\n                    date = this.current.day;\n                }\n                return date;\n            },\n        );\n        this._setDate(date);\n        this.draw();\n    }\n\n    /**\n     * @description Navigates the calendar to the next period based on the active mode.\n     */\n    private _next(): void {\n        const date = this._switchMode(\n            () => {\n                return this.next.month;\n            },\n            () => {\n                return this.next.year;\n            },\n            () => {\n                return DateIO.addYears(this.current.day, this.maxYears);\n            },\n        );\n        this._setDate(date);\n        this.draw();\n    }\n\n    /**\n     * @description Sets the current date, recalculates variables, and populates day cells for all three months.\n     * @param {Date} date - The date to center the calendar on.\n     */\n    private _setDate(date: Date): void {\n        this._setVariables(date);\n\n        this._setPreviousMonth();\n        this._setCurrentMonth();\n        this._setNextMonth();\n    }\n\n    /**\n     * @description Resets the days array and computes previous, current, and next date references.\n     * @param {Date} date - The reference date for calculations.\n     */\n    private _setVariables(date: Date): void {\n        this.days = [];\n\n        this.previous = {\n            day: DateIO.subDays(date, 1),\n            month: DateIO.subMonths(date, 1),\n            year: DateIO.subYears(date, 1),\n        };\n\n        this.current = {\n            day: date,\n        };\n\n        this.next = {\n            day: DateIO.addDays(date, 1),\n            month: DateIO.addMonths(date, 1),\n            year: DateIO.addYears(date, 1),\n        };\n    }\n\n    /**\n     * @description Renders the calendar content for the current active mode.\n     * @example\n     * calendar.draw();\n     */\n    draw(): void {\n        this._switchMode(\n            this._drawDaysStructure.bind(this),\n            this._drawMonthsStructure.bind(this),\n            this._drawYearsStructure.bind(this),\n        );\n    }\n\n    /**\n     * @description Draws the header, week-day labels, and day cells for DAY mode.\n     */\n    private _drawDaysStructure(): void {\n        this._drawHeader('YYYY MMMM');\n        this._drawWeekDays();\n        this._drawDays();\n    }\n\n    /**\n     * @description Draws the header and month cells for MONTH mode.\n     */\n    private _drawMonthsStructure(): void {\n        this._drawHeader('YYYY');\n        this._drawMonths();\n    }\n\n    /**\n     * @description Draws the header and year cells for YEAR mode.\n     */\n    private _drawYearsStructure(): void {\n        this._drawHeader(null);\n        this._drawYears();\n    }\n\n    /**\n     * @description Renders the header text using the given date format string.\n     * @param {string | null} format - The {@link DateIO} format string, or null for empty header.\n     */\n    private _drawHeader(format: string | null): void {\n        this.currentModeKnot.removeChildren();\n        const text = format ? DateIO.format(this.current.day, format) : '';\n        this.currentModeKnot.setHtml(text);\n    }\n\n    /**\n     * @description Creates and renders {@link Month} cells for all 12 months of the current year.\n     */\n    private _drawMonths(): void {\n        this.monthsKnot.removeChildren();\n        for (let i = 0; i < this.maxMonths; i++) {\n            const month = new Month(\n                DateIO.setMonth(this.current.day, i),\n                this.selectedDate,\n                {},\n            );\n            month.eventClick = this._onClick.bind(this);\n            const monthKnot = month.getKnot();\n            this.monthsKnot.appendChild(monthKnot);\n        }\n    }\n\n    /**\n     * @description Creates and renders {@link Year} cells for a block of years aligned to maxYears.\n     */\n    private _drawYears(): void {\n        this.yearsKnot.removeChildren();\n        const startYear =\n            DateIO.getYear(this.current.day) -\n            (DateIO.getYear(this.current.day) % this.maxYears);\n        for (let i = startYear; i < startYear + this.maxYears; i++) {\n            const year = new Year(\n                DateIO.setYear(this.current.day, i),\n                this.selectedDate,\n                {},\n            );\n            year.eventClick = this._onClick.bind(this);\n            const yearKnot = year.getKnot();\n            this.yearsKnot.appendChild(yearKnot);\n        }\n    }\n\n    /**\n     * @description Renders the abbreviated week-day labels (e.g., Mo, Tu) in the header row.\n     */\n    private _drawWeekDays(): void {\n        this.weekDaysKnot.removeChildren();\n\n        const firstDOW = DateIO.startOfWeek(new Date());\n        for (let i = 0; i < 7; i++) {\n            const text = DateIO.format(DateIO.addDays(firstDOW, i), 'EEEEEE');\n\n            const knot = new Knot('span');\n            knot.addClass('day');\n            knot.setHtml(text);\n            this.weekDaysKnot.appendChild(knot);\n        }\n    }\n\n    /**\n     * @description Appends all pre-built {@link Day} knots into the days container.\n     */\n    private _drawDays(): void {\n        this.daysKnot.removeChildren();\n        for (let i = 0; i < this.days.length; i++) {\n            const day = this.days[i];\n            const dayKnot = day.getKnot();\n            this.daysKnot.appendChild(dayKnot);\n        }\n    }\n\n    /**\n     * @description Populates trailing {@link Day} cells from the previous month to fill the first week row.\n     */\n    private _setPreviousMonth(): void {\n        const diffDays = DateIO.getDay(DateIO.endOfMonth(this.previous.month));\n        const daysInMonth = DateIO.getDaysInMonth(this.previous.month);\n        for (let i = daysInMonth - diffDays; i <= daysInMonth; i++) {\n            const date = DateIO.setDate(this.previous.month, i);\n            const day = new Day(date, this.selectedDate, {\n                css_class: 'previous-month',\n            });\n            day.eventClick = this._onClick.bind(this);\n            this.days.push(day);\n        }\n    }\n\n    /**\n     * @description Populates {@link Day} cells for each day in the current month.\n     */\n    private _setCurrentMonth(): void {\n        const daysInMonth = DateIO.getDaysInMonth(this.current.day);\n        for (let i = 1; i <= daysInMonth; i++) {\n            const date = DateIO.setDate(this.current.day, i);\n            const day = new Day(date, this.selectedDate, {\n                css_class: 'current-month',\n            });\n            day.eventClick = this._onClick.bind(this);\n            this.days.push(day);\n        }\n    }\n\n    /**\n     * @description Populates leading {@link Day} cells from the next month to fill the remaining grid slots.\n     */\n    private _setNextMonth(): void {\n        const diffDays = this.maxDays - this.days.length;\n        for (let i = 1; i <= diffDays; i++) {\n            const date = DateIO.setDate(this.next.month, i);\n            const day = new Day(date, this.selectedDate, {\n                css_class: 'next-month',\n            });\n            day.eventClick = this._onClick.bind(this);\n            this.days.push(day);\n        }\n    }\n\n    /**\n     * @description Updates the selected and current date based on the active mode's granularity.\n     * @param {Date} selectedDate - The date selected by the user.\n     */\n    private _setModeDate(selectedDate: Date): void {\n        let date = this.current.day;\n        this._switchMode(\n            () => {\n                date = DateIO.setMonth(date, DateIO.getMonth(selectedDate));\n                date = DateIO.setDate(date, DateIO.getDate(selectedDate));\n            },\n            () => {\n                date = DateIO.setMonth(date, DateIO.getMonth(selectedDate));\n            },\n            () => {\n                date = DateIO.setYear(date, DateIO.getYear(selectedDate));\n            },\n        );\n        this._setSelectedDate(date);\n        this._setDate(date);\n    }\n\n    /**\n     * @description Handles click on a day, month, or year cell; updates state, advances mode, and redraws.\n     * @param {Date} selectedDate - The date associated with the clicked cell.\n     */\n    private _onClick(selectedDate: Date): void {\n        this._setModeDate(selectedDate);\n\n        const mode = this.types[this.options.type as keyof typeof this.types];\n        if (this.activeMode !== mode) {\n            this._changeMode(1);\n        }\n        this.draw();\n        this.eventClick(selectedDate);\n    }\n\n    /**\n     * @description Stores the given date as the currently selected date.\n     * @param {Date} date - The date to mark as selected.\n     */\n    private _setSelectedDate(date: Date): void {\n        this.selectedDate = date;\n    }\n\n    /**\n     * @description Overridable callback fired when a date is selected. Defaults to a debug log.\n     * @param {Date} date - The selected date.\n     * @example\n     * calendar.eventClick = (date) => { console.log('Selected:', date); };\n     */\n    eventClick(date: Date): void {\n        consoleDebug('Calendar.eventClick()', date);\n    }\n}\n", "import { each, isString, isUndefined, typeCast } from '../utils/operation';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * HTML5 Canvas wrapper for 2D drawing operations.\n *\n * @description Wraps an HTML5 canvas element providing methods for drawing polygons,\n * rectangles, and images, as well as reading pixel data. Accepts a {@link Knot}, a CSS\n * selector string, or creates a new canvas element when no argument is provided.\n *\n * @example\n * const canvas = new Canvas('.my-canvas');\n * canvas.setSize(800, 600);\n * canvas.drawRectangle(10, 10, 100, 50, 0, { fillStyle: '#FF0000' });\n *\n * @see {@link Knot}\n * @category Component\n */\nexport class Canvas {\n    canvasKnot!: Knot<HTMLCanvasElement>;\n    canvasElement!: HTMLCanvasElement;\n    context!: CanvasRenderingContext2D;\n\n    /**\n     * @param opt_selector - A {@link Knot} wrapping a canvas element, a CSS selector\n     *     string, or undefined to create a new canvas element.\n     */\n    constructor(opt_selector?: Knot | string) {\n        this._init(opt_selector);\n        this._initEvents();\n    }\n\n    /**\n     * Resolves the canvas element from the selector and initializes the 2D context.\n     * @param opt_selector - A Knot, CSS selector string, or undefined.\n     */\n    private _init(opt_selector?: Knot | string): void {\n        this.canvasKnot = opt_selector as Knot<HTMLCanvasElement>;\n        if (isString(opt_selector)) {\n            this.canvasKnot = new Query<HTMLCanvasElement>(\n                opt_selector,\n            ).getKnot();\n        } else if (isUndefined(opt_selector)) {\n            this.canvasKnot = new Knot<HTMLCanvasElement>('canvas');\n        }\n        this.canvasElement = this.canvasKnot.getNode();\n        this.context = this.canvasElement.getContext('2d')!;\n    }\n\n    /**\n     * Binds the mousemove event to the canvas element.\n     */\n    private _initEvents(): void {\n        this.canvasKnot.addEventListener('mousemove', (canvasKnot, event) => {\n            const rect = canvasKnot.getNode().getBoundingClientRect();\n            const x = event.clientX - rect.left;\n            const y = event.clientY - rect.top;\n            this.eventMouseMove(x, y);\n        });\n    }\n\n    /**\n     * Sets the canvas width in pixels.\n     *\n     * @param width - The width in pixels.\n     *\n     * @example\n     * canvas.setWidth(800);\n     */\n    setWidth(width: number): void {\n        this.canvasElement.width = width;\n    }\n\n    /**\n     * Returns the current canvas width in pixels.\n     *\n     * @returns The canvas width.\n     *\n     * @example\n     * const w = canvas.getWidth();\n     */\n    getWidth(): number {\n        return this.canvasElement.width;\n    }\n\n    /**\n     * Sets the canvas height in pixels.\n     *\n     * @param height - The height in pixels.\n     *\n     * @example\n     * canvas.setHeight(600);\n     */\n    setHeight(height: number): void {\n        this.canvasElement.height = height;\n    }\n\n    /**\n     * Returns the current canvas height in pixels.\n     *\n     * @returns The canvas height.\n     *\n     * @example\n     * const h = canvas.getHeight();\n     */\n    getHeight(): number {\n        return this.canvasElement.height;\n    }\n\n    /**\n     * Sets both the canvas width and height in pixels.\n     *\n     * @param width - The width in pixels.\n     * @param height - The height in pixels.\n     *\n     * @example\n     * canvas.setSize(800, 600);\n     */\n    setSize(width: number, height: number): void {\n        this.setWidth(width);\n        this.setHeight(height);\n    }\n\n    /**\n     * Draws a regular polygon on the canvas.\n     *\n     * @param x - The x-coordinate of the polygon center.\n     * @param y - The y-coordinate of the polygon center.\n     * @param radius - The radius from center to each vertex.\n     * @param sides - The number of sides (must be at least 3).\n     * @param rotateAngle - Rotation angle in radians.\n     * @param options - Canvas context properties to apply (e.g. fillStyle, strokeStyle).\n     *\n     * @example\n     * canvas.drawPolygon(100, 100, 50, 6, 0, {\n     *     fillStyle: '#00FF00',\n     *     strokeStyle: '#000000',\n     * });\n     */\n    drawPolygon(\n        x: number,\n        y: number,\n        radius: number,\n        sides: number,\n        rotateAngle: number,\n        options: object,\n    ): void {\n        if (sides < 3) {\n            return;\n        }\n        const a = (Math.PI * 2) / sides;\n        this.context.save();\n        this.context.translate(x, y);\n        this.context.beginPath();\n        this.context.rotate(rotateAngle);\n        this.context.moveTo(radius, 0);\n        for (let i = 1; i < sides; i++) {\n            this.context.lineTo(\n                radius * Math.cos(a * i),\n                radius * Math.sin(a * i),\n            );\n        }\n        this.context.closePath();\n        each(options, (value: any, key: string | number) => {\n            (this.context as any)[key] = value;\n        });\n        this.context.fill();\n        this.context.stroke();\n        this.context.restore();\n    }\n\n    /**\n     * Draws a rectangle on the canvas with optional rotation.\n     *\n     * @param x - The x-coordinate of the top-left corner.\n     * @param y - The y-coordinate of the top-left corner.\n     * @param width - The rectangle width.\n     * @param height - The rectangle height.\n     * @param rotateAngle - Rotation angle in radians.\n     * @param options - Canvas context properties to apply. Fill is applied if fillStyle is set;\n     *     stroke is applied if strokeStyle is set.\n     *\n     * @example\n     * canvas.drawRectangle(10, 10, 200, 100, 0, {\n     *     fillStyle: '#0000FF',\n     *     strokeStyle: '#000000',\n     * });\n     */\n    drawRectangle(\n        x: number,\n        y: number,\n        width: number,\n        height: number,\n        rotateAngle: number,\n        options: object,\n    ): void {\n        this.context.save();\n        this.context.translate(x, y);\n        this.context.beginPath();\n        this.context.rotate(rotateAngle);\n        this.context.rect(0, 0, width, height);\n        each(options, (value: any, key: string | number) => {\n            (this.context as any)[key] = value;\n        });\n        if ((options as Record<string, any>)['fillStyle']) {\n            this.context.fill();\n        }\n        if ((options as Record<string, any>)['strokeStyle']) {\n            this.context.stroke();\n        }\n        this.context.restore();\n    }\n\n    /**\n     * Draws an image onto the canvas from an image {@link Knot}.\n     *\n     * @param imageKnot - A {@link Knot} wrapping an HTMLImageElement.\n     * @param opt_width - Optional width override (defaults to the element's width attribute).\n     * @param opt_height - Optional height override (defaults to the element's height attribute).\n     *\n     * @example\n     * const img = new Knot('img');\n     * img.setAttribute('src', '/photo.png');\n     * canvas.drawImage(img, 200, 150);\n     */\n    drawImage(\n        imageKnot: Knot<HTMLImageElement>,\n        opt_width?: number,\n        opt_height?: number,\n    ) {\n        const width = opt_width || typeCast(imageKnot.getAttribute('width'));\n        const height = opt_height || typeCast(imageKnot.getAttribute('height'));\n        this.context.save();\n        this.context.drawImage(imageKnot.getNode(), 0, 0, width, height);\n        this.context.restore();\n    }\n\n    /**\n     * Returns the RGBA pixel data at a specific canvas coordinate.\n     *\n     * @param x - The x-coordinate to sample.\n     * @param y - The y-coordinate to sample.\n     * @returns A Uint8ClampedArray containing [R, G, B, A] values.\n     *\n     * @example\n     * const [r, g, b, a] = canvas.getImageDataXY(50, 50);\n     */\n    getImageDataXY(x: number, y: number): Uint8ClampedArray {\n        return this.context.getImageData(x, y, 1, 1).data;\n    }\n\n    /**\n     * Called when the mouse moves over the canvas. Override to handle mouse tracking.\n     * @param x - The x-coordinate relative to the canvas.\n     * @param y - The y-coordinate relative to the canvas.\n     */\n    eventMouseMove(x: number, y: number): void {\n        consoleDebug('Canvas.eventMouseMove()', x, y);\n    }\n\n    /**\n     * Clears the entire canvas.\n     *\n     * @example\n     * canvas.clear();\n     */\n    clear(): void {\n        this.context.clearRect(0, 0, this.getWidth(), this.getHeight());\n    }\n}\n", "import { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\n\n/**\n * @description \"No content\" placeholder handler that displays an image and/or text message\n * when a data container is empty, and hides itself when content is present.\n *\n * @example\n * const handler = new ContentHandler(containerKnot, { image_url: '/empty.svg', text: 'No items found' });\n * handler.show(); // Display placeholder\n * handler.hide(); // Hide placeholder, show container\n *\n * @see {@link Table} for table components that use ContentHandler\n * @see {@link CardCollection} for card components that use ContentHandler\n *\n * @category Component\n */\nexport class ContentHandler {\n    containerKnot: Knot;\n    options!: Objekt;\n    contentKnot!: Knot;\n\n    /**\n     * @description Creates a new ContentHandler attached to a container element.\n     * @param {Knot} containerKnot - The data container element to manage visibility for.\n     * @param {object} [opt_options] - Configuration options (image_url, text).\n     */\n    constructor(containerKnot: Knot, opt_options: object | undefined = {}) {\n        this.containerKnot = containerKnot;\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options with defaults (image_url, text).\n     * @param {object} [opt_options] - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            image_url: null,\n            text: '',\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * @description Builds the placeholder DOM with optional image and text, then shows it.\n     */\n    private _init(): void {\n        this.contentKnot = new Knot('div');\n        this.contentKnot.addClass('content-handler');\n        this.containerKnot.insertAfter(this.contentKnot);\n\n        if (this.options.image_url) {\n            const imageKnot = new Knot('img');\n            imageKnot.setAttribute('src', this.options.image_url);\n            this.contentKnot.appendChild(imageKnot);\n        }\n        if (this.options.text) {\n            const textKnot = new Knot('p');\n            textKnot.setHtml(this.options.text);\n            this.contentKnot.appendChild(textKnot);\n        }\n\n        this.show();\n    }\n\n    /**\n     * @description Shows the placeholder and hides the data container.\n     *\n     * @example\n     * if (items.length === 0) { handler.show(); }\n     */\n    show(): void {\n        this.contentKnot.addClass('visible-flex');\n        this.containerKnot.addClass('hidden');\n    }\n\n    /**\n     * @description Hides the placeholder and shows the data container.\n     *\n     * @example\n     * handler.hide();\n     */\n    hide(): void {\n        this.contentKnot.removeClass('visible-flex');\n        this.containerKnot.removeClass('hidden');\n    }\n}\n", "import { format, each } from '../utils/operation';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { consoleDebug } from '../utils/log';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Internal page descriptor representing a single pager button.\n */\ntype Page = {\n    text: string;\n    page: number;\n};\n\n/**\n * @description Pagination control that renders page numbers, previous/next navigation buttons,\n * and statistics (e.g. \"1-10 / 100\").\n *\n * @example\n * const pager = new Pager(containerKnot, ['.pager', '.pager-statistics'], { row_count: 25 });\n * pager.eventAction = (page) => fetchData(page);\n * pager.setCount(100);\n * pager.draw();\n *\n * @see {@link Table} for table-based data display with built-in pagination\n * @see {@link CardCollection} for card-based data display with built-in pagination\n *\n * @category Component\n */\nexport class Pager {\n    pager: Knot;\n    pagerStatistics: Knot;\n    options!: Objekt;\n    count!: number;\n    pageNum!: number;\n    page!: number;\n    offset!: number;\n\n    /**\n     * @description Creates a new Pager instance bound to pager and statistics elements within the given DOM.\n     * @param {Knot} dom - The parent DOM element containing pager selectors.\n     * @param {string[]} [opt_selectors] - CSS selectors for the pager and statistics elements.\n     * @param {object} [opt_options] - Configuration options (row_count, pager_num).\n     */\n    constructor(\n        dom: Knot,\n        opt_selectors: string[] | undefined = ['.pager', '.pager-statistics'],\n        opt_options: object | undefined = {},\n    ) {\n        this.pager = new Query(opt_selectors[0], dom).getKnot();\n        this.pagerStatistics = new Query(opt_selectors[1], dom).getKnot();\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options with defaults (row_count, pager_num).\n     * @param {object} [opt_options] - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            row_count: 10,\n            pager_num: 4,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * @description Initializes count and sets the page to 1.\n     */\n    private _init(): void {\n        this.count = this.options.row_count;\n        this.setPage(1);\n    }\n\n    /**\n     * @description Rebuilds the pager DOM: clears existing buttons, calculates page count, and renders navigation.\n     */\n    private _drawPager(): void {\n        this.pager.removeChildren();\n        this.pageNum = Math.ceil(this.count / this.options.row_count);\n        this._drawPreviousButton();\n        this._drawPageNumbers();\n        this._drawNextButton();\n    }\n\n    /**\n     * @description Renders the \"from-to / total\" statistics text.\n     */\n    private _drawStatistics(): void {\n        const page = this.page - 1;\n        const from = page * this.options.row_count + 1;\n        let to = page * this.options.row_count + this.options.row_count;\n        to = to > this.count ? this.count : to;\n        if (to > 0) {\n            this.pagerStatistics.setHtml(\n                format('{0}\u2012{1} / {2}', [from, to, this.count]),\n            );\n        } else {\n            this.pagerStatistics.setHtml('');\n        }\n    }\n\n    /**\n     * @description Renders the previous-page chevron button when there are multiple pages.\n     */\n    private _drawPreviousButton(): void {\n        if (this.pageNum > 1) {\n            const previousButton = new Knot<HTMLButtonElement>('button');\n            previousButton.addClass([\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-js-ripple-effect',\n            ]);\n            previousButton.addEventListener('click', () => {\n                this._previous();\n            });\n            const iconKnot = new Knot('em');\n            iconKnot.addClass('material-icons');\n            iconKnot.setHtml('chevron_left');\n            previousButton.appendChild(iconKnot);\n            mdl(previousButton);\n            this.pager.appendChild(previousButton);\n        }\n    }\n\n    /**\n     * @description Renders the next-page chevron button when there are multiple pages.\n     */\n    private _drawNextButton(): void {\n        if (this.pageNum > 1) {\n            const nextButton = new Knot<HTMLButtonElement>('button');\n            nextButton.addClass([\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-js-ripple-effect',\n            ]);\n            nextButton.addEventListener('click', () => {\n                this._next();\n            });\n            const iconKnot = new Knot('em');\n            iconKnot.addClass('material-icons');\n            iconKnot.setHtml('chevron_right');\n            nextButton.appendChild(iconKnot);\n            mdl(nextButton);\n            this.pager.appendChild(nextButton);\n        }\n    }\n\n    /**\n     * @description Renders numbered page buttons with ellipsis for overflow ranges.\n     */\n    private _drawPageNumbers(): void {\n        const pagers = this._getPagers();\n        if (pagers.length > 1) {\n            each(pagers, (pager) => {\n                const pageKnot = new Knot<HTMLButtonElement>('button');\n                pageKnot.setData('page', pager.page);\n                pageKnot.setHtml(pager.text);\n                pageKnot.addClass([\n                    'mdl-button',\n                    'mdl-js-button',\n                    'mdl-js-ripple-effect',\n                ]);\n                if (this.page === pager.page) {\n                    pageKnot.addClass('mdl-button--accent');\n                }\n                pageKnot.addEventListener('click', (knot) => {\n                    const page = knot.getData('page');\n                    this._go(page);\n                });\n                mdl(pageKnot);\n                this.pager.appendChild(pageKnot);\n            });\n        }\n    }\n\n    /**\n     * @description Computes the visible page descriptors for the current page window.\n     * @returns {Page[]} Array of page descriptors with text and page number.\n     */\n    private _getPagers(): Page[] {\n        const part = Math.floor((this.page - 1) / this.options.pager_num);\n        const pagers = [];\n        if (part > 0) {\n            pagers.push({\n                text: '...',\n                page: part * this.options.pager_num,\n            });\n        }\n        for (let i = 1; i <= this.options.pager_num; i++) {\n            const page = part * this.options.pager_num + i;\n            if (page <= this.pageNum) {\n                pagers.push({\n                    text: page.toString(),\n                    page: page,\n                });\n            }\n        }\n        if (\n            this.pageNum > this.options.pager_num &&\n            part !== Math.floor((this.pageNum - 1) / this.options.pager_num)\n        ) {\n            pagers.push({\n                text: '...',\n                page:\n                    part * this.options.pager_num + this.options.pager_num + 1,\n            });\n        }\n        return pagers;\n    }\n\n    /**\n     * @description Advances to the next page, wrapping to page 1 after the last page.\n     */\n    private _next(): void {\n        let page = this.page + 1;\n        if (page > this.pageNum) {\n            page = 1;\n        }\n        this._go(page);\n    }\n\n    /**\n     * @description Goes to the previous page, wrapping to the last page from page 1.\n     */\n    private _previous(): void {\n        let page = this.page - 1;\n        if (page < 1) {\n            page = this.pageNum;\n        }\n        this._go(page);\n    }\n\n    /**\n     * @description Sets the total number of items for pagination calculation.\n     * @param {number} count - Total item count.\n     *\n     * @example\n     * pager.setCount(200);\n     * pager.draw();\n     */\n    setCount(count: number): void {\n        this.count = count;\n    }\n\n    /**\n     * @description Navigates to the given page and fires the eventAction callback.\n     * @param {number} page - Target page number.\n     */\n    private _go(page: number): void {\n        this.setPage(page);\n        this.eventAction(this.page);\n    }\n\n    /**\n     * @description Sets the current page number and recalculates the row offset.\n     * @param {number} page - The page number to set.\n     *\n     * @example\n     * pager.setPage(3);\n     */\n    setPage(page: number): void {\n        this.page = page;\n        this.offset = (this.page - 1) * this.options.row_count;\n    }\n\n    /**\n     * @description Renders the pager statistics and page navigation buttons.\n     *\n     * @example\n     * pager.setCount(totalItems);\n     * pager.draw();\n     */\n    draw(): void {\n        this._drawStatistics();\n        this._drawPager();\n    }\n\n    /**\n     * @description Called when a page navigation action occurs. Override to handle page changes.\n     * @param {number} page - The newly selected page number.\n     *\n     * @example\n     * pager.eventAction = (page) => {\n     *     fetchData({ offset: (page - 1) * rowCount });\n     * };\n     */\n    eventAction(page: number): void {\n        consoleDebug('Pager.eventAction()', page);\n    }\n}\n", "import { contain, eachArray, format } from '../utils/operation';\nimport { Collection } from '../core/collection';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { ContentHandler } from './contentHandler';\nimport { Pager } from './pager';\nimport { consoleDebug, consoleWarn } from '../utils/log';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Card-based data display component with template rendering and pagination.\n * Renders data items as cards using an HTML template element, with built-in\n * paging and empty-content handling.\n *\n * @example\n * const cards = new CardCollection(containerKnot, '.card-collection', ctrl, { row_count: 12 });\n * cards.eventAction = (params) => http.get('/api/items', params);\n * cards.render();\n *\n * @see {@link Pager} for the pagination control\n * @see {@link ContentHandler} for the empty-content placeholder\n * @see {@link Collection} for the underlying data collection\n *\n * @category Component\n */\nexport class CardCollection {\n    cardCollectionKnot: Knot;\n    ctrl: any;\n    options!: Objekt;\n    collection!: Collection<Objekt>;\n    query!: string;\n    pager!: Pager;\n    contentHandler!: ContentHandler;\n    body!: Knot;\n    cardFooterKnot!: Knot;\n    pagerKnot!: Knot;\n    cardTemplate!: Knot<HTMLTemplateElement>;\n    template!: string;\n\n    /**\n     * @description Creates a new CardCollection bound to a DOM container with optional controller and options.\n     * @param {Knot} dom - The parent DOM element.\n     * @param {string} [opt_selector] - CSS selector for the card collection container.\n     * @param {object | null} [opt_ctrl] - Controller object for template expression evaluation.\n     * @param {object} [opt_options] - Configuration options (row_count, pager_num, sort, no_content).\n     */\n    constructor(\n        dom: Knot,\n        opt_selector: string | undefined = '.card-collection',\n        opt_ctrl: (object | null) | undefined = null,\n        opt_options: object | undefined = {},\n    ) {\n        this.cardCollectionKnot = new Query(opt_selector, dom).getKnot();\n        this.ctrl = opt_ctrl;\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options with defaults (no_content, row_count, pager_num, sort).\n     * @param {object} [opt_options] - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            no_content: {\n                image_url: null,\n                text: '',\n            },\n            row_count: 12,\n            pager_num: 4,\n            sort: {\n                column: null,\n                order: 'asc',\n            },\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * @description Initializes the collection, content handler, DOM structure, template, and pager.\n     */\n    private _init(): void {\n        this.collection = new Collection();\n        this.query = '';\n        this._initContentHandler();\n        this._initStructure();\n        this._initTemplate();\n        this.pager = new Pager(\n            this.cardCollectionKnot,\n            ['.pager', '.pager-statistics'],\n            this.options,\n        );\n        this.pager.eventAction = (page) => {\n            this.refresh(page);\n        };\n    }\n\n    /**\n     * @description Creates the content handler for empty-state display.\n     */\n    private _initContentHandler(): void {\n        this.contentHandler = new ContentHandler(\n            this.cardCollectionKnot,\n            this.options.no_content,\n        );\n    }\n\n    /**\n     * @description Builds the card body, footer, and pager DOM structure.\n     */\n    private _initStructure(): void {\n        this.cardCollectionKnot.addClass('card-collection');\n\n        this.body = new Knot('div');\n        this.body.addClass('cards');\n        this.cardCollectionKnot.appendChild(this.body);\n\n        this.cardFooterKnot = new Knot('div');\n        this.cardFooterKnot.addClass('card-footer');\n        this.cardCollectionKnot.appendChild(this.cardFooterKnot);\n\n        this.pagerKnot = new Knot('div');\n        this.pagerKnot.addClass('pager-statistics');\n        this.cardFooterKnot.appendChild(this.pagerKnot);\n\n        this.pagerKnot = new Knot('div');\n        this.pagerKnot.addClass('pager');\n        this.cardFooterKnot.appendChild(this.pagerKnot);\n    }\n\n    /**\n     * @description Extracts and removes the HTML template element for card rendering.\n     */\n    private _initTemplate(): void {\n        this.cardTemplate = new Query<HTMLTemplateElement>(\n            'template',\n            this.cardCollectionKnot,\n        ).getKnot();\n        this.cardTemplate.remove();\n        this.template = this.cardTemplate.toString(false);\n    }\n\n    /**\n     * @description Renders a single card by replacing template expressions with item data and controller methods.\n     * @param {Objekt} item - The data item to render.\n     * @returns {Knot} The rendered card DOM element.\n     */\n    private _getCardKnot(item: Objekt): Knot {\n        const regex = new RegExp('{{[a-zA-Z._,() ]*}}', 'g');\n        const matches = this.template.match(regex);\n        let cloneTemplate = this.template;\n        eachArray(matches!, (match) => {\n            const expression = match.replace('{{', '').replace('}}', '');\n            if (contain(expression, 'ctrl.')) {\n                const paramsRegex = new RegExp('(([a-zA-Z._, ]*))', 'g');\n                const expressionMatches = expression.match(paramsRegex)!;\n                const fnName = expressionMatches[0].replace('ctrl.', '');\n                const fnKeys = expressionMatches[2].split(', ');\n                const fnParams: any[] = [];\n                eachArray(fnKeys, (key) => {\n                    if (key === 'item') {\n                        fnParams.push(item);\n                    } else {\n                        fnParams.push(item.get(key));\n                    }\n                });\n                if (this.ctrl) {\n                    const method = this.ctrl[fnName];\n                    if (method) {\n                        const result = method.apply(this.ctrl, fnParams);\n                        cloneTemplate = cloneTemplate.replace(match, result);\n                    } else {\n                        consoleWarn(format('ctrl.{0}() missing', [fnName]));\n                    }\n                }\n            } else {\n                cloneTemplate = cloneTemplate.replace(\n                    match,\n                    item.get(expression),\n                );\n            }\n        });\n        return new Knot(cloneTemplate);\n    }\n\n    /**\n     * @description Refreshes the card collection by triggering eventAction with current query, sort, and paging params.\n     * @param {number} [opt_page] - Page number to navigate to before refreshing (-1 keeps current page).\n     *\n     * @example\n     * cards.refresh(1); // Refresh from page 1\n     */\n    refresh(opt_page: number | undefined = -1): void {\n        if (opt_page > -1) {\n            this.pager.setPage(opt_page);\n        }\n        const params = new Objekt({\n            query: this.query,\n            column: this.options.sort.column,\n            order: this.options.sort.order,\n            offset: this.pager.offset,\n            limit: this.options.row_count,\n        });\n        this.eventAction(params);\n    }\n\n    /**\n     * @description Called when data needs to be fetched. Override to load data from a backend.\n     * @param {Objekt} params - Query parameters including query, column, order, offset, and limit.\n     *\n     * @example\n     * cards.eventAction = (params) => {\n     *     http.get('/api/items', params).then((response) => cards.setData(response.items));\n     * };\n     */\n    eventAction(params: Objekt): void {\n        consoleDebug('CardCollection.eventAction()', params);\n    }\n\n    /**\n     * @description Called after each card is rendered. Override to attach event listeners or modify card DOM.\n     * @param {Knot} cardKnot - The rendered card DOM element.\n     * @param {Objekt} item - The data item associated with the card.\n     *\n     * @example\n     * cards.eventCardKnot = (cardKnot, item) => {\n     *     cardKnot.addEventListener('click', () => navigate(item.get('id')));\n     * };\n     */\n    eventCardKnot(cardKnot: Knot, item: Objekt): void {\n        consoleDebug('CardCollection.eventCardKnot()', cardKnot, item);\n    }\n\n    /**\n     * @description Renders a card for the given item and appends it to the body.\n     * @param {Objekt} item - The data item to render as a card.\n     */\n    private _addCard(item: Objekt): void {\n        const cardKnot = this._getCardKnot(item);\n        this.body.appendChild(cardKnot);\n        this.eventCardKnot(cardKnot, item);\n        mdl(cardKnot);\n    }\n\n    /**\n     * @description Loads data items into the collection and renders cards, or shows the empty-content placeholder.\n     * @param {Array<any>} items - Array of data items to display.\n     *\n     * @example\n     * cards.setData([{ id: 1, name: 'Item 1' }, { id: 2, name: 'Item 2' }]);\n     */\n    setData(items: Array<any>): void {\n        this.collection.reload(items);\n        if (this.collection.size() === 0) {\n            this.contentHandler.show();\n        } else {\n            this.contentHandler.hide();\n            this._draw();\n        }\n    }\n\n    /**\n     * @description Sets the total item count and redraws the pager.\n     * @param {number} count - Total number of items across all pages.\n     *\n     * @example\n     * cards.setCount(response.total);\n     */\n    setCount(count: number): void {\n        this.pager.setCount(count);\n        this.pager.draw();\n    }\n\n    /**\n     * @description Returns items for the current page, applying limit when collection exceeds row_count.\n     * @returns {Array<any>} The items to display on the current page.\n     */\n    private _getItems(): Array<any> {\n        let items = this.collection.getItems();\n        if (this.collection.size() > this.options.row_count) {\n            items = this.collection.limit(\n                this.pager.offset,\n                this.options.row_count,\n            );\n        }\n        return items;\n    }\n\n    /**\n     * @description Clears the card body and renders cards for the current page items.\n     */\n    private _draw(): void {\n        this.body.removeChildren();\n        eachArray(this._getItems(), (item) => {\n            this._addCard(item);\n        });\n        mdl(this.body);\n    }\n\n    /**\n     * @description Initiates the initial data fetch and render cycle.\n     *\n     * @example\n     * cards.render();\n     */\n    render(): void {\n        this.refresh();\n    }\n}\n", "import { Knot } from '../core';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\n\n/**\n * @description Placeholder carousel component (stub). Reserved for future image/content\n * carousel implementation.\n *\n * @category Component\n */\nexport class Carousel {\n    carouselKnot: Knot;\n    options!: Objekt;\n\n    /**\n     * @description Creates a new Carousel bound to a DOM container.\n     * @param {Knot} dom - The parent DOM element.\n     * @param {string} [opt_selector] - CSS selector for the carousel element.\n     * @param {object} [opt_options] - Configuration options.\n     */\n    constructor(\n        dom: Knot,\n        opt_selector: string | undefined = '.carousel',\n        opt_options: object | undefined = {},\n    ) {\n        this.carouselKnot = new Query(opt_selector, dom).getKnot();\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options with defaults.\n     * @param {object} [opt_options] - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({});\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * @description Placeholder initialization (no-op in stub).\n     */\n    private _init(): void {\n        // this._initStructure();\n    }\n}\n", "import { Objekt } from '../core';\nimport { Knot } from '../core/knot';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * @description Circular time selector that renders numbered circles arranged in a ring for hour or minute selection.\n * @example\n * const timeKnot = new Knot('div');\n * const time = new Time(timeKnot, { selected: 5 });\n * time.eventClick = (index) => { console.log(index); };\n * time.draw(1, 12, 1, true);\n * @see {@link Clock}\n * @category Component\n */\nexport class Time {\n    timeKnot: Knot;\n    options!: Objekt;\n    pointerKnot!: Knot;\n\n    /**\n     * @description Creates a new Time instance.\n     * @param {Knot} knot - The container DOM element wrapper.\n     * @param {object} options - Configuration options including `selected` (index) and optional `captions` array.\n     * @example\n     * const time = new Time(new Knot('div'), { selected: 10, captions: ['00', '05'] });\n     */\n    constructor(knot: Knot, options: object) {\n        this.timeKnot = knot;\n        this._setOptions(options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options into an {@link Objekt} instance.\n     * @param {object} options - Raw configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt(options);\n    }\n\n    /**\n     * @description Initializes the circle sizing reference and the center pointer elements.\n     */\n    private _init(): void {\n        this._initCircleKnot();\n        this._initPointerKnot();\n    }\n\n    /**\n     * @description Creates a temporary circle element to measure its computed dimensions for layout calculations.\n     */\n    private _initCircleKnot(): void {\n        const circleKnot = new Knot('div');\n        circleKnot.addClass('circle');\n        this.timeKnot.appendChild(circleKnot);\n        const circleKnotStyle = window.getComputedStyle(circleKnot.getNode());\n        const width = parseInt(circleKnotStyle.width.slice(0, -2), 10);\n        const height = parseInt(circleKnotStyle.height.slice(0, -2), 10);\n        this.timeKnot.removeChild(circleKnot);\n        this._initSize(width, height);\n    }\n\n    /**\n     * @description Computes the available width/height and radius values for circle positioning.\n     * @param {number} width - The measured width of a single circle element.\n     * @param {number} height - The measured height of a single circle element.\n     */\n    private _initSize(width: number, height: number): void {\n        const timeKnotStyle = window.getComputedStyle(this.timeKnot.getNode());\n        this.options.width =\n            parseInt(timeKnotStyle.width.slice(0, -2), 10) - width;\n        this.options.height =\n            parseInt(timeKnotStyle.height.slice(0, -2), 10) - height;\n\n        this.options.radius_x = this.options.width / 2;\n        this.options.radius_y = this.options.height / 2;\n    }\n\n    /**\n     * @description Creates the center point and rotating pointer elements for the clock face.\n     */\n    private _initPointerKnot(): void {\n        const centerPointKnot = new Knot('div');\n        centerPointKnot.addClass('center-point');\n        this.timeKnot.appendChild(centerPointKnot);\n\n        this.pointerKnot = new Knot('div');\n        this.pointerKnot.addClass('pointer');\n        this.timeKnot.appendChild(this.pointerKnot);\n    }\n\n    /**\n     * @description Renders numbered circles arranged in a ring from start to n.\n     * @param {number} start - The starting index value.\n     * @param {number} n - The ending index value (inclusive).\n     * @param {number} [opt_j=1] - The step interval for displaying captions.\n     * @param {boolean} [opt_isClockWise=true] - Whether circles are arranged clockwise.\n     * @example\n     * time.draw(1, 12, 1, true);   // Hours: 1-12\n     * time.draw(0, 59, 5, true);   // Minutes: 0-59 with labels every 5\n     */\n    draw(\n        start: number,\n        n: number,\n        opt_j: number | undefined = 1,\n        opt_isClockWise: boolean | undefined = true,\n    ): void {\n        this._drawCircles(start, n, opt_j, opt_isClockWise);\n    }\n\n    /**\n     * @description Creates circle elements for each index value, positions them in a ring, and attaches click handlers.\n     * @param {number} start - The starting index value.\n     * @param {number} n - The ending index value (inclusive).\n     * @param {number} [opt_j=1] - The step interval for displaying captions.\n     * @param {boolean} [opt_isClockWise=true] - Whether circles are arranged clockwise.\n     */\n    private _drawCircles(\n        start: number,\n        n: number,\n        opt_j: number | undefined = 1,\n        opt_isClockWise: boolean | undefined = true,\n    ): void {\n        let k = 0;\n        for (let i = start; i <= n; i++) {\n            const circle = new Knot('div');\n            this.timeKnot.appendChild(circle);\n\n            if (i % opt_j === 0) {\n                const text =\n                    this.options.captions && this.options.captions[k]\n                        ? this.options.captions[k]\n                        : i;\n                circle.setHtml(text);\n                k++;\n            }\n\n            this._setCircleStyle(circle, start, n, i, opt_j, opt_isClockWise);\n            this._setCircleEvent(circle, i);\n        }\n    }\n\n    /**\n     * @description Attaches the index data attribute and click event handler to a circle element.\n     * @param {Knot} circle - The circle knot element.\n     * @param {number} i - The index value to associate with this circle.\n     */\n    private _setCircleEvent(circle: Knot, i: number): void {\n        circle.setData('index', i);\n        circle.addEventListener('click', (circle) => {\n            const index = circle.getData('index');\n            this.eventClick(index);\n        });\n    }\n\n    /**\n     * @description Positions a circle element using trigonometric calculations and applies selection/highlight styles.\n     * @param {Knot} circle - The circle knot element to style.\n     * @param {number} start - The starting index of the range.\n     * @param {number} n - The ending index of the range.\n     * @param {number} i - The current index value.\n     * @param {number} [opt_j=1] - The step interval for highlight grouping.\n     * @param {boolean} [opt_isClockWise=true] - Whether the layout direction is clockwise.\n     */\n    private _setCircleStyle(\n        circle: Knot,\n        start: number,\n        n: number,\n        i: number,\n        opt_j: number | undefined = 1,\n        opt_isClockWise: boolean | undefined = true,\n    ): void {\n        const index = opt_j / 2 > i % opt_j ? i % opt_j : opt_j - (i % opt_j);\n        const selected = this.options.selected === i ? 'selected' : '';\n        const top =\n            this.options.radius_y +\n            this.options.radius_y *\n                Math.cos((360 / (n + 1 - start) / 180) * i * Math.PI) *\n                -1;\n        const left =\n            this.options.radius_x +\n            this.options.radius_x *\n                Math.sin((360 / (n + 1 - start) / 180) * i * Math.PI) *\n                (opt_isClockWise ? 1 : -1);\n\n        circle.addClass(['circle', 'highlight' + index, selected]);\n        circle.setStyle({\n            position: 'absolute',\n            'z-index': 100 - index,\n            top: top + 'px',\n            left: left + 'px',\n        });\n        if (selected) {\n            const radian = (360 / (n + 1 - start) / 180) * i * Math.PI;\n            const degrees = radian * (180 / Math.PI) - 90;\n\n            this.pointerKnot.setStyle({\n                transform: 'rotate(' + degrees + 'deg)',\n            });\n        }\n    }\n\n    /**\n     * @description Overridable callback fired when a circle is clicked. Defaults to a debug log.\n     * @param {number} index - The index value of the clicked circle.\n     * @example\n     * time.eventClick = (index) => { console.log('Selected:', index); };\n     */\n    eventClick(index: number) {\n        consoleDebug('Time.eventClick()', index);\n    }\n}\n", "import { Objekt } from '../core';\nimport { Knot } from '../core/knot';\nimport { DateIO } from '../utils';\nimport { consoleDebug } from '../utils/log';\nimport { Time } from './time';\n\n/**\n * @description Time picker clock with hour and minute selection modes and AM/PM toggle.\n * @example\n * const clockKnot = new Knot('div');\n * const clock = new Clock(clockKnot, { time: new Date(), type: 'hour' });\n * clock.eventClick = (time) => { console.log(time); };\n * clock.draw();\n * @see {@link Time}\n * @see {@link DateIO}\n * @category Component\n */\nexport class Clock {\n    clockKnot: Knot;\n    options!: Objekt;\n    modes!: string[];\n    types!: { hour: string; minute: string };\n    activeMode!: string;\n    headerKnot!: Knot;\n    periodHeaderKnot!: Knot;\n    period!: string;\n    time!: Date;\n    minutesHeaderKnot!: Knot;\n    hoursHeaderKnot!: Knot;\n    contentKnot!: Knot;\n    hours!: number;\n    minutes!: number;\n\n    /**\n     * @description Creates a new Clock instance.\n     * @param {Knot} knot - The container DOM element wrapper.\n     * @param {object} options - Configuration options including `time` (Date) and `type` ('hour' or 'minute').\n     * @example\n     * const clock = new Clock(new Knot('div'), { time: new Date(), type: 'hour' });\n     */\n    constructor(knot: Knot, options: object) {\n        this.clockKnot = knot;\n        this._setOptions(options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options into an {@link Objekt} instance.\n     * @param {object} options - Raw configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt(options);\n    }\n\n    /**\n     * @description Initializes mode definitions and builds the DOM structure.\n     */\n    private _init(): void {\n        this.modes = ['HOUR', 'MINUTE'];\n        this.types = {\n            hour: this.modes[0],\n            minute: this.modes[1],\n        };\n\n        this._initStructure();\n    }\n\n    /**\n     * @description Dispatches to the appropriate callback based on the active mode (HOUR or MINUTE).\n     * @param {Function} hourCallback - Callback for HOUR mode.\n     * @param {Function} minuteCallback - Callback for MINUTE mode.\n     * @returns {Date | null} The result of the invoked callback, or null if no mode matches.\n     */\n    private _switchMode(\n        hourCallback: Function,\n        minuteCallback: Function,\n    ): Date | null {\n        let result = null;\n        switch (this.activeMode) {\n            case 'HOUR':\n                result = hourCallback();\n                break;\n            case 'MINUTE':\n                result = minuteCallback();\n                break;\n            default:\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * @description Builds the full clock DOM structure including header, content, and initial mode.\n     */\n    private _initStructure(): void {\n        this._initHeaderKnot();\n        this._initContentKnot();\n        this._initMode(\n            this.types[this.options.type as keyof typeof this.types],\n        );\n\n        this.setTime(this.options.time);\n    }\n\n    /**\n     * @description Creates the header knot containing hours, separator, minutes, and period displays.\n     */\n    private _initHeaderKnot(): void {\n        this.headerKnot = new Knot('div');\n        this.headerKnot.addClass('header');\n        this.clockKnot.appendChild(this.headerKnot);\n\n        this._initHoursHeaderKnot();\n        this._initSeparatorHeaderKnot();\n        this._initMinutesHeaderKnot();\n        this._initPeriodHeaderKnot();\n    }\n\n    /**\n     * @description Creates the AM/PM period toggle knot in the header.\n     */\n    private _initPeriodHeaderKnot(): void {\n        this.periodHeaderKnot = new Knot('div');\n        this.periodHeaderKnot.addClass('period');\n        this.periodHeaderKnot.addEventListener(\n            'click',\n            this._togglePeriod.bind(this),\n        );\n        this.headerKnot.appendChild(this.periodHeaderKnot);\n    }\n\n    /**\n     * @description Toggles between AM and PM by adding or subtracting 12 hours.\n     */\n    private _togglePeriod(): void {\n        if (this.period === 'pm') {\n            this.time = DateIO.subHours(this.time, 12);\n        } else {\n            this.time = DateIO.addHours(this.time, 12);\n        }\n        this._onClick(this.time);\n    }\n\n    /**\n     * @description Creates the minutes display knot in the header, switching to MINUTE mode on click.\n     */\n    private _initMinutesHeaderKnot(): void {\n        this.minutesHeaderKnot = new Knot('div');\n        this.minutesHeaderKnot.addClass('minutes');\n        this.minutesHeaderKnot.addEventListener('click', () => {\n            this._setMode(this.types.minute);\n        });\n        this.headerKnot.appendChild(this.minutesHeaderKnot);\n    }\n\n    /**\n     * @description Creates the hours display knot in the header, switching to HOUR mode on click.\n     */\n    private _initHoursHeaderKnot(): void {\n        this.hoursHeaderKnot = new Knot('div');\n        this.hoursHeaderKnot.addClass('hours');\n        this.hoursHeaderKnot.addEventListener('click', () => {\n            this._setMode(this.types.hour);\n        });\n        this.headerKnot.appendChild(this.hoursHeaderKnot);\n    }\n\n    /**\n     * @description Activates the given mode, updates the time display, and redraws.\n     * @param {string} mode - The mode to activate ('HOUR' or 'MINUTE').\n     */\n    private _setMode(mode: string): void {\n        this._initMode(mode);\n        this.setTime(this.time);\n        this.draw();\n    }\n\n    /**\n     * @description Creates the colon separator knot between hours and minutes in the header.\n     */\n    private _initSeparatorHeaderKnot(): void {\n        const separatorHeaderKnot = new Knot('div');\n        separatorHeaderKnot.addClass('separator');\n        separatorHeaderKnot.setHtml(':');\n        this.headerKnot.appendChild(separatorHeaderKnot);\n    }\n\n    /**\n     * @description Creates the main content container knot for the clock face.\n     */\n    private _initContentKnot(): void {\n        this.contentKnot = new Knot('div');\n        this.contentKnot.addClass('content');\n        this.clockKnot.appendChild(this.contentKnot);\n    }\n\n    /**\n     * @description Clears and returns a fresh time container knot inside the content area.\n     * @returns {Knot} The newly created time container knot.\n     */\n    private _getTimeKnot(): Knot {\n        this.contentKnot.removeChildren();\n        const hoursKnot = new Knot('div');\n        hoursKnot.addClass('time');\n        this.contentKnot.appendChild(hoursKnot);\n        return hoursKnot;\n    }\n\n    /**\n     * @description Updates the hours display in the header with zero-padded text and active styling.\n     * @param {number} hours - The hour value (1-12).\n     */\n    private _setHours(hours: number): void {\n        this.hours = hours;\n        const cssClass = this.activeMode === this.types.hour ? 'active' : '';\n        this.hoursHeaderKnot.removeClass('active');\n        this.hoursHeaderKnot.addClass(['hours', cssClass]);\n        const text = hours < 10 ? '0' + hours : hours.toString();\n        this.hoursHeaderKnot.setHtml(text);\n    }\n\n    /**\n     * @description Updates the minutes display in the header with zero-padded text and active styling.\n     * @param {number} minutes - The minute value (0-59).\n     */\n    private _setMinutes(minutes: number): void {\n        this.minutes = minutes;\n        const cssClass = this.activeMode === this.types.minute ? 'active' : '';\n        this.minutesHeaderKnot.removeClass('active');\n        this.minutesHeaderKnot.addClass(['minutes', cssClass]);\n        const text = minutes < 10 ? '0' + minutes : minutes.toString();\n        this.minutesHeaderKnot.setHtml(text);\n    }\n\n    /**\n     * @description Updates the AM/PM period display in the header.\n     * @param {string} period - The period string ('am' or 'pm').\n     */\n    private _setPeriod(period: string): void {\n        this.period = period;\n        this.periodHeaderKnot.removeClass(['am', 'pm']);\n        this.periodHeaderKnot.addClass(['period', this.period]);\n        const text = DateIO.format(this.time, 'aa');\n        this.periodHeaderKnot.setHtml(text);\n    }\n\n    /**\n     * @description Sets the clock to the given time and updates the hours, minutes, and period displays.\n     * @param {Date} time - The time to display on the clock.\n     * @example\n     * clock.setTime(new Date());\n     */\n    setTime(time: Date): void {\n        this.time = time;\n\n        const hours = DateIO.getHours(time) % 12 || 12;\n        this._setHours(hours);\n\n        const minutes = DateIO.getMinutes(time);\n        this._setMinutes(minutes);\n\n        const period = DateIO.getHours(time) / 12 >= 1 ? 'pm' : 'am';\n        this._setPeriod(period);\n    }\n\n    /**\n     * @description Clears the content area and sets the active mode.\n     * @param {string} mode - The mode to activate ('HOUR' or 'MINUTE').\n     */\n    private _initMode(mode: string): void {\n        this.contentKnot.removeChildren();\n        this.activeMode = mode;\n    }\n\n    /**\n     * @description Resolves the target mode name by applying the direction offset to the current mode index.\n     * @param {number} direction - Offset to move in the modes array.\n     * @returns {string} The resolved mode name, falling back to the option type's default mode.\n     */\n    private _getMode(direction: number): string {\n        let position = this.modes.indexOf(this.activeMode);\n        if (position !== -1) {\n            position += direction;\n        }\n        const mode = this.modes[position];\n        return mode\n            ? mode\n            : this.types[this.options.type as keyof typeof this.types];\n    }\n\n    /**\n     * @description Changes the active mode by the given direction offset.\n     * @param {number} direction - Offset to move in the modes array (-1 or +1).\n     */\n    private _changeMode(direction: number): void {\n        const mode = this._getMode(direction);\n        this._initMode(mode);\n    }\n\n    /**\n     * @description Renders the clock face for the current active mode (hours or minutes).\n     * @example\n     * clock.draw();\n     */\n    draw(): void {\n        const timeKnot = this._getTimeKnot();\n\n        this._switchMode(\n            () => {\n                this._drawHours(timeKnot);\n            },\n            () => {\n                this._drawMinutes(timeKnot);\n            },\n        );\n    }\n\n    /**\n     * @description Draws the minute selection circle using the {@link Time} component.\n     * @param {Knot} timeKnot - The container knot for the time circle.\n     */\n    private _drawMinutes(timeKnot: Knot): void {\n        const timeMinutes = new Time(timeKnot, {\n            selected: this.minutes,\n            captions: ['00', '05'],\n        });\n        timeMinutes.eventClick = (index) => {\n            this._changeMode(-1);\n            const time = DateIO.setMinutes(this.time, index);\n            this._onClick(time);\n        };\n        timeMinutes.draw(0, 59, 5, true);\n    }\n\n    /**\n     * @description Draws the hour selection circle using the {@link Time} component.\n     * @param {Knot} timeKnot - The container knot for the time circle.\n     */\n    private _drawHours(timeKnot: Knot): void {\n        const timeHours = new Time(timeKnot, {\n            selected: this.hours,\n        });\n        timeHours.eventClick = (index) => {\n            this._changeMode(1);\n            let hour = this.period === 'pm' ? index + 12 : index;\n            hour = hour === 24 ? 0 : hour;\n            const time = DateIO.setHours(this.time, hour);\n            this._onClick(time);\n        };\n        timeHours.draw(1, 12, 1, true);\n    }\n\n    /**\n     * @description Handles a time selection; updates the display, redraws, and fires the event callback.\n     * @param {Date} selectedTime - The newly selected time.\n     */\n    private _onClick(selectedTime: Date): void {\n        this.setTime(selectedTime);\n        this.draw();\n        this.eventClick(selectedTime);\n    }\n\n    /**\n     * @description Overridable callback fired when a time is selected. Defaults to a debug log.\n     * @param {Date} time - The selected time.\n     * @example\n     * clock.eventClick = (time) => { console.log('Selected:', time); };\n     */\n    eventClick(time: Date): void {\n        consoleDebug('Clock.eventClick()', time);\n    }\n}\n", "import { Objekt } from '../core';\nimport { Knot } from '../core/knot';\nimport { DateIO } from '../utils';\nimport { consoleDebug } from '../utils/log';\nimport { Calendar } from './calendar';\nimport { Clock } from './clock';\n\n/**\n * @description Format configuration for a specific input type, defining the date format string and which calendar/clock modes to display.\n * @category Component\n */\ntype DateTimeConfig = {\n    format: string;\n    calendar_type: string;\n    clock_type: string;\n};\n\n/**\n * @description Combined date and time picker that composes a {@link Calendar} and {@link Clock} based on the input type.\n * @example\n * const knot = new Knot('div');\n * const dt = new DateTime(knot, { type: 'datetime-local', value: '2024-01-15T10:30:00' });\n * dt.eventClick = (formattedValue) => { console.log(formattedValue); };\n * dt.draw();\n * @see {@link Calendar}\n * @see {@link Clock}\n * @see {@link DateIO}\n * @category Component\n */\nexport class DateTime {\n    datetimeKnot: Knot;\n    options!: Objekt;\n    types!: {\n        [key: string]: DateTimeConfig;\n    };\n    config!: DateTimeConfig;\n    calendarKnot!: Knot;\n    clockKnot!: Knot;\n    value!: Date;\n\n    /**\n     * @description Creates a new DateTime instance.\n     * @param {Knot} knot - The container DOM element wrapper.\n     * @param {object} options - Configuration options including `type` and `value`.\n     * @example\n     * const dt = new DateTime(new Knot('div'), { type: 'date', value: '2024-01-15' });\n     */\n    constructor(knot: Knot, options: object) {\n        this.datetimeKnot = knot;\n        this._setOptions(options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options into an {@link Objekt} instance.\n     * @param {object} options - Raw configuration options.\n     */\n    private _setOptions(options: object): void {\n        this.options = new Objekt(options);\n    }\n\n    /**\n     * @description Initializes type configurations, DOM structure, and sets the initial value.\n     */\n    private _init(): void {\n        this._initVariables();\n        this._initStructure();\n        this._setValue(this.options.value);\n    }\n\n    /**\n     * @description Defines the format and component type mappings for each supported input type.\n     */\n    private _initVariables(): void {\n        this.types = {\n            'datetime-local': {\n                format: 'YYYY-MM-DDTHH:mm:ss',\n                calendar_type: 'date',\n                clock_type: 'hour',\n            },\n            datetime: {\n                format: '',\n                calendar_type: 'date',\n                clock_type: 'hour',\n            },\n            date: {\n                format: 'YYYY-MM-DD',\n                calendar_type: 'date',\n                clock_type: '',\n            },\n            time: {\n                format: 'HH:mm:ss',\n                calendar_type: '',\n                clock_type: 'hour',\n            },\n            month: {\n                format: 'YYYY-MM',\n                calendar_type: 'month',\n                clock_type: '',\n            },\n            week: {\n                format: 'YYYY-\\\\Www',\n                calendar_type: 'week',\n                clock_type: '',\n            },\n            year: {\n                format: 'YYYY',\n                calendar_type: 'year',\n                clock_type: '',\n            },\n        };\n        this.config = this.types[this.options.type];\n    }\n\n    /**\n     * @description Builds the datetime DOM structure with optional calendar and clock containers.\n     */\n    private _initStructure(): void {\n        this._initDateTimeKnot();\n        this._initCalendarKnot();\n        this._initClockKnot();\n    }\n\n    /**\n     * @description Adds the datetime CSS class and clears any existing children from the container.\n     */\n    private _initDateTimeKnot(): void {\n        this.datetimeKnot.addClass('datetime');\n        this.datetimeKnot.removeChildren();\n    }\n\n    /**\n     * @description Creates the calendar container knot if the config requires a calendar component.\n     */\n    private _initCalendarKnot(): void {\n        if (this.config.calendar_type) {\n            this.calendarKnot = new Knot('div');\n            this.calendarKnot.addClass('calendar');\n            this.datetimeKnot.appendChild(this.calendarKnot);\n        }\n    }\n\n    /**\n     * @description Creates the clock container knot if the config requires a clock component.\n     */\n    private _initClockKnot(): void {\n        if (this.config.clock_type) {\n            this.clockKnot = new Knot('div');\n            this.clockKnot.addClass('clock');\n            this.datetimeKnot.appendChild(this.clockKnot);\n        }\n    }\n\n    /**\n     * @description Returns the active DateTimeConfig for the current input type.\n     * @returns {DateTimeConfig} The format configuration.\n     * @example\n     * const config = dt.getConfig();\n     * console.log(config.format); // 'YYYY-MM-DD'\n     */\n    getConfig(): DateTimeConfig {\n        return this.config;\n    }\n\n    /**\n     * @description Parses and stores the date value string, defaulting to the current date if empty.\n     * @param {string} value - The date/time string to parse.\n     */\n    private _setValue(value: string): void {\n        value = value || DateIO.format(new Date(), this.config.format);\n        this.value = DateIO.parse(value, this.config.format);\n    }\n\n    /**\n     * @description Sets a new value, rebuilds the DOM structure, and redraws both calendar and clock.\n     * @param {string} value - The date/time string to set.\n     * @example\n     * dt.setValue('2024-06-20T14:30:00');\n     */\n    setValue(value: string): void {\n        this._initStructure();\n        this._setValue(value);\n        this.draw();\n    }\n\n    /**\n     * @description Returns the current value formatted according to the active config's format string.\n     * @returns {string} The formatted date/time string.\n     * @example\n     * const formatted = dt.getFormattedValue(); // '2024-01-15'\n     */\n    getFormattedValue(): string {\n        return DateIO.format(this.value, this.config.format);\n    }\n\n    /**\n     * @description Renders both the calendar and clock components based on the active configuration.\n     * @example\n     * dt.draw();\n     */\n    draw(): void {\n        this._drawCalendar();\n        this._drawClock();\n    }\n\n    /**\n     * @description Creates and draws the {@link Calendar} component if the config includes a calendar type.\n     */\n    private _drawCalendar(): void {\n        if (this.config.calendar_type) {\n            const calendar = new Calendar(this.calendarKnot, {\n                date: this.value,\n                type: this.config.calendar_type,\n            });\n            calendar.eventClick = (newDate) => {\n                this.value = DateIO.setYear(\n                    this.value,\n                    DateIO.getYear(newDate),\n                );\n                this.value = DateIO.setMonth(\n                    this.value,\n                    DateIO.getMonth(newDate),\n                );\n                this.value = DateIO.setDate(\n                    this.value,\n                    DateIO.getDate(newDate),\n                );\n                this._onClick();\n            };\n            calendar.draw();\n        }\n    }\n\n    /**\n     * @description Creates and draws the {@link Clock} component if the config includes a clock type.\n     */\n    private _drawClock(): void {\n        if (this.config.clock_type) {\n            const clock = new Clock(this.clockKnot, {\n                time: this.value,\n                type: this.config.clock_type,\n            });\n            clock.eventClick = (newDate) => {\n                this.value = DateIO.setHours(\n                    this.value,\n                    DateIO.getHours(newDate),\n                );\n                this.value = DateIO.setMinutes(\n                    this.value,\n                    DateIO.getMinutes(newDate),\n                );\n                this._onClick();\n            };\n            clock.draw();\n        }\n    }\n\n    /**\n     * @description Handles internal click by formatting the current value and firing the event callback.\n     */\n    private _onClick(): void {\n        const formattedValue = this.getFormattedValue();\n        this.eventClick(formattedValue);\n    }\n\n    /**\n     * @description Overridable callback fired when the date/time value changes. Defaults to a debug log.\n     * @param {string} value - The formatted date/time string.\n     * @example\n     * dt.eventClick = (value) => { console.log('Changed:', value); };\n     */\n    eventClick(value: string): void {\n        consoleDebug('Date.eventClick()', value);\n    }\n}\n", "import { eachArray } from '../utils/operation';\nimport { Collection } from '../core/collection';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { generateId } from '../utils/coder';\nimport { Action } from '../utils';\nimport { mdl } from '../utils/render';\n\n/**\n * @description MDL-based dropdown action menu that renders a \"more\" icon button with\n * a list of context actions for a data item.\n *\n * @example\n * const dropdown = new Dropdown(containerKnot);\n * dropdown.setActions(actions, item);\n *\n * @see {@link Table} for table rows that use dropdowns for row actions\n *\n * @category Component\n */\nexport class Dropdown {\n    dropdown: Knot;\n    options!: Objekt;\n    collection!: Collection<Objekt>;\n    actions!: Action[];\n    item!: Objekt | null;\n    buttonKnot!: Knot;\n    menuKnot!: Knot;\n\n    /**\n     * @description Creates a new Dropdown attached to the given element.\n     * @param {Knot} element - The container element for the dropdown.\n     * @param {object} [opt_options] - Configuration options (id).\n     */\n    constructor(element: Knot, opt_options: object | undefined = {}) {\n        this.dropdown = element;\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options with defaults, generating a unique ID.\n     * @param {object} [opt_options] - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            id: generateId('dropdown'),\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * @description Initializes the collection, actions, and appends the button and menu DOM elements.\n     */\n    private _init(): void {\n        this.collection = new Collection();\n        this.actions = [];\n        this.item = null;\n        this._appendButton();\n        this._appendMenu();\n    }\n\n    /**\n     * @description Creates and appends the MDL icon button that triggers the dropdown menu.\n     */\n    private _appendButton(): void {\n        this.buttonKnot = new Knot<HTMLButtonElement>('button');\n        this.buttonKnot.setId(this.options.id);\n        this.buttonKnot.addClass([\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-button--icon',\n        ]);\n\n        const iconKnot = new Knot('em');\n        iconKnot.addClass('material-icons');\n        iconKnot.setHtml('more_vert');\n        this.buttonKnot.appendChild(iconKnot);\n\n        this.dropdown.appendChild(this.buttonKnot);\n    }\n\n    /**\n     * @description Creates and appends the MDL menu list element.\n     */\n    private _appendMenu(): void {\n        this.menuKnot = new Knot('ul');\n        this.menuKnot.setFor(this.options.id);\n        this.menuKnot.addClass([\n            'mdl-menu',\n            'mdl-menu--bottom-right',\n            'mdl-js-menu',\n            'mdl-js-ripple-effect',\n        ]);\n\n        this.dropdown.appendChild(this.menuKnot);\n    }\n\n    /**\n     * @description Populates the dropdown menu with actions for the given data item.\n     * @param {Array<Action>} actions - Array of action definitions with style and click callbacks.\n     * @param {Objekt} item - The data item the actions apply to.\n     *\n     * @example\n     * dropdown.setActions([\n     *     { style: (item) => ['edit', 'Edit', false, false], click: (item) => edit(item) },\n     * ], item);\n     */\n    setActions(actions: Array<Action>, item: Objekt): void {\n        this.actions = actions;\n        this.item = item;\n        this._renderMenu();\n        mdl(this.menuKnot);\n        mdl(this.buttonKnot);\n    }\n\n    /**\n     * @description Renders menu items from the actions array, applying style and disabled states.\n     */\n    private _renderMenu(): void {\n        eachArray(this.actions, (action) => {\n            const [icon, title, disabled, removed] = action.style(this.item!);\n            if (!removed) {\n                const menuKnotKnot = new Knot<HTMLLIElement>('li');\n                menuKnotKnot.addClass('mdl-menu__item');\n                menuKnotKnot.setHtml(title || icon);\n                if (disabled) {\n                    menuKnotKnot.setAttribute('disabled');\n                }\n                menuKnotKnot.addEventListener('click', () => {\n                    action.click(this.item!);\n                });\n                this.menuKnot.appendChild(menuKnotKnot);\n            }\n        });\n    }\n}\n", "import { eq, typeCast } from '../utils/operation';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { Tooltip } from '../component/tooltip';\nimport { consoleDebug } from '../utils/log';\nimport { Form } from '../component';\n\n/**\n * @description Abstract base class for all form fields. Handles validation, labeling,\n * visibility, enable/disable state, and error display.\n * @category Field\n * @example\n * // Typically extended by concrete field classes:\n * const textField = new TextField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * textField.setValue('Hello');\n * textField.checkValidity();\n * @see {@link Form}\n * @see {@link Tooltip}\n * @see {@link Knot}\n */\nexport class BaseField<T extends HTMLInputElement> {\n    input: Knot<T>;\n    label: Knot;\n    error: Knot;\n    inputBlock: Knot;\n    form?: Form;\n    errorTooltip!: Tooltip;\n    infoContainerKnot!: Knot;\n    actionContainerKnot!: Knot;\n    disabled!: boolean;\n\n    /**\n     * @description Creates a new BaseField instance with the given input, label, error, and input block knots.\n     * @param {Knot<T>} input - The input element wrapped in a Knot.\n     * @param {Knot} [opt_label] - The label element wrapped in a Knot.\n     * @param {Knot} [opt_error] - The error element wrapped in a Knot.\n     * @param {Knot} [opt_inputBlock] - The input block container wrapped in a Knot.\n     * @param {Form} [opt_form] - The parent form instance.\n     */\n    constructor(\n        input: Knot<T>,\n        opt_label?: Knot | undefined,\n        opt_error?: Knot | undefined,\n        opt_inputBlock?: Knot | undefined,\n        opt_form?: Form | undefined,\n    ) {\n        this.input = input;\n        this.label = opt_label!;\n        this.error = opt_error!;\n        this.inputBlock = opt_inputBlock!;\n        this.form = opt_form;\n\n        if (this.error) {\n            this.errorTooltip = new Tooltip(this.error);\n        }\n\n        this._setInfoContainer();\n        this._setActionContainer();\n        this._setMutation();\n        this._setAdditionalLabel(this.label);\n    }\n\n    /**\n     * @description Called when the field value changes. Override in subclasses to handle change events.\n     * @param {*} value - The new field value.\n     * @param {*} previousValue - The previous field value.\n     * @example\n     * field.eventChange = (value, previousValue) => {\n     *     console.log('Changed from', previousValue, 'to', value);\n     * };\n     */\n    eventChange(value: any, previousValue: any) {\n        consoleDebug('BaseField.eventChange()', value, previousValue);\n    }\n\n    /**\n     * @description Called when the field is clicked. Override in subclasses to handle click events.\n     * @param {Knot} knot - The clicked knot element.\n     * @example\n     * field.eventClick = (knot) => {\n     *     console.log('Field clicked', knot);\n     * };\n     */\n    eventClick(knot: Knot): void {\n        consoleDebug('Button.eventClick()', knot);\n    }\n\n    /**\n     * @description Renders the field's DOM structure and applies MDL styling. Override in subclasses to provide specific rendering.\n     * @example\n     * field.render();\n     */\n    render(): void {\n        consoleDebug('BaseField.render()');\n    }\n\n    /**\n     * @description Refreshes the field's visual state. Override in subclasses to update styling or re-apply MDL upgrades.\n     * @example\n     * field.refresh();\n     */\n    refresh(): void {\n        consoleDebug('BaseField.refresh()');\n    }\n\n    /**\n     * @description Called when the model value changes. Override to synchronize the field with an external data model.\n     * @param {*} value - The new model value.\n     * @example\n     * field.modelChange = (value) => {\n     *     model.set(field.getName(), value);\n     * };\n     */\n    modelChange(value: any) {\n        consoleDebug('BaseField.modelChange()', value);\n    }\n\n    /**\n     * @description Returns the previous value of the field before the last change. Override in subclasses to track value history.\n     * @returns {*} The previous field value, or undefined by default.\n     * @example\n     * const prev = field.getPreviousValue();\n     */\n    getPreviousValue(): any {\n        consoleDebug('BaseField.getPreviousValue()');\n        return undefined;\n    }\n\n    /**\n     * @description Returns the field's name derived from the input's name attribute, converted to dot notation.\n     * @returns {string} The field name in dot notation (e.g., 'user.address.city').\n     * @example\n     * // For input with name=\"user[address][city]\"\n     * const name = field.getName(); // 'user.address.city'\n     */\n    getName(): string {\n        const name = this.input.getAttribute('name');\n        return this._getAttributeName(name);\n    }\n\n    /**\n     * @description Returns the current value of the field, type-cast from the input's string value.\n     * @returns {*} The type-cast field value.\n     * @example\n     * const value = field.getValue();\n     */\n    getValue(): any {\n        const value = this.input.getNode().value;\n        return typeCast(value);\n    }\n\n    /**\n     * @description Converts an HTML input name attribute to dot notation by replacing brackets.\n     * @param {string} inputName - The raw input name attribute value.\n     * @returns {string} The name converted to dot notation.\n     */\n    protected _getAttributeName(inputName: string): string {\n        let attribute = inputName || '';\n        attribute = attribute.replace(/]/g, '');\n        attribute = attribute.replace(/\\[/g, '.');\n        attribute = eq(attribute.slice(-1), '.')\n            ? attribute.slice(0, -1)\n            : attribute;\n        return attribute;\n    }\n\n    /**\n     * @description Sets or clears the validation error message on the field.\n     * @param {string} [opt_message=''] - The error message to display, or empty string to clear.\n     * @param {boolean} [opt_isCustomError=false] - Whether this is a custom (server-side) error.\n     * @example\n     * field.setError('This field is required');\n     * field.setError(''); // clears the error\n     */\n    setError(\n        opt_message: string | undefined = '',\n        opt_isCustomError: boolean | undefined = false,\n    ): void {\n        if (this.error) {\n            this.errorTooltip.setMessage(opt_message);\n            this.error.setHtml(opt_message);\n            if (opt_message && opt_isCustomError && this.inputBlock) {\n                this.inputBlock.addClass('is-invalid');\n            }\n        }\n    }\n\n    /**\n     * @description Checks the field's validity and optionally displays the validation message.\n     * @param {boolean} [opt_force=false] - Whether to force visual validity updates on the input block.\n     * @param {boolean} [opt_showMessage=true] - Whether to display the validation error message.\n     * @example\n     * field.checkValidity();\n     * field.checkValidity(true, false); // force visual update, suppress message\n     */\n    checkValidity(\n        opt_force: boolean | undefined = false,\n        opt_showMessage: boolean | undefined = true,\n    ): void {\n        const isValid = this.isValid();\n        if (isValid) {\n            this.setError('');\n        } else if (opt_showMessage) {\n            this.setError(this.input.getNode().validationMessage);\n        }\n        const upgradedKnot = this._getUpgradedKnot();\n        if (opt_force && upgradedKnot) {\n            if (this.getValue()) {\n                upgradedKnot.addClass('is-dirty');\n            }\n            if (isValid) {\n                upgradedKnot.removeClass('is-invalid');\n            } else {\n                upgradedKnot.addClass('is-invalid');\n            }\n        }\n    }\n\n    /**\n     * @description Checks whether the input element's native validity state is valid.\n     * @returns {boolean} True if the input's validity.valid property is true.\n     * @example\n     * if (field.isValidityValid()) {\n     *     console.log('Native validation passed');\n     * }\n     */\n    isValidityValid(): boolean {\n        const inputNode = this.input.getNode();\n\n        return inputNode.validity.valid;\n    }\n\n    /**\n     * @description Checks whether the field is valid. By default delegates to {@link isValidityValid}. Override for custom validation logic.\n     * @returns {boolean} True if the field is valid.\n     * @example\n     * if (field.isValid()) {\n     *     form.submit();\n     * }\n     */\n    isValid(): boolean {\n        return this.isValidityValid();\n    }\n\n    /**\n     * @description Returns the upgraded input block knot for MDL styling operations.\n     * @returns {Knot} The input block knot.\n     */\n    private _getUpgradedKnot(): Knot {\n        return this.inputBlock;\n    }\n\n    /**\n     * @description Sets the field's value on the underlying input element and triggers a change event.\n     * @param {*} [value] - The value to set.\n     * @example\n     * field.setValue('new value');\n     */\n    setValue(value?: any): void {\n        this.input.getNode().value = value;\n        this.input.setAttribute('value', value);\n        this.input.trigger('change');\n    }\n\n    /**\n     * @description Checks whether the field exists in the DOM (either the input block or the input itself).\n     * @returns {boolean} True if the field exists.\n     * @example\n     * if (field.exists()) {\n     *     field.render();\n     * }\n     */\n    exists(): boolean {\n        return this.existsInputBlock() || this.existsInput();\n    }\n\n    /**\n     * @description Checks whether the input element exists in the DOM.\n     * @returns {boolean} True if the input element exists.\n     * @example\n     * if (field.existsInput()) {\n     *     field.setValue('value');\n     * }\n     */\n    existsInput(): boolean {\n        return !!this.input && this.input.exists();\n    }\n\n    /**\n     * @description Checks whether the input block container exists in the DOM.\n     * @returns {boolean} True if the input block exists.\n     * @example\n     * if (field.existsInputBlock()) {\n     *     field.show();\n     * }\n     */\n    existsInputBlock(): boolean {\n        return !!this.inputBlock && this.inputBlock.exists();\n    }\n\n    /**\n     * @description Gets an attribute value from the underlying input element.\n     * @param {string} attribute - The attribute name to retrieve.\n     * @returns {*} The attribute value.\n     * @example\n     * const type = field.get('type'); // 'text'\n     */\n    get(attribute: string): any {\n        return this.input.get(attribute);\n    }\n\n    /**\n     * @description Checks whether the field is required.\n     * @returns {boolean} True if the field is required.\n     * @example\n     * if (field.isRequired()) {\n     *     console.log('This field must be filled');\n     * }\n     */\n    isRequired(): boolean {\n        return this.input.getNode().required;\n    }\n\n    /**\n     * @description Sets the required state of the field, updates validation, and refreshes the label.\n     * @param {boolean} state - True to make the field required, false to make it optional.\n     * @example\n     * field.setRequired(true);\n     */\n    setRequired(state: boolean): void {\n        if (state) {\n            this.input.setAttribute('required');\n        } else {\n            this.input.removeAttribute('required');\n        }\n        this.input.getNode().required = state;\n        this.checkValidity(true, false);\n        this._setAdditionalLabel(this.label);\n    }\n\n    /**\n     * @description Checks whether the field is enabled.\n     * @returns {boolean} True if the field is enabled (not disabled).\n     * @example\n     * if (field.isEnabled()) {\n     *     field.setValue('enabled');\n     * }\n     */\n    isEnabled(): boolean {\n        return !this.isDisabled();\n    }\n\n    /**\n     * @description Checks whether the field is disabled.\n     * @returns {boolean} True if the field is disabled.\n     * @example\n     * if (field.isDisabled()) {\n     *     console.log('Field is disabled');\n     * }\n     */\n    isDisabled(): boolean {\n        return this.input.getNode().disabled;\n    }\n\n    /**\n     * @description Sets the disabled state of the field and updates validation.\n     * @param {boolean} state - True to disable the field, false to enable it.\n     * @example\n     * field.setDisabled(true);\n     */\n    setDisabled(state: boolean): void {\n        if (state) {\n            this.input.setAttribute('disabled');\n        } else {\n            this.input.removeAttribute('disabled');\n        }\n        this.input.getNode().disabled = state;\n        this.checkValidity(true, false);\n    }\n\n    /**\n     * @description Checks whether the field is visible (not hidden).\n     * @returns {boolean} True if the field is visible.\n     * @example\n     * if (field.isVisible()) {\n     *     console.log('Field is shown');\n     * }\n     */\n    isVisible(): boolean {\n        return !this.inputBlock.hasClass('hidden');\n    }\n\n    /**\n     * @description Sets the visibility of the field.\n     * @param {boolean} state - True to show the field, false to hide it.\n     * @example\n     * field.setVisibility(false); // hides the field\n     */\n    setVisibility(state: boolean): void {\n        if (state) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    /**\n     * @description Shows the field if it is currently hidden.\n     * @example\n     * field.show();\n     */\n    show(): void {\n        if (!this.isVisible()) {\n            this.inputBlock.removeClass('hidden');\n        }\n    }\n\n    /**\n     * @description Hides the field if it is currently visible.\n     * @example\n     * field.hide();\n     */\n    hide(): void {\n        if (this.isVisible()) {\n            this.inputBlock.addClass('hidden');\n        }\n    }\n\n    /**\n     * @description Sets the label text and updates the additional label (required indicator, info tooltip).\n     * @param {string} text - The new label text.\n     * @example\n     * field.setLabel('Email Address');\n     */\n    setLabel(text: string): void {\n        if (this.label && !this.label.isEmpty()) {\n            this.label.setHtml(text);\n            this._setAdditionalLabel(this.label);\n        }\n    }\n\n    /**\n     * @description Initializes the info container knot within the input block.\n     */\n    private _setInfoContainer(): void {\n        if (this.inputBlock && !this.inputBlock.isEmpty()) {\n            this.infoContainerKnot = new Query(\n                '.info-container',\n                this.inputBlock,\n            ).getKnot();\n            if (this.infoContainerKnot.isEmpty()) {\n                this.infoContainerKnot = new Knot('div');\n                this.infoContainerKnot.addClass(['info-container']);\n                this.inputBlock.appendChild(this.infoContainerKnot);\n            }\n        }\n    }\n\n    /**\n     * @description Initializes the action container knot within the input block.\n     */\n    private _setActionContainer(): void {\n        if (this.inputBlock && !this.inputBlock.isEmpty()) {\n            this.actionContainerKnot = new Query(\n                '.action-container',\n                this.inputBlock,\n            ).getKnot();\n            if (this.actionContainerKnot.isEmpty()) {\n                this.actionContainerKnot = new Knot('div');\n                this.actionContainerKnot.addClass(['action-container']);\n                this.inputBlock.appendChild(this.actionContainerKnot);\n            }\n        }\n    }\n\n    /**\n     * @description Creates an info button with a tooltip from the label's title and desc attributes.\n     * @param {Knot} label - The label knot containing title and desc attributes.\n     */\n    private _setInfo(label: Knot): void {\n        const title = label.getAttribute('title');\n        const description = label.getAttribute('desc');\n        if (title || description) {\n            let infoButton = new Query(\n                'a.info-button',\n                this.infoContainerKnot,\n            ).getKnot();\n            if (!infoButton.isEmpty()) {\n                infoButton.remove();\n            }\n            infoButton = new Knot('a');\n            infoButton.setAttribute('title', title || '');\n            infoButton.setAttribute('desc', description || '');\n            infoButton.setAttribute('href', 'javascript:void(0)');\n            infoButton.addClass(['info-button', 'material-icons']);\n            infoButton.setHtml('info');\n            this.infoContainerKnot.appendChild(infoButton);\n            const tooltip = new Tooltip(infoButton, 'LEFT');\n            tooltip.render();\n        }\n    }\n\n    /**\n     * @description Updates the label text with a required indicator and sets up the info tooltip.\n     * @param {Knot | undefined} label - The label knot to update.\n     */\n    protected _setAdditionalLabel(label: Knot | undefined): void {\n        if (label?.exists()) {\n            const labelText = this._getLabelRequiredText(label.getHtml(true));\n            label.setHtml(labelText);\n            this._setInfo(label);\n        }\n    }\n\n    /**\n     * @description Appends or removes the required asterisk (*) postfix from the label text.\n     * @param {string} labelText - The current label text.\n     * @returns {string} The label text with or without the required postfix.\n     */\n    protected _getLabelRequiredText(labelText: string): string {\n        if (eq(labelText, true)) {\n            return '&nbsp;';\n        }\n        const requiredPostfix = ' *';\n        const postfix = labelText.substring(\n            labelText.length - requiredPostfix.length,\n        );\n\n        if (this.isRequired() && postfix !== requiredPostfix) {\n            labelText += requiredPostfix;\n        } else if (!this.isRequired() && postfix === requiredPostfix) {\n            labelText = labelText.replace(requiredPostfix, '');\n        }\n        return labelText;\n    }\n\n    /**\n     * @description Sets up a MutationObserver on the input to refresh the field when disabled or required attributes change.\n     */\n    private _setMutation(): void {\n        const observer = new MutationObserver((mutationsList) => {\n            for (const mutation of mutationsList) {\n                if (\n                    mutation.attributeName === 'disabled' ||\n                    mutation.attributeName === 'required'\n                ) {\n                    this.refresh();\n                }\n            }\n        });\n\n        observer.observe(this.input.getNode(), {\n            attributeFilter: ['disabled', 'required'],\n            attributes: true,\n            attributeOldValue: true,\n        });\n    }\n}\n", "import { Knot } from '../core';\nimport { mdl } from '../utils/render';\nimport { BaseField } from './baseField';\n\n/**\n * Generic button with click event support.\n *\n * @description Extends {@link BaseField} to render a Material Design Lite raised\n * accent button. Click events are forwarded through the `eventClick` handler.\n *\n * @example\n * const button = new Button(inputKnot);\n *\n * @see {@link BaseField}\n * @category Field\n */\nexport class Button extends BaseField<HTMLInputElement> {\n    /**\n     * Creates a new Button instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The button input element.\n     */\n    constructor(input: Knot<HTMLInputElement>) {\n        super(input);\n        this._init();\n    }\n\n    /**\n     * Sets the button name attribute.\n     */\n    private _init(): void {\n        this.input.setAttribute('name', 'button');\n    }\n\n    /**\n     * Renders the button with MDL raised accent classes and attaches the click listener.\n     */\n    override render(): void {\n        this.input.addClass([\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-button--raised',\n            'mdl-js-ripple-effect',\n            'mdl-button--accent',\n        ]);\n\n        this.input.addEventListener('click', (knot) => {\n            this.eventClick(knot);\n        });\n\n        this.refresh();\n    }\n\n    /**\n     * Refreshes the MDL button component.\n     */\n    override refresh() {\n        mdl(this.input);\n    }\n}\n", "import { typeCast } from '../utils/operation';\nimport { BaseField } from './baseField';\nimport { Query } from '../core/query';\nimport { Knot } from '../core/knot';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Base class for checkbox-like fields (checkbox, switch, icon toggle).\n * Extends {@link BaseField} with checked state handling and hidden input support.\n * @category Field\n * @example\n * // Typically extended by concrete checkbox field classes:\n * const checkbox = new CheckboxField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * checkbox.setValue(true);\n * @see {@link CheckboxField}\n * @see {@link SwitchField}\n * @see {@link IconToggleField}\n */\nexport class BaseCheckboxField extends BaseField<HTMLInputElement> {\n    hiddenInput!: Knot;\n    spanLabel!: Knot;\n    dataLabelKnot!: Knot;\n\n    /**\n     * @description Creates a new BaseCheckboxField instance.\n     * @param {Knot<HTMLInputElement>} input - The checkbox input element wrapped in a Knot.\n     * @param {Knot} label - The label element wrapped in a Knot.\n     * @param {Knot} error - The error element wrapped in a Knot.\n     * @param {Knot} inputBlock - The input block container wrapped in a Knot.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the checkbox field by locating the hidden input and binding the change event.\n     */\n    protected _init(): void {\n        this.hiddenInput = new Query(\n            'input[type=hidden]',\n            this.inputBlock,\n        ).getKnot();\n        this.inputBlock.addClass('checkbox-field');\n\n        this.input.addEventListener('change', () => {\n            this._change();\n            return true;\n        });\n    }\n\n    /**\n     * @description Handles the change event by reading the current value and notifying the model.\n     */\n    protected _change(): void {\n        const value = this.getValue();\n        this.modelChange(value);\n    }\n\n    /**\n     * @description Returns the field's value based on the checked state. Returns the input value if checked, or the hidden input value if unchecked.\n     * @returns {*} The type-cast value of the checked or hidden input.\n     */\n    override getValue(): any {\n        const checked = this.input.getNode().checked;\n        let value = this.hiddenInput.getAttribute('value');\n        if (checked) {\n            value = this.input.getAttribute('value');\n        }\n        return typeCast(value);\n    }\n\n    /**\n     * @description Sets the field's checked state by comparing the value against the input's value attribute.\n     * @param {object | Function | Array<any> | boolean | number | string | null | undefined} value - The value to set.\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        const currentValue = typeCast(this.input.getAttribute('value'));\n        this.input.getNode().checked = currentValue === value;\n        if (!this.input.getNode().checked) {\n            this.input.removeAttribute('checked');\n        }\n        this.input.trigger('change');\n    }\n\n    /**\n     * @description Sets the disabled state, updating both the input and the label/input block styling.\n     * @param {boolean} state - True to disable the field, false to enable it.\n     */\n    override setDisabled(state: boolean): void {\n        if (state) {\n            this.input.setAttribute('disabled');\n            this.label.addClass('is-disabled');\n            this.inputBlock.addClass('is-disabled');\n        } else {\n            this.input.removeAttribute('disabled');\n            this.label.removeClass('is-disabled');\n            this.inputBlock.removeClass('is-disabled');\n        }\n        this.input.getNode().disabled = state;\n        this.checkValidity(true, false);\n    }\n\n    /**\n     * @description Sets the label text on the span label element instead of the main label.\n     * @param {string} text - The new label text.\n     */\n    override setLabel(text: string): void {\n        if (this.spanLabel && !this.spanLabel.isEmpty()) {\n            this.spanLabel.setHtml(text);\n            this._setAdditionalLabel(this.spanLabel);\n        }\n    }\n\n    /**\n     * @description Refreshes the field's visual state by updating the data label text and MDL styling.\n     */\n    override refresh() {\n        const dataLabelText = this.label.getAttribute('data-label');\n        if (dataLabelText) {\n            const labelText = this._getLabelRequiredText(dataLabelText);\n            this.dataLabelKnot.setHtml(labelText);\n        } else {\n            this.dataLabelKnot.setHtml('');\n        }\n        if (this.isDisabled()) {\n            this.inputBlock.addClass('is-disabled');\n        }\n\n        mdl(this.label, false);\n    }\n}\n", "import { Knot } from '../core/knot';\nimport { BaseCheckboxField } from './baseCheckboxField';\n\n/**\n * MDL checkbox field with label and data label display.\n *\n * @description Extends {@link BaseCheckboxField} to render a Material Design Lite\n * checkbox input with a span label and a separate data label element.\n *\n * @example\n * const checkboxField = new CheckboxField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n *\n * @see {@link BaseCheckboxField}\n * @category Field\n */\nexport class CheckboxField extends BaseCheckboxField {\n    /**\n     * Creates a new CheckboxField instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The checkbox input element.\n     * @param {Knot} label The label element associated with the checkbox.\n     * @param {Knot} error The error message element.\n     * @param {Knot} inputBlock The container block for the input.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n    }\n\n    /**\n     * Renders the checkbox with MDL classes, label span, and data label element.\n     */\n    override render(): void {\n        this.label.addClass([\n            'mdl-checkbox',\n            'mdl-js-checkbox',\n            'mdl-js-ripple-effect',\n        ]);\n        const id = this.input.getId()!;\n        this.label.setFor(id);\n\n        const labelText = this.label.getHtml(true);\n\n        this.spanLabel = new Knot('span');\n        this.spanLabel.addClass('mdl-checkbox__label');\n        this.spanLabel.setHtml(labelText);\n\n        this.input.addClass('mdl-checkbox__input');\n\n        this.label.insert(this.input);\n        this.label.appendChild(this.spanLabel);\n\n        this.dataLabelKnot = new Knot('span');\n        this.dataLabelKnot.addClass('field-label');\n        this.label.insertBefore(this.dataLabelKnot);\n\n        this.refresh();\n    }\n}\n", "import { Knot } from '../core/knot';\nimport { PopupContainer } from './popupContainer';\nimport { consoleDebug } from '../utils/log';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Toggleable popup overlay that attaches content to a parent element.\n * Supports optional close button and integrates with the global {@link PopupContainer}\n * for lifecycle management.\n *\n * @example\n * const popup = new Popup(contentKnot, parentKnot, true);\n * popup.eventClose = () => console.log('Popup closed');\n * popup.toggle();\n *\n * @see {@link PopupContainer} for global popup lifecycle management\n *\n * @category Component\n */\nexport class Popup {\n    content: Knot;\n    parent?: Knot;\n    withClose: boolean;\n    popupContainer!: PopupContainer;\n    popupKnot!: Knot;\n\n    /**\n     * @description Creates a new Popup with content attached to a parent element.\n     * @param {Knot} content - The content to display inside the popup.\n     * @param {Knot} parent - The parent element the popup is attached to.\n     * @param {boolean} [opt_withClose] - Whether to show a close button.\n     */\n    constructor(\n        content: Knot,\n        parent: Knot,\n        opt_withClose: boolean | undefined = false,\n    ) {\n        this.content = content;\n        this.parent = parent;\n        this.withClose = opt_withClose;\n        this._init();\n    }\n\n    /**\n     * @description Initializes the popup container and draws the popup DOM.\n     */\n    private _init(): void {\n        this.popupContainer = new PopupContainer();\n        this._draw();\n    }\n\n    /**\n     * @description Creates the popup DOM structure and appends it to the parent element.\n     */\n    private _draw(): void {\n        this.popupKnot = new Knot('div');\n        this.popupKnot.addClass(['popup', 'hidden']);\n\n        this.parent!.addClass('popup-parent');\n        this.parent!.appendChild(this.popupKnot);\n\n        this.popupKnot.appendChild(this.content);\n\n        this._initCloseButton();\n    }\n\n    /**\n     * @description Adds an MDL close button to the popup when withClose is enabled.\n     */\n    private _initCloseButton(): void {\n        if (this.withClose) {\n            const btnClose = new Knot<HTMLButtonElement>('button');\n            btnClose.setAttribute('type', 'button');\n            btnClose.addClass([\n                'close',\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-button--icon',\n            ]);\n            btnClose.addEventListener('click', () => {\n                this.close();\n            });\n            this.popupKnot.appendChild(btnClose);\n\n            const iconKnot = new Knot('em');\n            iconKnot.addClass('material-icons');\n            iconKnot.setHtml('close');\n            btnClose.appendChild(iconKnot);\n\n            mdl(btnClose);\n        }\n    }\n\n    /**\n     * @description Opens the popup, closing all other popups first, and positions it within the container.\n     *\n     * @example\n     * popup.open();\n     */\n    open(): void {\n        this.popupContainer.closeAll();\n        this.popupContainer.push(Popup, this);\n        this.popupKnot.removeClass('hidden');\n        this.popupContainer.setPosition(this.popupKnot);\n    }\n\n    /**\n     * @description Closes the popup, removes it from the container, and fires the eventClose callback.\n     *\n     * @example\n     * popup.close();\n     */\n    close(): void {\n        this.popupContainer.delete(this);\n        this.popupContainer.clearPosition(this.popupKnot);\n        this.popupKnot.addClass('hidden');\n        this.eventClose();\n    }\n\n    /**\n     * @description Called when the popup is closed. Override to handle close events.\n     *\n     * @example\n     * popup.eventClose = () => cleanup();\n     */\n    eventClose(): void {\n        consoleDebug('Popup.eventClose()');\n    }\n\n    /**\n     * @description Toggles the popup between open and closed states.\n     *\n     * @example\n     * button.addEventListener('click', () => popup.toggle());\n     */\n    toggle(): void {\n        if (this.isOpened()) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    /**\n     * @description Checks whether the popup is currently open.\n     * @returns {boolean} True if the popup is visible.\n     *\n     * @example\n     * if (popup.isOpened()) { popup.close(); }\n     */\n    isOpened(): boolean {\n        return !this.popupKnot.hasClass('hidden');\n    }\n}\n", "import { typeCast } from '../utils/operation';\nimport { BaseField } from './baseField';\nimport { Canvas } from '../component/canvas';\nimport { Popup } from '../component/popup';\nimport { Tooltip } from '../component/tooltip';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { convertRGBToHEX } from '../utils/color';\n\n/**\n * Color picker field with a Material Design color palette and a\n * {@link Canvas}-based image picker.  Displays a color preview swatch and\n * opens a {@link Popup} with selectable colors on click.\n *\n * @example\n * const input = new Query<HTMLInputElement>('input.color', formKnot).getKnot();\n * const field = new ColorField(input, label, error, inputBlock);\n * field.render();\n *\n * @see {@link BaseField}\n * @see {@link Canvas}\n * @see {@link Popup}\n * @see {@link Tooltip}\n * @category Field\n */\nexport class ColorField extends BaseField<HTMLInputElement> {\n    /** Tooltip displaying the current hex color value. */\n    tooltip!: Tooltip;\n    /** Swatch element previewing the selected color. */\n    previewKnot!: Knot;\n    /** Inner element within the preview swatch. */\n    colorKnot!: Knot;\n    /** Popup overlay containing the color palette. */\n    popup!: Popup;\n    /** Canvas used to render the color palette or image picker. */\n    canvas!: Canvas;\n    /** Optional image element used as a custom color source. */\n    image!: Knot<HTMLImageElement>;\n    /** Two-dimensional array of Material Design color hex values. */\n    colors!: string[][];\n\n    /**\n     * @param input The underlying `<input>` element wrapped in a {@link Knot}.\n     * @param label The associated label element.\n     * @param error The element used to display validation errors.\n     * @param inputBlock The block-level container wrapping the entire field.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * Initializes the color field, input listeners, image source, preview\n     * swatch, and Material Design color palette.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('color-field');\n\n        this._initInput();\n        this._initImage();\n        this._initPreview();\n        this._setMaterialColors();\n    }\n\n    /**\n     * Renders the field label and refreshes the visual state.\n     *\n     * @override\n     */\n    override render() {\n        if (this.label && this.label.exists()) {\n            this.label.addClass('field-label');\n        }\n\n        this.refresh();\n    }\n\n    /**\n     * Validates required state, updates disabled styling, and applies the\n     * current color value to the preview swatch.\n     *\n     * @override\n     */\n    override refresh() {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        if (this.isDisabled()) {\n            this.inputBlock.addClass('is-disabled');\n        } else {\n            this.inputBlock.removeClass('is-disabled');\n        }\n\n        const color = this.getValue() || '#000000';\n        this.setValue(color);\n    }\n\n    /**\n     * Hides the native input and wires up the change event to update the\n     * preview and tooltip.\n     */\n    private _initInput(): void {\n        this.input.addClass('hidden');\n\n        this.input.addEventListener('change', (input) => {\n            const inputNode = input.getNode();\n            this.tooltip.setMessage(inputNode.value);\n            this.previewKnot.setStyle({\n                background: inputNode.value,\n            });\n            this.modelChange(inputNode.value);\n            return true;\n        });\n    }\n\n    /**\n     * Creates the preview swatch, popup overlay, and tooltip, then binds\n     * the click handler to open the color picker.\n     */\n    private _initPreview(): void {\n        this.previewKnot = new Knot('div');\n        this.previewKnot.addClass('preview');\n        this.inputBlock.beforeChild(this.previewKnot);\n\n        this.colorKnot = new Knot('div');\n        this.colorKnot.addClass('color');\n        this.previewKnot.appendChild(this.colorKnot);\n\n        this.popup = new Popup(this.canvas.canvasKnot, this.inputBlock);\n\n        this.tooltip = new Tooltip(this.previewKnot);\n\n        this.previewKnot.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                this._draw();\n                this.popup.open();\n            }\n        });\n    }\n\n    /**\n     * Draws the color palette or image onto the canvas.\n     */\n    private _draw(): void {\n        if (!this.image.isEmpty()) {\n            const width = typeCast(this.image.getAttribute('width'));\n            const height = typeCast(this.image.getAttribute('height'));\n            this.canvas.setSize(width, height);\n            this.canvas.drawImage(this.image, width, height);\n        } else {\n            // 19x11\n            const maxX = this.colors[0].length;\n            const maxY = this.colors.length;\n            const size = 15;\n            this.canvas.setSize(maxX * size, maxY * size);\n            for (let i = 0; i < maxX; i++) {\n                for (let j = 0; j < maxY; j++) {\n                    this.canvas.drawRectangle(\n                        i * size,\n                        j * size,\n                        size,\n                        size,\n                        0,\n                        {\n                            fillStyle: this.colors[j][i],\n                        },\n                    );\n                }\n            }\n        }\n    }\n\n    /**\n     * Locates an optional `<img>` element, creates the {@link Canvas},\n     * and binds pixel-click to color selection.\n     */\n    private _initImage(): void {\n        this.image = new Query<HTMLImageElement>(\n            'img',\n            this.inputBlock,\n        ).getKnot();\n        if (!this.image.isEmpty()) {\n            this.image.addClass('hidden');\n        }\n\n        this.canvas = new Canvas();\n        this.canvas.canvasKnot.addEventListener('click', (_image, e) => {\n            let x = 0;\n            let y = 0;\n            if (e.offsetX) {\n                x = e.offsetX;\n                y = e.offsetY;\n            } else if (e.layerX) {\n                x = e.layerX;\n                y = e.layerY;\n            }\n            const rgb = this.canvas.getImageDataXY(x, y) as any as [\n                number,\n                number,\n                number,\n            ];\n            const hex = convertRGBToHEX(...rgb);\n\n            this.setValue(hex);\n            this.popup.close();\n        });\n    }\n\n    /**\n     * Populates the {@link colors} array with Material Design color swatches\n     * ranging from shade 50 through 900.\n     */\n    private _setMaterialColors(): void {\n        const colors50 = [\n            '#ffebee',\n            '#fce4ec',\n            '#f3e5f5',\n            '#ede7f6',\n            '#e8eaf6',\n            '#e3f2fd',\n            '#e1f5fe',\n            '#e0f7fa',\n            '#e0f2f1',\n            '#e8f5e9',\n            '#f1f8e9',\n            '#f9fbe7',\n            '#fffde7',\n            '#fff8e1',\n            '#fff3e0',\n            '#fbe9e7',\n            '#efebe9',\n            '#fafafa',\n            '#eceff1',\n        ];\n        const colors100 = [\n            '#ffcdd2',\n            '#f8bbd0',\n            '#e1bee7',\n            '#d1c4e9',\n            '#c5cae9',\n            '#bbdefb',\n            '#b3e5fc',\n            '#b2ebf2',\n            '#b2dfdb',\n            '#c8e6c9',\n            '#dcedc8',\n            '#f0f4c3',\n            '#fff9c4',\n            '#ffecb3',\n            '#ffe0b2',\n            '#ffccbc',\n            '#d7ccc8',\n            '#f5f5f5',\n            '#cfd8dc',\n        ];\n        const colors200 = [\n            '#ef9a9a',\n            '#f48fb1',\n            '#ce93d8',\n            '#b39ddb',\n            '#9fa8da',\n            '#90caf9',\n            '#81d4fa',\n            '#80deea',\n            '#80cbc4',\n            '#a5d6a7',\n            '#c5e1a5',\n            '#e6ee9c',\n            '#fff59d',\n            '#ffe082',\n            '#ffcc80',\n            '#ffab91',\n            '#bcaaa4',\n            '#eeeeee',\n            '#b0bec5',\n        ];\n        const colors300 = [\n            '#e57373',\n            '#f06292',\n            '#ba68c8',\n            '#9575cd',\n            '#7986cb',\n            '#64b5f6',\n            '#4fc3f7',\n            '#4dd0e1',\n            '#4db6ac',\n            '#81c784',\n            '#aed581',\n            '#dce775',\n            '#fff176',\n            '#ffd54f',\n            '#ffb74d',\n            '#ff8a65',\n            '#a1887f',\n            '#e0e0e0',\n            '#90a4ae',\n        ];\n        const colors400 = [\n            '#ef5350',\n            '#ec407a',\n            '#ab47bc',\n            '#7e57c2',\n            '#5c6bc0',\n            '#42a5f5',\n            '#29b6f6',\n            '#26c6da',\n            '#26a69a',\n            '#66bb6a',\n            '#9ccc65',\n            '#d4e157',\n            '#ffee58',\n            '#ffca28',\n            '#ffa726',\n            '#ff7043',\n            '#8d6e63',\n            '#bdbdbd',\n            '#78909c',\n        ];\n        const colors500 = [\n            '#f44336',\n            '#e91e63',\n            '#9c27b0',\n            '#673ab7',\n            '#3f51b5',\n            '#2196f3',\n            '#03a9f4',\n            '#00bcd4',\n            '#009688',\n            '#4caf50',\n            '#8bc34a',\n            '#cddc39',\n            '#ffeb3b',\n            '#ffc107',\n            '#ff9800',\n            '#ff5722',\n            '#795548',\n            '#9e9e9e',\n            '#607d8b',\n        ];\n        const colors600 = [\n            '#e53935',\n            '#d81b60',\n            '#8e24aa',\n            '#5e35b1',\n            '#3949ab',\n            '#1e88e5',\n            '#039be5',\n            '#00acc1',\n            '#00897b',\n            '#43a047',\n            '#7cb342',\n            '#c0ca33',\n            '#fdd835',\n            '#ffb300',\n            '#fb8c00',\n            '#f4511e',\n            '#6d4c41',\n            '#757575',\n            '#546e7a',\n        ];\n        const colors700 = [\n            '#d32f2f',\n            '#c2185b',\n            '#7b1fa2',\n            '#512da8',\n            '#303f9f',\n            '#1976d2',\n            '#0288d1',\n            '#0097a7',\n            '#00796b',\n            '#388e3c',\n            '#689f38',\n            '#afb42b',\n            '#fbc02d',\n            '#ffa000',\n            '#f57c00',\n            '#e64a19',\n            '#5d4037',\n            '#616161',\n            '#455a64',\n        ];\n        const colors800 = [\n            '#c62828',\n            '#ad1457',\n            '#6a1b9a',\n            '#4527a0',\n            '#283593',\n            '#1565c0',\n            '#0277bd',\n            '#00838f',\n            '#00695c',\n            '#2e7d32',\n            '#558b2f',\n            '#9e9d24',\n            '#f9a825',\n            '#ff8f00',\n            '#ef6c00',\n            '#d84315',\n            '#4e342e',\n            '#424242',\n            '#37474f',\n        ];\n        const colors900 = [\n            '#b71c1c',\n            '#880e4f',\n            '#4a148c',\n            '#311b92',\n            '#1a237e',\n            '#0d47a1',\n            '#01579b',\n            '#006064',\n            '#004d40',\n            '#1b5e20',\n            '#33691e',\n            '#827717',\n            '#f57f17',\n            '#ff6f00',\n            '#e65100',\n            '#bf360c',\n            '#3e2723',\n            '#212121',\n            '#263238',\n        ];\n\n        this.colors = [\n            colors500,\n            colors50,\n            colors100,\n            colors200,\n            colors300,\n            colors400,\n            colors500,\n            colors600,\n            colors700,\n            colors800,\n            colors900,\n        ];\n    }\n}\n", "import { BaseField } from './baseField';\nimport { Popup } from '../component/popup';\nimport { DateTime } from '../component/dateTime';\nimport { Knot } from '../core/knot';\nimport { DateIO } from '../utils';\n\n/**\n * Date/time picker field that presents a {@link DateTime} component inside a\n * {@link Popup} overlay.  The selected value is displayed as a formatted tag\n * in the input area.\n *\n * @example\n * const input = new Query<HTMLInputElement>('input.datetime', formKnot).getKnot();\n * const field = new DateTimeField(input, label, error, inputBlock);\n * field.render();\n *\n * @see {@link BaseField}\n * @see {@link DateTime}\n * @see {@link Popup}\n * @see {@link DateIO}\n * @category Field\n */\nexport class DateTimeField extends BaseField<HTMLInputElement> {\n    /** Container element wrapping the datetime input display. */\n    datetimeContainer!: Knot;\n    /** Clickable element showing the formatted date/time tag. */\n    datetimeInput!: Knot;\n    /** Display format string read from the input's `data-format` attribute. */\n    format!: string;\n    /** Wrapper element for the {@link DateTime} component. */\n    datetimeKnot!: Knot;\n    /** The {@link DateTime} calendar/time picker component. */\n    datetime!: DateTime;\n    /** Popup overlay containing the datetime picker. */\n    popup!: Popup;\n\n    /**\n     * @param input The underlying `<input>` element wrapped in a {@link Knot}.\n     * @param label The associated label element.\n     * @param error The element used to display validation errors.\n     * @param inputBlock The block-level container wrapping the entire field.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * Initializes the datetime container, input display, and inner components.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('datetime-field');\n        this.input.addClass('hidden');\n\n        this.datetimeContainer = new Knot('div');\n        this.datetimeContainer.addClass('datetime-container');\n        this.input.insertAfter(this.datetimeContainer);\n\n        this.datetimeInput = new Knot('div');\n        this.datetimeInput.addClass('datetime-input');\n        this.datetimeInput.addEventListener('click', this._onClick.bind(this));\n        this.datetimeContainer.appendChild(this.datetimeInput);\n\n        this._initInput();\n    }\n\n    /**\n     * Creates the {@link DateTime} picker, wires up change events, and\n     * initializes the {@link Popup} overlay.\n     */\n    private _initInput(): void {\n        this.format = this.input.getData('format');\n        const type = this.input.getAttribute('type');\n        const value = this.getValue().toString();\n\n        this.datetimeKnot = new Knot('div');\n        this.datetime = new DateTime(this.datetimeKnot, {\n            value,\n            type,\n        });\n        this.datetime.eventClick = (value) => {\n            this.setValue(value);\n        };\n\n        this.input.addEventListener('change', () => {\n            const currentValue = this.getValue().toString();\n            this.datetime.setValue(currentValue as string);\n            this.modelChange(currentValue);\n            return true;\n        });\n\n        this.popup = new Popup(this.datetimeKnot, this.inputBlock);\n        this.popup.eventClose = () => {\n            this.datetimeInput.removeClass('active');\n        };\n\n        if (value) {\n            const formattedValue = this.datetime.getFormattedValue();\n            this._setTag(formattedValue);\n        }\n    }\n\n    /**\n     * Renders the field label, expander icon, and draws the datetime picker.\n     *\n     * @override\n     */\n    override render(): void {\n        if (this.label && this.label.exists()) {\n            this.label.addClass('field-label');\n        }\n\n        const iconKnot = new Knot('a');\n        iconKnot.setAttribute('href', 'javascript:void(0)');\n        iconKnot.addClass(['material-icons', 'size-24', 'expander']);\n        iconKnot.setHtml('date_range');\n        iconKnot.addEventListener('click', this._onClick.bind(this));\n        this.actionContainerKnot.appendChild(iconKnot);\n\n        this.refresh();\n        this.datetime.draw();\n    }\n\n    /**\n     * Updates the disabled visual state of the field.\n     *\n     * @override\n     */\n    override refresh() {\n        if (this.isDisabled()) {\n            this.inputBlock.addClass('is-disabled');\n        } else {\n            this.inputBlock.removeClass('is-disabled');\n        }\n    }\n\n    /**\n     * Sets the field value, updates the display tag, and triggers a change event.\n     *\n     * @param value The new date/time value.\n     * @override\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        this._setTag(value as string);\n        this.input.setAttribute('value', value);\n        this.input.trigger('change');\n    }\n\n    /**\n     * Renders a formatted date/time tag inside the display area with an\n     * optional close button.\n     *\n     * @param value The raw date/time string to format and display.\n     */\n    private _setTag(value: string): void {\n        this.datetimeInput.removeChildren();\n        if (value) {\n            const date = DateIO.parse(value, this.datetime.getConfig().format);\n            const formattedValue = DateIO.format(date, this.format);\n            const tagKnot = new Knot('div');\n            tagKnot.addClass('field-tag');\n            tagKnot.setHtml(formattedValue);\n            this.datetimeInput.appendChild(tagKnot);\n\n            if (this.isEnabled()) {\n                const iconKnot = new Knot('a');\n                iconKnot.setAttribute('href', 'javascript:void(0)');\n                iconKnot.addClass(['material-icons', 'size-18', 'close']);\n                iconKnot.setHtml('close');\n                iconKnot.addEventListener('click', () => {\n                    this.setValue('');\n                });\n                tagKnot.addClass('tag-with-action');\n                tagKnot.appendChild(iconKnot);\n            }\n        }\n    }\n\n    /**\n     * Handles click on the input area or expander icon to toggle the popup.\n     */\n    private _onClick(): void {\n        if (this.isEnabled()) {\n            this.datetimeInput.addClass('active');\n            this.popup.toggle();\n        }\n    }\n}\n", "import { BaseField } from './baseField';\nimport { Popup } from '../component/popup';\nimport { DateTime } from '../component/dateTime';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { DateIO } from '../utils';\n\n/**\n * Date/time range picker field with start and end inputs sharing a single\n * container.  Each instance wraps one end of the range and delegates to a\n * {@link DateTime} component inside a {@link Popup} overlay.\n *\n * @example\n * const startInput = new Query<HTMLInputElement>('input.start', formKnot).getKnot();\n * const endInput = new Query<HTMLInputElement>('input.end', formKnot).getKnot();\n * const startField = new DateTimeRangeField(startInput, label, error, inputBlock, true);\n * const endField = new DateTimeRangeField(endInput, label, error, inputBlock, false);\n *\n * @see {@link BaseField}\n * @see {@link DateTime}\n * @see {@link Popup}\n * @see {@link DateIO}\n * @category Field\n */\nexport class DateTimeRangeField extends BaseField<HTMLInputElement> {\n    /** Whether this instance represents the start input of the range. */\n    isStartInput: boolean;\n    /** Container element wrapping both start and end datetime displays. */\n    datetimeContainer!: Knot;\n    /** Clickable element showing the formatted date/time tag. */\n    datetimeInput!: Knot;\n    /** Display format string read from the input's `data-format` attribute. */\n    format!: string;\n    /** Wrapper element for the {@link DateTime} component. */\n    datetimeKnot!: Knot;\n    /** The {@link DateTime} calendar/time picker component. */\n    datetime!: DateTime;\n    /** Popup overlay containing the datetime picker. */\n    popup!: Popup;\n\n    /**\n     * @param input The underlying `<input>` element wrapped in a {@link Knot}.\n     * @param label The associated label element.\n     * @param error The element used to display validation errors.\n     * @param inputBlock The block-level container wrapping the entire field.\n     * @param isStartInput Whether this instance represents the start input of the range.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n        isStartInput: boolean,\n    ) {\n        super(input, label, error, inputBlock);\n\n        this.isStartInput = isStartInput;\n        this._init();\n    }\n\n    /**\n     * Initializes the range container, input display, and inner components.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('datetime-range-field');\n        this.input.addClass('hidden');\n\n        this.datetimeContainer = new Query(\n            '.datetime-container',\n            this.inputBlock,\n        ).getKnot();\n        if (this.isStartInput) {\n            this.datetimeContainer = new Knot('div');\n            this.datetimeContainer.addClass('datetime-container');\n            this.input.insertAfter(this.datetimeContainer);\n        }\n\n        this.datetimeInput = new Knot('div');\n        this.datetimeInput.addClass('datetime-input');\n        this.datetimeInput.addEventListener('click', this._onClick.bind(this));\n        this.datetimeContainer.appendChild(this.datetimeInput);\n\n        this._initInput();\n    }\n\n    /**\n     * Creates the {@link DateTime} picker, wires up change events, and\n     * initializes the {@link Popup} overlay.\n     */\n    private _initInput(): void {\n        this.format = this.input.getData('format');\n\n        this.input.addEventListener('change', () => {\n            const value = this.getValue().toString();\n            this.modelChange(value);\n            return true;\n        });\n\n        const type = this.input.getAttribute('type');\n        const value = this.getValue().toString();\n\n        this.datetimeKnot = new Knot('div');\n        this.datetime = new DateTime(this.datetimeKnot, {\n            value: value,\n            type: type,\n        });\n        this.datetime.eventClick = (value) => {\n            this.setValue(value);\n        };\n\n        this.popup = new Popup(this.datetimeKnot, this.inputBlock);\n        this.popup.eventClose = () => {\n            this.datetimeInput.removeClass('active');\n        };\n\n        if (value) {\n            const formattedValue = this.datetime.getFormattedValue();\n            this._setTag(formattedValue);\n        }\n    }\n\n    /**\n     * Renders the field label, range separator or expander icon, and draws\n     * the datetime picker.\n     *\n     * @override\n     */\n    override render(): void {\n        if (this.label && this.label.exists()) {\n            this.label.addClass('field-label');\n        }\n\n        const iconKnot = new Knot('a');\n        iconKnot.setAttribute('href', 'javascript:void(0)');\n        iconKnot.addClass(['material-icons', 'size-24', 'expander']);\n        if (this.isStartInput) {\n            iconKnot.setHtml('remove');\n            this.datetimeInput.insertAfter(iconKnot);\n        } else {\n            iconKnot.setHtml('date_range');\n            this.actionContainerKnot.appendChild(iconKnot);\n        }\n        iconKnot.addEventListener('click', this._onClick.bind(this));\n\n        this.refresh();\n        this.datetime.draw();\n    }\n\n    /**\n     * Updates the disabled visual state of the field.\n     *\n     * @override\n     */\n    override refresh() {\n        if (this.isDisabled()) {\n            this.inputBlock.addClass('is-disabled');\n        } else {\n            this.inputBlock.removeClass('is-disabled');\n        }\n    }\n\n    /**\n     * Sets the field value, updates the display tag, synchronizes the\n     * {@link DateTime} picker, and triggers a change event.\n     *\n     * @param value The new date/time value.\n     * @override\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        this._setTag(value as string);\n        this.input.setAttribute('value', value);\n        this.input.trigger('change');\n        this.datetime.setValue(value as string);\n    }\n\n    /**\n     * Renders a formatted date/time tag inside the display area with an\n     * optional close button.\n     *\n     * @param value The raw date/time string to format and display.\n     */\n    private _setTag(value: string): void {\n        this.datetimeInput.removeChildren();\n        if (value) {\n            const date = DateIO.parse(value, this.datetime.getConfig().format);\n            const formattedValue = DateIO.format(date, this.format);\n\n            const tagKnot = new Knot('div');\n            tagKnot.addClass('field-tag');\n            tagKnot.setHtml(formattedValue);\n            this.datetimeInput.appendChild(tagKnot);\n\n            if (this.isEnabled()) {\n                const iconKnot = new Knot('a');\n                iconKnot.setAttribute('href', 'javascript:void(0)');\n                iconKnot.addClass(['material-icons', 'size-18', 'close']);\n                iconKnot.setHtml('close');\n                iconKnot.addEventListener('click', () => {\n                    this.setValue('');\n                });\n                tagKnot.addClass('tag-with-action');\n                tagKnot.appendChild(iconKnot);\n            }\n        }\n    }\n\n    /**\n     * Handles click on the input area or icon to toggle the popup.\n     */\n    private _onClick(): void {\n        if (this.isEnabled()) {\n            this.datetimeInput.addClass('active');\n            this.popup.toggle();\n        }\n    }\n}\n", "import { Knot } from '../core';\nimport { BaseField } from './baseField';\n\n/**\n * Hidden form input field with no visible rendering.\n *\n * @description Extends {@link BaseField} to provide a hidden input that participates\n * in form data without rendering any visible UI. Changes to the hidden input\n * value are propagated through the model change mechanism.\n *\n * @example\n * const hiddenField = new HiddenField(inputKnot);\n *\n * @see {@link BaseField}\n * @category Field\n */\nexport class HiddenField extends BaseField<HTMLInputElement> {\n    /**\n     * Creates a new HiddenField instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The hidden input element.\n     */\n    constructor(input: Knot<HTMLInputElement>) {\n        super(input);\n        this._init();\n    }\n\n    /**\n     * Initializes the change event listener on the hidden input.\n     */\n    private _init(): void {\n        this.input.addEventListener('change', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            return true;\n        });\n    }\n\n    /**\n     * No-op render since the field is hidden.\n     */\n    override render(): void {\n        // empty method\n    }\n\n    /**\n     * No-op refresh since the field is hidden.\n     */\n    override refresh() {\n        // empty method\n    }\n}\n", "import { typeCast } from '../utils/operation';\nimport { Knot } from '../core/knot';\nimport { BaseCheckboxField } from './baseCheckboxField';\n\n/**\n * Icon-based toggle field with checked and unchecked icon states.\n *\n * @description Extends {@link BaseCheckboxField} to render a Material Design Lite\n * icon toggle that switches between two Material Icons based on the checked state.\n * The checked and unchecked icons are read from `data-checked` and `data-unchecked`\n * attributes on the input element.\n *\n * @example\n * // Input element should have data-checked and data-unchecked attributes:\n * // <input type=\"checkbox\" data-checked=\"visibility\" data-unchecked=\"visibility_off\" />\n * const iconToggle = new IconToggleField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n *\n * @see {@link BaseCheckboxField}\n * @category Field\n */\nexport class IconToggleField extends BaseCheckboxField {\n    /** @description The Material Icon name shown when the toggle is checked. */\n    checkedIcon!: string;\n    /** @description The Material Icon name shown when the toggle is unchecked. */\n    uncheckedIcon!: string;\n    /** @description The icon element rendered inside the toggle label. */\n    icon!: Knot;\n\n    /**\n     * Creates a new IconToggleField instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The checkbox input element with icon data attributes.\n     * @param {Knot} label The label element associated with the toggle.\n     * @param {Knot} error The error message element.\n     * @param {Knot} inputBlock The container block for the input.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n    }\n\n    /**\n     * Renders the icon toggle with MDL classes, icon element, and label span.\n     */\n    override render(): void {\n        this.label.addClass([\n            'mdl-icon-toggle',\n            'mdl-js-icon-toggle',\n            'mdl-js-ripple-effect',\n        ]);\n\n        this.checkedIcon = this.input.getData('checked');\n        this.uncheckedIcon = this.input.getData('unchecked');\n\n        this.icon = new Knot('em');\n        this.icon.addClass(['mdl-icon-toggle__label', 'material-icons']);\n        this.icon.setHtml(\n            this.input.getNode().checked\n                ? this.checkedIcon\n                : this.uncheckedIcon,\n        );\n\n        this.input.addClass('mdl-icon-toggle__input');\n\n        const labelText = this.label.getText();\n\n        this.spanLabel = new Knot('span');\n        this.spanLabel.addClass('mdl-icon__label');\n        this.spanLabel.setHtml(labelText);\n\n        this.label.insert(this.input);\n        this.label.appendChild(this.icon);\n        this.label.appendChild(this.spanLabel);\n\n        this.dataLabelKnot = new Knot('span');\n        this.dataLabelKnot.addClass('field-label');\n        this.label.insertBefore(this.dataLabelKnot);\n\n        this.refresh();\n    }\n\n    /**\n     * Handles the change event by updating the displayed icon and notifying the model.\n     */\n    protected override _change(): void {\n        const value = this.getValue();\n        this.icon.setHtml(\n            this.input.getNode().checked\n                ? this.checkedIcon\n                : this.uncheckedIcon,\n        );\n        this.modelChange(value);\n    }\n\n    /**\n     * Sets the toggle value and updates the displayed icon accordingly.\n     *\n     * @param {object | Function | Array<any> | boolean | number | string | null | undefined} value The value to set.\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        const currentValue = typeCast(this.input.getAttribute('value'));\n        this.input.getNode().checked = currentValue === value;\n        if (!this.input.getNode().checked) {\n            this.input.removeAttribute('checked');\n        }\n        this.icon.setHtml(\n            this.input.getNode().checked\n                ? this.checkedIcon\n                : this.uncheckedIcon,\n        );\n        this.input.trigger('change');\n    }\n}\n", "import { format, typeCast } from '../utils/operation';\nimport { BaseField } from './baseField';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { Form } from '../component';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Radio button group field with MDL styling. Manages a set of radio inputs sharing the same name,\n * handling checked state, disabled state, and label rendering across all buttons in the group.\n *\n * @example\n * const radioField = new RadiobuttonField(inputKnot, labelKnot, errorKnot, inputBlockKnot, form);\n * radioField.render();\n *\n * @see {@link BaseField}\n * @see {@link Form}\n *\n * @category Field\n */\nexport class RadiobuttonField extends BaseField<HTMLInputElement> {\n    dataLabelKnot!: Knot;\n    spanLabel!: Knot;\n\n    /**\n     * @description Creates a new RadiobuttonField instance.\n     * @param {Knot<HTMLInputElement>} input - The radio input element.\n     * @param {Knot} label - The label element.\n     * @param {Knot} error - The error message element.\n     * @param {Knot} inputBlock - The container block element.\n     * @param {Form} form - The parent form instance used to query sibling radio inputs.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n        form: Form,\n    ) {\n        super(input, label, error, inputBlock, form);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the field by adding CSS class and attaching the change event listener.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('radiobutton-field');\n\n        /* this.label.addEventListener('click', () => {\n        this._change();\n    });*/\n        this.input.addEventListener('change', () => {\n            this._change();\n            return true;\n        });\n    }\n\n    /**\n     * @description Handles radio button selection by notifying the model and marking sibling inputs as other-checked.\n     */\n    private _change(): void {\n        const value = this.input.getAttribute('value');\n        this.modelChange(value);\n\n        const name = this.input.getAttribute('name');\n        const radioButtonInputs = new Query(\n            format('input[name=\"{0}\"]', [name]),\n            this.form!.formKnot,\n        );\n        radioButtonInputs.each((radioButtonInput) => {\n            const labelKnot = radioButtonInput.getParentKnot()!;\n            labelKnot.addClass('is-other-checked');\n            const inputBlockKnot = labelKnot.getParentKnot()!;\n            inputBlockKnot.removeClass('is-invalid');\n        });\n    }\n\n    /**\n     * @description Builds the MDL radio button layout with label, icon, and data-label elements.\n     * @override\n     */\n    override render(): void {\n        this.label.addClass([\n            'mdl-radio',\n            'mdl-js-radio',\n            'mdl-js-ripple-effect',\n        ]);\n        const id = this.input.getId()!;\n        this.label.setFor(id);\n\n        const labelText = this.label.getHtml(true);\n\n        const spanLabel = new Knot('span');\n        spanLabel.addClass('mdl-radio__label');\n        spanLabel.setHtml(labelText);\n\n        this.input.addClass('mdl-radio__button');\n\n        this.label.insert(this.input);\n        this.label.appendChild(spanLabel);\n\n        this.dataLabelKnot = new Knot('span');\n        this.dataLabelKnot.addClass('field-label');\n        this.label.insertBefore(this.dataLabelKnot);\n\n        this.refresh();\n    }\n\n    /**\n     * @description Updates the data-label text, manages the disabled state, and upgrades MDL components.\n     * @override\n     */\n    override refresh() {\n        const dataLabelText = this.label.getAttribute('data-label');\n        if (dataLabelText) {\n            const labelText = this._getLabelRequiredText(dataLabelText);\n            this.dataLabelKnot.setHtml(labelText);\n        } else {\n            this.dataLabelKnot.setHtml('');\n        }\n        if (this.isDisabled()) {\n            this.inputBlock.addClass('is-disabled');\n        }\n\n        mdl(this.label, false);\n    }\n\n    /**\n     * @description Checks the radio button whose value attribute matches the given value and triggers a change event.\n     * @param {object | Function | Array<any> | boolean | number | string | null | undefined} value - The value to select.\n     * @override\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        if (this.input.getAttribute('value') === value) {\n            this.input.getNode().checked = true;\n            this.input.trigger('change');\n        }\n    }\n\n    /**\n     * @description Returns the value of the currently checked radio button in the group, or null if none is selected.\n     * @returns {any} The type-cast value of the checked radio button.\n     * @override\n     */\n    override getValue(): any {\n        let value = null;\n        this._getRadioButtonInputs().each((radioButtonInput) => {\n            const checked = radioButtonInput.getNode().checked;\n            if (checked) {\n                value = radioButtonInput.getAttribute('value');\n            }\n        });\n        return typeCast(value);\n    }\n\n    /**\n     * @description Sets the disabled state on all radio buttons in the group and their parent elements.\n     * @param {boolean} state - True to disable, false to enable.\n     * @override\n     */\n    override setDisabled(state: boolean): void {\n        this._getRadioButtonInputs().each((radioButtonInput) => {\n            if (state) {\n                radioButtonInput.setAttribute('disabled');\n                radioButtonInput.getParentKnot()!.addClass('is-disabled');\n                radioButtonInput\n                    .getParentKnot()!\n                    .getParentKnot()!\n                    .addClass('is-disabled');\n            } else {\n                radioButtonInput.removeAttribute('disabled');\n                radioButtonInput.getParentKnot()!.removeClass('is-disabled');\n                radioButtonInput\n                    .getParentKnot()!\n                    .getParentKnot()!\n                    .removeClass('is-disabled');\n            }\n            radioButtonInput.getNode().disabled = state;\n        });\n        this.checkValidity(true, false);\n    }\n\n    /**\n     * @description Returns true if any radio button in the group is disabled.\n     * @returns {boolean}\n     * @override\n     */\n    override isDisabled(): boolean {\n        let isDisabled = false;\n        this._getRadioButtonInputs().each((radioButtonInput) => {\n            if (radioButtonInput.getNode().disabled) {\n                isDisabled = true;\n            }\n        });\n        return isDisabled;\n    }\n\n    /**\n     * @description Queries the parent form for all radio inputs sharing the same name attribute.\n     * @returns {Query<HTMLInputElement>}\n     */\n    private _getRadioButtonInputs(): Query<HTMLInputElement> {\n        const name = this.input.getAttribute('name');\n        return new Query<HTMLInputElement>(\n            format('input[name=\"{0}\"]', [name]),\n            this.form!.formKnot,\n        );\n    }\n\n    /**\n     * @description Updates the span label text for this radio button option.\n     * @param {string} text - The new label text.\n     * @override\n     */\n    override setLabel(text: string): void {\n        if (this.spanLabel && !this.spanLabel.isEmpty()) {\n            this.spanLabel.setHtml(text);\n            this._setAdditionalLabel(this.spanLabel);\n        }\n    }\n}\n", "import { Knot } from '../core';\nimport { mdl } from '../utils/render';\nimport { BaseField } from './baseField';\n\n/**\n * Form reset button with MDL styling.\n *\n * @description Extends {@link BaseField} to render a Material Design Lite button\n * used for resetting form fields to their default values.\n *\n * @example\n * const resetButton = new ResetButton(inputKnot);\n *\n * @see {@link BaseField}\n * @category Field\n */\nexport class ResetButton extends BaseField<HTMLInputElement> {\n    /**\n     * Creates a new ResetButton instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The reset button input element.\n     */\n    constructor(input: Knot<HTMLInputElement>) {\n        super(input);\n        this._init();\n    }\n\n    /**\n     * Sets the reset button name attribute.\n     */\n    private _init(): void {\n        this.input.setAttribute('name', 'reset');\n    }\n\n    /**\n     * Renders the reset button with MDL classes.\n     */\n    override render(): void {\n        this.input.addClass([\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-js-ripple-effect',\n        ]);\n        this.refresh();\n    }\n\n    /**\n     * Refreshes the MDL reset button component.\n     */\n    override refresh() {\n        mdl(this.input);\n    }\n}\n", "import { eq } from '../utils/operation';\nimport { mdl } from '../utils/render';\nimport { BaseField } from './baseField';\nimport { Knot } from '../core/knot';\nimport { consoleDebug } from '../utils/log';\n\n/**\n * @description Expandable search input field with clear button and enter key handling.\n *\n * @example\n * const searchField = new SearchField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * searchField.eventEnter = (value) => { console.log('Search:', value); };\n * searchField.render();\n *\n * @see {@link BaseField}\n *\n * @category Field\n */\nexport class SearchField extends BaseField<HTMLInputElement> {\n    holderKnot!: Knot;\n\n    /**\n     * @description Creates a new SearchField instance.\n     * @param {Knot<HTMLInputElement>} input - The search input element.\n     * @param {Knot} label - The label element.\n     * @param {Knot} error - The error message element.\n     * @param {Knot} inputBlock - The container block element.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes keyup and change event listeners on the input.\n     */\n    private _init(): void {\n        this.input.addEventListener('keyup', (input, event) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            if (eq(event.keyCode, 13)) {\n                this.eventEnter(inputNode.value);\n            }\n            return true;\n        });\n\n        this.input.addEventListener('change', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            return true;\n        });\n    }\n\n    /**\n     * @description Builds the expandable MDL search field layout with icon, holder, label, and clear button.\n     * @override\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'search-field',\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--expandable',\n        ]);\n        this.input.addClass(['mdl-textfield__input']);\n\n        this.label.addClass([\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-button--icon',\n        ]);\n        const iconKnot = new Knot('em');\n        iconKnot.addClass(['material-icons', 'search-button']);\n        iconKnot.setHtml('search');\n        this.label.insert(iconKnot);\n\n        this.holderKnot = new Knot('div');\n        this.holderKnot.addClass('mdl-textfield__expandable-holder');\n        this.holderKnot.appendChild(this.input);\n        this.inputBlock.appendChild(this.holderKnot);\n\n        const labelKnot = new Knot('label');\n        labelKnot.addClass('mdl-textfield__label');\n        this.holderKnot.appendChild(labelKnot);\n\n        this._initClearButton();\n        this.refresh();\n    }\n\n    /**\n     * @description Marks the field as invalid when required and empty, then upgrades MDL components.\n     * @override\n     */\n    override refresh() {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        mdl(this.inputBlock);\n    }\n\n    /**\n     * @description Creates a clear button that resets the field value and triggers eventEnter.\n     */\n    private _initClearButton(): void {\n        const clearButton = new Knot('a');\n        clearButton.setAttribute('href', 'javascript:void(0)');\n        clearButton.addClass(['material-icons', 'clear-button']);\n        clearButton.setHtml('clear');\n        clearButton.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                this.inputBlock.removeClass(['is-dirty', 'is-focused']);\n                this.setValue('');\n                this.eventEnter('');\n            }\n        });\n        this.holderKnot.appendChild(clearButton);\n    }\n\n    /**\n     * @description Called when the user presses Enter or clears the search field. Override to handle search submission.\n     * @param {string} value - The current search input value.\n     */\n    eventEnter(value: string): void {\n        consoleDebug('Search.eventEnter()', value);\n    }\n}\n", "import {\n    isArray,\n    eq,\n    format,\n    neq,\n    inArray,\n    clear,\n    remove,\n    eachArray,\n} from '../utils/operation';\nimport { BaseField } from './baseField';\nimport { Popup } from '../component/popup';\nimport { Collection } from '../core/collection';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { generateId } from '../utils/coder';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Custom select/dropdown field with search, single/multiple selection, and tag display.\n * Extends {@link BaseField} with popup-based option selection.\n * @category Field\n * @example\n * const selectField = new SelectField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * selectField.render();\n * selectField.setOptions(items, 'id', 'label');\n * selectField.setValue('option1');\n * @see {@link BaseField}\n * @see {@link Popup}\n * @see {@link Collection}\n */\nexport class SelectField extends BaseField<HTMLInputElement> {\n    query!: string;\n    ids!: string[];\n    containerKnot!: Knot;\n    listKnot!: Knot;\n    popup!: Popup;\n    options!: Collection<Objekt>;\n    iconKnot!: Knot;\n    selectContainerKnot!: Knot;\n    selectKnot!: Knot;\n    searchInputKnot!: Knot<HTMLInputElement>;\n\n    /**\n     * @description Creates a new SelectField instance.\n     * @param {Knot<HTMLInputElement>} input - The select input element wrapped in a Knot.\n     * @param {Knot} label - The label element wrapped in a Knot.\n     * @param {Knot} error - The error element wrapped in a Knot.\n     * @param {Knot} inputBlock - The input block container wrapped in a Knot.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the select field by hiding the native input, setting up options, events, and the popup.\n     */\n    private _init(): void {\n        this.input.addClass('hidden');\n        this.inputBlock.addClass('select-field');\n        this.query = '';\n        this.ids = [];\n\n        this._initOptions();\n        this._initChangeEvent();\n        this._initPopup();\n    }\n\n    /**\n     * @description Checks whether the select field allows multiple selections.\n     * @returns {boolean} True if the input has a multiple attribute.\n     * @example\n     * if (selectField.isMultiple()) {\n     *     console.log('Multiple selections allowed');\n     * }\n     */\n    isMultiple(): boolean {\n        return this.input.hasAttribute('multiple');\n    }\n\n    /**\n     * @description Initializes the popup container with a search input and options list.\n     */\n    private _initPopup(): void {\n        this.containerKnot = new Knot('div');\n        this._drawSearchInput();\n\n        this.listKnot = new Knot('div');\n        this.listKnot.addClass('options-list');\n        this.containerKnot.appendChild(this.listKnot);\n\n        this.popup = new Popup(this.containerKnot, this.inputBlock);\n    }\n\n    /**\n     * @description Binds the change event listener on the native input element.\n     */\n    private _initChangeEvent(): void {\n        this.input.addEventListener('change', () => {\n            this._change();\n            return true;\n        });\n    }\n\n    /**\n     * @description Parses option elements from the native input and populates the options collection.\n     */\n    private _initOptions(): void {\n        this.options = new Collection();\n\n        const optionKnots = new Query('option', this.input);\n        optionKnots.each((optionKnot) => {\n            const value = optionKnot.getAttribute('value') || '';\n            const image = optionKnot.getAttribute('data-image') || '';\n            const item = optionKnot.getAttribute('data-item') || {};\n            const text = optionKnot.getText() || '';\n            const option = new Objekt({\n                id: value,\n                name: text,\n                image: image,\n                item: item,\n            });\n            option.setRaw('option_node', optionKnot);\n            this.options.push(option);\n        });\n    }\n\n    /**\n     * @description Renders the select field by adding the label class, creating the expander icon, and refreshing the display.\n     */\n    override render(): void {\n        if (this.label && this.label.exists()) {\n            this.label.addClass('field-label');\n        }\n\n        this.iconKnot = new Knot('a');\n        this.iconKnot.setAttribute('href', 'javascript:void(0)');\n        this.iconKnot.addClass(['material-icons', 'size-24', 'expander']);\n        this.iconKnot.setHtml('expand_more');\n        this.iconKnot.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                this.open();\n            }\n        });\n        this.actionContainerKnot.appendChild(this.iconKnot);\n\n        this.refresh();\n    }\n\n    /**\n     * @description Refreshes the select field by rebuilding the select container and updating the displayed tags.\n     */\n    override refresh(): void {\n        const selectContainerKnot = new Query(\n            '.select-container',\n            this.inputBlock,\n        ).getKnot();\n        selectContainerKnot.remove();\n\n        if (this.isDisabled()) {\n            this.inputBlock.addClass('is-disabled');\n        } else {\n            this.inputBlock.removeClass('is-disabled');\n        }\n\n        this.selectContainerKnot = new Knot('div');\n        this.selectContainerKnot.addClass('select-container');\n        this.selectContainerKnot.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                this.open();\n            }\n        });\n        this.input.insertAfter(this.selectContainerKnot);\n\n        this.selectKnot = new Knot('div');\n        this.selectKnot.addClass('select-input');\n        this.selectContainerKnot.appendChild(this.selectKnot);\n\n        const ids = this._getSelectedIds();\n        this._setSelectTags(ids);\n    }\n\n    /**\n     * @description Sets the selected value(s) by updating the selected state of the underlying option elements.\n     * @param {object | Function | Array<any> | boolean | number | string | null | undefined} value - The value or array of values to select.\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        this.ids = value as string[];\n        if (!isArray(value)) {\n            this.ids = [value as string];\n        }\n        this._setSelectedIds(this.ids);\n    }\n\n    /**\n     * @description Returns the selected value(s). Returns a single value for single-select or an array for multi-select.\n     * @returns {*} The selected value(s), or null if nothing is selected.\n     */\n    override getValue(): any {\n        let ids = this._getSelectedIds();\n        ids = ids.filter((id) => {\n            return !eq(id, '');\n        });\n        return this.isMultiple() ? ids : ids[0] || null;\n    }\n\n    /**\n     * @description Returns the selected option object or a specific attribute from its associated item data.\n     * @param {string} [opt_attribute] - An optional attribute path to retrieve from the option's item data.\n     * @returns {*} The option object, the attribute value, or the raw value if no option is found.\n     * @example\n     * const option = selectField.getOptionValue();\n     * const label = selectField.getOptionValue('label');\n     */\n    getOptionValue(opt_attribute?: string): any {\n        const value = this.getValue();\n        if (value) {\n            const option = this.options.findById(value);\n            return opt_attribute\n                ? option!.get(format('item.{0}', [opt_attribute]))\n                : option;\n        }\n        return value;\n    }\n\n    /**\n     * @description Shows a loading spinner on the expander icon to indicate options are being loaded.\n     * @example\n     * selectField.showLoader();\n     * fetchOptions().then((items) => {\n     *     selectField.setOptions(items);\n     * });\n     */\n    showLoader(): void {\n        this.iconKnot.setHtml('refresh');\n        this.iconKnot.addClass('rotate');\n    }\n\n    /**\n     * @description Hides the loading spinner and restores the expander icon.\n     */\n    private _hideLoader(): void {\n        this.iconKnot.setHtml('expand_more');\n        this.iconKnot.removeClass('rotate');\n    }\n\n    /**\n     * @description Replaces the current options with new items and refreshes the field.\n     * @param {Array<Objekt>} items - The new option items to set.\n     * @param {string} [opt_value='value'] - The attribute name to use as the option value.\n     * @param {string} [opt_name='name'] - The attribute name to use as the option display text.\n     * @param {string} [opt_image=''] - The attribute name to use as the option image URL.\n     * @example\n     * const items = [new Objekt({ value: '1', name: 'Option 1' })];\n     * selectField.setOptions(items, 'value', 'name');\n     */\n    setOptions(\n        items: Array<Objekt>,\n        opt_value: string | undefined = 'value',\n        opt_name: string | undefined = 'name',\n        opt_image: string | undefined = '',\n    ): void {\n        const optionKnots = new Query('option', this.input);\n        optionKnots.each((optionKnot) => {\n            if (optionKnot.getAttribute('value')) {\n                optionKnot.remove();\n            }\n        });\n\n        eachArray(items, (item) => {\n            const value = item.get<string>(opt_value);\n            const name = item.get<string>(opt_name);\n            let image = '';\n            if (opt_image) {\n                image = item.get(opt_image);\n            }\n            const optionKnot = new Knot('option');\n            optionKnot.setAttribute('value', value);\n            optionKnot.setAttribute('data-image', image);\n            optionKnot.setAttribute('data-item', item);\n            optionKnot.setHtml(name);\n            this.input.appendChild(optionKnot);\n        });\n\n        this._initOptions();\n        this._hideLoader();\n        this.setValue(this.ids);\n    }\n\n    /**\n     * @description Handles the change event by updating tags and notifying the model.\n     */\n    private _change(): void {\n        const ids = this._getSelectedIds();\n        this._setSelectTags(ids);\n        const value = this.getValue();\n        this.modelChange(value);\n    }\n\n    /**\n     * @description Renders the selected tags in the select container based on the given IDs.\n     * @param {Array<any>} ids - The selected option IDs.\n     */\n    private _setSelectTags(ids: Array<any>): void {\n        if (this.isRequired() && ids.length === 1 && ids[0] === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n        if (this.isMultiple()) {\n            this._setMultipleTag(ids);\n        } else {\n            this._setSimpleTag(ids[0]);\n        }\n    }\n\n    /**\n     * @description Renders a single tag for single-select mode.\n     * @param {string} id - The selected option ID.\n     */\n    private _setSimpleTag(id: string): void {\n        const option = this.options.findById(id);\n        this._setTags(option!);\n    }\n\n    /**\n     * @description Renders multiple tags for multi-select mode.\n     * @param {Array<string>} ids - The selected option IDs.\n     */\n    private _setMultipleTag(ids: Array<string>): void {\n        const options: Objekt[] = [];\n        eachArray(ids, (id) => {\n            const option = this.options.findById(id);\n            if (option) {\n                options.push(option);\n            }\n        });\n        if (neq(options.length, 0)) {\n            this._setTags(options);\n        } else if (this.isRequired()) {\n            const option = this.options.get(0)!;\n            this._setTags(option);\n        } else if (eq(ids.length, 0)) {\n            this._setTags([]);\n        }\n    }\n\n    /**\n     * @description Renders tag elements in the select knot with optional close buttons for enabled fields.\n     * @param {Array<Objekt> | Objekt} tags - The option(s) to render as tags.\n     */\n    private _setTags(tags: Array<Objekt> | Objekt) {\n        if (!isArray(tags)) {\n            tags = [tags];\n        }\n        this.selectKnot.removeChildren();\n\n        eachArray(tags, (tag) => {\n            const tagKnot = new Knot('div');\n            tagKnot.addClass('field-tag');\n            tagKnot.setHtml(tag.get('name'));\n            if (this.isEnabled()) {\n                tagKnot.addEventListener('click', () => {\n                    this.open();\n                });\n            }\n            this.selectKnot.appendChild(tagKnot);\n\n            const id = tag.get<string>('id');\n            if (neq(id, '') && this.isEnabled()) {\n                const iconKnot = new Knot('a');\n                iconKnot.setAttribute('href', 'javascript:void(0)');\n                iconKnot.addClass(['material-icons', 'size-18', 'close']);\n                iconKnot.setHtml('close');\n                iconKnot.addEventListener('click', () => {\n                    this._handleSelectedId(id);\n                });\n                tagKnot.addClass('tag-with-action');\n                tagKnot.appendChild(iconKnot);\n            }\n        });\n    }\n\n    /**\n     * @description Updates the selected attribute on option elements matching the given IDs.\n     * @param {Array<any>} ids - The IDs to mark as selected.\n     */\n    private _setSelectedIds(ids: Array<any>): void {\n        this.options.each((option) => {\n            const id = option.get('id');\n            const selected = inArray(ids, id);\n            const optionKnot =\n                option.get<Knot<HTMLOptionElement>>('option_node');\n            const optionNode = optionKnot.getNode();\n            if (selected) {\n                optionNode.setAttribute('selected', 'selected');\n            } else {\n                optionNode.removeAttribute('selected');\n            }\n            optionNode.selected = selected;\n        });\n        this._change();\n    }\n\n    /**\n     * @description Collects the IDs of all currently selected options.\n     * @returns {Array<any>} The selected IDs, or [''] if none are selected.\n     */\n    private _getSelectedIds(): Array<any> {\n        const ids: any[] = [];\n        this.options.each((option) => {\n            const optionKnot =\n                option.get<Knot<HTMLOptionElement>>('option_node');\n            const optionNode = optionKnot.getNode();\n            if (optionNode.selected) {\n                const id = option.get('id');\n                ids.push(id);\n            }\n        });\n        return ids.length === 0 ? [''] : ids;\n    }\n\n    /**\n     * @description Toggles the selection of an option by ID, handling both single and multiple selection modes.\n     * @param {string} id - The option ID to toggle.\n     */\n    private _handleSelectedId(id: string): void {\n        let ids = this._getSelectedIds();\n        if (this.isMultiple()) {\n            if (eq(id, '') || eq(ids[0], '')) {\n                clear(ids);\n            }\n            if (inArray(ids, id)) {\n                remove(ids, id);\n            } else {\n                ids.push(id);\n            }\n            if (ids.length === 0) {\n                ids = [''];\n            }\n        } else {\n            if (inArray(ids, id)) {\n                ids = [''];\n            } else {\n                ids = [id];\n            }\n        }\n        this.query = '';\n        this._setSelectedIds(ids);\n        this.close();\n    }\n\n    /**\n     * @description Draws the option list knots in the popup, highlighting currently selected items.\n     * @param {Array<Objekt>} items - The option items to render.\n     */\n    private _drawKnots(items: Array<Objekt>): void {\n        this.listKnot.removeChildren();\n        const ids = this._getSelectedIds();\n        eachArray(items, (item) => {\n            const id = item.get<string>('id');\n            const listKnot = new Knot('a');\n            listKnot.setAttribute('href', 'javascript:void(0)');\n            if (inArray(ids, id)) {\n                listKnot.addClass('selected');\n            }\n            listKnot.addEventListener('click', () => {\n                this._handleSelectedId(id);\n            });\n            this.listKnot.appendChild(listKnot);\n\n            const image = item.get<string>('image');\n            if (image) {\n                const imageKnot = new Knot('img');\n                imageKnot.setAttribute('src', image);\n                listKnot.appendChild(imageKnot);\n            }\n\n            const name = item.get<string>('name');\n            const nameKnot = new Knot('span');\n            nameKnot.setHtml(name);\n            listKnot.appendChild(nameKnot);\n        });\n    }\n\n    /**\n     * @description Creates the search input box inside the popup container for filtering options.\n     */\n    private _drawSearchInput(): void {\n        const searchParentKnot = new Knot('div');\n        searchParentKnot.addClass('search-box');\n        this.containerKnot.appendChild(searchParentKnot);\n\n        const searchKnot = new Knot('div');\n        searchKnot.addClass(['mdl-textfield', 'mdl-js-textfield']);\n        searchKnot.addEventListener('click', () => {\n            // empty function\n        });\n        searchParentKnot.appendChild(searchKnot);\n\n        const id = generateId('select');\n\n        this.searchInputKnot = new Knot<HTMLInputElement>('input');\n        this.searchInputKnot.setId(id);\n        this.searchInputKnot.setAttribute('type', 'text');\n        this.searchInputKnot.addClass('mdl-textfield__input');\n        this.searchInputKnot.addEventListener('keyup', (input) => {\n            const inputNode = input.getNode();\n            this._search(inputNode.value);\n            return true;\n        });\n        searchKnot.appendChild(this.searchInputKnot);\n\n        const labelKnot = new Knot('label');\n        labelKnot.setFor(id);\n        labelKnot.addClass('mdl-textfield__label');\n        searchKnot.appendChild(labelKnot);\n\n        mdl(searchKnot);\n    }\n\n    /**\n     * @description Opens the select popup, executing the current search query and focusing the search input.\n     * @example\n     * selectField.open();\n     */\n    open(): void {\n        this._search(this.query);\n        this.popup.open();\n        this.searchInputKnot.getNode().focus();\n    }\n\n    /**\n     * @description Closes the select popup.\n     * @example\n     * selectField.close();\n     */\n    close(): void {\n        this.popup.close();\n    }\n\n    /**\n     * @description Filters the options by a search query and redraws the option list.\n     * @param {string} query - The search query string.\n     */\n    private _search(query: string): void {\n        this.query = query;\n        this.searchInputKnot.getNode().value = query;\n        this.searchInputKnot.set('value', query);\n\n        const regExp = new RegExp(query, 'i');\n        const items: Objekt[] = [];\n        this.options.each((option) => {\n            const name = option.get<string>('name');\n            if (regExp.test(name)) {\n                items.push(option);\n            }\n        });\n        this._drawKnots(items);\n    }\n}\n", "import { Knot } from '../core';\nimport { mdl } from '../utils/render';\nimport { BaseField } from './baseField';\n\n/**\n * Form submit button with MDL primary styling.\n *\n * @description Extends {@link BaseField} to render a Material Design Lite raised\n * primary button used for form submission.\n *\n * @example\n * const submitButton = new SubmitButton(inputKnot);\n *\n * @see {@link BaseField}\n * @category Field\n */\nexport class SubmitButton extends BaseField<HTMLInputElement> {\n    /**\n     * Creates a new SubmitButton instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The submit button input element.\n     */\n    constructor(input: Knot<HTMLInputElement>) {\n        super(input);\n        this._init();\n    }\n\n    /**\n     * Sets the submit button name attribute.\n     */\n    private _init(): void {\n        this.input.setAttribute('name', 'submit');\n    }\n\n    /**\n     * Renders the submit button with MDL raised primary classes.\n     */\n    override render(): void {\n        this.input.addClass([\n            'mdl-button',\n            'mdl-js-button',\n            'mdl-button--raised',\n            'mdl-js-ripple-effect',\n            'mdl-button--primary',\n        ]);\n        this.refresh();\n    }\n\n    /**\n     * Refreshes the MDL submit button component.\n     */\n    override refresh() {\n        mdl(this.input);\n    }\n}\n", "import { Knot } from '../core/knot';\nimport { BaseCheckboxField } from './baseCheckboxField';\n\n/**\n * MDL switch toggle field.\n *\n * @description Extends {@link BaseCheckboxField} to render a Material Design Lite\n * switch toggle with a span label and data label element.\n *\n * @example\n * const switchField = new SwitchField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n *\n * @see {@link BaseCheckboxField}\n * @category Field\n */\nexport class SwitchField extends BaseCheckboxField {\n    /**\n     * Creates a new SwitchField instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The switch input element.\n     * @param {Knot} label The label element associated with the switch.\n     * @param {Knot} error The error message element.\n     * @param {Knot} inputBlock The container block for the input.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n    }\n\n    /**\n     * Renders the switch with MDL classes, label span, and data label element.\n     */\n    override render(): void {\n        this.label.addClass([\n            'mdl-switch',\n            'mdl-js-switch',\n            'mdl-js-ripple-effect',\n        ]);\n\n        const labelText = this.label.getText();\n\n        this.spanLabel = new Knot('span');\n        this.spanLabel.addClass('mdl-switch__label');\n        this.spanLabel.setHtml(labelText);\n\n        this.input.addClass('mdl-switch__input');\n\n        this.label.insert(this.input);\n        this.label.appendChild(this.spanLabel);\n\n        this.dataLabelKnot = new Knot('span');\n        this.dataLabelKnot.addClass('field-label');\n        this.label.insertBefore(this.dataLabelKnot);\n\n        this.refresh();\n    }\n}\n", "import { mdl } from '../utils/render';\nimport { BaseField } from './baseField';\nimport { Knot } from '../core/knot';\n\n/**\n * @description Textarea field with optional rich text (contentEditable) editing and formatting toolbar.\n * When the `data-rich-text` attribute is set on the input, a WYSIWYG editor with bold, italic,\n * underline, list, and HTML mode controls is rendered.\n *\n * @example\n * const textareaField = new TextareaField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * textareaField.render();\n *\n * @see {@link BaseField}\n *\n * @category Field\n */\nexport class TextareaField extends BaseField<HTMLInputElement> {\n    richText!: Knot;\n    richTextKnot!: HTMLElement;\n    toolbarKnot!: Knot;\n    htmlMode!: boolean;\n\n    /**\n     * @description Creates a new TextareaField instance.\n     * @param {Knot<HTMLInputElement>} input - The textarea input element.\n     * @param {Knot} label - The label element.\n     * @param {Knot} error - The error message element.\n     * @param {Knot} inputBlock - The container block element.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the field by adding CSS class and attaching keyup/change event listeners.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('textarea-field');\n\n        this.input.addEventListener('keyup', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            if (this._isRichText()) {\n                this.richText.setHtml(inputNode.value);\n            }\n            return true;\n        });\n\n        this.input.addEventListener('change', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            return true;\n        });\n    }\n\n    /**\n     * @description Applies MDL textarea classes and renders the rich text editor if configured.\n     * @override\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--floating-label',\n        ]);\n        this.input.addClass(['mdl-textfield__input', 'mdl-textarea__input']);\n        if (this.label && this.label.exists()) {\n            this.label.addClass('mdl-textfield__label');\n        }\n\n        if (this._isRichText()) {\n            this._renderRichText();\n        }\n        this.refresh();\n    }\n\n    /**\n     * @description Creates the contentEditable rich text div, attaches keyboard and paste handlers, and renders toolbar buttons.\n     */\n    private _renderRichText(): void {\n        this.input.addClass('hidden');\n\n        let value = this.getValue();\n        value =\n            value.indexOf('<p>') === 0 ? value : `<p>${value || '<br />'}</p>`;\n\n        this.richText = new Knot('div');\n        this.richText.addClass([\n            'mdl-textfield__input',\n            'mdl-textarea__input',\n            'textbox',\n        ]);\n        this.richText.setHtml(value);\n\n        this.richText.addEventListener('keydown', (_knot, event) => {\n            if (event.keyCode === 13) {\n                document.execCommand('defaultParagraphSeparator', false, 'p');\n            }\n            return true;\n        });\n\n        this.richText.addEventListener('keyup', (knot) => {\n            this._setValue(knot.getHtml(true));\n            return true;\n        });\n\n        this.richText.addEventListener('paste', (_knot, e) => {\n            let text = '';\n            if (e.clipboardData) {\n                text = e.clipboardData.getData('text/plain');\n            } else if ((window as any)['clipboardData']) {\n                text = (window as any)['clipboardData'].getData('Text');\n            }\n            if (document.queryCommandSupported('insertHTML')) {\n                document.execCommand('insertHTML', false, text);\n            } else {\n                document.execCommand('insertText', false, text);\n            }\n            return false;\n        });\n\n        this.input.insertAfter(this.richText);\n\n        this.richTextKnot = this.richText.getNode();\n        this.richTextKnot.contentEditable = 'true';\n\n        this._renderToolbarButtons();\n    }\n\n    /**\n     * @description Checks whether the input has the data-rich-text attribute enabled.\n     * @returns {boolean}\n     */\n    private _isRichText(): boolean {\n        return !!this.input.getAttribute('data-rich-text');\n    }\n\n    /**\n     * @description Renders all formatting toolbar buttons (undo, redo, bold, italic, underline, lists, clear, code).\n     */\n    private _renderToolbarButtons(): void {\n        this.toolbarKnot = new Knot('div');\n        this.toolbarKnot.addClass('toolbar');\n        this.input.insertBefore(this.toolbarKnot);\n\n        this._renderToolbarButton('undo', () => {\n            this._formatDoc('undo');\n        });\n\n        this._renderToolbarButton('redo', () => {\n            this._formatDoc('redo');\n        });\n\n        this._renderToolbarButton('format_bold', () => {\n            this._formatDoc('bold');\n        });\n\n        this._renderToolbarButton('format_italic', () => {\n            this._formatDoc('italic');\n        });\n\n        this._renderToolbarButton('format_underlined', () => {\n            this._formatDoc('underline');\n        });\n\n        this._renderToolbarButton('format_list_bulleted', () => {\n            this._formatDoc('insertunorderedlist');\n        });\n\n        this._renderToolbarButton('format_list_numbered', () => {\n            this._formatDoc('insertorderedlist');\n        });\n\n        this._renderToolbarButton('format_clear', () => {\n            this._formatDoc('removeFormat');\n        });\n\n        this._renderToolbarButton('code', () => {\n            this._setHtmlMode(!this._isHtmlMode());\n        });\n    }\n\n    /**\n     * @description Creates a single toolbar button with a material icon and click handler.\n     * @param {string} iconName - The Material Icons icon name.\n     * @param {Function} action - The callback to execute on click.\n     */\n    private _renderToolbarButton(iconName: string, action: Function): void {\n        const boldButtonKnot = new Knot('a');\n        boldButtonKnot.setAttribute('href', 'javascript:void(0)');\n        boldButtonKnot.addClass('material-icons');\n        boldButtonKnot.setHtml(iconName);\n        boldButtonKnot.addEventListener('click', () => {\n            action();\n        });\n        this.toolbarKnot.appendChild(boldButtonKnot);\n    }\n\n    /**\n     * @description Toggles between rich text editing and raw HTML editing modes.\n     * @param {boolean} value - True to enable HTML mode, false for rich text mode.\n     */\n    private _setHtmlMode(value: boolean): void {\n        this.htmlMode = value;\n        this._setDocMode(this.htmlMode);\n    }\n\n    /**\n     * @description Returns whether the editor is currently in raw HTML editing mode.\n     * @returns {boolean}\n     */\n    private _isHtmlMode(): boolean {\n        return this.htmlMode === true;\n    }\n\n    /**\n     * @description Executes a document formatting command on the rich text content.\n     * @param {string} sCmd - The execCommand command name (e.g., 'bold', 'italic').\n     * @param {any} [opt_sValue] - Optional command argument.\n     */\n    private _formatDoc(sCmd: string, opt_sValue?: any | undefined): void {\n        if (!this._isHtmlMode()) {\n            document.execCommand(sCmd, false, opt_sValue);\n            this._setValue(this.richTextKnot.innerHTML);\n        }\n    }\n\n    /**\n     * @description Switches visibility between the rich text div and raw textarea.\n     * @param {boolean} _isHtmlMode - True to show the raw textarea, false to show the rich text editor.\n     */\n    private _setDocMode(_isHtmlMode: boolean): void {\n        if (_isHtmlMode) {\n            this.richText.addClass('hidden');\n            this.input.removeClass('hidden');\n        } else {\n            this.richText.removeClass('hidden');\n            this.input.addClass('hidden');\n        }\n        this.richTextKnot.focus();\n    }\n\n    /**\n     * @description Marks the field as invalid when required and empty, disables contentEditable when disabled, and upgrades MDL components.\n     * @override\n     */\n    override refresh() {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        if (this._isRichText() && this.isDisabled()) {\n            this.richTextKnot.contentEditable = 'false';\n        }\n\n        mdl(this.inputBlock);\n    }\n\n    /**\n     * @description Sets the raw input value and triggers a change event without updating the rich text div.\n     * @param {object | Function | Array<any> | boolean | number | string | null | undefined} value - The value to set.\n     */\n    private _setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        const inputNode = this.input.getNode();\n        inputNode.value = value!.toString();\n        this.input.trigger('change');\n    }\n\n    /**\n     * @description Sets the field value, updating both the rich text div innerHTML and the raw input.\n     * @param {object | Function | Array<any> | boolean | number | string | null | undefined} value - The value to set.\n     * @override\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        if (this._isRichText()) {\n            this.richTextKnot.innerHTML = value as string;\n        }\n        this._setValue(value);\n    }\n\n    /**\n     * @description Returns the raw textarea input value.\n     * @returns {any} The current textarea value.\n     * @override\n     */\n    override getValue(): any {\n        return this.input.getNode().value;\n    }\n}\n", "import { mdl } from '../utils/render';\nimport { BaseField } from './baseField';\nimport { Knot } from '../core/knot';\n\n/**\n * @description URL input field with optional protocol prefix display (e.g., \"https://\").\n *\n * @example\n * const urlField = new UrlField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * urlField.render();\n *\n * @see {@link BaseField}\n *\n * @category Field\n */\nexport class UrlField extends BaseField<HTMLInputElement> {\n    protocol!: string;\n\n    /**\n     * @description Creates a new UrlField instance.\n     * @param {Knot<HTMLInputElement>} input - The URL input element.\n     * @param {Knot} label - The label element.\n     * @param {Knot} error - The error message element.\n     * @param {Knot} inputBlock - The container block element.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the field by reading the protocol data attribute and attaching input event listeners.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('url-field');\n\n        this.protocol = this.input.getData('protocol');\n\n        this.input.addEventListener('keyup', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            return true;\n        });\n\n        this.input.addEventListener('change', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            return true;\n        });\n    }\n\n    /**\n     * @description Applies MDL textfield classes and renders the protocol prefix span if configured.\n     * @override\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--floating-label',\n        ]);\n        this.input.addClass(['mdl-textfield__input']);\n        if (this.label && this.label.exists()) {\n            this.label.addClass('mdl-textfield__label');\n        }\n\n        if (this.protocol) {\n            const protocolKnot = new Knot('span');\n            protocolKnot.addClass('protocol');\n            protocolKnot.setHtml(this.protocol);\n            this.input.insertAfter(protocolKnot);\n        }\n\n        this.refresh();\n    }\n\n    /**\n     * @description Marks the field as invalid when required and empty, then upgrades MDL components.\n     * @override\n     */\n    override refresh() {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        mdl(this.inputBlock);\n    }\n}\n", "import {\n    contain,\n    format,\n    isPureObject,\n    getExtensionName,\n} from '../utils/operation';\nimport { BaseField } from './baseField';\nimport { Knot } from '../core/knot';\nimport { Query } from '../core/query';\nimport { encodeBase64 } from '../utils/coder';\nimport { mdl } from '../utils/render';\n\n/**\n * File upload field with image preview, document type icons, and remove\n * functionality.  Supports image files (shown as thumbnails) and document\n * types (docx, xlsx, pdf) rendered with SVG file-type icons.\n *\n * @example\n * const input = new Query<HTMLInputElement>('input[type=\"file\"]', formKnot).getKnot();\n * const field = new FileField(input, label, error, inputBlock);\n * field.render();\n *\n * @see {@link BaseField}\n * @category Field\n */\nexport class FileField extends BaseField<HTMLInputElement> {\n    /** Image element used to preview the uploaded file or placeholder icon. */\n    imageTag!: Knot;\n    /** Base64 data URL of the currently uploaded file, or `null` if empty. */\n    valueSrc!: string | null;\n    /** Default placeholder image source shown when no file is selected. */\n    defaultSrc!: string;\n    /** Button element that removes the currently uploaded file. */\n    removeButton!: Knot;\n    /** Map of MIME types to `[extension, color]` tuples for document icons. */\n    fileTypes!: { [key: string]: [string, string] };\n    /** SVG template string used to generate document-type file icons. */\n    fileTypeSVG!: string;\n\n    /**\n     * @param input The underlying `<input type=\"file\">` element wrapped in a {@link Knot}.\n     * @param label The associated label element.\n     * @param error The element used to display validation errors.\n     * @param inputBlock The block-level container wrapping the entire field.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * Initializes the file field by setting up the file icon map, remove\n     * button, browse button, default image, and change listener.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('file-field');\n\n        this._initFileIcon();\n        this._initRemoveButton();\n        this._initButtons();\n        this._initDefaultImg();\n        this._initValueSrc();\n\n        this.input.addEventListener('change', (inputKnot) => {\n            const inputNode = inputKnot.getNode();\n            const file = inputNode.files![0];\n            this._read(file);\n            return true;\n        });\n    }\n\n    /**\n     * Checks whether the input's `accept` attribute includes document types.\n     *\n     * @returns `true` if the field accepts docx, xlsx, or pdf files.\n     */\n    private _isDocument(): boolean {\n        const accept = this.input.getAttribute('accept') ?? '';\n        return (\n            contain(accept, '.docx') ||\n            contain(accept, '.xlsx') ||\n            contain(accept, '.pdf')\n        );\n    }\n\n    /**\n     * Locates or creates the `<img>` preview element inside the input block.\n     */\n    private _initDefaultImg(): void {\n        this.imageTag = new Query('img', this.inputBlock).getKnot();\n        if (this.imageTag.isEmpty()) {\n            this.imageTag = new Knot<HTMLImageElement>('img');\n            this.inputBlock.beforeChild(this.imageTag);\n        }\n    }\n\n    /**\n     * Reads the initial image source from the DOM and sets the default\n     * placeholder when no value is present.\n     */\n    private _initValueSrc(): void {\n        this.valueSrc = this.imageTag.getAttribute('src');\n\n        this.defaultSrc = this.input.getAttribute('data-default-value');\n        if (!this.defaultSrc) {\n            const color = this.isRequired()\n                ? 'grey;stroke:red;stroke-width:10;stroke-dasharray:15,10'\n                : 'grey';\n            this.defaultSrc = this._getFileIconSrc('N/A', color);\n        }\n\n        this.imageTag.setAttribute('src', this.valueSrc || this.defaultSrc);\n    }\n\n    /**\n     * Creates the remove button and binds its click handler.\n     */\n    private _initRemoveButton(): void {\n        this.removeButton = new Knot('a');\n        this.removeButton.setAttribute('href', 'javascript:void(0)');\n        this.removeButton.addClass(['remove-button', 'material-icons']);\n        this.removeButton.setHtml('delete');\n        this.removeButton.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                this._remove();\n            }\n        });\n        this.actionContainerKnot.appendChild(this.removeButton);\n    }\n\n    /**\n     * Creates the browse button that opens the native file dialog.\n     */\n    private _initButtons(): void {\n        const browseButton = new Knot('a');\n        browseButton.setAttribute('href', 'javascript:void(0)');\n        browseButton.addClass(['browse-button', 'material-icons']);\n        if (this._isDocument()) {\n            browseButton.setHtml('description');\n        } else {\n            browseButton.setHtml('image');\n        }\n        browseButton.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                this.input.getNode().click();\n            }\n        });\n        this.actionContainerKnot.appendChild(browseButton);\n    }\n\n    /**\n     * Finds the file type entry by MIME type.\n     *\n     * @param mimeType The MIME type to look up (e.g. `'application/pdf'`).\n     * @returns A tuple of `[extension, color]` or `undefined`.\n     */\n    private _lookupByMimeType(mimeType: string): Array<any> {\n        return this.fileTypes[mimeType];\n    }\n\n    /**\n     * Finds the file type entry by file extension.\n     *\n     * @param extension The file extension to look up (e.g. `'pdf'`).\n     * @returns A tuple of `[mimeType, color]` or an empty array.\n     */\n    private _lookupByExtension(extension: string): Array<any> {\n        let results: any[] = [];\n        for (const key in this.fileTypes) {\n            if (Object.hasOwn(this.fileTypes, key)) {\n                const fileType = this.fileTypes[key];\n                if (fileType[0] === extension) {\n                    const color = fileType[1];\n                    results = [key, color];\n                }\n            }\n        }\n        return results;\n    }\n\n    /**\n     * Defines the supported document MIME types and their corresponding\n     * extensions/colors, and sets up the SVG template for file icons.\n     */\n    private _initFileIcon(): void {\n        this.fileTypes = {\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n                ['docx', 'blue'],\n            'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n                ['xlsx', 'green'],\n            'application/pdf': ['pdf', 'red'],\n        };\n\n        this.fileTypeSVG =\n            '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>' +\n            '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">' +\n            '<path style=\"fill:#E2E5E7;\" d=\"M128,0c-17.6,0-32,14.4-32,32v448c0,17.6,14.4,32,32,32h320c17.6,0,32-14.4,32-32V128L352,0H128z\"/>' +\n            '<path style=\"fill:#B0B7BD;\" d=\"M384,128h96L352,0v96C352,113.6,366.4,128,384,128z\"/>' +\n            '<polygon style=\"fill:#CAD1D8;\" points=\"480,224 384,128 480,128 \"/>' +\n            '<path style=\"fill:#CAD1D8;\" d=\"M400,432H96v16h304c8.8,0,16-7.2,16-16v-16C416,424.8,408.8,432,400,432z\"/>' +\n            '<path style=\"fill:#000000;\" d=\"M416,416c0,8.8-7.2,16-16,16H48c-8.8,0-16-7.2-16-16V256c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16V416z\"/>' +\n            '<text x=\"220\" y=\"380\" text-anchor=\"middle\" style=\"fill:#FFF;font-weight:700;font-family:Arial;font-size:120px;\">TYPE</text>' +\n            '</svg>';\n    }\n\n    /**\n     * Generates a base64-encoded SVG data URL for a document file icon.\n     *\n     * @param type The file extension label rendered on the icon.\n     * @param color The fill color of the icon badge.\n     * @returns A `data:image/svg+xml;base64,...` URL.\n     */\n    private _getFileIconSrc(type: string, color: string): string {\n        let svg = this.fileTypeSVG;\n        svg = svg.replace('#000000', color);\n        svg = svg.replace('TYPE', type);\n        const data = encodeBase64(svg);\n        return format('data:image/svg+xml;base64,{0}', [data]);\n    }\n\n    /**\n     * Applies MDL text-field classes and refreshes the visual state.\n     *\n     * @override\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--floating-label',\n        ]);\n        this.input.addClass('mdl-textfield__input');\n        if (this.label && this.label.exists()) {\n            this.label.addClass('mdl-textfield__label');\n        }\n        this.refresh();\n    }\n\n    /**\n     * Validates required state, toggles the remove button visibility, and\n     * upgrades MDL components.\n     *\n     * @override\n     */\n    override refresh() {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        this._handleRemoveButton();\n\n        mdl(this.inputBlock);\n    }\n\n    /**\n     * Reads the selected file as a data URL and updates the preview.\n     *\n     * @param file The file selected by the user.\n     */\n    private _read(file: File): void {\n        if (file) {\n            const filename = file.name;\n            const fileReader = new FileReader();\n            fileReader.onload = (event) => {\n                const target = event.target!;\n                const searchStr = ';base64,';\n                let imageSrc = (target.result as string).replace(\n                    searchStr,\n                    ';filename=' + filename + searchStr,\n                );\n                this.valueSrc = imageSrc;\n                if (!contain(file.type, 'image/')) {\n                    const [type, color] = this._lookupByMimeType(file.type);\n                    imageSrc = this._getFileIconSrc(type, color);\n                }\n                this.imageTag.setAttribute('src', imageSrc);\n                this._handleRemoveButton();\n\n                this.modelChange(this.valueSrc);\n            };\n            fileReader.readAsDataURL(file);\n        }\n    }\n\n    /**\n     * Shows the remove button when a non-required field has a value,\n     * otherwise hides it.\n     */\n    private _handleRemoveButton(): void {\n        if (!this.isRequired() && this.valueSrc) {\n            this.removeButton.removeClass('hidden');\n        } else {\n            this.removeButton.addClass('hidden');\n        }\n    }\n\n    /**\n     * Clears the current file value, restores the default placeholder, and\n     * notifies the model.\n     */\n    private _remove(): void {\n        this.input.getNode().value = '';\n        this.valueSrc = null;\n\n        if (this.defaultSrc) {\n            this.imageTag.setAttribute('src', this.defaultSrc);\n        } else {\n            this.imageTag.removeAttribute('src');\n        }\n        this._handleRemoveButton();\n\n        this.modelChange(null);\n    }\n\n    /**\n     * Sets the field value from a URL string or an object with a `url`\n     * property, updates the image preview, and notifies the model.\n     *\n     * @param value The file URL or object containing a `url` key.\n     * @override\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        let imageSrc = value;\n        if (isPureObject(value)) {\n            imageSrc = (value as Record<string, any>)['url'];\n        }\n        if (imageSrc) {\n            this.valueSrc = imageSrc as string;\n            if (this._isDocument()) {\n                const extension = getExtensionName(imageSrc as string);\n                const [_mimeType, color] = this._lookupByExtension(extension);\n                imageSrc = this._getFileIconSrc(extension, color);\n            }\n            this.imageTag.setAttribute('src', imageSrc);\n            this._handleRemoveButton();\n        }\n        this.modelChange('');\n    }\n}\n", "import { BaseField } from './baseField';\nimport { Tooltip } from '../component/tooltip';\n// import { Query } from '../core/query';\nimport { Knot } from '../core';\nimport { mdl } from '../utils/render';\n\n/**\n * @description MDL slider/range input field with a tooltip displaying the current value.\n *\n * @example\n * const rangeField = new RangeField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * rangeField.render();\n *\n * @see {@link BaseField}\n * @see {@link Tooltip}\n *\n * @category Field\n */\nexport class RangeField extends BaseField<HTMLInputElement> {\n    tooltip!: Tooltip;\n\n    /**\n     * @description Creates a new RangeField instance.\n     * @param {Knot<HTMLInputElement>} input - The range input element.\n     * @param {Knot} label - The label element.\n     * @param {Knot} error - The error message element.\n     * @param {Knot} inputBlock - The container block element.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the field by adding CSS class and attaching the input event listener that updates the tooltip.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('range-field');\n\n        this.input.addEventListener('input', (input) => {\n            const inputNode = input.getNode();\n            this.input.setAttribute('value', inputNode.value);\n            this.tooltip.setMessage(inputNode.value);\n            this.modelChange(inputNode.value);\n        });\n    }\n\n    /**\n     * @description Applies MDL slider classes to the input block and input element, then refreshes.\n     * @override\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-sliderfield',\n        ]);\n\n        this.input.addClass(['mdl-slider', 'mdl-js-slider']);\n\n        if (this.label && this.label.exists()) {\n            this.label.addClass('mdl-textfield__label');\n        }\n\n        this.refresh();\n    }\n\n    /**\n     * @description Validates the field, upgrades MDL components, manages the disabled state, and renders the value tooltip.\n     * @override\n     */\n    override refresh() {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        mdl(this.input);\n\n        if (this.isDisabled()) {\n            this.inputBlock.addClass('is-disabled');\n        } else {\n            this.inputBlock.removeClass('is-disabled');\n        }\n\n        // TODO: check the tooltip\n        /* const containerKnot = new Query(\n            '.mdl-slider__container',\n            this.inputBlock,\n        ).getKnot(); */\n        const value = this.getValue();\n        this.tooltip = new Tooltip(this.inputBlock);\n        this.tooltip.render(value);\n    }\n\n    /**\n     * @description Sets the slider value via the MDL MaterialSlider API and updates the tooltip display.\n     * @param {object | Function | Array<any> | boolean | number | string | null | undefined} value - The value to set.\n     * @override\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        const inputKnot = this.input.getNode();\n        (inputKnot as any)['MaterialSlider']['change'](value);\n        this.tooltip.render(value as string);\n    }\n}\n", "import { typeCast } from '../utils/operation';\nimport { BaseField } from './baseField';\nimport { Knot } from '../core/knot';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Numeric input field with step up/down buttons and min/max value constraints.\n *\n * @example\n * const numberField = new NumberField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * numberField.render();\n *\n * @see {@link BaseField}\n *\n * @category Field\n */\nexport class NumberField extends BaseField<HTMLInputElement> {\n    /**\n     * @description Creates a new NumberField instance.\n     * @param {Knot<HTMLInputElement>} input - The numeric input element.\n     * @param {Knot} label - The label element.\n     * @param {Knot} error - The error message element.\n     * @param {Knot} inputBlock - The container block element.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the field by adding CSS class, step buttons, and input event listeners.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('number-field');\n\n        this._initButtons();\n\n        this.input.addEventListener('keyup', () => {\n            this._checkValue();\n            const value = this.getValue();\n            this.modelChange(value);\n            return true;\n        });\n\n        this.input.addEventListener('change', () => {\n            this._checkValue();\n            const value = this.getValue();\n            this.modelChange(value);\n            return true;\n        });\n    }\n\n    /**\n     * @description Creates step up and step down buttons in the action container.\n     */\n    private _initButtons(): void {\n        const actionKnot = new Knot('span');\n        actionKnot.addClass('step-change');\n        this.actionContainerKnot.appendChild(actionKnot);\n\n        const upButton = new Knot('a');\n        upButton.setAttribute('href', 'javascript:void(0)');\n        upButton.addClass(['up-button', 'material-icons']);\n        upButton.setHtml('keyboard_arrow_up');\n        upButton.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                let value = this.getValue() || 0;\n                value += this._getStep();\n                this.setValue(value);\n            }\n        });\n        actionKnot.appendChild(upButton);\n\n        const downButton = new Knot('a');\n        downButton.setAttribute('href', 'javascript:void(0)');\n        downButton.addClass(['down-button', 'material-icons']);\n        downButton.setHtml('keyboard_arrow_down');\n        downButton.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                let value = this.getValue() || 0;\n                value -= this._getStep();\n                this.setValue(value);\n            }\n        });\n        actionKnot.appendChild(downButton);\n    }\n\n    /**\n     * @description Clamps the current value within the min/max bounds.\n     */\n    private _checkValue(): void {\n        const value = this.getValue();\n        const min = this._getMin();\n        if (value < min) {\n            this.setValue(min);\n        }\n        const max = this._getMax();\n        if (value > max) {\n            this.setValue(max);\n        }\n    }\n\n    /**\n     * @description Returns the max attribute value or the default maximum (9999999999).\n     * @returns {number}\n     */\n    private _getMax(): number {\n        const max = this.input.getAttribute('max') || 9999999999;\n        return typeCast(max);\n    }\n\n    /**\n     * @description Returns the min attribute value or the default minimum (0).\n     * @returns {number}\n     */\n    private _getMin(): number {\n        const min = this.input.getAttribute('min') || 0;\n        return typeCast(min);\n    }\n\n    /**\n     * @description Returns the step attribute value or the default step (1).\n     * @returns {number}\n     */\n    private _getStep(): number {\n        const step = this.input.getAttribute('step') || 1;\n        return typeCast(step);\n    }\n\n    /**\n     * @description Applies MDL textfield classes to the input block, input, and label, then refreshes.\n     * @override\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--floating-label',\n        ]);\n        this.input.addClass(['mdl-textfield__input']);\n        if (this.label && this.label.exists()) {\n            this.label.addClass('mdl-textfield__label');\n        }\n        this.refresh();\n    }\n\n    /**\n     * @description Marks the field as invalid when required and empty, then upgrades MDL components.\n     * @override\n     */\n    override refresh() {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        mdl(this.inputBlock);\n    }\n}\n", "/**\n * Canvas-based text label overlay for Google Maps markers and positions.\n *\n * @description Renders text labels on a Google Maps instance using an HTML5 canvas element\n * as an overlay. Supports configurable font, color, stroke, alignment, and zoom-based visibility.\n * Labels can be bound to marker positions or placed at fixed geographic coordinates.\n *\n * @example\n * const label = new MapLabel({ text: 'My Label', strokeWeight: 2 });\n * label.bindTo('position', marker);\n * label.bindTo('map', marker);\n *\n * @see {@link GoogleMap}\n * @category Component\n */\nexport class MapLabel {\n    private canvas!: HTMLCanvasElement;\n    private overlayView: google.maps.OverlayView;\n\n    /**\n     * @param opt_options - Initial property values (text, fontFamily, fontSize, fontColor,\n     *     strokeWeight, strokeColor, align, zIndex, position, map, minZoom, maxZoom).\n     */\n    constructor(opt_options?: object) {\n        this.overlayView = new google.maps.OverlayView();\n\n        this.overlayView.set('fontFamily', 'sans-serif');\n        this.overlayView.set('fontSize', 12);\n        this.overlayView.set('fontColor', '#000000');\n        this.overlayView.set('strokeWeight', 4);\n        this.overlayView.set('strokeColor', '#ffffff');\n        this.overlayView.set('align', 'center');\n        this.overlayView.set('zIndex', 1e3);\n\n        this.overlayView.setValues(opt_options);\n\n        this.setup();\n    }\n\n    /**\n     * Binds a property of this label to a property of another MVC object.\n     *\n     * @param key - The property name to bind.\n     * @param target - The target MVC object to bind to.\n     * @param targetKey - The property name on the target (defaults to key).\n     * @param noNotify - When true, suppresses change notifications.\n     *\n     * @example\n     * label.bindTo('position', marker);\n     * label.bindTo('map', marker);\n     */\n    public bindTo(\n        key: string,\n        target: google.maps.MVCObject,\n        targetKey?: string,\n        noNotify?: boolean,\n    ): void {\n        this.overlayView.bindTo(key, target, targetKey, noNotify);\n    }\n\n    /**\n     * Sets a property value on the overlay, triggering a redraw if applicable.\n     *\n     * @param key - The property name to set.\n     * @param value - The value to assign.\n     *\n     * @example\n     * label.set('text', 'Updated Label');\n     * label.set('fontColor', '#FF0000');\n     */\n    public set(key: string, value: any): void {\n        this.overlayView.set(key, value);\n    }\n\n    /**\n     * Sets or removes the map on which this label is displayed.\n     *\n     * @param map - The Google Maps or StreetView instance, or null to remove.\n     *\n     * @example\n     * label.setMap(googleMap.map);\n     * label.setMap(null); // remove from map\n     */\n    public setMap(map: google.maps.Map | google.maps.StreetViewPanorama): void {\n        this.overlayView.setMap(map);\n    }\n\n    /**\n     * Wires up the overlay lifecycle methods (onAdd, onRemove, notify, draw).\n     */\n    private setup() {\n        this.overlayView.onAdd = this.onAdd.bind(this);\n        this.overlayView.onRemove = this.onRemove.bind(this);\n        this.overlayView.notify = this.notify.bind(this);\n        this.overlayView.draw = this.draw.bind(this);\n    }\n\n    /**\n     * Handles property change notifications and triggers the appropriate redraw.\n     *\n     * @description Redraws the canvas text for visual property changes (font, color, text)\n     * and repositions the canvas for spatial property changes (position, zoom constraints).\n     *\n     * @param prop - The property name that changed.\n     *\n     * @example\n     * label.notify('text'); // triggers canvas text redraw\n     * label.notify('position'); // triggers repositioning\n     */\n    notify(prop: string) {\n        switch (prop) {\n            case 'fontFamily':\n            case 'fontSize':\n            case 'fontColor':\n            case 'strokeWeight':\n            case 'strokeColor':\n            case 'align':\n            case 'text':\n                return this._drawCanvas();\n            case 'maxZoom':\n            case 'minZoom':\n            case 'position':\n                return this.draw();\n        }\n    }\n\n    /**\n     * Renders the label text onto the canvas with stroke and fill styles.\n     */\n    private _drawCanvas(): void {\n        if (!this.canvas) return;\n\n        const style = this.canvas.style;\n        style.zIndex = this.overlayView.get('zIndex');\n\n        const ctx = this.canvas.getContext('2d');\n        if (!ctx) return;\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        ctx.strokeStyle = this.overlayView.get('strokeColor');\n        ctx.fillStyle = this.overlayView.get('fontColor');\n        ctx.font =\n            this.overlayView.get('fontSize') +\n            'px ' +\n            this.overlayView.get('fontFamily');\n\n        const strokeWeight = Number(this.overlayView.get('strokeWeight'));\n\n        const text = this.overlayView.get('text');\n        if (text) {\n            if (strokeWeight) {\n                ctx.lineWidth = strokeWeight;\n                ctx.strokeText(text, strokeWeight, strokeWeight);\n            }\n\n            ctx.fillText(text, strokeWeight, strokeWeight);\n\n            const textMeasure = ctx.measureText(text);\n            const textWidth = textMeasure.width + strokeWeight;\n            style.marginLeft = this._getMarginLeft(textWidth) + 'px';\n            // Bring actual text top in line with desired latitude.\n            // Cheaper than calculating height of text.\n            style.marginTop = '-0.4em';\n        }\n    }\n\n    /**\n     * Creates the canvas element and appends it to the map overlay pane.\n     *\n     * @description Called by the Google Maps API when the overlay is added to the map.\n     * Initializes the canvas with absolute positioning and draws the initial label text.\n     *\n     * @example\n     * // Typically called automatically by the Maps API, not directly.\n     */\n    onAdd() {\n        this.canvas = document.createElement('canvas');\n        const style = this.canvas.style;\n        style.position = 'absolute';\n\n        const ctx = this.canvas.getContext('2d')!;\n        ctx.lineJoin = 'round';\n        ctx.textBaseline = 'top';\n\n        this._drawCanvas();\n\n        const panes = this.overlayView.getPanes();\n        if (panes) {\n            panes.mapPane.appendChild(this.canvas);\n        }\n    }\n\n    /**\n     * Calculates the horizontal margin offset based on text alignment.\n     * @param textWidth - The measured width of the rendered text.\n     * @returns The pixel offset for marginLeft.\n     */\n    private _getMarginLeft(textWidth: number): number {\n        switch (this.overlayView.get('align')) {\n            case 'left':\n                return 0;\n            case 'right':\n                return -textWidth;\n        }\n        return textWidth / -2;\n    }\n\n    /**\n     * Positions the canvas element on the map based on the label's geographic coordinates.\n     *\n     * @description Called by the Google Maps API during map rendering. Converts the label's\n     * LatLng position to pixel coordinates and applies visibility based on zoom constraints.\n     *\n     * @example\n     * // Typically called automatically by the Maps API, not directly.\n     */\n    draw(): void {\n        const projection = this.overlayView.getProjection();\n\n        if (!projection) {\n            // The map projection is not ready yet so do nothing\n            return;\n        }\n\n        if (!this.canvas) {\n            // onAdd has not been called yet.\n            return;\n        }\n\n        const latLng: google.maps.LatLng = this.overlayView.get('position');\n        if (!latLng) {\n            return;\n        }\n        const pos = projection.fromLatLngToDivPixel(latLng);\n\n        const style = this.canvas.style;\n\n        style['top'] = pos!.y + 'px';\n        style['left'] = pos!.x + 'px';\n\n        style['visibility'] = this._getVisible();\n    }\n\n    /**\n     * Determines visibility based on minZoom and maxZoom constraints.\n     * @returns CSS visibility value: empty string (visible) or 'hidden'.\n     */\n    private _getVisible(): string {\n        const minZoom: number = this.overlayView.get('minZoom');\n        const maxZoom: number = this.overlayView.get('maxZoom');\n\n        if (minZoom === undefined && maxZoom === undefined) {\n            return '';\n        }\n\n        const map = this.overlayView.getMap();\n        if (!map) {\n            return '';\n        }\n\n        const mapZoom = map.getZoom()!;\n        if (mapZoom < minZoom || mapZoom > maxZoom) {\n            return 'hidden';\n        }\n        return '';\n    }\n\n    /**\n     * Removes the canvas element from the DOM when the overlay is removed from the map.\n     *\n     * @description Called by the Google Maps API when the overlay is removed.\n     *\n     * @example\n     * // Typically called automatically by the Maps API, not directly.\n     */\n    onRemove(): void {\n        if (this.canvas && this.canvas.parentNode) {\n            this.canvas.parentNode.removeChild(this.canvas);\n        }\n    }\n}\n", "import { each, inArray, isUndefined, eachObject } from '../utils/operation';\nimport { Collection } from '../core/collection';\nimport { Deferred } from '../core/deferred';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { consoleDebug } from '../utils/log';\nimport { Knot } from '../core';\nimport { IconOptions, Id } from '../utils';\nimport { MapLabel } from './mapLabel';\n\n/**\n * Internal marker icon configuration containing the icon image and clickable shape.\n */\ntype MarkerIcon = {\n    icon: string | google.maps.Icon | google.maps.Symbol;\n    shape: google.maps.MarkerShape;\n};\n\n/**\n * Geographic coordinate with an optional weight value, used for heatmap data points.\n */\nexport type WeightLatLng = {\n    latitude: number;\n    longitude: number;\n    weight?: number;\n};\n\n/**\n * Geographic coordinate with latitude and longitude.\n */\nexport type LatLng = {\n    latitude: number;\n    longitude: number;\n};\n\n/**\n * Creates a {@link MapLabel} bound to a marker's position and map.\n * @param marker - The Google Maps marker to bind the label to.\n * @param title - The text content of the label.\n * @returns A new MapLabel instance bound to the marker.\n */\nconst _createMapLabelByMarker = (\n    marker: google.maps.Marker,\n    title: string,\n): MapLabel => {\n    const mapLabel = new MapLabel({\n        text: title,\n        strokeWeight: 2,\n    });\n\n    mapLabel.bindTo('position', marker);\n    mapLabel.bindTo('map', marker);\n\n    return mapLabel;\n};\n\n/**\n * Creates a {@link MapLabel} at a fixed position on the map.\n * @param map - The Google Maps instance.\n * @param position - The geographic position for the label.\n * @param title - The text content of the label.\n * @returns A new MapLabel instance placed at the given position.\n */\nconst _createMapLabelByMarkerByPosition = (\n    map: google.maps.Map,\n    position: google.maps.LatLng,\n    title: string,\n): MapLabel =>\n    new MapLabel({\n        text: title,\n        strokeWeight: 2,\n        position: position,\n        map: map,\n    });\n\n/**\n * Google Maps wrapper with support for markers, polygons, heatmaps, geocoding, and custom map styles.\n *\n * @description Provides a high-level API over the Google Maps JavaScript API. Manages\n * collections of markers and polygons with associated {@link MapLabel} overlays,\n * heatmap visualization, address geocoding, and custom map styling.\n *\n * @example\n * const googleMap = new GoogleMap(containerKnot, '.map', {\n *     center: { lat: 47.6, lng: 17.53 },\n *     zoom: 10,\n * });\n * googleMap.setMarkerIcon('default', iconOptions);\n * googleMap.createMarker('m1', 'My Marker', 'default', 47.6, 17.53);\n *\n * @see {@link MapLabel}\n * @see {@link Collection}\n * @see {@link Objekt}\n * @see {@link Deferred}\n * @category Component\n */\nexport class GoogleMap {\n    mapKnot: Knot;\n    options!: Objekt;\n    map!: google.maps.Map;\n    markerIcons!: {\n        [key: string]: MarkerIcon;\n    };\n    overlay!: google.maps.OverlayView;\n    polygonOptions!: Objekt;\n    polygons!: Collection<Objekt>;\n    markers!: Collection<Objekt>;\n    markerOptions!: Objekt;\n    heatmapOptions!: Objekt;\n    heatmap!: google.maps.visualization.HeatmapLayer;\n\n    /**\n     * @param dom - The parent DOM wrapper {@link Knot}.\n     * @param opt_selector - CSS selector for the map container element.\n     * @param opt_options - Google Maps configuration options merged with defaults.\n     */\n    constructor(\n        dom: Knot,\n        opt_selector: string | undefined = '.map',\n        opt_options: object | undefined = {},\n    ) {\n        this.mapKnot = new Query(opt_selector, dom).getKnot();\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options with default map configuration.\n     * @param opt_options - Configuration options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            center: {\n                lat: 47.6,\n                lng: 17.533333,\n            },\n            zoom: 8,\n            scrollwheel: false,\n            streetViewControl: false,\n            // disableDefaultUI: true,\n            scaleControl: true,\n            mapTypeControl: false,\n            mapTypeId: google.maps.MapTypeId.TERRAIN,\n            mapTypeControlOptions: {\n                mapTypeIds: [\n                    google.maps.MapTypeId.TERRAIN,\n                    google.maps.MapTypeId.SATELLITE,\n                ],\n            },\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Returns the current map type identifier (e.g. terrain, satellite).\n     *\n     * @returns The active map type ID string.\n     *\n     * @example\n     * const mapType = googleMap.getMapType();\n     */\n    getMapType(): string {\n        return this.map.getMapTypeId()!;\n    }\n\n    /**\n     * Sets the map type to display.\n     *\n     * @param mapTypeId - The map type identifier to set (e.g. 'terrain', 'satellite').\n     *\n     * @example\n     * googleMap.setMapType('satellite');\n     */\n    setMapType(mapTypeId: string): void {\n        this.map.setMapTypeId(mapTypeId);\n    }\n\n    /**\n     * Registers a custom styled map type on the map instance.\n     *\n     * @param mapTypeId - Unique identifier for the custom map type.\n     * @param mapTypeName - Display name for the custom map type.\n     * @param mapStyles - Array of Google Maps style definitions.\n     *\n     * @example\n     * googleMap.setCustomMapStyle('custom', 'Custom Style', [\n     *     { featureType: 'water', stylers: [{ color: '#0000ff' }] },\n     * ]);\n     */\n    setCustomMapStyle(\n        mapTypeId: string,\n        mapTypeName: string,\n        mapStyles: Array<google.maps.MapTypeStyle | null>,\n    ): void {\n        const styledMapType = new google.maps.StyledMapType(mapStyles, {\n            name: mapTypeName,\n        });\n        this.map.mapTypes.set(mapTypeId, styledMapType);\n    }\n\n    /**\n     * Initializes marker icons, map instance, overlay, and collections.\n     */\n    private _init(): void {\n        this.markerIcons = {};\n\n        this._initMap();\n        this._initOverlay();\n\n        this.setMarkers();\n        this.setPolygons();\n    }\n\n    /**\n     * Creates the Google Maps instance and binds map-level events.\n     */\n    private _initMap(): void {\n        this.map = new google.maps.Map(\n            this.mapKnot.getNode(),\n            this.options.copyObject() as google.maps.MapOptions,\n        );\n\n        this._unbindEventsToMap();\n        this._bindEventsToMap();\n    }\n\n    /**\n     * Binds click and map type change events to the map.\n     */\n    private _bindEventsToMap(): void {\n        this.map.addListener('click', (event: any) => {\n            const vertex = event.latLng;\n            this.eventMapClick(vertex.lat(), vertex.lng(), event);\n        });\n\n        this.map.addListener('maptypeid_changed', (event: any) => {\n            this.eventMapTypeChange(this.getMapType(), event);\n        });\n    }\n\n    /**\n     * Removes all event listeners from the map instance.\n     */\n    private _unbindEventsToMap(): void {\n        google.maps.event.clearInstanceListeners(this.map);\n    }\n\n    /**\n     * Initializes the overlay view used for coordinate projections.\n     */\n    private _initOverlay(): void {\n        this.overlay = new google.maps.OverlayView();\n        this.overlay.draw = () => {\n            // empty function\n        };\n        this.overlay.setMap(this.map);\n    }\n\n    /**\n     * Called when a polygon's path changes. Override to handle polygon edits.\n     * @param polygonData - The polygon data object (without internal properties).\n     * @param points - The updated array of polygon vertex coordinates.\n     */\n    eventPolygonChanged(\n        polygonData: Objekt,\n        points: Array<{ latitude: number; longitude: number }>,\n    ): void {\n        consoleDebug('GoogleMap.eventPolygonChanged()', polygonData, points);\n    }\n\n    /**\n     * Creates a new polygon or updates an existing one identified by ID.\n     *\n     * @param id - Unique identifier for the polygon.\n     * @param title - Display label for the polygon.\n     * @param points - Array of vertex coordinates forming the polygon.\n     * @param opt_polygonData - Additional data to associate with the polygon.\n     * @param opt_options - Google Maps Polygon style options.\n     *\n     * @example\n     * googleMap.createOrUpdatePolygon('p1', 'Area', [\n     *     { latitude: 47.6, longitude: 17.5 },\n     *     { latitude: 47.7, longitude: 17.6 },\n     *     { latitude: 47.5, longitude: 17.7 },\n     * ]);\n     */\n    createOrUpdatePolygon(\n        id: Id,\n        title: string,\n        points: Array<{ latitude: number; longitude: number }>,\n        opt_polygonData: object | undefined = {},\n        opt_options: object | undefined = {},\n    ): void {\n        const polygon = this.getPolygon(id);\n        if (polygon) {\n            this.updatePolygon(id, title, points, opt_polygonData, opt_options);\n        } else {\n            this.createPolygon(id, title, points, opt_polygonData, opt_options);\n        }\n    }\n\n    /**\n     * Creates a new polygon on the map with a label at its center.\n     *\n     * @param id - Unique identifier for the polygon.\n     * @param title - Display label for the polygon.\n     * @param points - Array of vertex coordinates forming the polygon.\n     * @param opt_polygonData - Additional data to associate with the polygon.\n     * @param opt_options - Google Maps Polygon style options.\n     *\n     * @example\n     * googleMap.createPolygon('p1', 'Field', [\n     *     { latitude: 47.6, longitude: 17.5 },\n     *     { latitude: 47.7, longitude: 17.6 },\n     *     { latitude: 47.5, longitude: 17.7 },\n     * ]);\n     */\n    createPolygon(\n        id: Id,\n        title: string,\n        points: Array<{ latitude: number; longitude: number }>,\n        opt_polygonData: object | undefined = {},\n        opt_options: object | undefined = {},\n    ): void {\n        const polygonData = new Objekt(opt_polygonData);\n        if (!polygonData.get('id')) {\n            polygonData.set('id', id);\n        }\n        const options = new Objekt(this.polygonOptions);\n        options.merge(opt_options);\n\n        const polygon = new google.maps.Polygon(options.copyObject());\n        polygon.setMap(this.map);\n        polygonData.setRaw('_polygon', polygon);\n        this._addPointsToPolygon(polygonData, points);\n\n        const latLng = this.getCenterOfPolygon(polygonData);\n        const mapLabel = _createMapLabelByMarkerByPosition(\n            this.map,\n            new google.maps.LatLng(latLng.latitude, latLng.longitude),\n            title,\n        );\n        polygonData.setRaw('_map_label', mapLabel);\n\n        this.polygons.push(polygonData);\n\n        this._bindEventsToPolygon(polygon, polygonData);\n    }\n\n    /**\n     * Updates an existing polygon's data, path, and label.\n     *\n     * @param id - The polygon identifier to update.\n     * @param title - Updated display label.\n     * @param points - Updated array of vertex coordinates.\n     * @param opt_polygonData - Updated data to merge into the polygon.\n     * @param opt_options - Updated Google Maps Polygon style options.\n     *\n     * @example\n     * googleMap.updatePolygon('p1', 'Updated Field', [\n     *     { latitude: 47.61, longitude: 17.51 },\n     *     { latitude: 47.71, longitude: 17.61 },\n     *     { latitude: 47.51, longitude: 17.71 },\n     * ]);\n     */\n    updatePolygon(\n        id: Id,\n        title: string,\n        points: Array<{ latitude: number; longitude: number }>,\n        opt_polygonData: object | undefined = {},\n        opt_options: object | undefined = {},\n    ): void {\n        const polygonData = this.getPolygon(id)!;\n        eachObject(this._cleanPolygonData(opt_polygonData), (value, key) => {\n            polygonData.set(key, value);\n        });\n\n        const polygon = polygonData.get<google.maps.Polygon>('_polygon');\n        polygon.setOptions(opt_options);\n        this._addPointsToPolygon(polygonData, points);\n\n        const latLng = this.getCenterOfPolygon(polygonData);\n        const mapLabel = polygonData.get<MapLabel>('_map_label');\n        mapLabel.set('text', title);\n        mapLabel.set(\n            'position',\n            new google.maps.LatLng(latLng.latitude, latLng.longitude),\n        );\n    }\n\n    /**\n     * Strips internal properties (_polygon, _map_label, _bounds) from polygon data.\n     * @param polygonData - Raw polygon data object.\n     * @returns A cleaned {@link Objekt} without internal keys.\n     */\n    private _cleanPolygonData(polygonData: object): Objekt {\n        const cleanData = new Objekt();\n        eachObject(polygonData, (value, key) => {\n            if (!inArray(['_polygon', '_map_label', '_bounds'], key)) {\n                cleanData.set(key, value);\n            }\n        });\n        return cleanData;\n    }\n\n    /**\n     * Retrieves a polygon data object by its identifier.\n     *\n     * @param id - The polygon identifier.\n     * @returns The polygon data {@link Objekt}, or null if not found.\n     *\n     * @example\n     * const polygon = googleMap.getPolygon('p1');\n     */\n    getPolygon(id: Id): Objekt | null {\n        return this.polygons.findById(id);\n    }\n\n    /**\n     * Removes a polygon and its label from the map.\n     *\n     * @param id - The polygon identifier to remove.\n     *\n     * @example\n     * googleMap.removePolygon('p1');\n     */\n    removePolygon(id: Id): void {\n        const polygonData = this.getPolygon(id);\n        if (polygonData) {\n            const mapLabel = polygonData.get<MapLabel>('_map_label');\n            mapLabel.set('map', null);\n            const polygon = polygonData.get<google.maps.Polygon>('_polygon');\n            polygon.setMap(null);\n            this._unbindEventsToPolygon(polygon);\n            this.polygons.deleteById(id);\n        }\n    }\n\n    /**\n     * Removes all polygons and their labels from the map.\n     *\n     * @example\n     * googleMap.removeAllPolygon();\n     */\n    removeAllPolygon(): void {\n        this.polygons.each((polygonData) => {\n            const polygon = polygonData.get<google.maps.Polygon>('_polygon');\n            polygon.setMap(null);\n            const mapLabel = polygonData.get<MapLabel>('_map_label');\n            mapLabel.set('map', null);\n            this._unbindEventsToPolygon(polygon);\n        });\n        this.polygons.clear();\n    }\n\n    /**\n     * Binds click, double-click, right-click, and path change events to a polygon.\n     * @param polygon - The Google Maps Polygon instance.\n     * @param polygonData - The associated polygon data object.\n     */\n    private _bindEventsToPolygon(\n        polygon: google.maps.Polygon,\n        polygonData: Objekt,\n    ): void {\n        const cleanPolygonData = this._cleanPolygonData(polygonData);\n\n        polygon.addListener('rightclick', (event: any) => {\n            if (event.vertex) {\n                const path = polygon.getPath();\n                path.removeAt(event.vertex);\n            } else {\n                const vertex = event.latLng;\n                this.eventPolygonRightClick(\n                    cleanPolygonData,\n                    vertex.lat(),\n                    vertex.lng(),\n                    event,\n                );\n            }\n        });\n\n        polygon.addListener('click', (event: any) => {\n            const vertex = event.latLng;\n            this.eventPolygonClick(\n                cleanPolygonData,\n                vertex.lat(),\n                vertex.lng(),\n                event,\n            );\n        });\n\n        polygon.addListener('dblclick', (event: any) => {\n            const vertex = event.latLng;\n            this.eventPolygonDoubleClick(\n                cleanPolygonData,\n                vertex.lat(),\n                vertex.lng(),\n                event,\n            );\n        });\n\n        this._bindEventsToPolygonPath(polygon, polygonData);\n    }\n\n    /**\n     * Removes all event listeners from a polygon and its path.\n     * @param polygon - The Google Maps Polygon instance.\n     */\n    private _unbindEventsToPolygon(polygon: google.maps.Polygon): void {\n        google.maps.event.clearInstanceListeners(polygon);\n        this._unbindEventsToPolygonPath(polygon);\n    }\n\n    /**\n     * Binds insert, set, and remove events on the polygon path to trigger change callbacks.\n     * @param polygon - The Google Maps Polygon instance.\n     * @param polygonData - The associated polygon data object.\n     */\n    private _bindEventsToPolygonPath(\n        polygon: google.maps.Polygon,\n        polygonData: Objekt,\n    ): void {\n        const path = polygon.getPath();\n        if (path) {\n            path.addListener('insert_at', () => {\n                this._callPolygonChangeEvent(polygon, polygonData);\n            });\n            path.addListener('set_at', () => {\n                this._callPolygonChangeEvent(polygon, polygonData);\n            });\n            path.addListener('remove_at', () => {\n                this._callPolygonChangeEvent(polygon, polygonData);\n            });\n        }\n    }\n\n    /**\n     * Removes all event listeners from a polygon's path.\n     * @param polygon - The Google Maps Polygon instance.\n     */\n    private _unbindEventsToPolygonPath(polygon: google.maps.Polygon): void {\n        const path = polygon.getPath();\n        if (path) {\n            google.maps.event.clearInstanceListeners(path);\n        }\n    }\n\n    /**\n     * Fires the polygon change event after updating bounds and label position.\n     * @param polygon - The Google Maps Polygon instance.\n     * @param polygonData - The associated polygon data object.\n     */\n    private _callPolygonChangeEvent(\n        polygon: google.maps.Polygon,\n        polygonData: Objekt,\n    ): void {\n        const points = this._getPointsFromPolygon(polygonData);\n        this._setBoundsByPoints(polygonData, points);\n\n        const mapLabel = polygonData.get<MapLabel>('_map_label');\n        const centerLatLng = this.getCenterOfPolygon(polygonData);\n        mapLabel.set(\n            'position',\n            new google.maps.LatLng(\n                centerLatLng.latitude,\n                centerLatLng.longitude,\n            ),\n        );\n\n        const cleanPolygonData = this._cleanPolygonData(polygonData);\n        this.eventPolygonChanged(cleanPolygonData, points);\n    }\n\n    /**\n     * Called when a polygon is clicked. Override to handle polygon clicks.\n     * @param polygonData - The polygon data object (without internal properties).\n     * @param latitude - Click latitude coordinate.\n     * @param longitude - Click longitude coordinate.\n     * @param event - The native map event.\n     */\n    eventPolygonClick(\n        polygonData: Objekt,\n        latitude: number,\n        longitude: number,\n        event: object,\n    ): void {\n        consoleDebug(\n            'GoogleMap.eventPolygonClick()',\n            polygonData,\n            latitude,\n            longitude,\n            event,\n        );\n    }\n\n    /**\n     * Called when a polygon is double-clicked. Override to handle polygon double-clicks.\n     * @param polygonData - The polygon data object (without internal properties).\n     * @param latitude - Double-click latitude coordinate.\n     * @param longitude - Double-click longitude coordinate.\n     * @param event - The native map event.\n     */\n    eventPolygonDoubleClick(\n        polygonData: Objekt,\n        latitude: number,\n        longitude: number,\n        event: object,\n    ): void {\n        consoleDebug(\n            'GoogleMap.eventPolygonDoubleClick()',\n            polygonData,\n            latitude,\n            longitude,\n            event,\n        );\n    }\n\n    /**\n     * Called when a polygon is right-clicked. Override to handle polygon right-clicks.\n     * @param polygonData - The polygon data object (without internal properties).\n     * @param latitude - Right-click latitude coordinate.\n     * @param longitude - Right-click longitude coordinate.\n     * @param event - The native map event.\n     */\n    eventPolygonRightClick(\n        polygonData: Objekt,\n        latitude: number,\n        longitude: number,\n        event: object,\n    ): void {\n        consoleDebug(\n            'GoogleMap.eventPolygonRightClick()',\n            polygonData,\n            latitude,\n            longitude,\n            event,\n        );\n    }\n\n    /**\n     * Called when the map is clicked. Override to handle map clicks.\n     * @param latitude - Click latitude coordinate.\n     * @param longitude - Click longitude coordinate.\n     * @param event - The native map event.\n     */\n    eventMapClick(latitude: number, longitude: number, event: object): void {\n        consoleDebug('GoogleMap.eventMapClick()', latitude, longitude, event);\n    }\n\n    /**\n     * Called when the map type changes. Override to handle map type changes.\n     * @param mapType - The new map type identifier.\n     * @param event - The native map event.\n     */\n    eventMapTypeChange(mapType: string, event: object): void {\n        consoleDebug('GoogleMap.eventMapTypeChange()', mapType, event);\n    }\n\n    /**\n     * Sets the polygon path from an array of points and updates bounds.\n     * @param polygonData - The polygon data object.\n     * @param points - Array of vertex coordinates.\n     */\n    private _addPointsToPolygon(\n        polygonData: Objekt,\n        points: Array<{ latitude: number; longitude: number }>,\n    ): void {\n        const polygon = polygonData.get<google.maps.Polygon>('_polygon');\n        const path = this._convertPointsToPath(points);\n        polygon.setPath(path);\n        this._bindEventsToPolygonPath(polygon, polygonData);\n        this._setBoundsByPath(polygonData, path);\n    }\n\n    /**\n     * Converts an array of coordinate objects to Google Maps LatLng instances.\n     * @param points - Array of coordinate objects with optional weight.\n     * @returns Array of Google Maps LatLng (or weighted location) instances.\n     */\n    private _convertPointsToPath(\n        points: Array<WeightLatLng>,\n    ): Array<google.maps.LatLng> {\n        const path: any[] = [];\n        each(points, (point) => {\n            let vertex: any = new google.maps.LatLng(\n                point.latitude,\n                point.longitude,\n            );\n            if (!isUndefined(point.weight)) {\n                vertex = {\n                    location: vertex,\n                    weight: point.weight,\n                };\n            }\n            path.push(vertex);\n        });\n        return path;\n    }\n\n    /**\n     * Updates the bounds on polygon data from an array of coordinate points.\n     * @param polygonData - The polygon data object.\n     * @param points - Array of vertex coordinates.\n     */\n    private _setBoundsByPoints(\n        polygonData: Objekt,\n        points: Array<{ latitude: number; longitude: number }>,\n    ): void {\n        const path = this._convertPointsToPath(points);\n        this._setBoundsByPath(polygonData, path);\n    }\n\n    /**\n     * Calculates and stores the bounding box from a path of LatLng values.\n     * @param polygonData - The polygon data object to store bounds on.\n     * @param path - Array of Google Maps LatLng instances.\n     */\n    private _setBoundsByPath(\n        polygonData: Objekt,\n        path: Array<google.maps.LatLng>,\n    ): void {\n        const bounds = new google.maps.LatLngBounds();\n        if (path.length > 0) {\n            each(path, (vertex) => {\n                bounds.extend(vertex);\n            });\n        }\n        polygonData.setRaw('_bounds', bounds);\n    }\n\n    /**\n     * Returns the geographic center of a polygon's bounding box.\n     *\n     * @param polygonData - The polygon data object containing stored bounds.\n     * @returns An object with latitude and longitude of the center.\n     *\n     * @example\n     * const center = googleMap.getCenterOfPolygon(polygonData);\n     * // { latitude: 47.6, longitude: 17.5 }\n     */\n    getCenterOfPolygon(polygonData: Objekt): {\n        latitude: number;\n        longitude: number;\n    } {\n        const bounds = polygonData.get<google.maps.LatLngBounds>('_bounds');\n        const vertex = bounds.getCenter();\n        return {\n            latitude: vertex.lat(),\n            longitude: vertex.lng(),\n        };\n    }\n\n    /**\n     * Pans and zooms the map to fit a polygon's bounds.\n     *\n     * @param polygonId - The polygon identifier to fit.\n     *\n     * @example\n     * googleMap.fitPolygonToMap('p1');\n     */\n    fitPolygonToMap(polygonId: string | number): void {\n        const polygonData = this.getPolygon(polygonId);\n        if (polygonData) {\n            const bounds = polygonData.get<google.maps.LatLngBounds>('_bounds');\n            if (bounds) {\n                const center = bounds.getCenter();\n                this.map.setCenter(center);\n                this.map.fitBounds(bounds);\n            }\n        }\n    }\n\n    /**\n     * Extracts the current vertex coordinates from a polygon's path.\n     * @param polygonData - The polygon data object.\n     * @returns Array of latitude/longitude objects for each vertex.\n     */\n    private _getPointsFromPolygon(\n        polygonData: Objekt,\n    ): Array<{ latitude: number; longitude: number }> {\n        const polygon = polygonData.get<google.maps.Polygon>('_polygon');\n        const path = polygon.getPath().getArray();\n        this._setBoundsByPath(polygonData, path);\n        const points: Array<{ latitude: number; longitude: number }> = [];\n        each(path, (vertex) => {\n            points.push({\n                latitude: vertex.lat(),\n                longitude: vertex.lng(),\n            });\n        });\n        return points;\n    }\n\n    /**\n     * Computes the area of a polygon in square meters using spherical geometry.\n     *\n     * @param polygonData - The polygon data object.\n     * @returns The computed area in square meters.\n     *\n     * @example\n     * const area = googleMap.getComputeArea(polygonData);\n     */\n    getComputeArea(polygonData: Objekt): number {\n        const polygon = polygonData.get<google.maps.Polygon>('_polygon');\n        const path = polygon.getPath();\n        return google.maps.geometry.spherical.computeArea(path);\n    }\n\n    /**\n     * Appends a vertex to an existing polygon's path.\n     *\n     * @param polygonData - The polygon data object.\n     * @param latitude - Latitude of the new vertex.\n     * @param longitude - Longitude of the new vertex.\n     *\n     * @example\n     * googleMap.addPointToPolygon(polygonData, 47.65, 17.55);\n     */\n    addPointToPolygon(\n        polygonData: Objekt,\n        latitude: number,\n        longitude: number,\n    ): void {\n        const polygon = polygonData.get<google.maps.Polygon>('_polygon');\n        const path = polygon.getPath();\n        path.push(new google.maps.LatLng(latitude, longitude));\n    }\n\n    /**\n     * Initializes or resets the marker {@link Collection} and default marker options.\n     *\n     * @param opt_options - Default marker options merged into all new markers.\n     *\n     * @example\n     * googleMap.setMarkers({ draggable: true });\n     */\n    setMarkers(opt_options: object | undefined = {}): void {\n        this.markers = new Collection();\n\n        this.markerOptions = new Objekt({\n            draggable: false,\n        });\n        this.markerOptions.merge(opt_options);\n    }\n\n    /**\n     * Initializes the heatmap configuration with default gradient and options.\n     *\n     * @param opt_options - Heatmap options to merge with defaults.\n     *\n     * @example\n     * googleMap.setHeatmap({ opacity: 0.8, radius: 20 });\n     */\n    setHeatmap(opt_options: object | undefined = {}): void {\n        const gradient = [\n            'rgba(102, 255, 0, 0)',\n            'rgba(102, 255, 0, 1)',\n            'rgba(147, 255, 0, 1)',\n            'rgba(193, 255, 0, 1)',\n            'rgba(238, 255, 0, 1)',\n            'rgba(244, 227, 0, 1)',\n            'rgba(249, 198, 0, 1)',\n            'rgba(255, 170, 0, 1)',\n            'rgba(255, 113, 0, 1)',\n            'rgba(255, 57, 0, 1)',\n            'rgba(255, 0, 0, 1)',\n        ];\n\n        this.heatmapOptions = new Objekt({\n            opacity: 0.6,\n            radius: null,\n            gradient: gradient,\n        });\n        this.heatmapOptions.merge(opt_options);\n    }\n\n    /**\n     * Creates a heatmap layer on the map from weighted coordinate data.\n     *\n     * @param points - Array of weighted geographic coordinates.\n     * @param opt_heatmapOptions - Additional heatmap options to merge.\n     *\n     * @example\n     * googleMap.setHeatmap();\n     * googleMap.createHeatmap([\n     *     { latitude: 47.6, longitude: 17.5, weight: 3 },\n     *     { latitude: 47.7, longitude: 17.6, weight: 1 },\n     * ]);\n     */\n    createHeatmap(\n        points: Array<WeightLatLng>,\n        opt_heatmapOptions: object | undefined = {},\n    ): void {\n        this.heatmap = new google.maps.visualization.HeatmapLayer({\n            data: this._convertPointsToPath(points),\n            map: this.map,\n        });\n\n        this.heatmapOptions.merge(opt_heatmapOptions);\n        eachObject(this.heatmapOptions, (value, property) => {\n            this.heatmap.set(property, value);\n        });\n    }\n\n    /**\n     * Removes the current heatmap layer from the map.\n     *\n     * @example\n     * googleMap.removeHeatmap();\n     */\n    removeHeatmap(): void {\n        if (this.heatmap) {\n            this.heatmap.setMap(null);\n        }\n    }\n\n    /**\n     * Initializes or resets the polygon {@link Collection} and default polygon options.\n     *\n     * @param opt_options - Default polygon style options merged into all new polygons.\n     *\n     * @example\n     * googleMap.setPolygons({ fillColor: '#00FF00', editable: true });\n     */\n    setPolygons(opt_options: object | undefined = {}): void {\n        this.polygons = new Collection();\n\n        this.polygonOptions = new Objekt({\n            geodesic: true,\n            strokeColor: '#FF0000',\n            strokeOpacity: 0.5,\n            strokeWeight: 2,\n            fillColor: '#FF0000',\n            fillOpacity: 0.2,\n            editable: false,\n        });\n        this.polygonOptions.merge(opt_options);\n    }\n\n    /**\n     * Creates a new marker or updates an existing one identified by ID.\n     *\n     * @param id - Unique identifier for the marker.\n     * @param title - Display label for the marker.\n     * @param iconName - Name of a registered marker icon.\n     * @param latitude - Latitude position.\n     * @param longitude - Longitude position.\n     * @param opt_markerData - Additional data to associate with the marker.\n     * @param opt_options - Google Maps Marker options.\n     *\n     * @example\n     * googleMap.createOrUpdateMarker('m1', 'Location', 'default', 47.6, 17.5);\n     */\n    createOrUpdateMarker(\n        id: Id,\n        title: string,\n        iconName: string,\n        latitude: number,\n        longitude: number,\n        opt_markerData: object | undefined = {},\n        opt_options: object | undefined = {},\n    ): void {\n        const marker = this.getMarker(id);\n        if (marker) {\n            this.updateMarker(\n                id,\n                title,\n                iconName,\n                latitude,\n                longitude,\n                opt_markerData,\n                opt_options,\n            );\n        } else {\n            this.createMarker(\n                id,\n                title,\n                iconName,\n                latitude,\n                longitude,\n                opt_markerData,\n                opt_options,\n            );\n        }\n    }\n\n    /**\n     * Creates a new marker on the map with an associated {@link MapLabel}.\n     *\n     * @param id - Unique identifier for the marker.\n     * @param title - Display label for the marker.\n     * @param iconName - Name of a registered marker icon (see {@link setMarkerIcon}).\n     * @param latitude - Latitude position.\n     * @param longitude - Longitude position.\n     * @param opt_markerData - Additional data to associate with the marker.\n     * @param opt_options - Google Maps Marker options.\n     *\n     * @example\n     * googleMap.createMarker('m1', 'Home', 'default', 47.6, 17.5);\n     */\n    createMarker(\n        id: Id,\n        title: string,\n        iconName: string,\n        latitude: number,\n        longitude: number,\n        opt_markerData: object | undefined = {},\n        opt_options: object | undefined = {},\n    ): void {\n        const markerData = new Objekt(opt_markerData);\n        if (!markerData.get('id')) {\n            markerData.set('id', id);\n        }\n        const options = new Objekt(this.markerOptions);\n        options.merge(opt_options);\n\n        const text = title.toString();\n        const marker = new google.maps.Marker(options.copyObject());\n        marker.setPosition(new google.maps.LatLng(latitude, longitude));\n        marker.setIcon(this.markerIcons[iconName].icon);\n        marker.setShape(this.markerIcons[iconName].shape);\n        marker.setTitle(text);\n        marker.setMap(this.map);\n        markerData.setRaw('_marker', marker);\n\n        const mapLabel = _createMapLabelByMarker(marker, text);\n        markerData.setRaw('_map_label', mapLabel);\n\n        this.markers.push(markerData);\n\n        this._bindEventsToMarker(marker, markerData);\n    }\n\n    /**\n     * Creates a marker from pixel coordinates, converting them to geographic coordinates.\n     *\n     * @param id - Unique identifier for the marker.\n     * @param title - Display label for the marker.\n     * @param iconName - Name of a registered marker icon.\n     * @param x - Horizontal pixel coordinate on the map container.\n     * @param y - Vertical pixel coordinate on the map container.\n     * @param markerData - Additional data to associate with the marker.\n     *\n     * @example\n     * googleMap.createMarkerByXY('m2', 'Dropped', 'default', 150, 200);\n     */\n    createMarkerByXY(\n        id: Id,\n        title: string,\n        iconName: string,\n        x: number,\n        y: number,\n        markerData: object | undefined = {},\n    ): void {\n        const point = new google.maps.Point(x, y);\n        const projection = this.overlay.getProjection();\n        const location = projection.fromContainerPixelToLatLng(point)!;\n\n        this.createMarker(\n            id,\n            title,\n            iconName,\n            location.lat(),\n            location.lng(),\n            markerData,\n        );\n    }\n\n    /**\n     * Binds click, double-click, right-click, drag, and dragend events to a marker.\n     * @param marker - The Google Maps Marker instance.\n     * @param markerData - The associated marker data object.\n     */\n    private _bindEventsToMarker(\n        marker: google.maps.Marker,\n        markerData: Objekt,\n    ): void {\n        const cleanMarkerData = this._cleanMarkerData(markerData);\n\n        marker.addListener('click', (event: any) => {\n            this.eventMarkerClick(cleanMarkerData, event);\n        });\n\n        marker.addListener('dblclick', (event: any) => {\n            this.eventMarkerDoubleClick(cleanMarkerData, event);\n        });\n\n        marker.addListener('rightclick', (event: any) => {\n            this.eventMarkerRightClick(cleanMarkerData, event);\n        });\n\n        marker.addListener('drag', (_event: any) => {\n            const vertex = marker.getPosition()!;\n            const mapLabel = markerData.get<MapLabel>('_map_label');\n            mapLabel.set('position', vertex);\n        });\n\n        marker.addListener('dragend', (event: any) => {\n            const vertex = marker.getPosition()!;\n            const latitude = vertex.lat();\n            const longitude = vertex.lng();\n            this.eventMarkerChanged(\n                cleanMarkerData,\n                latitude,\n                longitude,\n                event,\n            );\n        });\n    }\n\n    /**\n     * Removes all event listeners from a marker.\n     * @param marker - The Google Maps Marker instance.\n     */\n    private _unbindEventsToMarker(marker: google.maps.Marker): void {\n        google.maps.event.clearInstanceListeners(marker);\n    }\n\n    /**\n     * Updates an existing marker's data, icon, title, and position.\n     *\n     * @param id - The marker identifier to update.\n     * @param title - Updated display label.\n     * @param iconName - Updated icon name from registered marker icons.\n     * @param latitude - Updated latitude position.\n     * @param longitude - Updated longitude position.\n     * @param opt_markerData - Updated data to merge into the marker.\n     * @param opt_options - Updated Google Maps Marker options.\n     *\n     * @example\n     * googleMap.updateMarker('m1', 'New Title', 'default', 47.65, 17.55);\n     */\n    updateMarker(\n        id: Id,\n        title: string,\n        iconName: string,\n        latitude: number,\n        longitude: number,\n        opt_markerData: object | undefined = {},\n        opt_options: object | undefined = {},\n    ): void {\n        const markerData = this.getMarker(id)!;\n        eachObject(this._cleanMarkerData(opt_markerData), (value, key) => {\n            markerData.set(key, value);\n        });\n        const text = title.toString();\n        const marker = markerData.get<google.maps.Marker>('_marker');\n        marker.setOptions(opt_options);\n\n        const markerIcon = this.markerIcons[iconName];\n        marker.setIcon(markerIcon.icon);\n        marker.setShape(markerIcon.shape);\n        marker.setTitle(text);\n        marker.setPosition(new google.maps.LatLng(latitude, longitude));\n\n        const mapLabel = markerData.get<MapLabel>('_map_label');\n        mapLabel.set('text', text);\n    }\n\n    /**\n     * Strips internal properties (_marker, _map_label) from marker data.\n     * @param markerData - Raw marker data object.\n     * @returns A cleaned {@link Objekt} without internal keys.\n     */\n    private _cleanMarkerData(markerData: object): Objekt {\n        const cleanData = new Objekt();\n        eachObject(markerData, (value, key) => {\n            if (!inArray(['_marker', '_map_label'], key)) {\n                cleanData.set(key, value);\n            }\n        });\n        return cleanData;\n    }\n\n    /**\n     * Retrieves a marker data object by its identifier.\n     *\n     * @param id - The marker identifier.\n     * @returns The marker data {@link Objekt}, or null if not found.\n     *\n     * @example\n     * const marker = googleMap.getMarker('m1');\n     */\n    getMarker(id: Id): Objekt | null {\n        return this.markers.findById(id);\n    }\n\n    /**\n     * Removes a marker and its label from the map.\n     *\n     * @param id - The marker identifier to remove.\n     *\n     * @example\n     * googleMap.removeMarker('m1');\n     */\n    removeMarker(id: Id): void {\n        const markerData = this.getMarker(id);\n        if (markerData) {\n            const mapLabel = markerData.get<MapLabel>('_map_label');\n            mapLabel.setMap(null as any);\n            const marker = markerData.get<google.maps.Marker>('_marker');\n            marker.setMap(null);\n            this._unbindEventsToMarker(marker);\n            this.markers.deleteById(id);\n        }\n    }\n\n    /**\n     * Removes all markers and their labels from the map.\n     *\n     * @example\n     * googleMap.removeAllMarker();\n     */\n    removeAllMarker(): void {\n        this.markers.each((markerData) => {\n            const mapLabel = markerData.get<MapLabel>('_map_label');\n            mapLabel.setMap(null as any);\n            const marker = markerData.get<google.maps.Marker>('_marker');\n            marker.setMap(null);\n            this._unbindEventsToMarker(marker);\n        });\n        this.markers.clear();\n    }\n\n    /**\n     * Centers the map on a specific marker's position.\n     *\n     * @param markerId - The marker identifier to center on.\n     *\n     * @example\n     * googleMap.fitMarkerToMap('m1');\n     */\n    fitMarkerToMap(markerId: string | number): void {\n        const markerData = this.getMarker(markerId);\n        if (markerData) {\n            const marker = markerData.get<google.maps.Marker>('_marker');\n            const vertex = marker.getPosition()!;\n            const latitude = vertex.lat();\n            const longitude = vertex.lng();\n            this.setCenter(latitude, longitude);\n        }\n    }\n\n    /**\n     * Opens an info window above a marker with HTML content.\n     *\n     * @param markerId - The marker identifier to attach the info window to.\n     * @param content - HTML content string for the info window.\n     *\n     * @example\n     * googleMap.openInfoWindow('m1', '<h3>Details</h3><p>More info</p>');\n     */\n    openInfoWindow(markerId: string | number, content: string): void {\n        const markerData = this.getMarker(markerId)!;\n        const marker = markerData.get<google.maps.Marker>('_marker');\n        const infoWindow = new google.maps.InfoWindow({\n            content: content.toString(),\n        });\n        infoWindow.open(this.map, marker);\n    }\n\n    /**\n     * Called when a marker is clicked. Override to handle marker clicks.\n     * @param markerData - The marker data object (without internal properties).\n     * @param event - The native map event.\n     */\n    eventMarkerClick(markerData: Objekt, event: object): void {\n        consoleDebug('GoogleMap.eventMarkerClick()', markerData, event);\n    }\n\n    /**\n     * Called when a marker is double-clicked. Override to handle marker double-clicks.\n     * @param markerData - The marker data object (without internal properties).\n     * @param event - The native map event.\n     */\n    eventMarkerDoubleClick(markerData: Objekt, event: object): void {\n        consoleDebug('GoogleMap.eventMarkerDoubleClick()', markerData, event);\n    }\n\n    /**\n     * Called when a marker is right-clicked. Override to handle marker right-clicks.\n     * @param markerData - The marker data object (without internal properties).\n     * @param event - The native map event.\n     */\n    eventMarkerRightClick(markerData: Objekt, event: object): void {\n        consoleDebug('GoogleMap.eventMarkerRightClick()', markerData, event);\n    }\n\n    /**\n     * Called when a marker is dragged to a new position. Override to handle marker moves.\n     * @param markerData - The marker data object (without internal properties).\n     * @param latitude - New latitude after drag.\n     * @param longitude - New longitude after drag.\n     * @param event - The native map event.\n     */\n    eventMarkerChanged(\n        markerData: Objekt,\n        latitude: number,\n        longitude: number,\n        event: object,\n    ): void {\n        consoleDebug(\n            'GoogleMap.eventMarkerChanged()',\n            markerData,\n            latitude,\n            longitude,\n            event,\n        );\n    }\n\n    /**\n     * Registers a named marker icon configuration for use with marker creation.\n     *\n     * @param name - Unique name to reference this icon.\n     * @param iconOptions - Icon configuration including URL, size, origin, anchor, and coords.\n     *\n     * @example\n     * googleMap.setMarkerIcon('default', {\n     *     url: '/icons/marker.png',\n     *     size: [32, 32],\n     *     origin: [0, 0],\n     *     anchor: [16, 32],\n     *     coords: [16, 0, 32, 32, 0, 32],\n     * });\n     */\n    setMarkerIcon(name: string, iconOptions: IconOptions): void {\n        // https://developers.google.com/maps/documentation/javascript/examples/marker-symbol-custom\n        const icon = {\n            url: iconOptions.url,\n            size: new google.maps.Size(\n                iconOptions.size[0],\n                iconOptions.size[1],\n            ),\n            origin: new google.maps.Point(\n                iconOptions.origin[0],\n                iconOptions.origin[1],\n            ),\n            anchor: new google.maps.Point(\n                iconOptions.anchor[0],\n                iconOptions.anchor[1],\n            ),\n        };\n\n        const shape: google.maps.MarkerShape = {\n            coords: iconOptions.coords,\n            type: 'poly',\n        };\n\n        this.markerIcons[name] = {\n            icon: icon,\n            shape: shape,\n        };\n    }\n\n    /**\n     * Geocodes an address query and returns matching locations.\n     *\n     * @param query - The address string to search for.\n     * @returns A {@link Deferred} promise resolving with an array of address/coordinate results.\n     *\n     * @example\n     * googleMap.searchAddress('Budapest').then(([results]) => {\n     *     results.forEach((r) => console.log(r.address, r.latitude, r.longitude));\n     * });\n     */\n    searchAddress(query: string) {\n        const deferred = new Deferred<\n            [{ address: string; latitude: number; longitude: number }[]],\n            void\n        >();\n        const geoCoder = new google.maps.Geocoder();\n        geoCoder.geocode(\n            {\n                address: query.toString(),\n            },\n            (results, status) => {\n                if (\n                    status === google.maps.GeocoderStatus.OK &&\n                    results &&\n                    results.length > 0\n                ) {\n                    const points: Array<{\n                        address: string;\n                        latitude: number;\n                        longitude: number;\n                    }> = [];\n                    each(results, (result) => {\n                        const point = {\n                            address: result.formatted_address,\n                            latitude: result.geometry.location.lat(),\n                            longitude: result.geometry.location.lng(),\n                        };\n                        points.push(point);\n                    });\n                    deferred.resolve([points]);\n                } else {\n                    deferred.reject();\n                }\n            },\n        );\n        return deferred.promise();\n    }\n\n    /**\n     * Sets the map center to the specified coordinates.\n     *\n     * @param latitude - Center latitude.\n     * @param longitude - Center longitude.\n     * @param opt_boundCheck - When true, only re-centers if the position is outside the current viewport.\n     *\n     * @example\n     * googleMap.setCenter(47.6, 17.5);\n     * googleMap.setCenter(47.6, 17.5, true); // only if out of bounds\n     */\n    setCenter(\n        latitude: number,\n        longitude: number,\n        opt_boundCheck: boolean | undefined = false,\n    ): void {\n        const position = new google.maps.LatLng(latitude, longitude);\n        if (opt_boundCheck) {\n            if (!this.map.getBounds()!.contains(position)) {\n                this.map.setCenter(position);\n            }\n        } else {\n            this.map.setCenter(position);\n        }\n    }\n\n    /**\n     * Returns the current center coordinates of the map.\n     *\n     * @returns An object with latitude and longitude of the map center.\n     *\n     * @example\n     * const center = googleMap.getCenter();\n     * // { latitude: 47.6, longitude: 17.5 }\n     */\n    getCenter(): { latitude: number; longitude: number } {\n        const vertex = this.map.getCenter()!;\n        return {\n            latitude: vertex.lat(),\n            longitude: vertex.lng(),\n        };\n    }\n\n    /**\n     * Triggers a map resize event, useful after the map container size changes.\n     *\n     * @example\n     * googleMap.triggerResize();\n     */\n    triggerResize(): void {\n        google.maps.event.trigger(this.map, 'resize');\n    }\n\n    /**\n     * Converts a pixel radius to a geographic distance in meters based on the current zoom and projection.\n     *\n     * @param radiusPx - Radius in pixels.\n     * @returns The equivalent distance in meters.\n     *\n     * @example\n     * const meters = googleMap.getDinamicRadius(50);\n     */\n    getDinamicRadius(radiusPx: number): number {\n        const point1 = new google.maps.Point(0, 0);\n        const point2 = new google.maps.Point(radiusPx, radiusPx);\n\n        const projection = this.overlay.getProjection();\n        const location1 = projection.fromContainerPixelToLatLng(point1)!;\n        const location2 = projection.fromContainerPixelToLatLng(point2)!;\n\n        const latLng1 = new google.maps.LatLng(\n            location1.lat(),\n            location1.lng(),\n        );\n        const latLng2 = new google.maps.LatLng(\n            location2.lat(),\n            location2.lng(),\n        );\n\n        return google.maps.geometry.spherical.computeDistanceBetween(\n            latLng1,\n            latLng2,\n        );\n    }\n}\n", "import { eq, typeCast, isNull } from '../utils/operation';\nimport { BaseField } from './baseField';\nimport { GoogleMap } from '../component/googleMap';\nimport { Knot } from '../core/knot';\nimport { consoleDebug } from '../utils/log';\nimport { generateId } from '../utils/coder';\nimport { IconOptions } from '../utils';\nimport { mdl } from '../utils/render';\n\n/**\n * Location picker field with an embedded {@link GoogleMap}, geocoding search,\n * and manual latitude/longitude inputs.  The user can search for an address,\n * click the map, or drag a marker to set the location.\n *\n * @example\n * const input = new Query<HTMLInputElement>('input.location', formKnot).getKnot();\n * const field = new LocationField(input, label, error, inputBlock);\n * field.render();\n * field.eventSearch = (address) => field.search(address);\n *\n * @see {@link BaseField}\n * @see {@link GoogleMap}\n * @category Field\n */\nexport class LocationField extends BaseField<HTMLInputElement> {\n    /** Icon options for the map marker, read from the input's `data-icon` attribute. */\n    icon!: IconOptions;\n    /** Button element that toggles the advanced lat/lng inputs. */\n    advancedButton!: Knot;\n    /** Embedded {@link GoogleMap} instance for location selection. */\n    map!: GoogleMap;\n    /** Overlay element that prevents map interaction when the field is disabled. */\n    mapLockKnot!: Knot;\n    /** Container for the advanced latitude/longitude input elements. */\n    advancedKnot!: Knot;\n    /** Text input for manual latitude entry. */\n    latitudeInput!: Knot<HTMLInputElement>;\n    /** Text input for manual longitude entry. */\n    longitudeInput!: Knot<HTMLInputElement>;\n\n    /**\n     * @param input The underlying `<input>` element wrapped in a {@link Knot}.\n     * @param label The associated label element.\n     * @param error The element used to display validation errors.\n     * @param inputBlock The block-level container wrapping the entire field.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * Initializes buttons, icon options, and address/change event listeners.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('location-field');\n        this._initButtons();\n\n        this.icon = this.input.getData('icon');\n\n        this.input.addEventListener('keyup', (input, event) => {\n            const inputNode = input.getNode();\n\n            if (eq(event.keyCode, 13)) {\n                this.eventSearch(inputNode.value);\n            } else {\n                input.trigger('change');\n            }\n            return true;\n        });\n\n        this.input.addEventListener('change', (input) => {\n            const inputNode = input.getNode();\n            const location = this.getValue() as Record<string, any>;\n            location['address'] = typeCast(inputNode.value);\n            this._setDataValue(location);\n            this.modelChange(location);\n            return true;\n        });\n    }\n\n    /**\n     * Creates the search and advanced-toggle action buttons.\n     */\n    private _initButtons(): void {\n        this._initSearchButton();\n        this._initAdvancedButton();\n    }\n\n    /**\n     * Creates the search button and binds its click to trigger geocoding.\n     */\n    private _initSearchButton(): void {\n        const searchButton = new Knot('a');\n        searchButton.setAttribute('href', 'javascript:void(0)');\n        searchButton.addClass(['search-button', 'material-icons']);\n        searchButton.setHtml('pin_drop');\n        searchButton.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                const inputNode = this.input.getNode();\n                this.eventSearch(inputNode.value);\n            }\n        });\n        this.actionContainerKnot.appendChild(searchButton);\n    }\n\n    /**\n     * Creates the advanced-toggle button that shows/hides lat/lng inputs.\n     */\n    private _initAdvancedButton(): void {\n        this.advancedButton = new Knot('a');\n        this.advancedButton.setAttribute('href', 'javascript:void(0)');\n        this.advancedButton.addClass(['advanced-button', 'material-icons']);\n        this.advancedButton.setHtml('settings');\n        this.advancedButton.addEventListener('click', () => {\n            if (this.isEnabled()) {\n                this._toggleAdvancedInputs();\n            }\n        });\n        this.actionContainerKnot.appendChild(this.advancedButton);\n    }\n\n    /**\n     * Geocodes the given address using the embedded map and updates the\n     * field value with the first result.\n     *\n     * @param address The address string to geocode.\n     *\n     * @example\n     * locationField.search('Budapest, Hungary');\n     */\n    search(address: string): void {\n        this.map.searchAddress(address).then(\n            (locations) => {\n                const position = locations[0];\n                const location = {\n                    address: typeCast(address),\n                    latitude: position['latitude'],\n                    longitude: position['longitude'],\n                };\n                this.setValue(location);\n            },\n            () => {\n                // this.setError('No location', true);\n            },\n        );\n    }\n\n    /**\n     * Applies MDL text-field classes, renders the advanced inputs, map, and\n     * default value, then refreshes the visual state.\n     *\n     * @override\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--floating-label',\n        ]);\n        this.input.addClass('mdl-textfield__input');\n        if (this.label && this.label.exists()) {\n            this.label.addClass('mdl-textfield__label');\n        }\n\n        this._renderAdvancedInputs();\n        this._renderMap();\n        this._setDefaultValue();\n\n        this.refresh();\n    }\n\n    /**\n     * Toggles the map lock overlay based on the disabled state and upgrades\n     * MDL components.\n     *\n     * @override\n     */\n    override refresh() {\n        if (this.isDisabled()) {\n            this.mapLockKnot.addClass('map-lock');\n        } else {\n            this.mapLockKnot.removeClass('map-lock');\n        }\n        mdl(this.inputBlock);\n    }\n\n    /**\n     * Toggles visibility of the advanced latitude/longitude input panel.\n     */\n    private _toggleAdvancedInputs(): void {\n        this.advancedButton.toggleClass('active');\n        this.advancedKnot.toggleClass('hidden');\n    }\n\n    /**\n     * Creates the advanced panel containing latitude and longitude inputs.\n     */\n    private _renderAdvancedInputs(): void {\n        this.advancedKnot = new Knot('div');\n        this.advancedKnot.addClass(['advanced', 'row', 'hidden']);\n        this.inputBlock.appendChild(this.advancedKnot);\n\n        this.latitudeInput = this._renderAdvancedInput(\n            generateId('latitude'),\n            this.input.getData('latitude'),\n            (inputKnot) => {\n                const location = this.getValue() as Record<string, any>;\n                const latitude = inputKnot.getNode().value;\n                location['latitude'] = latitude;\n                this.setValue(location);\n            },\n        );\n        this.longitudeInput = this._renderAdvancedInput(\n            generateId('longitude'),\n            this.input.getData('longitude'),\n            (inputKnot) => {\n                const location = this.getValue() as Record<string, any>;\n                const longitude = inputKnot.getNode().value;\n                location['longitude'] = longitude;\n                this.setValue(location);\n            },\n        );\n    }\n\n    /**\n     * Creates a single labelled MDL text input for the advanced panel.\n     *\n     * @param id Unique DOM id for the input element.\n     * @param labelText Display label for the input.\n     * @param callback Handler invoked on change with the input {@link Knot}.\n     * @returns The created input {@link Knot}.\n     */\n    private _renderAdvancedInput(\n        id: string,\n        labelText: string,\n        callback: (arg0: Knot<HTMLInputElement>) => void,\n    ): Knot<HTMLInputElement> {\n        const blockKnot = new Knot('div');\n        blockKnot.addClass('col-6');\n        this.advancedKnot.appendChild(blockKnot);\n\n        const boxKnot = new Knot('div');\n        boxKnot.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--floating-label',\n        ]);\n        blockKnot.appendChild(boxKnot);\n\n        const advancedLabel = new Knot<HTMLLabelElement>('label');\n        advancedLabel.setFor(id);\n        advancedLabel.addClass('mdl-textfield__label');\n        advancedLabel.setHtml(labelText);\n        boxKnot.appendChild(advancedLabel);\n\n        const advancedInput = new Knot<HTMLInputElement>('input');\n        advancedInput.setId(id);\n        advancedInput.setAttribute('type', 'text');\n        advancedInput.addClass('mdl-textfield__input');\n        boxKnot.appendChild(advancedInput);\n\n        this._setAdditionalLabel(advancedLabel);\n        advancedInput.addEventListener('change', (input) => {\n            callback(input);\n            return true;\n        });\n\n        return advancedInput;\n    }\n\n    /**\n     * Creates the map container and embedded {@link GoogleMap}, configuring\n     * marker icons and map interaction events.\n     */\n    private _renderMap(): void {\n        const mapKnot = new Knot('div');\n        mapKnot.addClass('map');\n        this.inputBlock.appendChild(mapKnot);\n\n        this.mapLockKnot = new Knot('div');\n        this.mapLockKnot.addClass('map-lock');\n        this.inputBlock.appendChild(this.mapLockKnot);\n\n        this.map = new GoogleMap(this.inputBlock, '.map', {\n            zoom: 12,\n            scrollwheel: true,\n        });\n        this.map.setMarkers({\n            draggable: true,\n        });\n        this.map.setMarkerIcon('marker', this.icon);\n        this.map.eventMapClick = (latitude, longitude) => {\n            this.updatePosition(latitude, longitude);\n        };\n        this.map.eventMarkerRightClick = () => {\n            this.updatePosition(null, null);\n        };\n        this.map.eventMarkerChanged = (_data, latitude, longitude) => {\n            this.updatePosition(latitude, longitude);\n        };\n    }\n\n    /**\n     * Changes the map type (e.g. satellite, terrain) on the embedded map.\n     *\n     * @param mapTypeId The Google Maps map type identifier.\n     *\n     * @example\n     * locationField.setMapType('satellite');\n     */\n    setMapType(mapTypeId: string): void {\n        this.map.setMapType(mapTypeId);\n    }\n\n    /**\n     * Applies a custom styled map type to the embedded map.\n     *\n     * @param mapTypeId Unique identifier for the custom map type.\n     * @param mapTypeName Display name shown in the map type selector.\n     * @param mapStyles Array of Google Maps style rules.\n     *\n     * @example\n     * locationField.setCustomMapStyle('dark', 'Dark Mode', darkStyles);\n     */\n    setCustomMapStyle(\n        mapTypeId: string,\n        mapTypeName: string,\n        mapStyles: Array<google.maps.MapTypeStyle | null>,\n    ): void {\n        this.map.setCustomMapStyle(mapTypeId, mapTypeName, mapStyles);\n    }\n\n    /**\n     * Reads the initial location from the field value and places a marker\n     * on the map if coordinates are present.\n     */\n    private _setDefaultValue(): void {\n        const location = this.getValue() as Record<string, any>;\n        if (!isNull(location['latitude']) && !isNull(location['longitude'])) {\n            this.map.setCenter(location['latitude'], location['longitude']);\n            this.map.createMarker(\n                0,\n                '',\n                'marker',\n                location['latitude'],\n                location['longitude'],\n            );\n            this._setDataValue(location);\n        }\n    }\n\n    /**\n     * Updates the stored latitude/longitude and refreshes the marker.\n     *\n     * @param latitude The new latitude, or `null` to clear.\n     * @param longitude The new longitude, or `null` to clear.\n     *\n     * @example\n     * locationField.updatePosition(47.4979, 19.0402);\n     */\n    updatePosition(latitude: number | null, longitude: number | null): void {\n        const location = this.getValue() as Record<string, any>;\n        location['latitude'] = latitude;\n        location['longitude'] = longitude;\n        this.setValue(location);\n    }\n\n    /**\n     * Synchronizes the location data into the advanced inputs and the\n     * hidden input's data attribute.\n     *\n     * @param value Location object with `address`, `latitude`, and `longitude` keys.\n     */\n    private _setDataValue(value: Record<string, any>): void {\n        this.latitudeInput.getNode().value = value['latitude'] || '';\n        this.longitudeInput.getNode().value = value['longitude'] || '';\n        this.input.setAttribute('value', value['address'] || '');\n        this.input.setData('value', value);\n    }\n\n    /**\n     * Sets the location value, updates the advanced inputs, repositions the\n     * map center and marker, and triggers a change event.\n     *\n     * @param value A location object with `address`, `latitude`, and `longitude` keys.\n     * @override\n     */\n    override setValue(\n        value:\n            | object\n            | Function\n            | Array<any>\n            | boolean\n            | number\n            | string\n            | null\n            | undefined,\n    ): void {\n        const loc = value as Record<string, any>;\n        this._setDataValue(loc);\n        this.map.removeMarker(0);\n        if (!isNull(loc['latitude']) && !isNull(loc['longitude'])) {\n            this.map.setCenter(loc['latitude'], loc['longitude']);\n            if (this.map.getMarker(0)) {\n                this.map.updateMarker(\n                    0,\n                    '',\n                    'marker',\n                    loc['latitude'],\n                    loc['longitude'],\n                );\n            } else {\n                this.map.createMarker(\n                    0,\n                    '',\n                    'marker',\n                    loc['latitude'],\n                    loc['longitude'],\n                );\n            }\n        }\n        this.input.trigger('change');\n    }\n\n    /**\n     * Returns the current location object stored in the input's data attribute.\n     *\n     * @returns The location object with `address`, `latitude`, and `longitude`.\n     * @override\n     */\n    override getValue(): any {\n        const value = this.input.getData('value');\n        return typeCast(value);\n    }\n\n    /**\n     * Overridable event callback invoked when the user triggers an address\n     * search via Enter key or the search button.\n     *\n     * @param address The address string entered by the user.\n     */\n    eventSearch(address: string): void {\n        consoleDebug('Location.eventSearch()', address);\n    }\n}\n", "import { Knot } from '../core';\nimport { mdl } from '../utils/render';\nimport { BaseField } from './baseField';\n\n/**\n * @description Standard text input field with Material Design Lite styling.\n * Extends {@link BaseField} with keyup and change event handling.\n * @category Field\n * @example\n * const textField = new TextField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n * textField.render();\n * textField.setValue('Hello world');\n * @see {@link BaseField}\n */\nexport class TextField extends BaseField<HTMLInputElement> {\n    /**\n     * @description Creates a new TextField instance.\n     * @param {Knot<HTMLInputElement>} input - The text input element wrapped in a Knot.\n     * @param {Knot} label - The label element wrapped in a Knot.\n     * @param {Knot} error - The error element wrapped in a Knot.\n     * @param {Knot} inputBlock - The input block container wrapped in a Knot.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n        this._init();\n    }\n\n    /**\n     * @description Initializes the text field by adding the CSS class and binding keyup and change events.\n     */\n    private _init(): void {\n        this.inputBlock.addClass('text-field');\n\n        this.input.addEventListener('keyup', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            return true;\n        });\n\n        this.input.addEventListener('change', (input) => {\n            const inputNode = input.getNode();\n            this.modelChange(inputNode.value);\n            return true;\n        });\n    }\n\n    /**\n     * @description Renders the text field by applying MDL text field classes to the input block, input, and label.\n     */\n    override render(): void {\n        this.inputBlock.addClass([\n            'mdl-textfield',\n            'mdl-js-textfield',\n            'mdl-textfield--floating-label',\n        ]);\n        this.input.addClass(['mdl-textfield__input']);\n        if (this.label && this.label.exists()) {\n            this.label.addClass('mdl-textfield__label');\n        }\n        this.refresh();\n    }\n\n    /**\n     * @description Refreshes the text field by updating the invalid state and re-applying MDL upgrades.\n     */\n    override refresh(): void {\n        if (this.isRequired() && this.getValue() === '') {\n            this.inputBlock.addClass('is-invalid');\n        }\n\n        mdl(this.inputBlock);\n    }\n\n    /**\n     * @description Returns the raw string value of the input element without type-casting.\n     * @returns {*} The input element's current value.\n     */\n    override getValue(): any {\n        return this.input.getNode().value;\n    }\n}\n", "import { eq, inArray } from '../utils/operation';\nimport { Query } from '../core/query';\nimport { Button } from '../field/button';\nimport { CheckboxField } from '../field/checkboxField';\nimport { ColorField } from '../field/colorField';\nimport { DateTimeField } from '../field/dateTimeField';\nimport { DateTimeRangeField } from '../field/dateTimeRangeField';\nimport { HiddenField } from '../field/hiddenField';\nimport { IconToggleField } from '../field/iconToggleField';\nimport { RadiobuttonField } from '../field/radiobuttonField';\nimport { ResetButton } from '../field/resetButton';\nimport { SearchField } from '../field/searchField';\nimport { SelectField } from '../field/selectField';\nimport { SubmitButton } from '../field/submitButton';\nimport { SwitchField } from '../field/switchField';\nimport { TextareaField } from '../field/textareaField';\nimport { UrlField } from '../field/urlField';\nimport { FileField } from '../field/fileField';\nimport { RangeField } from '../field/rangeField';\nimport { NumberField } from '../field/numberField';\nimport { LocationField } from '../field/locationField';\nimport { TextField } from '../field/textField';\nimport { BaseField } from '../field/baseField';\nimport { Knot } from '../core/knot';\nimport { Form } from './form';\n\n/**\n * @description Factory function that detects an input element's type and creates the\n * appropriate {@link BaseField} subclass instance. Supports all standard HTML input types\n * plus custom data-type attributes for location, switch, and icon-toggle fields.\n *\n * @param {Knot} inputBlock - The input block DOM element (may be the input itself or its wrapper div).\n * @param {Form} form - The parent form instance, used for radio button grouping.\n * @returns {BaseField | null} The created field instance, or null if the input type is unrecognized.\n *\n * @example\n * const field = FormField(inputBlockKnot, formInstance);\n * if (field) { field.render(); }\n *\n * @see {@link Form} for the form component that uses this factory\n * @see {@link BaseField} for the base class all fields extend\n *\n * @category Component\n */\nexport const FormField = function (\n    inputBlock: Knot<HTMLInputElement | HTMLElement>,\n    form: Form,\n): BaseField<HTMLInputElement> | null {\n    const { input, label, error } = parseInputBlock(inputBlock);\n\n    return _convertToField(input, label, error, inputBlock, form);\n};\n\n/**\n * @description Extracts the input, label, and error elements from a form input block.\n * Handles both raw input elements and wrapper div structures, creating error spans as needed.\n *\n * @param {Knot} inputBlock - The input block DOM element to parse.\n * @returns {{ input: Knot, label: Knot | undefined, error: Knot | undefined }} The extracted input, label, and error elements.\n *\n * @example\n * const { input, label, error } = parseInputBlock(inputBlockKnot);\n *\n * @see {@link FormField} for the factory that calls this function\n *\n * @category Component\n */\nexport const parseInputBlock = (\n    inputBlock: Knot<HTMLInputElement | HTMLElement>,\n): {\n    input: Knot<HTMLInputElement>;\n    label: Knot | undefined;\n    error: Knot | undefined;\n} => {\n    let input: Knot<any> = inputBlock;\n    let label: Knot | undefined = undefined;\n    let error: Knot | undefined = undefined;\n\n    let tagName = inputBlock.getTagName();\n\n    const tagType = inputBlock.getAttribute('type');\n\n    if (\n        (eq(tagName, 'input') || eq(tagName, 'button')) &&\n        !inArray(['hidden', 'reset', 'submit', 'button'], tagType)\n    ) {\n        inputBlock = inputBlock.getParentKnot() as Knot<any>;\n    }\n\n    tagName = inputBlock.getTagName();\n    if (eq(tagName, 'div')) {\n        const inputs = new Query<HTMLInputElement>(\n            'input, textarea, select',\n            inputBlock,\n        ).getItems();\n\n        input = inputs[inputs.length - 1];\n\n        label = new Query('label', inputBlock).getKnot();\n\n        error = inputBlock.createElement('span');\n        error.addClass(['mdl-textfield__error', 'text-truncate']);\n        inputBlock.appendChild(error);\n\n        inputBlock.addClass('init-field');\n    }\n\n    return {\n        input,\n        label,\n        error,\n    };\n};\n\n/**\n * @description Converts a parsed input element into the appropriate field class based on tag name and input type.\n * @param {Knot} input - The input element.\n * @param {Knot | undefined} label - The associated label element.\n * @param {Knot | undefined} error - The associated error span element.\n * @param {Knot} inputBlock - The wrapper block element.\n * @param {Form} form - The parent form instance.\n * @returns {BaseField | null} The created field instance, or null.\n */\nconst _convertToField = (\n    input: Knot<HTMLInputElement>,\n    label: Knot | undefined,\n    error: Knot | undefined,\n    inputBlock: Knot,\n    form: Form,\n): BaseField<HTMLInputElement> | null => {\n    input.addClass('init-field');\n\n    const dataType = input.getData('type');\n    const tagName = input.getTagName();\n    let result = null;\n    if (eq(tagName, 'textarea')) {\n        result = new TextareaField(input, label!, error!, inputBlock);\n    }\n    if (eq(tagName, 'select')) {\n        result = new SelectField(input, label!, error!, inputBlock);\n    } else if (eq(tagName, 'input') || eq(tagName, 'button')) {\n        const type = input.get('type');\n        switch (type) {\n            case 'submit':\n                result = new SubmitButton(input);\n                break;\n            case 'button':\n                result = new Button(input);\n                break;\n            case 'reset':\n                result = new ResetButton(input);\n                break;\n            case 'datetime':\n            case 'datetime-local':\n            case 'date':\n            case 'time':\n            case 'month':\n            case 'week':\n            case 'year':\n                const inputs = new Query<HTMLInputElement>('input', inputBlock);\n                if (inputs.size() === 2) {\n                    result = new DateTimeRangeField(\n                        inputs.get(0)!,\n                        label!,\n                        error!,\n                        inputBlock,\n                        true,\n                    );\n                } else if (inputs.size() === 0) {\n                    result = new DateTimeRangeField(\n                        input,\n                        label!,\n                        error!,\n                        inputBlock.getParentKnot()!,\n                        false,\n                    );\n                } else if (inputs.size() === 1) {\n                    result = new DateTimeField(\n                        input,\n                        label!,\n                        error!,\n                        inputBlock,\n                    );\n                }\n                break;\n            case 'file':\n                result = new FileField(input, label!, error!, inputBlock);\n                break;\n            case 'checkbox':\n                if (eq(dataType, 'switch')) {\n                    result = new SwitchField(input, label!, error!, inputBlock);\n                } else if (eq(dataType, 'icon-toggle')) {\n                    result = new IconToggleField(\n                        input,\n                        label!,\n                        error!,\n                        inputBlock,\n                    );\n                } else {\n                    result = new CheckboxField(\n                        input,\n                        label!,\n                        error!,\n                        inputBlock,\n                    );\n                }\n                break;\n            case 'radio':\n                result = new RadiobuttonField(\n                    input,\n                    label!,\n                    error!,\n                    inputBlock,\n                    form,\n                );\n                break;\n            case 'range':\n                result = new RangeField(input, label!, error!, inputBlock);\n                break;\n            case 'color':\n                result = new ColorField(input, label!, error!, inputBlock);\n                break;\n            case 'hidden':\n                result = new HiddenField(input);\n                break;\n            case 'number':\n                result = new NumberField(input, label!, error!, inputBlock);\n                break;\n            case 'url':\n                result = new UrlField(input, label!, error!, inputBlock);\n                break;\n            case 'search':\n                result = new SearchField(input, label!, error!, inputBlock);\n                break;\n            case 'text':\n                if (eq(dataType, 'location')) {\n                    result = new LocationField(\n                        input,\n                        label!,\n                        error!,\n                        inputBlock,\n                    );\n                } else {\n                    result = new TextField(input, label!, error!, inputBlock);\n                }\n                break;\n            default:\n                result = new TextField(input, label!, error!, inputBlock);\n                break;\n        }\n    }\n    return result;\n};\n", "import { inArray, isSame, isUndefined, remove } from '../utils/operation';\nimport { Collection } from '../core/collection';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { FormField } from './formField';\nimport { consoleDebug } from '../utils/log';\nimport { BaseField } from '../field';\nimport { Knot } from '../core';\n\n/**\n * @description Manages a collection of form fields with model binding, validation, and\n * event handling. Extends {@link Collection} to provide field iteration, lookup, and lifecycle management.\n *\n * @example\n * const form = new Form(dom, 'form');\n * form.setModel(new Objekt({ name: 'John', email: 'john@example.com' }));\n * form.eventSubmit = (model, knot) => {\n *     http.post('/api/users', model);\n * };\n *\n * @see {@link BaseField} for individual field implementations\n * @see {@link Collection} for the base collection interface\n * @see {@link Objekt} for the model data wrapper\n *\n * @category Component\n */\nexport class Form extends Collection<BaseField<HTMLInputElement>> {\n    formKnot: Knot<HTMLFormElement>;\n    previousModel!: Objekt;\n    model!: Objekt;\n    initFields!: string[];\n    buttonClasses!: string[];\n    fieldClasses!: string[];\n\n    /**\n     * @description Creates a new Form instance bound to the form element found within the given DOM node.\n     *\n     * @param {Knot} dom - The parent DOM node containing the form element.\n     * @param {string} [opt_selector='form'] - CSS selector to locate the form element.\n     */\n    constructor(dom: Knot, opt_selector: string | undefined = 'form') {\n        const formKnot = new Query<HTMLFormElement>(\n            opt_selector,\n            dom,\n        ).getKnot();\n        formKnot.setAttribute('novalidate');\n        super([], FormField, {\n            parent: formKnot,\n        });\n        this.formKnot = formKnot;\n\n        this._init();\n    }\n\n    /**\n     * @description Initializes the form model, field selectors, and event handlers.\n     */\n    private _init(): void {\n        this.previousModel = new Objekt();\n        this.model = new Objekt();\n        this.initFields = [];\n\n        this.buttonClasses = [\n            'input[type=submit]:not(.init-field)',\n            'input[type=button]:not(.init-field)',\n            'input[type=reset]:not(.init-field)',\n            'button:not(.init-field)',\n        ];\n        this.fieldClasses = [\n            '.input-block input:not([type=\"hidden\"])+input:not([type=\"hidden\"])',\n            '.input-block:not(.init-field)',\n            'form > input[type=hidden]:not(.init-field)',\n        ];\n\n        this._initFields();\n        this._initFormEvent();\n    }\n\n    /**\n     * @description Binds keydown, submit, and reset event listeners to the form element.\n     */\n    private _initFormEvent(): void {\n        this.formKnot.addEventListener('keydown', (_knot, event) => {\n            const textArea = /textarea/i.test(\n                (event.target || event.srcElement).tagName,\n            );\n            if (\n                !(\n                    textArea ||\n                    (event.keyCode || event.which || event.charCode || 0) !== 13\n                )\n            ) {\n                event.preventDefault();\n            }\n            return true;\n        });\n\n        this._initSubmitFormEvent();\n        this._initResetFormEvent();\n    }\n\n    /**\n     * @description Binds the form submit event, validates, and delegates to {@link eventSubmit}.\n     */\n    private _initSubmitFormEvent(): void {\n        this.formKnot.addEventListener('submit', (knot, event) => {\n            event.preventDefault();\n            if (this.checkValidity(true)) {\n                this.eventSubmit(this.model, knot);\n            }\n        });\n    }\n\n    /**\n     * @description Binds the form reset event and delegates to {@link eventReset}.\n     */\n    private _initResetFormEvent(): void {\n        this.formKnot.addEventListener('reset', (knot, event) => {\n            event.preventDefault();\n            this.eventReset(this.model, knot);\n        });\n    }\n\n    /**\n     * @description Discovers, initializes, and binds form fields and buttons from the DOM.\n     */\n    private _initFields(): void {\n        const fields = new Query(\n            this.fieldClasses.concat(this.buttonClasses).join(', '),\n            this.formKnot,\n        ).getItems();\n\n        this.load(fields);\n\n        const updatedFields: string[] = [];\n        const initFields: string[] = [];\n        this.each((field) => {\n            const fieldName = field.getName();\n            if (inArray(this.initFields, fieldName)) {\n                if (!inArray(updatedFields, fieldName)) {\n                    field.refresh();\n                    field.setValue(field.getValue());\n                    updatedFields.push(fieldName);\n                }\n            } else {\n                field.modelChange = (value) => {\n                    this._fieldValueChange(field, value);\n                };\n                field.getPreviousValue = () => {\n                    this._getPreviousValue(field);\n                };\n                field.eventClick = (knot) => {\n                    this.eventButton(this.model, knot);\n                };\n                if (!inArray(updatedFields, fieldName)) {\n                    this._setValue(fieldName, field.getValue());\n                    updatedFields.push(fieldName);\n                }\n                field.render();\n                if (!inArray(initFields, fieldName)) {\n                    initFields.push(fieldName);\n                }\n            }\n        });\n        this.initFields = this.initFields.concat(initFields);\n    }\n\n    /**\n     * @description Merges the given model into the form, updates all field values, and runs validation.\n     *\n     * @param {Objekt} model - The data model to merge into the form.\n     * @param {boolean} [opt_force=true] - Whether to force validation on all fields.\n     * @param {boolean} [opt_showMessage=false] - Whether to display validation messages.\n     *\n     * @example\n     * form.setModel(new Objekt({ name: 'Jane', age: 30 }));\n     */\n    setModel(\n        model: Objekt,\n        opt_force: boolean | undefined = true,\n        opt_showMessage: boolean | undefined = false,\n    ): void {\n        this.previousModel = this.model.copy();\n        this.model.merge(model);\n        this.each((field) => {\n            const name = field.getName();\n            const value = this.model.get(name);\n            if (!isUndefined(value)) {\n                field.setValue(value);\n                field.checkValidity(opt_force, opt_showMessage);\n            }\n        });\n    }\n\n    /**\n     * @description Returns the current form data model.\n     *\n     * @returns {Objekt} The form's data model containing all field values.\n     *\n     * @example\n     * const data = form.getModel();\n     * console.log(data.get('name'));\n     */\n    getModel(): Objekt {\n        return this.model;\n    }\n\n    /**\n     * @description Clears all field values and resets the form model.\n     *\n     * @param {boolean} [opt_force=true] - Whether to force validation after reset.\n     * @param {boolean} [opt_showMessage=false] - Whether to display validation messages.\n     *\n     * @example\n     * form.reset();\n     */\n    reset(\n        opt_force: boolean | undefined = true,\n        opt_showMessage: boolean | undefined = false,\n    ): void {\n        this.each((field) => {\n            field.setValue();\n            field.checkValidity(opt_force, opt_showMessage);\n        });\n        this.previousModel = this.model.copy();\n        this.model.clear();\n    }\n\n    /**\n     * @description Sets a field value in the model and tracks the previous value.\n     * @param {string} name - The field name.\n     * @param {*} value - The new value.\n     */\n    private _setValue(name: string, value: any): void {\n        const currentValue = this._getValue(name);\n        if (!isSame(value, currentValue)) {\n            this.previousModel.set(name, currentValue);\n            this.model.set(name, value);\n        }\n    }\n\n    /**\n     * @description Retrieves the current value of a field from the model.\n     * @param {string} name - The field name.\n     * @returns {*} The current field value.\n     */\n    private _getValue(name: string): any {\n        return this.model.get(name);\n    }\n\n    /**\n     * @description Retrieves the previous value of a field from the previous model snapshot.\n     * @param {BaseField<HTMLInputElement>} field - The field instance.\n     * @returns {*} The previous field value.\n     */\n    private _getPreviousValue(field: BaseField<HTMLInputElement>): any {\n        const fieldName = field.getName();\n        return this.previousModel.get(fieldName);\n    }\n\n    /**\n     * @description Handles a field value change by updating the model and triggering validation.\n     * @param {BaseField<HTMLInputElement>} field - The field that changed.\n     * @param {*} value - The new field value.\n     */\n    private _fieldValueChange(\n        field: BaseField<HTMLInputElement>,\n        value: any,\n    ): void {\n        const fieldName = field.getName();\n        const currentValue = this._getValue(fieldName);\n        if (!isSame(value, currentValue)) {\n            this._setValue(fieldName, value);\n            field.eventChange(value, currentValue);\n        }\n        this.checkValidity(true, false);\n    }\n\n    /**\n     * @description Applies server-side validation errors to the corresponding form fields.\n     *\n     * @param {object} data - An object mapping field names to arrays of error messages.\n     *\n     * @example\n     * form.setErrors({ email: ['Email is required'], name: ['Name is too short'] });\n     */\n    setErrors(data: object): void {\n        const errors = new Objekt(data);\n        this.each((field) => {\n            const name = field.getName();\n            const error = errors.get<string[]>(name, []);\n            field.setError(error.join(', '), true);\n        });\n    }\n\n    /**\n     * @description Validates all form fields and returns the overall validity state.\n     *\n     * @param {boolean} [opt_force=false] - Whether to force re-validation on all fields.\n     * @param {boolean} [opt_showMessage=true] - Whether to display validation messages.\n     * @returns {boolean} True if all fields are valid.\n     *\n     * @example\n     * if (form.checkValidity()) {\n     *     // submit the form\n     * }\n     */\n    checkValidity(\n        opt_force: boolean | undefined = false,\n        opt_showMessage: boolean | undefined = true,\n    ): boolean {\n        this.each((field) => {\n            field.checkValidity(opt_force, opt_showMessage);\n        });\n        return this.formKnot.getNode().checkValidity();\n    }\n\n    /**\n     * @description Checks whether the form is currently valid by forcing validation on all fields.\n     *\n     * @returns {boolean} True if the form passes validation.\n     *\n     * @example\n     * if (form.isValid()) {\n     *     // proceed with submission\n     * }\n     */\n    isValid(): boolean {\n        return this.checkValidity(true);\n    }\n\n    /**\n     * @description Checks whether the form is currently invalid.\n     *\n     * @returns {boolean} True if the form fails validation.\n     *\n     * @example\n     * if (form.isInvalid()) {\n     *     flash.addError('Please fix the errors');\n     * }\n     */\n    isInvalid(): boolean {\n        return !this.isValid();\n    }\n\n    /**\n     * @description Removes fields that no longer exist in the DOM and re-initializes any new fields.\n     *\n     * @example\n     * // After dynamically adding fields to the DOM\n     * form.refresh();\n     */\n    refresh(): void {\n        this.deleteAllByCondition((field: BaseField<HTMLInputElement>) => {\n            const exists = field.exists();\n            if (!exists) {\n                const fieldName = field.getName();\n                this.model.remove(fieldName);\n                remove(this.initFields, fieldName);\n            }\n            return !exists;\n        });\n\n        this._initFields();\n    }\n\n    /**\n     * @description Finds a form field by its model binding name.\n     *\n     * @typeParam T - The expected field type, defaults to BaseField.\n     * @param {string} name - The model property name bound to the field.\n     * @returns {T} The matching field instance.\n     *\n     * @example\n     * const emailField = form.findByModel<TextField>('email');\n     */\n    findByModel<T = BaseField<HTMLInputElement>>(name: string): T {\n        return this.findByCondition((item: BaseField<HTMLInputElement>) => {\n            return item.getName() === name;\n        }) as any as T;\n    }\n\n    /**\n     * @description Disables all form fields, preserving their original disabled state for later unlock.\n     *\n     * @example\n     * form.lock();\n     * // submit data...\n     * form.unlock();\n     */\n    lock(): void {\n        this.each((field) => {\n            field.disabled = field.isDisabled();\n        });\n        this.each((field) => {\n            field.setDisabled(true);\n        });\n    }\n\n    /**\n     * @description Restores each field's disabled state to what it was before {@link lock} was called.\n     *\n     * @example\n     * form.unlock();\n     */\n    unlock(): void {\n        this.each((field) => {\n            field.setDisabled(field.disabled);\n        });\n    }\n\n    /**\n     * @description Called when the form is submitted and passes validation. Override to handle submission.\n     * @param {Objekt} model - The current form data model.\n     * @param {Knot} knot - The form DOM element.\n     */\n    eventSubmit(model: Objekt, knot: Knot): void {\n        consoleDebug('Form.eventSubmit()', model, knot);\n    }\n\n    /**\n     * @description Called when the form reset button is clicked. Override to handle reset logic.\n     * @param {Objekt} model - The current form data model.\n     * @param {Knot} knot - The form DOM element.\n     */\n    eventReset(model: Objekt, knot: Knot): void {\n        consoleDebug('Form.eventReset()', model, knot);\n    }\n\n    /**\n     * @description Called when a non-submit/non-reset button inside the form is clicked. Override to handle button actions.\n     * @param {Objekt} model - The current form data model.\n     * @param {Knot} knot - The button DOM element.\n     */\n    eventButton(model: Objekt, knot: Knot): void {\n        consoleDebug('Form.eventButton()', model, knot);\n    }\n}\n", "import { isUndefined, contain, eq } from '../utils/operation';\nimport { Collection } from '../core/collection';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { Http } from '../module';\n\n/**\n * Navigation link manager supporting icons, images, counters, and text links.\n *\n * @description Builds and manages a collection of navigation items that can include\n * Material Design icons, SVG/bitmap images, numeric counters, or plain text labels.\n * Each item supports click actions, enable/disable states, active highlighting,\n * and show/hide visibility control.\n *\n * @example\n * const nav = new Navigation(http, {});\n * nav.add(new Objekt({ id: 'home', icon: 'home', title: 'Home', action: (href) => {} }));\n * nav.add(new Objekt({ id: 'profile', image: '/avatar.png', title: 'Profile', action: (href) => {} }));\n * nav.bindToContainer(containerKnot);\n * nav.setActive('home');\n *\n * @see {@link Collection}\n * @see {@link Objekt}\n * @see {@link Http}\n * @category Component\n */\nexport class Navigation {\n    http?: Http;\n    options!: Objekt;\n    container!: Collection<Objekt>;\n    linkKnotKey!: string;\n\n    /**\n     * @param opt_http - Optional {@link Http} instance used for fetching SVG images.\n     * @param opt_options - Configuration options merged via {@link Objekt}.\n     */\n    constructor(opt_http?: Http, opt_options: object | undefined = {}) {\n        this.http = opt_http;\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * Merges user-provided options with defaults.\n     * @param opt_options - Configuration options to merge.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt();\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * Initializes the item collection and the link knot storage key.\n     */\n    private _init(): void {\n        this.container = new Collection();\n\n        this.linkKnotKey = 'node';\n    }\n\n    /**\n     * Adds a navigation item, automatically selecting the appropriate type (image, icon, counter, or text).\n     *\n     * @description Inspects the item's properties to determine the rendering type:\n     * image if 'image' is set, icon if 'icon' is set, counter if 'counter' is set,\n     * otherwise falls back to plain text. Disables the item if the 'disabled' property is true.\n     *\n     * @param item - An {@link Objekt} with properties: id, title, href, action, and optionally\n     *     image, icon, counter, disabled.\n     *\n     * @example\n     * nav.add(new Objekt({\n     *     id: 'settings',\n     *     icon: 'settings',\n     *     title: 'Settings',\n     *     href: '/settings',\n     *     action: (href) => router.navigate(href),\n     * }));\n     */\n    add(item: Objekt): void {\n        const id = item.get<string>('id');\n        const image = item.get<string>('image');\n        const icon = item.get<string>('icon');\n        const title = item.get<string>('title');\n        const counter = item.get<string>('counter');\n        const href = item.get<string>('href');\n        const action = item.get<Function>('action');\n        const disabled = item.get<boolean>('disabled');\n\n        if (image) {\n            this.addImage(id, image, title, action, href, item);\n        } else if (icon) {\n            this.addIcon(id, icon, title, action, href, item);\n        } else if (!isUndefined(counter)) {\n            this.addCounter(id, counter, title, action, href, item);\n        } else {\n            this.addText(id, title, action, href, item);\n        }\n\n        if (disabled) {\n            this.setDisabled(id);\n        }\n    }\n\n    /**\n     * Creates a navigation item with a numeric or text counter badge.\n     *\n     * @param id - Unique identifier for the item.\n     * @param counter - The counter value to display.\n     * @param title - Display label for the item, or null for no label.\n     * @param action - Click handler function receiving the href.\n     * @param opt_href - Link URL (defaults to empty string).\n     * @param opt_data - Additional data to associate with the item.\n     *\n     * @example\n     * nav.addCounter('notifications', '5', 'Alerts', (href) => {}, '/alerts');\n     */\n    addCounter(\n        id: string,\n        counter: string,\n        title: string | null,\n        action: Function,\n        opt_href: string | undefined = '',\n        opt_data: object | undefined = {},\n    ): void {\n        const item = this._setKnot(id, title, action, opt_href, opt_data);\n        const counterSpan = new Knot('span');\n        counterSpan.addClass('counter');\n        counterSpan.setHtml(counter);\n\n        const linkKnot = item.get<Knot>(this.linkKnotKey);\n        linkKnot.beforeChild(counterSpan);\n    }\n\n    /**\n     * Creates a navigation item with a Material Design icon.\n     *\n     * @param id - Unique identifier for the item.\n     * @param icon - Material Design icon name (e.g. 'home', 'settings').\n     * @param title - Display label for the item, or null for no label.\n     * @param action - Click handler function receiving the href.\n     * @param opt_href - Link URL (defaults to empty string).\n     * @param opt_data - Additional data to associate with the item.\n     *\n     * @example\n     * nav.addIcon('home', 'home', 'Home', (href) => {}, '/');\n     */\n    addIcon(\n        id: string,\n        icon: string,\n        title: string | null,\n        action: Function,\n        opt_href: string | undefined = '',\n        opt_data: object | undefined = {},\n    ): void {\n        const item = this._setKnot(id, title, action, opt_href, opt_data);\n        const iconKnot = new Knot('em');\n        iconKnot.addClass(['material-icons']);\n        iconKnot.setHtml(icon);\n\n        const imageSpan = new Knot('span');\n        imageSpan.addClass('image');\n        imageSpan.appendChild(iconKnot);\n\n        const linkKnot = item.get<Knot>(this.linkKnotKey);\n        linkKnot.beforeChild(imageSpan);\n    }\n\n    /**\n     * Creates a navigation item with an image (SVG loaded via {@link Http} or a bitmap img tag).\n     *\n     * @param id - Unique identifier for the item.\n     * @param image - Image URL. SVG files are fetched and inlined; other formats use an img tag.\n     * @param title - Display label for the item, or null for no label.\n     * @param action - Click handler function receiving the href.\n     * @param opt_href - Link URL (defaults to empty string).\n     * @param opt_data - Additional data to associate with the item.\n     *\n     * @example\n     * nav.addImage('logo', '/logo.svg', 'Home', (href) => {}, '/');\n     */\n    addImage(\n        id: string,\n        image: string,\n        title: string | null,\n        action: Function,\n        opt_href: string | undefined = '',\n        opt_data: object | undefined = {},\n    ): void {\n        const item = this._setKnot(id, title, action, opt_href, opt_data);\n\n        const imageSpan = new Knot('span');\n        imageSpan.addClass('image');\n\n        if (image.indexOf('.svg') !== -1) {\n            this.http!.get(\n                image,\n                {},\n                {\n                    Authorization: '',\n                    'X-Requested-With': '',\n                },\n            ).then((data) => {\n                const svgTag = new Query('svg', data.get('raw')).getKnot();\n                imageSpan.appendChild(svgTag);\n            });\n        } else {\n            const imageTag = new Knot('img');\n            imageTag.setAttribute('src', image);\n            if (title) {\n                imageTag.setAttribute('alt', title);\n            }\n            imageSpan.appendChild(imageTag);\n        }\n\n        const linkKnot = item.get<Knot>(this.linkKnotKey);\n        linkKnot.beforeChild(imageSpan);\n    }\n\n    /**\n     * Creates a navigation item with a plain text label only.\n     *\n     * @param id - Unique identifier for the item.\n     * @param title - Display label for the item.\n     * @param action - Click handler function receiving the href.\n     * @param opt_href - Link URL (defaults to empty string).\n     * @param opt_data - Additional data to associate with the item.\n     *\n     * @example\n     * nav.addText('about', 'About Us', (href) => {}, '/about');\n     */\n    addText(\n        id: string,\n        title: string,\n        action: Function,\n        opt_href: string | undefined = '',\n        opt_data: object | undefined = {},\n    ): void {\n        this._setKnot(id, title, action, opt_href, opt_data);\n    }\n\n    /**\n     * Creates the link knot element, attaches the click handler, and stores the item in the collection.\n     * @param id - Unique identifier for the item.\n     * @param title - Display label, or null for no label.\n     * @param action - Click handler function.\n     * @param opt_href - Link URL.\n     * @param opt_data - Additional data to associate with the item.\n     * @returns The created item {@link Objekt}.\n     */\n    private _setKnot(\n        id: string,\n        title: string | null,\n        action: Function,\n        opt_href: string | undefined = '',\n        opt_data: object | undefined = {},\n    ): Objekt {\n        const linkKnot = new Knot('a');\n        if (title) {\n            const titleSpan = new Knot('span');\n            titleSpan.addClass('title');\n            titleSpan.setHtml(title);\n            linkKnot.appendChild(titleSpan);\n        }\n        linkKnot.setAttribute('href', opt_href || 'javascript:void(0)');\n        const href = linkKnot.getAttribute('href');\n\n        const listener = linkKnot.addEventListener('click', () => {\n            action(href);\n        });\n\n        const item = new Objekt(opt_data);\n        item.merge({\n            id: id,\n            title: title,\n            href: href,\n            action: action,\n            listener: listener,\n        });\n        item.setRaw(this.linkKnotKey, linkKnot);\n\n        this.container.push(item);\n\n        return item;\n    }\n\n    /**\n     * Iterates over all navigation items in the collection.\n     *\n     * @param next - Callback invoked with each item {@link Objekt}.\n     *\n     * @example\n     * nav.each((item) => {\n     *     console.log(item.get('id'), item.get('title'));\n     * });\n     */\n    each(next: Function): void {\n        this.container.each((item) => {\n            next(item);\n        });\n    }\n\n    /**\n     * Appends all navigation link knots to the specified container, replacing its children.\n     *\n     * @param containerKnot - The parent {@link Knot} to render navigation items into.\n     *\n     * @example\n     * nav.bindToContainer(new Query('.nav-container').getKnot());\n     */\n    bindToContainer(containerKnot: Knot): void {\n        containerKnot.removeChildren();\n        this.each((item: Objekt) => {\n            const linkKnot = item.get<Knot>(this.linkKnotKey);\n            containerKnot.appendChild(linkKnot);\n        });\n    }\n\n    /**\n     * Disables a navigation item by ID, preventing click interactions.\n     *\n     * @param id - The item identifier to disable.\n     *\n     * @example\n     * nav.setDisabled('settings');\n     */\n    setDisabled(id: string): void {\n        const item = this.container.findById(id);\n        if (item) {\n            this._disabled(item);\n        }\n    }\n\n    /**\n     * Applies the disabled state to an item: adds CSS class, removes listener, and clears href.\n     * @param item - The item {@link Objekt} to disable.\n     */\n    private _disabled(item: Objekt): void {\n        const linkKnot = item.get<Knot>(this.linkKnotKey);\n        linkKnot.addClass('disabled');\n        linkKnot.removeEventListener('click', item.get('listener'));\n        linkKnot.setAttribute('href', 'javascript:void(0)');\n    }\n\n    /**\n     * Enables a navigation item by ID, restoring click interactions.\n     *\n     * @param id - The item identifier to enable.\n     *\n     * @example\n     * nav.setEnabled('settings');\n     */\n    setEnabled(id: string): void {\n        const item = this.container.findById(id);\n        if (item) {\n            this._enabled(item);\n        }\n    }\n\n    /**\n     * Restores the enabled state on an item: removes disabled class, re-attaches listener and href.\n     * @param item - The item {@link Objekt} to enable.\n     */\n    private _enabled(item: Objekt): void {\n        this._disabled(item);\n        const linkKnot = item.get<Knot>(this.linkKnotKey);\n        linkKnot.removeClass('disabled');\n        const action = item.get<Function>('action');\n        const href = item.get<string>('href');\n        linkKnot.setAttribute('href', href);\n        const listener = linkKnot.addEventListener('click', () => {\n            action(href);\n        });\n        item.set('listener', listener);\n    }\n\n    /**\n     * Sets the active state on matching navigation items by ID.\n     *\n     * @description Marks items as active if their ID matches exactly, or if the item ID\n     * ends with '.' and the given ID starts with that prefix (wildcard matching).\n     *\n     * @param id - The item identifier (or prefix) to activate.\n     *\n     * @example\n     * nav.setActive('home');\n     * nav.setActive('settings.general'); // also activates 'settings.' prefix items\n     */\n    setActive(id: string): void {\n        this.each((item: Objekt) => {\n            const linkKnot = item.get<Knot>(this.linkKnotKey);\n            linkKnot.removeClass('active');\n            const itemId = item.get<string>('id');\n            if (\n                (itemId[itemId.length - 1] === '.' && contain(id, itemId)) ||\n                eq(id, itemId)\n            ) {\n                linkKnot.addClass('active');\n            }\n        });\n    }\n\n    /**\n     * Removes the active state from all navigation items.\n     *\n     * @example\n     * nav.setAllInactive();\n     */\n    setAllInactive(): void {\n        this.each((item: Objekt) => {\n            const linkKnot = item.get<Knot>(this.linkKnotKey);\n            linkKnot.removeClass('active');\n        });\n    }\n\n    /**\n     * Shows a hidden navigation item and enables it.\n     *\n     * @param id - The item identifier to show.\n     *\n     * @example\n     * nav.show('admin');\n     */\n    show(id: string): void {\n        const item = this.container.findById(id);\n        if (item) {\n            const linkKnot = item.get<Knot>(this.linkKnotKey);\n            linkKnot.removeClass('hidden');\n            this._enabled(item);\n        }\n    }\n\n    /**\n     * Hides a navigation item and disables it.\n     *\n     * @param id - The item identifier to hide.\n     *\n     * @example\n     * nav.hide('admin');\n     */\n    hide(id: string): void {\n        const item = this.container.findById(id);\n        if (item) {\n            const linkKnot = item.get<Knot>(this.linkKnotKey);\n            linkKnot.addClass('hidden');\n            this._disabled(item);\n        }\n    }\n}\n", "import { Knot } from '../core';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\n\n/**\n * @description Status indicator component that displays success, info, warning, or error states\n * with configurable icon and text.\n *\n * @example\n * const status = new ProgressStatus(containerKnot, '.progress-status');\n * status.setSuccess('Upload complete', 'check_circle');\n * status.setError('Upload failed', 'error');\n *\n * @category Component\n */\nexport class ProgressStatus {\n    progressStatusKnot: Knot;\n    options!: Objekt;\n    iconKnot!: Knot;\n    textKnot!: Knot;\n\n    /**\n     * @description Creates a new ProgressStatus bound to a DOM container.\n     * @param {Knot} dom - The parent DOM element.\n     * @param {string} [opt_selector] - CSS selector for the progress status element.\n     * @param {object} [opt_options] - Configuration options (successStyle, infoStyle, warningStyle, errorStyle).\n     */\n    constructor(\n        dom: Knot,\n        opt_selector: string | undefined = '.progress-status',\n        opt_options: object | undefined = {},\n    ) {\n        this.progressStatusKnot = new Query(opt_selector, dom).getKnot();\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user options with default style class names.\n     * @param {object} [opt_options] - Configuration overrides.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            successStyle: 'success',\n            infoStyle: 'info',\n            warningStyle: 'warning',\n            errorStyle: 'error',\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * @description Queries the icon and text child elements.\n     */\n    private _init(): void {\n        this.iconKnot = new Query('.icon', this.progressStatusKnot).getKnot();\n        this.textKnot = new Query('.text', this.progressStatusKnot).getKnot();\n    }\n\n    /**\n     * @description Applies a status CSS class, updates the text, and optionally sets the icon.\n     * @param {string} cssClass - The CSS class for the status state.\n     * @param {string} text - The status text to display.\n     * @param {string} [opt_icon] - Optional Material Design icon name.\n     */\n    private _setStatus(\n        cssClass: string,\n        text: string,\n        opt_icon: string | undefined = '',\n    ): void {\n        this.progressStatusKnot.removeClass([\n            this.options.errorStyle,\n            this.options.successStyle,\n            this.options.infoStyle,\n            this.options.warningStyle,\n        ]);\n        this.progressStatusKnot.addClass(cssClass);\n        this.textKnot.setHtml(text);\n        if (opt_icon) {\n            this.iconKnot.setHtml(opt_icon);\n        }\n    }\n\n    /**\n     * @description Sets the status to success state with the given text and optional icon.\n     * @param {string} text - The success message text.\n     * @param {string} [opt_icon] - Optional Material Design icon name.\n     *\n     * @example\n     * status.setSuccess('Operation completed', 'check_circle');\n     */\n    setSuccess(text: string, opt_icon: string | undefined = ''): void {\n        this._setStatus(this.options.successStyle, text, opt_icon);\n    }\n\n    /**\n     * @description Sets the status to info state with the given text and optional icon.\n     * @param {string} text - The info message text.\n     * @param {string} [opt_icon] - Optional Material Design icon name.\n     *\n     * @example\n     * status.setInfo('Processing...', 'info');\n     */\n    setInfo(text: string, opt_icon: string | undefined = ''): void {\n        this._setStatus(this.options.infoStyle, text, opt_icon);\n    }\n\n    /**\n     * @description Sets the status to warning state with the given text and optional icon.\n     * @param {string} text - The warning message text.\n     * @param {string} [opt_icon] - Optional Material Design icon name.\n     *\n     * @example\n     * status.setWarning('Disk space low', 'warning');\n     */\n    setWarning(text: string, opt_icon: string | undefined = ''): void {\n        this._setStatus(this.options.warningStyle, text, opt_icon);\n    }\n\n    /**\n     * @description Sets the status to error state with the given text and optional icon.\n     * @param {string} text - The error message text.\n     * @param {string} [opt_icon] - Optional Material Design icon name.\n     *\n     * @example\n     * status.setError('Connection failed', 'error');\n     */\n    setError(text: string, opt_icon: string | undefined = ''): void {\n        this._setStatus(this.options.errorStyle, text, opt_icon);\n    }\n}\n", "import { Objekt } from '../core/objekt';\n\n/**\n * @description Route configuration value object that extends {@link Objekt}. Stores route\n * metadata including id, title, URL pattern, controller name, and optional template path.\n *\n * @example\n * const route = new Route('home', 'Home Page', '/', 'HomeController', '/templates/home.html');\n *\n * @see {@link Application} for the application that manages routes\n * @see {@link Module} for route-based module resolution\n *\n * @category Component\n */\nexport class Route extends Objekt {\n    /**\n     * @description Creates a new Route with the given configuration values.\n     * @param {string} id - Unique route identifier.\n     * @param {string} title - Human-readable page title.\n     * @param {string} url - URL pattern for route matching.\n     * @param {string} controller - Name of the controller class to instantiate.\n     * @param {string} [opt_template] - Path to the HTML template file.\n     * @param {object} [opt_params] - Additional route parameters to merge.\n     */\n    constructor(\n        id: string,\n        title: string,\n        url: string,\n        controller: string,\n        opt_template: string | undefined = '',\n        opt_params: object | undefined = {},\n    ) {\n        super();\n\n        this.merge(opt_params);\n        this.set('id', id);\n        this.set('title', title);\n        this.set('url', url);\n        this.set('controller', controller);\n        this.set('template', opt_template);\n    }\n}\n", "import {\n    eq,\n    inArray,\n    contain,\n    format,\n    isFunction,\n    isArray,\n    eachArray,\n    instanceOf,\n} from '../utils/operation';\nimport { Collection } from '../core/collection';\nimport { Knot } from '../core/knot';\nimport { Objekt } from '../core/objekt';\nimport { Query } from '../core/query';\nimport { ContentHandler } from './contentHandler';\nimport { Dropdown } from './dropdown';\nimport { Pager } from './pager';\nimport { Tooltip } from './tooltip';\nimport { consoleDebug } from '../utils/log';\nimport { generateId } from '../utils/coder';\nimport { Action } from '../utils';\nimport { mdl } from '../utils/render';\n\n/**\n * @description Maps column names to calculation functions that produce cell content.\n * Each function receives the row item, its index, and the parent DOM node,\n * and returns one or more {@link Knot} elements or a plain string.\n *\n * @typeParam T - The row data type, defaults to {@link Objekt}.\n *\n * @category Component\n */\nexport type TableCalculation<T = Objekt> = {\n    [key in string]: (\n        item: T,\n        index: number,\n        parentKnot: Knot,\n    ) => Knot[] | Knot | string;\n};\n\n/**\n * @description Data table component with sorting, paging, search, row actions, and custom\n * column calculations. Renders tabular data from a {@link Collection} with automatic\n * header/footer management.\n *\n * @typeParam T - The row data type, must extend {@link Objekt}.\n *\n * @example\n * const table = new Table(dom, 'table', {\n *     row_count: 20,\n *     columns: ['name', 'email', 'actions'],\n *     sorted: ['name', 'email'],\n * });\n * table.setActions([\n *     { style: (item) => ['edit', 'Edit'], click: (item) => editUser(item) },\n * ]);\n * table.eventAction = (params) => {\n *     http.get('/api/users', params).then((response) => {\n *         table.setData(response.get('items'));\n *         table.setCount(response.get('count'));\n *     });\n * };\n * table.render();\n *\n * @see {@link Pager} for pagination controls\n * @see {@link ContentHandler} for empty-state display\n * @see {@link Collection} for the underlying data collection\n * @see {@link TableCalculation} for custom column renderers\n *\n * @category Component\n */\nexport class Table<T extends Objekt = Objekt> {\n    tableKnot: Knot;\n    options!: Objekt;\n    collection!: Collection<T>;\n    query!: string;\n    actions!: Action[];\n    contentHandler!: ContentHandler;\n    headerKnots!: Query<HTMLElement>;\n    headerTexts!: string[];\n    tbody!: Knot;\n    tfoot!: Knot;\n    pager!: Pager;\n\n    /**\n     * @description Creates a new Table instance bound to the table element found within the given DOM node.\n     *\n     * @param {Knot} dom - The parent DOM node containing the table element.\n     * @param {string} [opt_selector='table'] - CSS selector to locate the table element.\n     * @param {object} [opt_options={}] - Configuration options (row_count, pager_num, sort, columns, calculations, sorted, rowStyle).\n     */\n    constructor(\n        dom: Knot,\n        opt_selector: string | undefined = 'table',\n        opt_options: object | undefined = {},\n    ) {\n        this.tableKnot = new Query(opt_selector, dom).getKnot();\n        this._setOptions(opt_options);\n        this._init();\n    }\n\n    /**\n     * @description Merges user-provided options with table defaults.\n     * @param {object} [opt_options={}] - User configuration options.\n     */\n    private _setOptions(opt_options: object | undefined = {}): void {\n        this.options = new Objekt({\n            no_content: {\n                image_url: null,\n                text: '',\n            },\n            row_count: 10,\n            pager_num: 4,\n            sort: {\n                column: null,\n                order: 'desc',\n            },\n            columns: [],\n            calculations: {},\n            sorted: [],\n            column: null,\n            rowStyle: null,\n        });\n        this.options.merge(opt_options);\n    }\n\n    /**\n     * @description Initializes the table collection, content handler, header, search, and structure.\n     */\n    private _init(): void {\n        this.collection = new Collection();\n        this.query = '';\n        this.actions = [];\n        if (!this.tableKnot.getId()) {\n            this.tableKnot.setId(generateId('table'));\n            this._initContentHandler();\n            this._initHeader();\n            this._initSearch();\n            this._initStructure();\n        } else {\n            // TODO: reinit other components of table\n        }\n    }\n\n    /**\n     * @description Initializes the {@link ContentHandler} for displaying empty-state content.\n     */\n    private _initContentHandler(): void {\n        this.contentHandler = new ContentHandler(\n            this.tableKnot,\n            this.options.no_content,\n        );\n    }\n\n    /**\n     * @description Creates the search input in the last header column if the column is \"search\".\n     */\n    private _initSearch(): void {\n        if (\n            this.options.columns[this.options.columns.length - 1] === 'search'\n        ) {\n            const searchKnot = new Knot('div');\n            searchKnot.addClass([\n                'mdl-textfield',\n                'mdl-js-textfield',\n                'mdl-textfield--expandable',\n            ]);\n            this.headerKnots\n                .get(this.headerKnots.size() - 1)!\n                .insert(searchKnot);\n\n            const labelKnot = new Knot('label');\n            labelKnot.addClass([\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-button--icon',\n            ]);\n            labelKnot.setFor('table-search');\n            searchKnot.appendChild(labelKnot);\n\n            const iconKnot = new Knot('em');\n            iconKnot.addClass('material-icons');\n            iconKnot.setHtml('search');\n            labelKnot.appendChild(iconKnot);\n\n            const inputBlock = new Knot('div');\n            inputBlock.addClass('mdl-textfield__expandable-holder');\n            searchKnot.appendChild(inputBlock);\n\n            const inputKnot = new Knot<HTMLInputElement>('input');\n            inputKnot.setAttribute('type', 'text');\n            inputKnot.setId('table-search');\n            inputKnot.addClass('mdl-textfield__input');\n            inputKnot.addEventListener('keypress', (inputKnot, event) => {\n                if (eq(event.keyCode, 13)) {\n                    this.query = inputKnot.getNode().value;\n                    this.refresh(1);\n                }\n                return true;\n            });\n            inputBlock.appendChild(inputKnot);\n\n            const subLabelKnot = new Knot('label');\n            subLabelKnot.addClass('mdl-textfield__label');\n            inputBlock.appendChild(subLabelKnot);\n\n            mdl(searchKnot);\n        }\n    }\n\n    /**\n     * @description Reads header text and renders sorting controls for each table column.\n     */\n    private _initHeader(): void {\n        this.headerTexts = [];\n        this.headerKnots = new Query('thead th', this.tableKnot);\n        this.headerKnots.each((headerKnot, columnIndex) => {\n            const text = headerKnot.getHtml();\n            this.headerTexts.push(text);\n            this._renderHeader(headerKnot, columnIndex);\n        });\n    }\n\n    /**\n     * @description Renders sorting icons and tooltip for a single header cell.\n     * @param {Knot} headerKnot - The header cell element.\n     * @param {number} columnIndex - The zero-based column index.\n     */\n    private _renderHeader(headerKnot: Knot, columnIndex: number): void {\n        const column = this.options.columns[columnIndex];\n        if (inArray(['search', 'actions'], column)) {\n            headerKnot.addClass('actions');\n        }\n        const columnsWithOrder = this.options.sorted.filter((sort: any) => {\n            return contain(sort, column);\n        });\n        if (columnsWithOrder.length === 1) {\n            headerKnot.setData('column', columnsWithOrder[0]);\n            headerKnot.addEventListener('click', (headerKnot) => {\n                const column = headerKnot.getData('column');\n                this._toggleSorting(column);\n            });\n\n            const iconsContainerKnot = new Knot('span');\n            iconsContainerKnot.addClass('icons');\n            headerKnot.appendChild(iconsContainerKnot);\n\n            const iconUp = new Knot('em');\n            iconUp.addClass(['material-icons', 'asc']);\n            iconUp.setHtml('arrow_drop_up');\n            iconsContainerKnot.appendChild(iconUp);\n\n            const iconDown = new Knot('em');\n            iconDown.addClass(['material-icons', 'desc']);\n            iconDown.setHtml('arrow_drop_down');\n            iconsContainerKnot.appendChild(iconDown);\n        }\n\n        const headerTitle = headerKnot.getAttribute('title');\n        const headerDesc = headerKnot.getAttribute('desc');\n        if (headerTitle || headerDesc) {\n            const iconInfo = new Knot('em');\n            if (headerTitle) {\n                iconInfo.setAttribute('desc', headerTitle);\n            }\n            if (headerDesc) {\n                iconInfo.setAttribute('desc', headerDesc);\n            }\n            iconInfo.addClass(['material-icons', 'info']);\n            iconInfo.setHtml('info');\n            headerKnot.appendChild(iconInfo);\n            const tooltip = new Tooltip(iconInfo, 'BOTTOM');\n            tooltip.render();\n        }\n    }\n\n    /**\n     * @description Creates the table body, footer, pager statistics, and {@link Pager} component.\n     */\n    private _initStructure(): void {\n        this.tbody = new Knot('tbody');\n        this.tableKnot.appendChild(this.tbody);\n\n        this.tfoot = new Knot('tfoot');\n        this.tableKnot.appendChild(this.tfoot);\n\n        const footerRow = new Knot('tr');\n\n        const statisticsKnot = new Knot('td');\n        statisticsKnot.addClass('pager-statistics');\n        footerRow.appendChild(statisticsKnot);\n\n        const pagerKnot = new Knot('td');\n        pagerKnot.addClass('pager');\n        pagerKnot.setAttribute('colspan', this.headerKnots.size() - 1);\n        footerRow.appendChild(pagerKnot);\n\n        this.tfoot.appendChild(footerRow);\n\n        this.pager = new Pager(\n            this.tfoot,\n            ['.pager', '.pager-statistics'],\n            this.options,\n        );\n        this.pager.eventAction = (page) => {\n            this.refresh(page);\n        };\n    }\n\n    /**\n     * @description Refreshes the table data by triggering {@link eventAction} with the current\n     * query, sorting, and paging parameters.\n     *\n     * @param {number} [opt_page=-1] - The page number to navigate to. Pass -1 to keep the current page.\n     *\n     * @example\n     * table.refresh(1); // reload from page 1\n     */\n    refresh(opt_page: number | undefined = -1): void {\n        if (opt_page > -1) {\n            this.pager.setPage(opt_page);\n        }\n        const params = new Objekt({\n            query: this.query,\n            column: this.options.sort.column,\n            order: this.options.sort.order,\n            offset: this.pager.offset,\n            limit: this.options.row_count,\n        });\n        this.eventAction(params);\n    }\n\n    /**\n     * @description Called when the table needs data (on refresh, sort, page, or search). Override to fetch data.\n     * @param {Objekt} params - Contains query, column, order, offset, and limit.\n     */\n    eventAction(params: Objekt): void {\n        consoleDebug('Table.eventAction()', params);\n    }\n\n    /**\n     * @description Toggles the sort direction for a column or switches to a new sort column.\n     * @param {string} columnWithOrder - Column name with optional direction (e.g., \"name:asc\").\n     */\n    private _toggleSorting(columnWithOrder: string): void {\n        const [column, direction] = columnWithOrder.split(':', 2);\n        let order = direction || 'desc';\n        if (\n            eq(this.options.sort.column, column) &&\n            eq(this.options.sort.order, order)\n        ) {\n            order = order === 'asc' ? 'desc' : 'asc';\n        }\n        this._setSorting(column, order);\n    }\n\n    /**\n     * @description Activates the sorting icon for the currently sorted column header.\n     * @param {Knot} head - The header cell element.\n     * @param {number} i - The zero-based column index.\n     */\n    private _handleSortingColumn(head: Knot, i: number): void {\n        const column = this.options.columns[i];\n        if (\n            (eq(this.options.sort.column, null) && eq(i, 0)) ||\n            eq(column, this.options.sort.column)\n        ) {\n            const iconKnot = new Query(\n                format('.icons em.{0}', [this.options.sort.order]),\n                head,\n            ).getKnot();\n            if (!iconKnot.isEmpty()) {\n                iconKnot.addClass('active');\n            }\n        }\n    }\n\n    /**\n     * @description Resets all sorting indicators and re-applies the active sort state.\n     */\n    private _updateSorting(): void {\n        this._resetSorting();\n        this.headerKnots.each((head, i) => {\n            this._handleSortingColumn(head, i);\n        });\n        this.refresh();\n    }\n\n    /**\n     * @description Sets the sort column and order, then updates the UI and refreshes data.\n     * @param {string} column - The column name to sort by.\n     * @param {string} [opt_order='asc'] - The sort direction (\"asc\" or \"desc\").\n     */\n    private _setSorting(\n        column: string,\n        opt_order: string | undefined = 'asc',\n    ): void {\n        this.options.sort.column = column;\n        this.options.sort.order = opt_order;\n        this._updateSorting();\n    }\n\n    /**\n     * @description Removes the \"active\" class from all sorting icons.\n     */\n    private _resetSorting(): void {\n        const icons = new Query('thead th .icons em', this.tableKnot);\n        icons.each((icon) => {\n            icon.removeClass('active');\n        });\n    }\n\n    /**\n     * @description Returns the primary display column name, falling back to the first column.\n     * @returns {string} The column name.\n     */\n    private _getColumn(): string {\n        return this.options.column || this.options.columns[0];\n    }\n\n    /**\n     * @description Adds a collapsible header row for an item with the primary column and actions.\n     * @param {T} item - The row data object.\n     * @param {number} rowIndex - The zero-based row index within the current page.\n     */\n    private _addHeaderRow(item: T, rowIndex: number): void {\n        const headerRow = new Knot('tr');\n        headerRow.addEventListener('click', (knot) => {\n            knot.toggleClass('opened');\n            const dataRow = headerRow.getNextSibling();\n            dataRow.toggleClass('open');\n        });\n        const cssClasses = this._getRowStyle(item, rowIndex);\n        headerRow.addClass(['header'].concat(cssClasses));\n        this.tbody.appendChild(headerRow);\n\n        const headerNameCell = new Knot('td');\n        headerRow.appendChild(headerNameCell);\n        this._renderDataKnotByKnot(\n            item,\n            rowIndex,\n            this._getColumn(),\n            headerNameCell,\n        );\n        headerNameCell.setAttribute('colspan', this.headerKnots.size() - 2);\n\n        const headerActionCell = new Knot('td');\n        headerRow.appendChild(headerActionCell);\n        this._renderActions(headerActionCell, item);\n    }\n\n    /**\n     * @description Computes CSS class names for a row using the configured rowStyle callback.\n     * @param {T} item - The row data object.\n     * @param {number} rowIndex - The zero-based row index.\n     * @returns {Array<string>} Array of CSS class names.\n     */\n    private _getRowStyle(item: T, rowIndex: number): Array<string> {\n        let results = [];\n        if (this.options.rowStyle && isFunction(this.options.rowStyle)) {\n            const styleResult = this.options.rowStyle(item, rowIndex);\n            if (isArray(styleResult)) {\n                results = styleResult;\n            } else if (styleResult) {\n                results.push(styleResult);\n            }\n        }\n        return results;\n    }\n\n    /**\n     * @description Adds a data row with cells for each configured column.\n     * @param {T} item - The row data object.\n     * @param {number} rowIndex - The zero-based row index within the current page.\n     */\n    private _addRow(item: T, rowIndex: number): void {\n        const tableRow = new Knot('tr');\n        const cssClasses = this._getRowStyle(item, rowIndex);\n        tableRow.addClass(['data'].concat(cssClasses));\n        this.tbody.appendChild(tableRow);\n        eachArray<string>(this.options.columns, (column, columnIndex) => {\n            const tableDataKnot = new Knot('td');\n            tableRow.appendChild(tableDataKnot);\n            this._renderDataKnot(\n                tableDataKnot,\n                item,\n                rowIndex,\n                column,\n                columnIndex,\n            );\n        });\n    }\n\n    /**\n     * @description Sets the row action definitions displayed in each row's actions column.\n     *\n     * @param {Array<Action>} actions - Array of action descriptors with style and click callbacks.\n     *\n     * @example\n     * table.setActions([\n     *     { style: (item) => ['edit', 'Edit'], click: (item) => editItem(item) },\n     *     { style: (item) => ['delete', 'Delete'], click: (item) => deleteItem(item) },\n     * ]);\n     */\n    setActions(actions: Array<Action>): void {\n        this.actions = actions;\n    }\n\n    /**\n     * @description Renders cell content using a calculation function or the raw item value.\n     * @param {T} item - The row data object.\n     * @param {number} rowIndex - The zero-based row index.\n     * @param {string} column - The column name.\n     * @param {Knot} parentKnot - The parent cell element to append content to.\n     */\n    private _renderDataKnotByKnot(\n        item: T,\n        rowIndex: number,\n        column: string,\n        parentKnot: Knot,\n    ): void {\n        let result = '';\n        const calculation = this.options.calculations[column];\n        if (isFunction(calculation)) {\n            result = calculation(\n                item,\n                this.pager.offset + rowIndex,\n                parentKnot,\n            );\n        } else {\n            result = item.get(column, '');\n        }\n        let items: any[] = [];\n        if (!isArray(result)) {\n            items = [result];\n        } else {\n            items = result as any;\n        }\n        eachArray(items, (item: any) => {\n            if (!instanceOf(item, Knot)) {\n                const dataKnot = new Knot('span');\n                dataKnot.setHtml(item as string);\n                item = dataKnot;\n            }\n            parentKnot.appendChild(item as Knot);\n            if (\n                (item as Knot).getAttribute('title') ||\n                (item as Knot).getAttribute('desc')\n            ) {\n                const tooltip = new Tooltip(item as Knot);\n                tooltip.render();\n            }\n        });\n    }\n\n    /**\n     * @description Renders a table cell, dispatching to actions or data content as appropriate.\n     * @param {Knot} tableDataKnot - The table cell element.\n     * @param {T} item - The row data object.\n     * @param {number} rowIndex - The zero-based row index.\n     * @param {string} column - The column name.\n     * @param {number} columnIndex - The zero-based column index.\n     */\n    private _renderDataKnot(\n        tableDataKnot: Knot,\n        item: T,\n        rowIndex: number,\n        column: string,\n        columnIndex: number,\n    ): void {\n        if (inArray(['search', 'actions'], column)) {\n            this._renderActions(tableDataKnot, item);\n        } else {\n            const labelKnot = new Knot('span');\n            labelKnot.addClass('label');\n            labelKnot.setHtml(this.headerTexts[columnIndex]);\n            this._renderHeader(labelKnot, columnIndex);\n            this._handleSortingColumn(labelKnot, columnIndex);\n            tableDataKnot.appendChild(labelKnot);\n            this._renderDataKnotByKnot(item, rowIndex, column, tableDataKnot);\n        }\n    }\n\n    /**\n     * @description Renders action buttons or a dropdown menu in the actions cell.\n     * @param {Knot} tableDataKnot - The table cell element for actions.\n     * @param {T} item - The row data object.\n     */\n    private _renderActions(tableDataKnot: Knot, item: T): void {\n        const containerKnot = new Knot('div');\n        tableDataKnot.addClass('actions');\n        tableDataKnot.appendChild(containerKnot);\n        if (this.actions.length > 3) {\n            containerKnot.addClass('dropDown');\n            this._renderDropDownKnot(containerKnot, item);\n        } else {\n            this._renderActionKnots(containerKnot, item);\n        }\n    }\n\n    /**\n     * @description Renders individual action buttons inline.\n     * @param {Knot} containerKnot - The container element for action buttons.\n     * @param {T} item - The row data object.\n     */\n    private _renderActionKnots(containerKnot: Knot, item: T): void {\n        eachArray(this.actions, (action) => {\n            this._createActionButton(containerKnot, action, item);\n        });\n    }\n\n    /**\n     * @description Renders actions inside a {@link Dropdown} menu when there are more than 3 actions.\n     * @param {Knot} dropDownKnot - The dropdown container element.\n     * @param {T} item - The row data object.\n     */\n    private _renderDropDownKnot(dropDownKnot: Knot, item: T): void {\n        const dropDown = new Dropdown(dropDownKnot);\n        dropDown.setActions(this.actions, item);\n    }\n\n    /**\n     * @description Creates a single action button with icon, tooltip, and click handler.\n     * @param {Knot} containerKnot - The container element for the button.\n     * @param {{ style: Function; click: Function }} action - The action descriptor.\n     * @param {T} item - The row data object.\n     */\n    private _createActionButton(\n        containerKnot: Knot,\n        action: { style: Function; click: Function },\n        item: T,\n    ): void {\n        const [icon, title, disabled, removed] = action.style(item);\n        if (!removed) {\n            const buttonKnot = new Knot<HTMLButtonElement>('button');\n            containerKnot.appendChild(buttonKnot);\n            buttonKnot.addClass([\n                'mdl-button',\n                'mdl-js-button',\n                'mdl-button--icon',\n                'mdl-button--primary',\n            ]);\n            if (disabled) {\n                buttonKnot.setAttribute('disabled');\n            } else {\n                buttonKnot.addEventListener('click', () => {\n                    action.click(item);\n                });\n            }\n            if (title) {\n                const tooltip = new Tooltip(buttonKnot);\n                tooltip.render(title);\n            }\n            const iconKnot = new Knot('em');\n            iconKnot.addClass('material-icons');\n            iconKnot.setHtml(icon);\n            buttonKnot.appendChild(iconKnot);\n        }\n    }\n\n    /**\n     * @description Loads data items into the table and redraws the body. Shows the empty-state\n     * content handler if the collection is empty.\n     *\n     * @param {Array<any>} items - Array of row data objects to display.\n     *\n     * @example\n     * table.setData([{ id: 1, name: 'Alice' }, { id: 2, name: 'Bob' }]);\n     */\n    setData(items: Array<any>): void {\n        this.collection.reload(items);\n        if (this.collection.size() === 0) {\n            this.contentHandler.show();\n        } else {\n            this.contentHandler.hide();\n            this._draw();\n        }\n    }\n\n    /**\n     * @description Sets the total item count and redraws the pager controls.\n     *\n     * @param {number} count - The total number of items across all pages.\n     *\n     * @example\n     * table.setCount(150);\n     */\n    setCount(count: number): void {\n        this.pager.setCount(count);\n        this.pager.draw();\n    }\n\n    /**\n     * @description Returns the items for the current page, slicing the collection if needed.\n     * @returns {Array<T>} The visible row items.\n     */\n    private _getItems(): Array<T> {\n        let items = this.collection.getItems();\n        if (this.collection.size() > this.options.row_count) {\n            items = this.collection.limit(\n                this.pager.offset,\n                this.options.row_count,\n            );\n        }\n        return items;\n    }\n\n    /**\n     * @description Clears the table body and redraws all visible rows with header and data rows.\n     */\n    private _draw(): void {\n        this.tbody.removeChildren();\n        eachArray(this._getItems(), (item, rowIndex) => {\n            this._addHeaderRow(item, rowIndex);\n            this._addRow(item, rowIndex);\n        });\n        mdl(this.tbody);\n    }\n\n    /**\n     * @description Renders the table by updating the sorting state and triggering a data refresh.\n     *\n     * @example\n     * table.render();\n     */\n    render(): void {\n        if (!this.tableKnot.isEmpty()) {\n            this._updateSorting();\n        }\n    }\n}\n", "import { isNull } from '../utils/operation';\nimport { Async } from '../core/async';\nimport { Deferred } from '../core/deferred';\nimport { Query } from '../core/query';\nimport { consoleDebug } from '../utils/log';\nimport { Knot } from '../core';\n\n/**\n * @description Tab panel component that manages tab/panel activation with async change events.\n * Tabs are linked to panels by href attributes, and switching triggers an overridable\n * eventChange callback through the {@link Async} serial pipeline.\n *\n * @example\n * const tabPanel = new TabPanel(containerKnot, '.tab-panel', 'details');\n * tabPanel.eventChange = (panelId) => loadContent(panelId);\n * tabPanel.setActive('settings');\n *\n * @see {@link Async} for the async serial execution pipeline\n * @see {@link Deferred} for the promise-like deferred object\n *\n * @category Component\n */\nexport class TabPanel {\n    tabPanel: Knot;\n    options: { selected_tab: string; default_tab: string };\n    activeTab!: string;\n    tabs!: Query;\n    panels!: Query;\n\n    /**\n     * @description Creates a new TabPanel bound to a DOM container.\n     * @param {Knot} dom - The parent DOM element.\n     * @param {string} [opt_selector] - CSS selector for the tab panel container.\n     * @param {string} [opt_selectedTab] - ID of the initially selected tab.\n     * @param {string} [opt_defaultTab] - Fallback tab ID when no match is found.\n     */\n    constructor(\n        dom: Knot,\n        opt_selector: string | undefined = '.tab-panel',\n        opt_selectedTab: string | undefined = '',\n        opt_defaultTab: string | undefined = '',\n    ) {\n        this.tabPanel = new Query(opt_selector, dom).getKnot();\n        this.options = {\n            selected_tab: opt_selectedTab,\n            default_tab: opt_defaultTab || opt_selectedTab,\n        };\n        this._init();\n    }\n\n    /**\n     * @description Initializes tabs and panels, then activates the selected tab.\n     */\n    private _init(): void {\n        this._initTabs();\n        this._initPanels();\n\n        this.activeTab = this.options.selected_tab;\n        this._setActive(this.activeTab);\n    }\n\n    /**\n     * @description Queries tab anchor elements, wires click handlers, and hides single tabs.\n     */\n    private _initTabs(): void {\n        this.tabs = new Query('.tabs a', this.tabPanel);\n        this.tabs.each((tab) => {\n            const panelId = tab.getAttribute('href').substring(1);\n            if (this.tabs.size() === 1) {\n                tab.addClass('hidden');\n            }\n            tab.setData('panel', panelId);\n            tab.setAttribute('href', 'javascript:void(0)');\n            tab.addEventListener('click', () => {\n                this.setActive(panelId);\n            });\n        });\n    }\n\n    /**\n     * @description Queries panel elements within the tab panel container.\n     */\n    private _initPanels(): void {\n        this.panels = new Query('.panel', this.tabPanel);\n    }\n\n    /**\n     * @description Activates the matching panel and tab, deactivating all others.\n     * @param {string} panelId - The panel ID or class name to activate.\n     */\n    private _setActive(panelId: string): void {\n        let activeTab = this.options.default_tab;\n\n        this.panels.each((panel) => {\n            panel.removeClass('active');\n            if (panel.getId() === panelId || panel.hasClass(panelId)) {\n                panel.addClass('active');\n                activeTab = panelId;\n            }\n        });\n\n        this.tabs.each((tab) => {\n            tab.removeClass('active');\n            if (tab.getData('panel') === panelId) {\n                tab.addClass('active');\n            }\n        });\n\n        this.activeTab = activeTab;\n    }\n\n    /**\n     * @description Called when the active tab changes. Override to handle tab change events.\n     * @param {string} panelId - The ID of the newly active panel.\n     *\n     * @example\n     * tabPanel.eventChange = (panelId) => loadPanelContent(panelId);\n     */\n    eventChange(panelId: string): void {\n        consoleDebug('TabPanel.eventChange()', panelId);\n    }\n\n    /**\n     * @description Activates a tab/panel by ID and fires the eventChange callback asynchronously.\n     * @param {string} panelId - The panel ID to activate.\n     * @returns {Promize} A promise that resolves after the change event completes.\n     *\n     * @example\n     * tabPanel.setActive('settings').then(() => console.log('Tab changed'));\n     */\n    setActive(panelId: string) {\n        const deferred = new Deferred();\n        if (!isNull(panelId)) {\n            this._setActive(panelId);\n            const async = new Async();\n            async\n                .serial([\n                    () => {\n                        return this.eventChange(this.getActive());\n                    },\n                ])\n                .defer(deferred);\n        } else {\n            deferred.reject();\n        }\n        return deferred.promise();\n    }\n\n    /**\n     * @description Returns the ID of the currently active tab/panel.\n     * @returns {string} The active panel ID.\n     *\n     * @example\n     * const activeId = tabPanel.getActive();\n     */\n    getActive(): string {\n        return this.activeTab;\n    }\n}\n", "/**\n * @description Debounce/delay utility for input waiting and scheduled callbacks. Provides both\n * simple (counter-based) and advanced (floating-point counter) debounce mechanisms\n * with pause/resume support.\n *\n * @example\n * const waiter = new Waiter();\n * waiter.advancedWaiting(() => search(query), 500);\n *\n * @category Component\n */\nexport class Waiter {\n    timeoutWaiting: number;\n    counter: number;\n    intervall!: number;\n\n    /**\n     * @description Creates a new Waiter with zeroed counters.\n     */\n    constructor() {\n        this.timeoutWaiting = 0;\n        this.counter = 0;\n    }\n\n    /**\n     * @description Schedules a callback after a debounce delay. Each call resets the timer;\n     * the callback only fires when no new calls arrive within the duration.\n     * @param {Function} callback - The function to execute after the delay.\n     * @param {number} [opt_duration] - Delay in milliseconds (defaults to 3000).\n     *\n     * @example\n     * input.addEventListener('keyup', () => {\n     *     waiter.advancedWaiting(() => fetchResults(input.value), 500);\n     * });\n     */\n    advancedWaiting(\n        callback: Function,\n        opt_duration: number | undefined,\n    ): void {\n        const duration = opt_duration || 3000;\n        this._advancedDelayHandler(callback, duration, this.timeoutWaiting);\n    }\n\n    /**\n     * @description Internal handler that compares counter snapshots after the delay to determine if the callback should fire.\n     * @param {Function} callback - The function to execute.\n     * @param {number} duration - Delay in milliseconds.\n     * @param {number} counter - The counter snapshot at the time of scheduling.\n     */\n    private _advancedDelayHandler(\n        callback: Function,\n        duration: number,\n        counter: number,\n    ): void {\n        this.timeoutWaiting += 0.0001;\n        setTimeout(() => {\n            const prevCounter = this.timeoutWaiting - 0.0001;\n            if (prevCounter.toFixed(4) === counter.toFixed(4)) {\n                this.timeoutWaiting = 0;\n                callback();\n            }\n        }, duration);\n    }\n\n    /**\n     * @description Pauses the advanced waiting mechanism by continuously incrementing the counter,\n     * preventing any pending callback from firing.\n     *\n     * @example\n     * waiter.stopAdvancedWaiting(); // Pause debounce\n     */\n    stopAdvancedWaiting(): void {\n        this.timeoutWaiting += 0.0001;\n        this.intervall = setInterval(() => {\n            this.timeoutWaiting += 0.0001;\n        }, 1000);\n    }\n\n    /**\n     * @description Resumes the advanced waiting mechanism by stopping the interval and\n     * decrementing the counter to allow the pending callback to fire.\n     *\n     * @example\n     * waiter.startAdvancedWaiting(); // Resume debounce\n     */\n    startAdvancedWaiting(): void {\n        clearInterval(this.intervall);\n        this.timeoutWaiting -= 0.0001;\n    }\n\n    /**\n     * @description Schedules a callback using a simple integer-counter debounce mechanism.\n     * @param {Function} callback - The function to execute after the delay.\n     * @param {number} [opt_duration] - Delay in milliseconds (defaults to 3000).\n     *\n     * @example\n     * waiter.simpleWaiting(() => save(), 1000);\n     */\n    simpleWaiting(callback: Function, opt_duration: number | undefined): void {\n        const duration = opt_duration || 3000;\n        this._simpleDelayHandler(callback, duration, this.counter);\n    }\n\n    /**\n     * @description Internal handler that compares integer counter snapshots to determine if the callback should fire.\n     * @param {Function} callback - The function to execute.\n     * @param {number} duration - Delay in milliseconds.\n     * @param {number} counter - The counter snapshot at the time of scheduling.\n     */\n    private _simpleDelayHandler(\n        callback: Function,\n        duration: number,\n        counter: number,\n    ): void {\n        this.counter++;\n        setTimeout(() => {\n            const prevCounter = this.counter - 1;\n            if (counter === prevCounter) {\n                this.counter = 0;\n                callback();\n            }\n        }, duration);\n    }\n}\n", "import { Knot } from '../core';\nimport { BaseField } from './baseField';\n\n/**\n * Placeholder auto-complete field (stub implementation with no custom behavior).\n *\n * @description Extends {@link BaseField} as a stub for future auto-complete\n * functionality. Currently provides no additional rendering or behavior\n * beyond what {@link BaseField} offers.\n *\n * @example\n * const autoComplete = new AutoCompleteField(inputKnot, labelKnot, errorKnot, inputBlockKnot);\n *\n * @see {@link BaseField}\n * @category Field\n */\nexport class AutoCompleteField extends BaseField<HTMLInputElement> {\n    /**\n     * Creates a new AutoCompleteField instance.\n     *\n     * @param {Knot<HTMLInputElement>} input The text input element.\n     * @param {Knot} label The label element associated with the input.\n     * @param {Knot} error The error message element.\n     * @param {Knot} inputBlock The container block for the input.\n     */\n    constructor(\n        input: Knot<HTMLInputElement>,\n        label: Knot,\n        error: Knot,\n        inputBlock: Knot,\n    ) {\n        super(input, label, error, inputBlock);\n    }\n}\n"],
  "mappings": "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AAIC,EAAI,EACJC,EAAI,EACJ,EAAE,SACFD,EAAI,EAAE,QACNC,EAAI,EAAE,SACC,EAAE,SACTD,EAAI,EAAE,OACNC,EAAI,EAAE,QAEV,IAAMC,EAAM,KAAK,OAAO,eAAeF,EAAGC,CAAC,EAKrCE,EAAMC,GAAgB,GAAGF,CAAG,EAElC,KAAK,SAASC,CAAG,EACjB,KAAK,MAAM,MAAM,CACrB,CAAC,CACL,CAMQ,oBAA2B,CAC/B,IAAME,EAAW,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EACMC,EAAY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,U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",
  "names": ["require_core", "__commonJSMin", "exports", "module", "root", "factory", "CryptoJS", "Math", "undefined", "crypto", "__require", "cryptoSecureRandomInt", "create", "F", "obj", "subtype", "C", "C_lib", "Base", "overrides", "instance", "properties", "propertyName", "WordArray", "words", "sigBytes", "encoder", "Hex", "wordArray", "thisWords", "thatWords", "thisSigBytes", "thatSigBytes", "i", "thatByte", "j", "clone", "nBytes", "C_enc", "hexChars", "bite", "hexStr", "hexStrLength", "Latin1", "latin1Chars", "latin1Str", "latin1StrLength", "Utf8", "utf8Str", "BufferedBlockAlgorithm", "data", "doFlush", "processedWords", "dataWords", "dataSigBytes", "blockSize", "blockSizeBytes", "nBlocksReady", "nWordsReady", "nBytesReady", "offset", "Hasher", "cfg", "messageUpdate", "hash", "hasher", "message", "key", "C_algo", "require_enc_base64", "__commonJSMin", "exports", "module", "root", "factory", "CryptoJS", "C", "C_lib", "WordArray", "C_enc", "Base64", "wordArray", "words", "sigBytes", "map", "base64Chars", "i", "byte1", "byte2", "byte3", "triplet", "j", "paddingChar", "base64Str", "base64StrLength", "reverseMap", "paddingIndex", "parseLoop", "nBytes", "bits1", "bits2", "bitsCombined", "require_enc_utf8", "__commonJSMin", "exports", "module", "root", "factory", "CryptoJS", "require_md5", "__commonJSMin", "exports", "module", "root", "factory", "CryptoJS", "Math", "C", "C_lib", "WordArray", "Hasher", "C_algo", "T", "i", "MD5", "M", "offset", "offset_i", "M_offset_i", "H", "M_offset_0", "M_offset_1", "M_offset_2", "M_offset_3", "M_offset_4", "M_offset_5", "M_offset_6", "M_offset_7", "M_offset_8", "M_offset_9", "M_offset_10", "M_offset_11", "M_offset_12", "M_offset_13", "M_offset_14", "M_offset_15", "a", "b", "c", "d", "FF", "GG", "HH", "II", "data", "dataWords", "nBitsTotal", "nBitsLeft", "nBitsTotalH", "nBitsTotalL", "hash", "H_i", "clone", "x", "s", "t", "n", "require_sha1", "__commonJSMin", "exports", "module", "root", "factory", "CryptoJS", "C", "C_lib", "WordArray", "Hasher", "C_algo", "W", "SHA1", "M", "offset", "H", "a", "c", "d", "e", "i", "n", "t", "data", "dataWords", "nBitsTotal", "nBitsLeft", "clone", "require_hmac", "__commonJSMin", "exports", "module", "root", "factory", "CryptoJS", "C", "C_lib", "Base", "C_enc", "Utf8", "C_algo", "HMAC", "hasher", "key", "hasherBlockSize", "hasherBlockSizeBytes", "oKey", "iKey", "oKeyWords", "iKeyWords", "i", "messageUpdate", "innerHash", "hmac", "require_evpkdf", "__commonJSMin", "exports", "module", "root", "factory", "undef", "CryptoJS", "C", "C_lib", "Base", "WordArray", "C_algo", "MD5", "EvpKDF", "cfg", "password", "salt", "block", "hasher", "derivedKey", "derivedKeyWords", "keySize", "iterations", "i", "require_cipher_core", "__commonJSMin", "exports", "module", "root", "factory", "undef", "CryptoJS", "undefined", "C", "C_lib", "Base", "WordArray", "BufferedBlockAlgorithm", "C_enc", "Utf8", "Base64", "C_algo", "EvpKDF", "Cipher", "key", "cfg", "xformMode", "dataUpdate", "finalProcessedData", "selectCipherStrategy", "PasswordBasedCipher", "SerializableCipher", "cipher", "message", "ciphertext", "StreamCipher", "finalProcessedBlocks", "C_mode", "BlockCipherMode", "iv", "CBC", "words", "offset", "blockSize", "xorBlock", "thisBlock", "block", "i", "C_pad", "Pkcs7", "data", "blockSizeBytes", "nPaddingBytes", "paddingWord", "paddingWords", "padding", "BlockCipher", "modeCreator", "mode", "CipherParams", "cipherParams", "formatter", "C_format", "OpenSSLFormatter", "wordArray", "salt", "openSSLStr", "ciphertextWords", "encryptor", "cipherCfg", "plaintext", "format", "C_kdf", "OpenSSLKdf", "password", "keySize", "ivSize", "hasher", "derivedParams", "require_aes", "__commonJSMin", "exports", "module", "root", "factory", "undef", "CryptoJS", "C", "C_lib", "BlockCipher", "C_algo", "SBOX", "INV_SBOX", "SUB_MIX_0", "SUB_MIX_1", "SUB_MIX_2", "SUB_MIX_3", "INV_SUB_MIX_0", "INV_SUB_MIX_1", "INV_SUB_MIX_2", "INV_SUB_MIX_3", "d", "i", "x", "xi", "sx", "x2", "x4", "x8", "t", "RCON", "AES", "key", "keyWords", "keySize", "nRounds", "ksRows", "keySchedule", "ksRow", "invKeySchedule", "invKsRow", "M", "offset", "s0", "s1", "s2", "s3", "round", "t0", "t1", "t2", "t3", "index_exports", "__export", "Application", "Async", "AutoCompleteField", "BaseCheckboxField", "BaseField", "BaseModal", "BottomMenu", "Browser", "Button", "Calendar", "Canvas", "CardCollection", "Carousel", "CheckboxField", "Clock", "Collection", "ColorField", "Confirm", "ContentHandler", "Controller", "Cookie", "DateIO", "DateTime", "DateTimeField", "DateTimeRangeField", "Day", "Deferred", "Depot", "Dialog", "Dropdown", "EventBus", "FileField", "Flash", "Footer", "Form", "FormField", "GeoLocation", "GoogleMap", "Header", "Helper", "HiddenField", "Http", "IconToggleField", "Knot", "LeftMenu", "Loader", "LocationField", "Module", "Month", "NavBar", "Navigation", "NumberField", "Objekt", "Page", "Pager", "Popup", "PopupContainer", "ProgressBar", "ProgressStatus", "Promize", "Query", "RadiobuttonField", "RangeField", "ResetButton", "Route", "Router", "Scheduler", "Screen", "Script", "SearchField", "SelectField", "Service", "State", "Style", "SubmitButton", "SwitchField", "TabPanel", "Table", "Template", "TextField", "TextareaField", "Time", "Tooltip", "TopMenu", "UrlField", "Viewer", "Waiter", "Xhr", "Year", "capitalize", "ceil", "clear", "clearArray", "clearObject", "colorContrast", "colorContrastYIQ", "consoleAssert", "consoleDebug", "consoleError", "consoleInfo", "consoleLog", "consoleWarn", "contain", "convertHEXToHSV", "convertHEXToRGB", "convertHSVToHEX", "convertHSVToRGB", "convertRGBToHEX", "convertRGBToHSV", "convertToISOFormat", "copy", "copyArray", "copyObject", "copyToClipboard", "coreResources", "debounce", "decodeBase64", "decrypt", "each", "eachArray", "eachObject", "encodeBase64", "encrypt", "eq", "floor", "format", "generateId", "getExtensionName", "getQueryString", "gt", "gte", "guid", "inArray", "inContainArray", "instanceOf", "is", "isArray", "isDate", "isEmpty", "isFloat", "isFunction", "isInfinity", "isInteger", "isNull", "isNumber", "isObject", "isPureObject", "isSame", "isString", "isUndefined", "list", "lt", "lte", "md5", "mdl", "merge", "neq", "noop", "normalize", "parseInputBlock", "pluck", "pluckKeys", "random", "readableCurrency", "readableNumber", "releaseMode", "remove", "round", "scrollIntoView", "scrollTo", "scrollToElement", "setDateIOLocale", "setReleaseMode", "sleepEach", "typeCast", "urlWithQueryString", "uuid", "Controller", "releaseMode", "setReleaseMode", "mode", "coreResources", "Service", "typeCast", "value", "result", "isString", "contain", "lowerCaseValue", "eq", "isNumber", "merge", "objA", "objB", "obj", "copyObject", "key", "isPureObject", "format", "str", "opt_params", "opt_prefix", "opt_postfix", "each", "regex", "noop", "opt_result", "a", "b", "neq", "gt", "gte", "lt", "lte", "isArray", "isFunction", "is", "inArray", "isFloat", "isInteger", "isObject", "isNull", "isDate", "instanceOf", "isInfinity", "isUndefined", "type", "items", "next", "opt_start", "opt_end", "eachArray", "eachObject", "i", "object", "sleepEach", "length", "duration", "loop", "clear", "clearArray", "clearObject", "item", "subStr", "inContainArray", "isSame", "strA", "strB", "remove", "position", "copy", "results", "copyArray", "index", "isEmpty", "counter", "list", "args", "callback", "capitalize", "pluck", "attribute", "pluckKeys", "condition", "_scrollInterval", "scrollTo", "x", "y", "opt_duration", "opt_step", "scrollStepX", "scrollStepY", "scrollToElement", "selector", "element", "scrollIntoView", "opt_behavior", "debounce", "func", "opt_wait", "opt_immediate", "timeout", "later", "callNow", "urlWithQueryString", "url", "queryString", "getQueryString", "separator", "queries", "param", "getExtensionName", "realUrl", "normalize", "copyToClipboard", "textareaElement", "Objekt", "_Objekt", "opt_object", "object", "isPureObject", "obj", "key", "instanceOf", "isArray", "typeCast", "each", "i", "attribute", "opt_defaultValue", "opt_isSafe", "attributes", "value", "isUndefined", "result", "_value", "property", "copyAttributes", "copyArray", "eachObject", "_oldValue", "clear", "next", "opt_properties", "opt_attributes", "properties", "attributesCopy", "lastAttribute", "base", "copy", "copyObject", "isEmpty", "keys", "inArray", "condition", "resultObj", "Collection", "opt_items", "opt_type", "Objekt", "opt_options", "objects", "each", "object", "item", "instanceOf", "parent", "isUndefined", "index", "id", "oldKnot", "callback", "next", "results", "eachArray", "opt_attribute", "clear", "attribute", "value", "_item", "i", "conditionCallback", "items", "eq", "deletedKnots", "offset", "opt_count", "consoleLog", "message", "releaseMode", "consoleInfo", "consoleWarn", "consoleError", "consoleDebug", "consoleAssert", "condition", "data", "Knot", "_Knot", "node", "opt_parentKnot", "isString", "contain", "template", "parentKnot", "attribute", "value", "eq", "properties", "eachObject", "id", "htmlFor", "cssClass", "cssClasses", "callback", "isArray", "each", "opt_value", "isUndefined", "isFunction", "isInfinity", "data", "typeCast", "eventName", "opt_callback", "listener", "noop", "event", "listeners", "eachArray", "tagName", "knot", "consoleWarn", "parentElement", "referenceKnot", "nextSiblingKnot", "text", "opt_isInner", "name", "propertyName", "property", "opt_isRoot", "Query", "Collection", "selector", "opt_element", "element", "instanceOf", "Knot", "items", "querySelector", "firstKnot", "nodeList", "docElement", "isFunction", "node", "nodes", "i", "PopupContainer", "opt_selector", "Query", "type", "Collection", "popup", "popupKnot", "Promize", "opt_options", "Objekt", "opt_data", "data", "isArray", "isFunction", "resolve", "opt_reject", "opt_complete", "reject", "noop", "complete", "defer", "args", "Deferred", "Promize", "opt_data", "Async", "opt_sum", "calls", "opt_args", "deferred", "Deferred", "results", "eachArray", "call", "index", "opt_index", "isUndefined", "length", "allowEvent", "args", "promise", "isFunction", "object", "isError", "result", "eq", "sum", "counter", "consoleDebug", "nextIndex", "Router", "opt_route", "route", "_param", "mode", "paramName", "opt_params", "params", "key", "param", "regex", "urlWithQueryString", "url", "questionMark", "matches", "i", "typeCast", "question", "pieces", "piece", "parts", "value", "contain", "realKey", "isArray", "State", "routes", "opt_options", "Objekt", "Collection", "route", "url", "realUrl", "format", "baseMetaTag", "Query", "state", "path", "params", "consoleWarn", "urlPath", "successCallback", "errorCallback", "states", "matches", "i", "isNull", "stateUrl", "router", "Router", "opt_params", "opt_overwrite", "opt_force", "template", "currentState", "previousState", "opt_attribute", "opt_defaultValue", "id", "eq", "opt_inTab", "consoleDebug", "properties", "eachObject", "value", "name", "Module", "noop", "instances", "injections", "name", "moduleInjections", "moduleCallback", "dependency", "moduleArgs", "each", "injection", "services", "edges", "service", "moduleInjection", "nodes", "sorted", "visited", "v", "from", "to", "visit", "strId", "ancestors", "node", "id", "afterId", "key", "sortedServices", "calls", "serviceName", "moduleCall", "isFunction", "Async", "routes", "options", "State", "currentState", "previousState", "force", "exit", "opt_force", "templateUrl", "dom", "state", "controller", "enter", "consoleDebug", "deferred", "Deferred", "BottomMenu", "footer", "Query", "openBottomMenu", "closeBottomMenu", "Page", "opt_options", "Objekt", "event", "target", "Knot", "title", "consoleDebug", "email", "opt_subject", "Browser", "isEmpty", "name", "value", "eq", "features", "consoleDebug", "userAgent", "platform", "macosPlatforms", "windowsPlatforms", "iosPlatforms", "opt_version", "result", "BaseModal", "Query", "btnMinimize", "btnMaximize", "btnClose", "opt_allowClose", "opt_title", "isString", "isNumber", "noop", "async", "Async", "calls", "width", "height", "styleHeight", "contain", "componentHandler", "mdl", "node", "opt_forceDowngrade", "element", "Knot", "Confirm", "BaseModal", "opt_options", "Objekt", "Query", "message", "okText", "opt_cancelText", "opt_title", "opt_type", "cancelCssClasses", "cancelButton", "Knot", "okCssClasses", "okButton", "mdl", "Cookie", "opt_options", "Objekt", "name", "propertyName", "parts", "value", "opt_expires", "opt_path", "opt_domain", "opt_secure", "date", "regex", "typeCast", "expires", "keys", "i", "eachArray", "key", "Dialog", "BaseModal", "http", "opt_options", "Objekt", "Query", "url", "deferred", "Deferred", "data", "knot", "dom", "messageKnot", "title", "mdl", "titleKnot", "contentKnot", "actionKnot", "buttons", "size", "actions", "cssClasses", "button", "i", "buttonClasses", "import_enc_base64", "import_enc_utf8", "import_md5", "import_aes", "encodeBase64", "text", "words", "Utf8", "Base64", "decodeBase64", "encodedText", "encrypt", "value", "passPhrase", "item", "AES", "decrypt", "md5", "str", "MD5", "guid", "generateId", "name", "uuid", "Flash", "opt_options", "Query", "Objekt", "type", "message", "opt_duration", "opt_closeCallback", "opt_id", "flashKnot", "generateId", "eq", "buttonKnot", "buttonIcon", "mdl", "selector", "format", "flash", "isFunction", "isPureObject", "closeCallback", "noop", "Footer", "opt_options", "Objekt", "Query", "contentKnot", "GeoLocation", "position", "error", "deferred", "Deferred", "_error", "latitude", "longitude", "message", "consoleDebug", "code", "consoleError", "Tooltip", "element", "opt_position", "opt_message", "id", "isNull", "generateId", "Query", "format", "cssClasses", "Knot", "message", "mdl", "Helper", "name", "opt_callback", "opt_href", "opt_description", "opt_allowAccess", "opt_cssClasses", "linkKnot", "Knot", "selector", "dom", "Query", "generateId", "href", "callback", "buttonKnot", "oldCssClasses", "cssClasses", "iconName", "parentKnot", "iconKnot", "knot", "Tooltip", "mdl", "imageKnot", "defaultImageUrl", "email", "opt_size", "opt_rating", "src", "format", "md5", "Xhr", "opt_options", "Objekt", "Deferred", "name", "value", "_this", "ev", "response", "eq", "consoleWarn", "url", "opt_params", "opt_headers", "opt_data", "uri", "urlWithQueryString", "type", "urlType", "getExtensionName", "result", "obj", "key", "stringKey", "results", "i", "j", "pairs", "pair", "filename", "contentDisposition", "error", "consoleError", "deferred", "contentType", "instanceOf", "reader", "e", "data", "objekt", "isString", "eachObject", "isUndefined", "username", "password", "hash", "encodeBase64", "token", "Http", "opt_options", "Objekt", "username", "password", "token", "url", "opt_params", "opt_headers", "xhr", "opt_data", "Xhr", "promise", "deferred", "Deferred", "params", "rest", "consoleDebug", "http", "response", "filename", "LeftMenu", "Query", "noop", "openLeftMenu", "closeLeftMenu", "closeSubMenu", "opt_title", "Loader", "opt_options", "Objekt", "Query", "opt_force", "eq", "NavBar", "Query", "toggleNavBar", "ProgressBar", "dialog", "confirm", "opt_options", "Objekt", "Query", "Async", "_isError", "nodes", "knot", "value", "containerCallback", "headerCallback", "dialogCallback", "confirmCallback", "condition", "opt_force", "eq", "Script", "progressBar", "opt_options", "Objekt", "Query", "id", "url", "opt_params", "opt_async", "opt_defer", "deferred", "Deferred", "scriptKnot", "Knot", "urlWithQueryString", "script", "Style", "progressBar", "opt_options", "Objekt", "Query", "id", "url", "opt_params", "opt_rel", "opt_media", "deferred", "Deferred", "linkKnot", "Knot", "urlWithQueryString", "style", "Template", "http", "opt_options", "Objekt", "Query", "url", "opt_force", "deferred", "Deferred", "templateUrl", "locale", "contain", "knot", "data", "isError", "messageKnot", "message", "consoleError", "TopMenu", "header", "Query", "Viewer", "BaseModal", "opt_options", "Objekt", "Query", "imageUrl", "opt_title", "imageKnot", "Knot", "Depot", "type", "opt_options", "Objekt", "name", "propertyName", "parts", "value", "opt_expires", "encrypted", "encrypt", "item", "result", "decrypted", "decrypt", "typeCast", "properyNames", "eachArray", "properyName", "date", "expireDate", "utcString", "Header", "opt_options", "Objekt", "Query", "consoleDebug", "title", "url", "imagePath", "EventBus", "Objekt", "name", "callback", "isFunction", "events", "index", "opt_args", "calls", "noop", "Async", "args", "Scheduler", "Objekt", "time", "callback", "name", "isFunction", "schedulers", "Screen", "opt_options", "Objekt", "debounce", "event", "consoleDebug", "width", "height", "orientation", "scrollTop", "neq", "gte", "colorScheme", "type", "maxTime", "minTime", "millisecondsInWeek", "millisecondsInDay", "millisecondsInMinute", "millisecondsInHour", "millisecondsInSecond", "secondsInHour", "secondsInDay", "secondsInHour", "secondsInWeek", "secondsInYear", "secondsInMonth", "secondsInQuarter", "constructFromSymbol", "constructFrom", "date", "value", "constructFromSymbol", "toDate", "argument", "context", "constructFrom", "addDays", "date", "amount", "options", "_date", "toDate", "constructFrom", "addMonths", "date", "amount", "options", "_date", "toDate", "constructFrom", "dayOfMonth", "endOfDesiredMonth", "daysInMonth", "addMilliseconds", "date", "amount", "options", "constructFrom", "toDate", "addHours", "date", "amount", "options", "addMilliseconds", "millisecondsInHour", "defaultOptions", "getDefaultOptions", "startOfWeek", "date", "options", "defaultOptions", "getDefaultOptions", "weekStartsOn", "_date", "toDate", "day", "diff", "startOfISOWeek", "date", "options", "startOfWeek", "getISOWeekYear", "date", "options", "_date", "toDate", "year", "fourthOfJanuaryOfNextYear", "constructFrom", "startOfNextYear", "startOfISOWeek", "fourthOfJanuaryOfThisYear", "startOfThisYear", "getTimezoneOffsetInMilliseconds", "date", "_date", "toDate", "utcDate", "normalizeDates", "context", "dates", "normalize", "constructFrom", "date", "startOfDay", "date", "options", "_date", "toDate", "differenceInCalendarDays", "laterDate", "earlierDate", "options", "laterDate_", "earlierDate_", "normalizeDates", "laterStartOfDay", "startOfDay", "earlierStartOfDay", "laterTimestamp", "getTimezoneOffsetInMilliseconds", "earlierTimestamp", "millisecondsInDay", "startOfISOWeekYear", "date", "options", "year", "getISOWeekYear", "fourthOfJanuary", "constructFrom", "startOfISOWeek", "addMinutes", "date", "amount", "options", "_date", "toDate", "millisecondsInMinute", "addYears", "date", "amount", "options", "addMonths", "isDate", "value", "isValid", "date", "isDate", "toDate", "endOfMonth", "date", "options", "_date", "toDate", "month", "startOfYear", "date", "options", "date_", "toDate", "formatDistanceLocale", "formatDistance", "token", "count", "options", "result", "tokenValue", "buildFormatLongFn", "args", "options", "width", "dateFormats", "timeFormats", "dateTimeFormats", "formatLong", "buildFormatLongFn", "formatRelativeLocale", "formatRelative", "token", "_date", "_baseDate", "_options", "buildLocalizeFn", "args", "value", "options", "context", "valuesArray", "defaultWidth", "width", "index", "eraValues", "quarterValues", "monthValues", "dayValues", "dayPeriodValues", "formattingDayPeriodValues", "ordinalNumber", "dirtyNumber", "_options", "number", "rem100", "localize", "buildLocalizeFn", "quarter", "buildMatchFn", "args", "string", "options", "width", "matchPattern", "matchResult", "matchedString", "parsePatterns", "key", "findIndex", "pattern", "findKey", "value", "rest", "object", "predicate", "array", "buildMatchPatternFn", "args", "string", "options", "matchResult", "matchedString", "parseResult", "value", "rest", "matchOrdinalNumberPattern", "parseOrdinalNumberPattern", "matchEraPatterns", "parseEraPatterns", "matchQuarterPatterns", "parseQuarterPatterns", "matchMonthPatterns", "parseMonthPatterns", "matchDayPatterns", "parseDayPatterns", "matchDayPeriodPatterns", "parseDayPeriodPatterns", "match", "buildMatchPatternFn", "value", "buildMatchFn", "index", "enUS", "formatDistance", "formatLong", "formatRelative", "localize", "match", "getDayOfYear", "date", "options", "_date", "toDate", "differenceInCalendarDays", "startOfYear", "getISOWeek", "date", "options", "_date", "toDate", "diff", "startOfISOWeek", "startOfISOWeekYear", "millisecondsInWeek", "getWeekYear", "date", "options", "_date", "toDate", "year", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "firstWeekOfNextYear", "constructFrom", "startOfNextYear", "startOfWeek", "firstWeekOfThisYear", "startOfThisYear", "startOfWeekYear", "date", "options", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "year", "getWeekYear", "firstWeek", "constructFrom", "startOfWeek", "getWeek", "date", "options", "_date", "toDate", "diff", "startOfWeek", "startOfWeekYear", "millisecondsInWeek", "addLeadingZeros", "number", "targetLength", "sign", "output", "lightFormatters", "date", "token", "signedYear", "year", "addLeadingZeros", "month", "dayPeriodEnumValue", "numberOfDigits", "milliseconds", "fractionalSeconds", "dayPeriodEnum", "formatters", "date", "token", "localize", "era", "signedYear", "year", "lightFormatters", "options", "signedWeekYear", "getWeekYear", "weekYear", "twoDigitYear", "addLeadingZeros", "isoWeekYear", "getISOWeekYear", "quarter", "month", "week", "getWeek", "isoWeek", "getISOWeek", "dayOfYear", "getDayOfYear", "dayOfWeek", "localDayOfWeek", "isoDayOfWeek", "dayPeriodEnumValue", "hours", "_localize", "timezoneOffset", "formatTimezoneWithOptionalMinutes", "formatTimezone", "formatTimezoneShort", "timestamp", "offset", "delimiter", "sign", "absOffset", "minutes", "dateLongFormatter", "pattern", "formatLong", "timeLongFormatter", "dateTimeLongFormatter", "matchResult", "datePattern", "timePattern", "dateTimeFormat", "longFormatters", "dayOfYearTokenRE", "weekYearTokenRE", "throwTokens", "isProtectedDayOfYearToken", "token", "isProtectedWeekYearToken", "warnOrThrowProtectedError", "format", "input", "_message", "message", "subject", "formattingTokensRegExp", "longFormattingTokensRegExp", "escapedStringRegExp", "doubleQuoteRegExp", "unescapedLatinCharacterRegExp", "format", "date", "formatStr", "options", "defaultOptions", "getDefaultOptions", "locale", "enUS", "firstWeekContainsDate", "weekStartsOn", "originalDate", "toDate", "isValid", "parts", "longFormattingTokensRegExp", "substring", "firstCharacter", "longFormatter", "longFormatters", "formattingTokensRegExp", "cleanEscapedString", "formatters", "unescapedLatinCharacterRegExp", "formatterOptions", "part", "token", "isProtectedWeekYearToken", "isProtectedDayOfYearToken", "warnOrThrowProtectedError", "formatter", "input", "matched", "escapedStringRegExp", "doubleQuoteRegExp", "formatISO", "date", "options", "date_", "toDate", "format", "representation", "result", "tzOffset", "dateDelimiter", "timeDelimiter", "day", "addLeadingZeros", "month", "offset", "absoluteOffset", "hourOffset", "minuteOffset", "hour", "minute", "second", "separator", "time", "getDate", "date", "options", "toDate", "getDay", "date", "options", "toDate", "getDaysInMonth", "date", "options", "_date", "toDate", "year", "monthIndex", "lastDayOfMonth", "constructFrom", "getDefaultOptions", "getHours", "date", "options", "toDate", "getISODay", "date", "options", "day", "toDate", "getMinutes", "date", "options", "toDate", "getMonth", "date", "options", "toDate", "getYear", "date", "options", "toDate", "isAfter", "date", "dateToCompare", "toDate", "isBefore", "date", "dateToCompare", "toDate", "transpose", "date", "constructor", "date_", "isConstructor", "constructFrom", "TIMEZONE_UNIT_PRIORITY", "Setter", "_utcDate", "_options", "ValueSetter", "value", "validateValue", "setValue", "priority", "subPriority", "date", "options", "flags", "DateTimezoneSetter", "context", "reference", "constructFrom", "transpose", "Parser", "dateString", "token", "match", "options", "result", "ValueSetter", "_utcDate", "_value", "_options", "EraParser", "Parser", "dateString", "token", "match", "date", "flags", "value", "numericPatterns", "timezonePatterns", "mapValue", "parseFnResult", "mapFn", "parseNumericPattern", "pattern", "dateString", "matchResult", "parseTimezonePattern", "sign", "hours", "minutes", "seconds", "millisecondsInHour", "millisecondsInMinute", "millisecondsInSecond", "parseAnyDigitsSigned", "numericPatterns", "parseNDigits", "n", "parseNDigitsSigned", "dayPeriodEnumToHours", "dayPeriod", "normalizeTwoDigitYear", "twoDigitYear", "currentYear", "isCommonEra", "absCurrentYear", "result", "rangeEnd", "rangeEndCentury", "isPreviousCentury", "isLeapYearIndex", "year", "YearParser", "Parser", "dateString", "token", "match", "valueCallback", "year", "mapValue", "parseNDigits", "_date", "value", "date", "flags", "currentYear", "normalizedTwoDigitYear", "normalizeTwoDigitYear", "LocalWeekYearParser", "Parser", "dateString", "token", "match", "valueCallback", "year", "mapValue", "parseNDigits", "_date", "value", "date", "flags", "options", "currentYear", "getWeekYear", "normalizedTwoDigitYear", "normalizeTwoDigitYear", "startOfWeek", "ISOWeekYearParser", "Parser", "dateString", "token", "parseNDigitsSigned", "date", "_flags", "value", "firstWeekOfYear", "constructFrom", "startOfISOWeek", "ExtendedYearParser", "Parser", "dateString", "token", "parseNDigitsSigned", "date", "_flags", "value", "QuarterParser", "Parser", "dateString", "token", "match", "parseNDigits", "_date", "value", "date", "_flags", "StandAloneQuarterParser", "Parser", "dateString", "token", "match", "parseNDigits", "_date", "value", "date", "_flags", "MonthParser", "Parser", "dateString", "token", "match", "valueCallback", "value", "mapValue", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "date", "_flags", "StandAloneMonthParser", "Parser", "dateString", "token", "match", "valueCallback", "value", "mapValue", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "date", "_flags", "setWeek", "date", "week", "options", "date_", "toDate", "diff", "getWeek", "LocalWeekParser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "options", "startOfWeek", "setWeek", "setISOWeek", "date", "week", "options", "_date", "toDate", "diff", "getISOWeek", "ISOWeekParser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "startOfISOWeek", "setISOWeek", "DAYS_IN_MONTH", "DAYS_IN_MONTH_LEAP_YEAR", "DateParser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "date", "value", "year", "isLeapYear", "isLeapYearIndex", "month", "_flags", "DayOfYearParser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "date", "value", "year", "isLeapYearIndex", "_flags", "setDay", "date", "day", "options", "defaultOptions", "getDefaultOptions", "weekStartsOn", "date_", "toDate", "currentDay", "dayIndex", "delta", "diff", "addDays", "DayParser", "Parser", "dateString", "token", "match", "_date", "value", "date", "_flags", "options", "setDay", "LocalDayParser", "Parser", "dateString", "token", "match", "options", "valueCallback", "value", "wholeWeekDays", "mapValue", "parseNDigits", "_date", "date", "_flags", "setDay", "StandAloneLocalDayParser", "Parser", "dateString", "token", "match", "options", "valueCallback", "value", "wholeWeekDays", "mapValue", "parseNDigits", "_date", "date", "_flags", "setDay", "setISODay", "date", "day", "options", "date_", "toDate", "currentDay", "getISODay", "diff", "addDays", "ISODayParser", "Parser", "dateString", "token", "match", "valueCallback", "value", "parseNDigits", "mapValue", "_date", "date", "_flags", "setISODay", "AMPMParser", "Parser", "dateString", "token", "match", "date", "_flags", "value", "dayPeriodEnumToHours", "AMPMMidnightParser", "Parser", "dateString", "token", "match", "date", "_flags", "value", "dayPeriodEnumToHours", "DayPeriodParser", "Parser", "dateString", "token", "match", "date", "_flags", "value", "dayPeriodEnumToHours", "Hour1to12Parser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "isPM", "Hour0to23Parser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "Hour0To11Parser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "Hour1To24Parser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "hours", "MinuteParser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "SecondParser", "Parser", "dateString", "token", "match", "parseNumericPattern", "numericPatterns", "parseNDigits", "_date", "value", "date", "_flags", "FractionOfSecondParser", "Parser", "dateString", "token", "valueCallback", "value", "mapValue", "parseNDigits", "date", "_flags", "ISOTimezoneWithZParser", "Parser", "dateString", "token", "parseTimezonePattern", "timezonePatterns", "date", "flags", "value", "constructFrom", "getTimezoneOffsetInMilliseconds", "ISOTimezoneParser", "Parser", "dateString", "token", "parseTimezonePattern", "timezonePatterns", "date", "flags", "value", "constructFrom", "getTimezoneOffsetInMilliseconds", "TimestampSecondsParser", "Parser", "dateString", "parseAnyDigitsSigned", "date", "_flags", "value", "constructFrom", "TimestampMillisecondsParser", "Parser", "dateString", "parseAnyDigitsSigned", "date", "_flags", "value", "constructFrom", "parsers", "EraParser", "YearParser", "LocalWeekYearParser", "ISOWeekYearParser", "ExtendedYearParser", "QuarterParser", "StandAloneQuarterParser", "MonthParser", "StandAloneMonthParser", "LocalWeekParser", "ISOWeekParser", "DateParser", "DayOfYearParser", "DayParser", "LocalDayParser", "StandAloneLocalDayParser", "ISODayParser", "AMPMParser", "AMPMMidnightParser", "DayPeriodParser", "Hour1to12Parser", "Hour0to23Parser", "Hour0To11Parser", "Hour1To24Parser", "MinuteParser", "SecondParser", "FractionOfSecondParser", "ISOTimezoneWithZParser", "ISOTimezoneParser", "TimestampSecondsParser", "TimestampMillisecondsParser", "formattingTokensRegExp", "longFormattingTokensRegExp", "escapedStringRegExp", "doubleQuoteRegExp", "notWhitespaceRegExp", "unescapedLatinCharacterRegExp", "parse", "dateStr", "formatStr", "referenceDate", "options", "invalidDate", "constructFrom", "defaultOptions", "getDefaultOptions", "locale", "enUS", "firstWeekContainsDate", "weekStartsOn", "toDate", "subFnOptions", "setters", "DateTimezoneSetter", "tokens", "substring", "firstCharacter", "longFormatters", "longFormatter", "usedTokens", "token", "isProtectedWeekYearToken", "warnOrThrowProtectedError", "isProtectedDayOfYearToken", "parser", "parsers", "incompatibleTokens", "incompatibleToken", "usedToken", "parseResult", "cleanEscapedString", "uniquePrioritySetters", "setter", "a", "b", "priority", "index", "array", "setterArray", "date", "flags", "result", "input", "subDays", "date", "amount", "options", "addDays", "parseISO", "argument", "options", "invalidDate", "constructFrom", "additionalDigits", "dateStrings", "splitDateString", "date", "parseYearResult", "parseYear", "parseDate", "timestamp", "time", "offset", "parseTime", "parseTimezone", "tmpDate", "result", "toDate", "patterns", "dateRegex", "timeRegex", "timezoneRegex", "dateString", "array", "timeString", "token", "regex", "captures", "year", "century", "isWeekDate", "dayOfYear", "parseDateUnit", "month", "day", "week", "dayOfWeek", "validateWeekDate", "dayOfISOWeekYear", "validateDate", "validateDayOfYearDate", "value", "hours", "parseTimeUnit", "minutes", "seconds", "validateTime", "millisecondsInHour", "millisecondsInMinute", "timezoneString", "sign", "validateTimezone", "isoWeekYear", "fourthOfJanuaryDay", "diff", "daysInMonths", "isLeapYearIndex", "_year", "_hours", "setMonth", "date", "month", "options", "_date", "toDate", "year", "day", "midMonth", "constructFrom", "daysInMonth", "getDaysInMonth", "setDate", "date", "dayOfMonth", "options", "_date", "toDate", "setHours", "date", "hours", "options", "_date", "toDate", "setMinutes", "date", "minutes", "options", "date_", "toDate", "setYear", "date", "year", "options", "date_", "toDate", "constructFrom", "subMonths", "date", "amount", "options", "addMonths", "subHours", "date", "amount", "options", "addHours", "subMinutes", "date", "amount", "options", "addMinutes", "subYears", "date", "amount", "options", "addYears", "translations", "withoutSuffixes", "withSuffixes", "formatDistance", "token", "count", "options", "adverb", "unit", "addSuffix", "key", "comparison", "translated", "result", "adv", "dateFormats", "timeFormats", "dateTimeFormats", "formatLong", "buildFormatLongFn", "accusativeWeekdays", "week", "isFuture", "date", "weekday", "formatRelativeLocale", "formatRelative", "token", "format", "eraValues", "quarterValues", "formattingQuarterValues", "monthValues", "dayValues", "dayPeriodValues", "ordinalNumber", "dirtyNumber", "_options", "localize", "buildLocalizeFn", "quarter", "matchOrdinalNumberPattern", "parseOrdinalNumberPattern", "matchEraPatterns", "parseEraPatterns", "matchQuarterPatterns", "parseQuarterPatterns", "matchMonthPatterns", "parseMonthPatterns", "matchDayPatterns", "parseDayPatterns", "matchDayPeriodPatterns", "parseDayPeriodPatterns", "match", "buildMatchPatternFn", "value", "buildMatchFn", "index", "hu", "formatDistance", "formatLong", "formatRelative", "localize", "match", "getLocaleFrom", "newLocale", "hu", "enUS", "locale", "setDateIOLocale", "convertToISOFormat", "formatString", "DateIO", "dateString", "parse", "error", "parseISO", "date", "format", "formatISO", "dateToCompare", "isBefore", "isAfter", "getMinutes", "minutes", "setMinutes", "amount", "addMinutes", "subMinutes", "getHours", "hours", "setHours", "addHours", "subHours", "getDate", "day", "setDate", "getDay", "addDays", "subDays", "getMonth", "month", "setMonth", "addMonths", "subMonths", "getYear", "years", "setYear", "addYears", "subYears", "startOfWeek", "endOfMonth", "getDaysInMonth", "getISOWeek", "getWeek", "Application", "options", "resources", "Objekt", "locale", "setDateIOLocale", "Query", "Module", "currentState", "state", "dom", "Script", "Style", "GeoLocation", "latitude", "longitude", "message", "code", "Cookie", "Loader", "ProgressBar", "Depot", "Helper", "popupContainer", "PopupContainer", "Page", "target", "event", "Screen", "width", "height", "orientation", "scrollTop", "colorScheme", "flash", "EventBus", "Scheduler", "Http", "params", "Template", "Flash", "Dialog", "Confirm", "Viewer", "Header", "TopMenu", "NavBar", "BottomMenu", "LeftMenu", "Footer", "Browser", "features", "id", "opt_params", "name", "routes", "services", "moduleInjections", "moduleCallback", "readableCurrency", "price", "opt_delimiter", "opt_separator", "opt_precision", "round", "parts", "decimal", "currency", "char", "index", "readableNumber", "num", "opt_around", "siValues", "rx", "result", "i", "siValue", "exp", "roundedValue", "floor", "plus", "decimalAdjust", "type", "value", "ceil", "random", "min", "max", "opt_onlyFloat", "convertRGBToHSV", "red", "green", "blue", "rabs", "gabs", "babs", "v", "diff", "diffc", "c", "h", "s", "rr", "gg", "bb", "round", "convertRGBToHEX", "colors", "results", "i", "convertHEXToHSV", "hexColor", "convertHEXToRGB", "hex", "convertHSVToRGB", "f", "p", "q", "t", "convertHSVToHEX", "colorContrastYIQ", "opt_lightColor", "opt_darkColor", "colorContrast", "opt_diff", "Day", "date", "currentDate", "options", "Objekt", "current", "DateIO", "now", "knot", "Knot", "text", "consoleDebug", "Month", "date", "currentDate", "options", "Objekt", "current", "DateIO", "now", "knot", "Knot", "text", "consoleDebug", "Year", "date", "currentDate", "options", "Objekt", "current", "DateIO", "now", "knot", "Knot", "text", "consoleDebug", "Calendar", "knot", "options", "Objekt", "date", "Knot", "previousButton", "prevIconKnot", "nextButton", "nextIconKnot", "direction", "mode", "position", "dayFun", "monthFun", "yearFun", "result", "DateIO", "format", "text", "i", "month", "Month", "monthKnot", "startYear", "year", "Year", "yearKnot", "firstDOW", "dayKnot", "diffDays", "daysInMonth", "day", "Day", "selectedDate", "consoleDebug", "Canvas", "opt_selector", "isString", "Query", "isUndefined", "Knot", "canvasKnot", "event", "rect", "x", "y", "width", "height", "radius", "sides", "rotateAngle", "options", "i", "each", "value", "key", "imageKnot", "opt_width", "opt_height", "typeCast", "consoleDebug", "ContentHandler", "containerKnot", "opt_options", "Objekt", "Knot", "imageKnot", "textKnot", "Pager", "dom", "opt_selectors", "opt_options", "Query", "Objekt", "page", "from", "to", "format", "previousButton", "Knot", "iconKnot", "mdl", "nextButton", "pagers", "each", "pager", "pageKnot", "knot", "part", "count", "consoleDebug", "CardCollection", "dom", "opt_selector", "opt_ctrl", "opt_options", "Query", "Objekt", "Collection", "Pager", "page", "ContentHandler", "Knot", "item", "regex", "matches", "cloneTemplate", "eachArray", "match", "expression", "contain", "paramsRegex", "expressionMatches", "fnName", "fnKeys", "fnParams", "key", "method", "result", "consoleWarn", "format", "opt_page", "params", "consoleDebug", "cardKnot", "mdl", "items", "count", "Carousel", "dom", "opt_selector", "opt_options", "Query", "Objekt", "Time", "knot", "options", "Objekt", "circleKnot", "Knot", "circleKnotStyle", "width", "height", "timeKnotStyle", "centerPointKnot", "start", "n", "opt_j", "opt_isClockWise", "k", "i", "circle", "text", "index", "selected", "top", "left", "degrees", "consoleDebug", "Clock", "knot", "options", "Objekt", "hourCallback", "minuteCallback", "result", "Knot", "DateIO", "mode", "separatorHeaderKnot", "hoursKnot", "hours", "cssClass", "text", "minutes", "period", "time", "direction", "position", "timeKnot", "timeMinutes", "Time", "index", "timeHours", "hour", "selectedTime", "consoleDebug", "DateTime", "knot", "options", "Objekt", "Knot", "value", "DateIO", "calendar", "Calendar", "newDate", "clock", "Clock", "formattedValue", "consoleDebug", "Dropdown", "element", "opt_options", "Objekt", "generateId", "Collection", "Knot", "iconKnot", "actions", "item", "mdl", "eachArray", "action", "icon", "title", "disabled", "removed", "menuKnotKnot", "BaseField", "input", "opt_label", "opt_error", "opt_inputBlock", "opt_form", "Tooltip", "value", "previousValue", "consoleDebug", "knot", "name", "typeCast", "inputName", "attribute", "eq", "opt_message", "opt_isCustomError", "opt_force", "opt_showMessage", "isValid", "upgradedKnot", "state", "text", "Query", "Knot", "label", "title", "description", "infoButton", "labelText", "requiredPostfix", "postfix", "mutationsList", "mutation", "Button", "BaseField", "input", "knot", "mdl", "BaseCheckboxField", "BaseField", "input", "label", "error", "inputBlock", "Query", "value", "checked", "typeCast", "currentValue", "state", "text", "dataLabelText", "labelText", "mdl", "CheckboxField", "BaseCheckboxField", "input", "label", "error", "inputBlock", "id", "labelText", "Knot", "Popup", "_Popup", "content", "parent", "opt_withClose", "PopupContainer", "Knot", "btnClose", "iconKnot", "mdl", "consoleDebug", "ColorField", "BaseField", "input", "label", "error", "inputBlock", "color", "inputNode", "Knot", "Popup", "Tooltip", "maxX", "maxY", "size", "i", "j", "width", "typeCast", "height", "Query", "Canvas", "_image", "x", "y", "rgb", "hex", "convertRGBToHEX", "colors50", "colors100", "colors200", "colors300", "colors400", "colors500", "colors600", "colors700", "colors800", "colors900", "DateTimeField", "BaseField", "input", "label", "error", "inputBlock", "Knot", "type", "value", "DateTime", "currentValue", "Popup", "formattedValue", "iconKnot", "date", "DateIO", "tagKnot", "DateTimeRangeField", "BaseField", "input", "label", "error", "inputBlock", "isStartInput", "Query", "Knot", "value", "type", "DateTime", "Popup", "formattedValue", "iconKnot", "date", "DateIO", "tagKnot", "HiddenField", "BaseField", "input", "inputNode", "IconToggleField", "BaseCheckboxField", "input", "label", "error", "inputBlock", "Knot", "labelText", "value", "currentValue", "typeCast", "RadiobuttonField", "BaseField", "input", "label", "error", "inputBlock", "form", "value", "name", "Query", "format", "radioButtonInput", "labelKnot", "id", "labelText", "spanLabel", "Knot", "dataLabelText", "mdl", "typeCast", "state", "isDisabled", "text", "ResetButton", "BaseField", "input", "mdl", "SearchField", "BaseField", "input", "label", "error", "inputBlock", "event", "inputNode", "eq", "iconKnot", "Knot", "labelKnot", "mdl", "clearButton", "value", "consoleDebug", "SelectField", "BaseField", "input", "label", "error", "inputBlock", "Knot", "Popup", "Collection", "Query", "optionKnot", "value", "image", "item", "text", "option", "Objekt", "ids", "isArray", "id", "eq", "opt_attribute", "format", "items", "opt_value", "opt_name", "opt_image", "eachArray", "name", "options", "neq", "tags", "tag", "tagKnot", "iconKnot", "selected", "inArray", "optionNode", "clear", "remove", "listKnot", "imageKnot", "nameKnot", "searchParentKnot", "searchKnot", "generateId", "inputNode", "labelKnot", "mdl", "query", "regExp", "SubmitButton", "BaseField", "input", "mdl", "SwitchField", "BaseCheckboxField", "input", "label", "error", "inputBlock", "labelText", "Knot", "TextareaField", "BaseField", "input", "label", "error", "inputBlock", "inputNode", "value", "Knot", "_knot", "event", "knot", "e", "text", "iconName", "action", "boldButtonKnot", "sCmd", "opt_sValue", "_isHtmlMode", "mdl", "UrlField", "BaseField", "input", "label", "error", "inputBlock", "inputNode", "protocolKnot", "Knot", "mdl", "FileField", "BaseField", "input", "label", "error", "inputBlock", "inputKnot", "file", "accept", "contain", "Query", "Knot", "color", "browseButton", "mimeType", "extension", "results", "key", "fileType", "type", "svg", "data", "encodeBase64", "format", "mdl", "filename", "fileReader", "event", "target", "searchStr", "imageSrc", "value", "isPureObject", "getExtensionName", "_mimeType", "RangeField", "BaseField", "input", "label", "error", "inputBlock", "inputNode", "mdl", "value", "Tooltip", "NumberField", "BaseField", "input", "label", "error", "inputBlock", "value", "actionKnot", "Knot", "upButton", "downButton", "min", "max", "typeCast", "step", "mdl", "MapLabel", "opt_options", "key", "target", "targetKey", "noNotify", "value", "map", "prop", "style", "ctx", "strokeWeight", "text", "textWidth", "panes", "projection", "latLng", "pos", "minZoom", "maxZoom", "mapZoom", "_createMapLabelByMarker", "marker", "title", "mapLabel", "MapLabel", "_createMapLabelByMarkerByPosition", "map", "position", "GoogleMap", "dom", "opt_selector", "opt_options", "Query", "Objekt", "mapTypeId", "mapTypeName", "mapStyles", "styledMapType", "event", "vertex", "polygonData", "points", "consoleDebug", "id", "opt_polygonData", "options", "polygon", "latLng", "eachObject", "value", "key", "cleanData", "inArray", "cleanPolygonData", "path", "centerLatLng", "latitude", "longitude", "mapType", "each", "point", "isUndefined", "bounds", "polygonId", "center", "Collection", "gradient", "opt_heatmapOptions", "property", "iconName", "opt_markerData", "markerData", "text", "x", "y", "location", "cleanMarkerData", "_event", "markerIcon", "markerId", "content", "name", "iconOptions", "icon", "shape", "query", "deferred", "Deferred", "results", "status", "result", "opt_boundCheck", "radiusPx", "point1", "point2", "projection", "location1", "location2", "latLng1", "latLng2", "LocationField", "BaseField", "input", "label", "error", "inputBlock", "event", "inputNode", "eq", "location", "typeCast", "searchButton", "Knot", "address", "locations", "position", "mdl", "generateId", "inputKnot", "latitude", "longitude", "id", "labelText", "callback", "blockKnot", "boxKnot", "advancedLabel", "advancedInput", "mapKnot", "GoogleMap", "_data", "mapTypeId", "mapTypeName", "mapStyles", "isNull", "value", "loc", "consoleDebug", "TextField", "BaseField", "input", "label", "error", "inputBlock", "inputNode", "mdl", "FormField", "inputBlock", "form", "input", "label", "error", "parseInputBlock", "_convertToField", "tagName", "tagType", "eq", "inArray", "inputs", "Query", "dataType", "result", "TextareaField", "SelectField", "SubmitButton", "Button", "ResetButton", "DateTimeRangeField", "DateTimeField", "FileField", "SwitchField", "IconToggleField", "CheckboxField", "RadiobuttonField", "RangeField", "ColorField", "HiddenField", "NumberField", "UrlField", "SearchField", "LocationField", "TextField", "Form", "Collection", "dom", "opt_selector", "formKnot", "Query", "FormField", "Objekt", "_knot", "event", "knot", "fields", "updatedFields", "initFields", "field", "fieldName", "inArray", "value", "model", "opt_force", "opt_showMessage", "name", "isUndefined", "currentValue", "isSame", "data", "errors", "error", "exists", "remove", "item", "consoleDebug", "Navigation", "opt_http", "opt_options", "Objekt", "Collection", "item", "id", "image", "icon", "title", "counter", "href", "action", "disabled", "isUndefined", "opt_href", "opt_data", "counterSpan", "Knot", "iconKnot", "imageSpan", "data", "svgTag", "Query", "imageTag", "linkKnot", "titleSpan", "listener", "next", "containerKnot", "itemId", "contain", "eq", "ProgressStatus", "dom", "opt_selector", "opt_options", "Query", "Objekt", "cssClass", "text", "opt_icon", "Route", "Objekt", "id", "title", "url", "controller", "opt_template", "opt_params", "Table", "dom", "opt_selector", "opt_options", "Query", "Objekt", "Collection", "generateId", "ContentHandler", "searchKnot", "Knot", "labelKnot", "iconKnot", "inputBlock", "inputKnot", "event", "eq", "subLabelKnot", "mdl", "headerKnot", "columnIndex", "text", "column", "inArray", "columnsWithOrder", "sort", "contain", "iconsContainerKnot", "iconUp", "iconDown", "headerTitle", "headerDesc", "iconInfo", "Tooltip", "footerRow", "statisticsKnot", "pagerKnot", "Pager", "page", "opt_page", "params", "consoleDebug", "columnWithOrder", "direction", "order", "head", "i", "format", "opt_order", "icon", "item", "rowIndex", "headerRow", "knot", "cssClasses", "headerNameCell", "headerActionCell", "results", "isFunction", "styleResult", "isArray", "tableRow", "eachArray", "tableDataKnot", "actions", "parentKnot", "result", "calculation", "items", "instanceOf", "dataKnot", "containerKnot", "action", "dropDownKnot", "Dropdown", "title", "disabled", "removed", "buttonKnot", "count", "TabPanel", "dom", "opt_selector", "opt_selectedTab", "opt_defaultTab", "Query", "tab", "panelId", "activeTab", "panel", "consoleDebug", "deferred", "Deferred", "isNull", "Async", "Waiter", "callback", "opt_duration", "duration", "counter", "prevCounter", "AutoCompleteField", "BaseField", "input", "label", "error", "inputBlock"]
}
